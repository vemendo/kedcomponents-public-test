(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[8],{309:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),l=a(9),c=a(24),s=function(e){this.subjects=e.map((function(e){var t=e.periodGoals.map((function(e){return{period:new c.a(e.periodName),goal:e.gradeName}}));return{name:e.courseUnitName,atGoal:t.filter((function(e){return"AT"===e.period.term})).map((function(e){return e.goal}))[0],stGoal:t.filter((function(e){return"ST"===e.period.term})).map((function(e){return e.goal}))[0],finalGoal:e.finalGoalGrade,strategies:e.strategyText}}))},i=a(4),o=function(e){var t={};e.forEach((function(e){return e.capabilities.forEach((function(e){return t[e.formName]=!0}))}));var a=Object.keys(t);this.columnHeaders=[{name:"Framtidsförmåga",type:"header"},{name:"Område",type:"header"}].concat(a.map((function(e){return{name:e,type:"year"}}))),this.vtHts=Object(l.k)(a.map((function(e){return["HT","VT"]})));var n=[];e.forEach((function(e){var t=[{type:"ability",name:e.abilityName}],a={};e.capabilities.forEach((function(e){var r=[{type:"term",selected:!1!==e.htHasValue},{type:"term",selected:!1!==e.vtHasValue}];a[e.capabilityName]?t&&r.forEach((function(e){return t.push(e)})):(t.length>1&&(n.push(t),t=[]),a[e.capabilityName]=!0,t.push({type:"capability",name:e.capabilityName}),r.forEach((function(e){return t.push(e)})))})),t&&n.push(t)})),this.capabRows=n},u=function(e){function t(t){var a=e.call(this,t)||this;return a.state={loading:!1,data:[],error:null},a}return Object(n.c)(t,e),t.prototype.componentWillMount=function(){this.load()},t.prototype.load=function(){return Object(n.b)(this,void 0,void 0,(function(){var e,t;return Object(n.d)(this,(function(a){switch(a.label){case 0:this.setState({loading:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.a.edsClient.getStudentFutureAbilities()];case 2:return e=a.sent(),this.setState({data:e}),[3,4];case 3:return t=a.sent(),this.setState({error:t}),[3,4];case 4:return this.setState({loading:!1}),[2]}}))}))},t.prototype.render=function(){var e=new o(this.state.data),t=e.columnHeaders,a=e.vtHts,n=e.capabRows;return r.createElement("div",null,r.createElement("h5",null,"Framtidsförmågor"),r.createElement("div",{className:"partialEditStudyPlanViewMode"},r.createElement("table",{style:{width:"100%"},className:"smallFont"},r.createElement("thead",null,r.createElement("tr",null,t.map((function(e,t){var a=e.name;return"header"===e.type?r.createElement("th",{key:t,rowSpan:2},a):r.createElement("th",{key:t,colSpan:2},a)}))),r.createElement("tr",{className:"header"},a.map((function(e,t){return r.createElement("th",{key:t},e)})))),r.createElement("tbody",null,n.map((function(e,t){return r.createElement("tr",{key:t,className:Math.floor(t/3)%2&&"tableOdd"},e.map((function(e,t){return"ability"===e.type?r.createElement("td",{key:t,rowSpan:3,className:"goalsSubject"},e.name):"capability"===e.type?r.createElement("td",{key:t,className:"goalsSubject"},e.name):e.selected?r.createElement("td",{key:t,className:"edsSelected"},r.createElement("div",{className:"markedItem"})):r.createElement("td",{key:t})})))}))))))},t}(r.Component);a.d(t,"KSGoals",(function(){return y}));var m,d,p,h,b,f,y=function(e){function t(t){var a=e.call(this,t)||this;return a.state={loadingStudyPlans:!1,studyPlans:[],error:null},a}return Object(n.c)(t,e),t.prototype.componentWillMount=function(){this.load()},t.prototype.load=function(){return Object(n.b)(this,void 0,void 0,(function(){var e,t;return Object(n.d)(this,(function(a){switch(a.label){case 0:this.setState({loadingStudyPlans:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.a.edsClient.getStudentGoals()];case 2:return e=a.sent(),this.setState({studyPlans:e}),[3,4];case 3:return t=a.sent(),this.setState({error:t}),[3,4];case 4:return this.setState({loadingStudyPlans:!1}),[2]}}))}))},t.prototype.render=function(){var e=new s(this.state.studyPlans),t="gymnasium"!==(""+i.a.currentUser.schoolType).toLowerCase();return r.createElement("div",{className:"ked_boxed"},r.createElement("h4",null,Object(l.a)(m||(m=Object(n.e)(["Mål"],["Mål"])))),r.createElement("hr",null),r.createElement("table",{className:"smallFont"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,Object(l.a)(d||(d=Object(n.e)(["Ämne"],["Ämne"])))),t&&r.createElement("th",null,Object(l.a)(p||(p=Object(n.e)(["HT"],["HT"])))),t&&r.createElement("th",null,Object(l.a)(h||(h=Object(n.e)(["VT"],["VT"])))),r.createElement("th",null,Object(l.a)(b||(b=Object(n.e)(["Slutmål"],["Slutmål"])))),r.createElement("th",null,Object(l.a)(f||(f=Object(n.e)(["Strategier"],["Strategier"])))))),r.createElement("tbody",null,e.subjects.map((function(e,a){return r.createElement("tr",{key:e.name,className:a%2&&"tableOdd"},r.createElement("td",{className:"goalsSubject"},e.name),t&&r.createElement("td",{className:"goalsTerm"},e.atGoal),t&&r.createElement("td",{className:"goalsTerm"},e.stGoal),r.createElement("td",{className:"goalsEnd"},e.finalGoal),r.createElement("td",null,e.strategies))})))),r.createElement("div",{className:"divider"}),r.createElement(u,null))},t}(r.Component)}}]);
//# sourceMappingURL=KSGoals.min.js.map