{"version":3,"file":"LatestAssessments.js","sources":["webpack://[name]/./src/components/latest-assessments/latest-assessments.tsx"],"sourcesContent":["import { __awaiter, __extends, __generator, __makeTemplateObject } from \"tslib\";\nimport * as React from 'react';\nimport { L } from '../../utils/utils';\nimport env from '../../globals/KED.env';\nvar LatestAssessments = /** @class */ (function (_super) {\n    __extends(LatestAssessments, _super);\n    function LatestAssessments(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            assessments: [],\n            error: null,\n            loading: false\n        };\n        return _this;\n    }\n    LatestAssessments.prototype.componentWillMount = function () {\n        this.load();\n    };\n    LatestAssessments.prototype.load = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var assessments, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.setState({ loading: true });\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, env.edsClient.getLatestAssessments(this.props.limit)];\n                    case 2:\n                        assessments = _a.sent();\n                        this.setState({ assessments: assessments });\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_1 = _a.sent();\n                        this.setState({ error: error_1 });\n                        return [3 /*break*/, 4];\n                    case 4:\n                        this.setState({ loading: false });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    LatestAssessments.prototype.render = function () {\n        var hasGrades = this.state.assessments.some(function (a) { return !!a.gradeName; });\n        return React.createElement(\"div\", { className: \"ked_boxed\" },\n            React.createElement(\"h4\", null, L(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"Senaste bed\\u00F6mningar\"], [\"Senaste bed\\u00F6mningar\"])))),\n            React.createElement(\"hr\", null),\n            React.createElement(\"ul\", { className: \"latest-assesments zebra\" }, this.state.assessments.map(function (a, i) {\n                return React.createElement(\"li\", { key: i },\n                    (hasGrades && a.gradeName != \"\") && React.createElement(\"span\", { className: \"grade pill pull-right\" }, a.gradeName),\n                    React.createElement(\"span\", { className: \"date pill pull-left\" }, a.publishDateTime.substr(0, 10)),\n                    a.courseName == a.courseUnitName ?\n                        React.createElement(\"h5\", null,\n                            React.createElement(\"strong\", null, a.courseName)) : React.createElement(\"h5\", null,\n                        React.createElement(\"strong\", null, a.courseName),\n                        \" / \",\n                        React.createElement(\"em\", null, a.courseUnitName)),\n                    React.createElement(\"br\", null),\n                    React.createElement(\"p\", null, a.text));\n            })));\n    };\n    return LatestAssessments;\n}(React.Component));\nexport { LatestAssessments };\nvar templateObject_1;\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}