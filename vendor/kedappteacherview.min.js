var kedappteacherview=function(e){function t(t){for(var n,i,o=t[0],u=t[1],c=t[2],d=0,h=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(l&&l(t);h.length;)h.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==a[u]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={5:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonp_name_=window.webpackJsonp_name_||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;return s.push([302,0]),r()}({0:function(e,t){e.exports=React},105:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(1),a=r(32),s=r(0),i=r.n(s),o=r(2),u=i.a.createContext(null);a.b.addProvider(function(){return u._currentValue});var c,l=function(e){function t(t){var r=e.call(this,t)||this;return r.subscriptions=[],r.outerSubscription={unsubscribe:function(){r.subscriptions.forEach(function(e){return e.unsubscribe()}),r.subscriptions=[]}},r.observer=function(e,t,n){t?r.setState({error:t}):r.setState(function(e){return{counter:e.counter+1,error:t}})},r.state={counter:0,error:null},r}return n.c(t,e),t.prototype.componentDidCatch=function(e,t){e&&e.name||(e=new Error(""+e)),this.setState({error:e,info:t}),console.log(e,t)},t.prototype.componentWillMount=function(){this.outerSubscription.unsubscribe()},t.prototype.render=function(){return this.state.error?this.props.errorFallback||i.a.createElement("p",null,Object(o.a)(c||(c=n.e(["Kunde inte ladda innehållet"],["Kunde inte ladda innehållet"])))):(this.outerSubscription.unsubscribe(),i.a.createElement(s.Suspense,{fallback:this.props.fallback||null},i.a.createElement(u.Provider,{value:this},this.props.children)))},t}(i.a.Component)},11:function(e,t,r){"use strict";r.d(t,"c",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"d",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"e",function(){return u}),r.d(t,"f",function(){return l}),r.d(t,"g",function(){return d});var n=r(3);function a(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:7&r|8).toString(16)})}function s(e){var t=null;return function(){return t||(t=e.apply(this,arguments).then(function(e){return t=null,e})),t}}function i(e){var t=["50","08","e1","40","e4","e7"];if(e.length>6)throw new Error("Too long realm");for(var r=0;r<e.length;++r){var n=e.charCodeAt(r).toString(16);t[r]=2===n.length?n:"0"+n}return"ec96b3be-45fc-41d3-b69e-"+t.join("")}function o(e){return n.b(this,void 0,void 0,function(){var t,r,a,s,i;return n.d(this,function(n){switch(n.label){case 0:return t=new TextEncoder,r=t.encode(e),s=Uint8Array.bind,[4,crypto.subtle.digest("SHA-256",r)];case 1:return a=new(s.apply(Uint8Array,[void 0,n.sent()])),i=0,[2,"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=a[i++]%16|0;return("x"===e?t:7&t|8).toString(16)})]}})})}function u(e){return n.b(this,void 0,void 0,function(){var t,r,a,s;return n.d(this,function(n){switch(n.label){case 0:return t=new TextEncoder,r=t.encode(e),s=Uint8Array.bind,[4,crypto.subtle.digest("SHA-256",r)];case 1:return a=new(s.apply(Uint8Array,[void 0,n.sent(),0,16])),[2,(i=a,Array.prototype.map.call(i,function(e){return("00"+e.toString(16)).slice(-2)}).join(""))]}var i})})}var c={};function l(e){var t=e.map(function(e){return c[e]}),r=[];if(t.forEach(function(t,n){t||r.push(e[n])}),0===r.length)return t;throw Promise.all(r.map(function(e){return u(e).then(function(t){return c[e]=t})}))}function d(e,t){for(var r=e,n=0,a=e.length;n<a;++n){var s=e[n],i=t(s);i!==s&&(r===e&&(r=e.slice()),r[n]=i)}return r}},13:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),a=function(e){var t=e.label,r=void 0===t?"":t;return n.createElement("span",null,n.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"})," ",r)}},131:function(e,t){},137:function(e,t,r){var n={"./en-SG":85,"./en-SG.js":85,"./en-au":86,"./en-au.js":86,"./en-ca":87,"./en-ca.js":87,"./en-gb":88,"./en-gb.js":88,"./en-ie":89,"./en-ie.js":89,"./en-il":90,"./en-il.js":90,"./en-nz":91,"./en-nz.js":91,"./sv":92,"./sv.js":92};function a(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=137},138:function(e,t){},139:function(e,t){},14:function(e,t,r){"use strict";var n=r(1),a=r(5);var s=r(15);r.d(t,"a",function(){return i}),r.d(t,"c",function(){return u}),r.d(t,"e",function(){return c}),r.d(t,"d",function(){return l}),r.d(t,"b",function(){return h}),r.d(t,"f",function(){return p});var i=["user","role","school","debug","testVersion","testversion","features","schoolType","schooltype"];function o(e,t,r){var n=function(e){return[{type:"email",value:e.mail},{type:"school",value:e.school}].concat(e.roles.map(function(e){return{type:"role",value:e}})).concat(e.roles.map(function(t){return{type:"schoolRole",value:e.school+"/"+t}}))}(e);return"R"!==r&&e.tutorFor&&(n=n.filter(function(e){return"email"!==e.type})),Object(a.j)(a.b.fromStringArray(t.acl||[]),n,r)}function u(e,t){return o(e,t,"W")}function c(e,t){var r=e.roles.some(function(e){return"EMPLOYEE"===e||"ADMIN"===e}),n=(t||"").toLowerCase()===e.school.toLowerCase();return r&&n}function l(e,t){return e.roles.includes("ADMIN")||c(e,t)}var d={actAs:function(e){var t=e.role,r=e.school,a=e.url,i=Object(s.b)(location.search),o=n.a({},i,{role:t,school:r}),u=Object(s.a)(o);a?location.href=""+a+u:(location.hash="#",location.search=u)}};function h(e){d.actAs(e)}function p(e,t){var r,a,o=Object(s.b)(location.search),u={};try{for(var c=n.h(i),l=c.next();!l.done;l=c.next()){var d=l.value;o[d]&&(u[d]=o[d])}}catch(e){r={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}var h=Object(s.a)(n.a({},u,t)),p=e.indexOf("#");return p>=0?""+e.substr(0,p)+h+e.substr(p):""+e+h}},15:function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o});var n=r(1);function a(e,t){var r=(t||{}).toLower,a={};return e&&e.length>1&&e.substr(1).split("&").map(function(e){return e.split("=").map(function(e){return decodeURIComponent(e.trim())})}).forEach(function(e){var t=n.f(e,2),s=t[0],i=t[1];return a[r?s.toLowerCase():s]=i}),a}function s(e){return Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function i(e){return"?"+s(e)}function o(e){var t=e.indexOf("?");return t>=0?[e.substr(0,t),e.substr(t)]:[e,""]}},16:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),a=n.createContext({intl:null})},17:function(e,t,r){"use strict";var n=r(3),a=r(11),s=r(28),i=function(){function e(e,t,r){this.isomorphic=e,this.baseUrl=t,this.options=r,this.numOutstandingOperations=0,this.cache={},this._status=new s.a(this),this.fetchOptions={mode:"cors"},this.authHeader=r.bearer?"Bearer "+r.bearer:r.username?"Basic "+e.btoa(r.username+":"+(r.password||"")):null,this.bearerProvider=r.bearerProvider||null}return Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),e.prototype.suspenseFetch=function(e,t,r,a,s){var i=this,o=t+" "+e+" "+JSON.stringify(r)+" "+JSON.stringify(a)+" "+JSON.stringify(s),u=this.cache[o];if(u){if("promise"in u)throw u.promise;return u.result}var c=this.fetch(e,t,r,a,s).then(function(e){return n.b(i,void 0,void 0,function(){var t,r;return n.d(this,function(n){switch(n.label){case 0:return t=e.status,[4,e.text()];case 1:return r=n.sent(),this.cache[o]={result:{status:t,text:function(){return r},json:function(){return JSON.parse(r)}}},[2]}})})});throw this.cache[o]={promise:c},c},e.prototype.fetch=function(e,t,r,n,a){var s=this;return++this.numOutstandingOperations,this._status.dispatch(this),this._fetch(e,t,r,n,a).then(function(e){return--s.numOutstandingOperations,s._status.dispatch(s),e}).catch(function(e){return--s.numOutstandingOperations,s._status.dispatch(s),Promise.reject(e)})},e.prototype._fetch=function(e,t,r,s,i){return n.b(this,void 0,void 0,function(){var o,u,c,l,d,h,p,f,m,g,b;return n.d(this,function(v){switch(v.label){case 0:return i&&"no-cache"===i.cache&&(s=n.a({},s,{nocache:Object(a.c)()})),o=s&&Object.keys(s).filter(function(e){return void 0!==s[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])}).join("&"),c=(u=this).authHeader,l=u.tokenInfo,d=u.bearerProvider,c||l||!d?[3,2]:(h=this,[4,d.getBearer()]);case 1:h.tokenInfo=l=v.sent(),v.label=2;case 2:return l?l.expires<Date.now()?(console.log("Token expired. Refresh it:"),p=this,[4,d.refreshBearer()]):[3,4]:[3,5];case 3:p.tokenInfo=l=v.sent(),v.label=4;case 4:c="Bearer "+l.token,v.label=5;case 5:return c&&(r.Authorization=c),f=this.baseUrl+e+(o?"?"+o:""),[4,this.isomorphic.fetch(f,n.a({},this.fetchOptions,{headers:r,method:t},i))];case 6:return 401==(m=v.sent()).status&&this.bearerProvider?(g=m.headers.get("www-authenticate"),console.log("Got "+m.status+" from "+(this.baseUrl+e)),g&&/Bearer/i.test(g)?(b=this,[4,this.bearerProvider.refreshBearer()]):[3,9]):[3,9];case 7:return b.tokenInfo=v.sent(),r.Authorization="Bearer "+this.tokenInfo.token,[4,this.isomorphic.fetch(f,n.a({},this.fetchOptions,{headers:r,method:t},i))];case 8:m=v.sent(),v.label=9;case 9:return[2,m]}})})},e.prototype.get=function(e,t,r){return this.fetch(e,"GET",{Accept:"application/json; text/plain"},t,r)},e.prototype.suspenseGet=function(e,t,r){return this.suspenseFetch(e,"GET",{Accept:"application/json; text/plain"},t,r)},e.prototype.post=function(e,t,r){return this.fetch(e,"POST",{"Content-Type":"application/json",Accept:"application/json"},null,n.a({},r,{body:JSON.stringify(t)}))},e.prototype.delete=function(e,t,r,a){return this.fetch(e,"DELETE",{Accept:"application/json; text/plain"},t,n.a({},a,{body:r}))},e}(),o=function(){function e(e,t,r,n,s,o,u){this.isomorphic=e,this.storage=t,this.tokenId=r,this.clientId=n,this.clientSecret=s,this.tokenUrl=o,this.tokenQuery=u,this.tokenInfo={token:null,expires:0},this.client=new i(e,"",{username:this.clientId,password:this.clientSecret}),this.getBearer=Object(a.a)(this.getBearer.bind(this)),this.refreshBearer=Object(a.a)(this.refreshBearer.bind(this))}return e.prototype.getBearer=function(){return n.b(this,void 0,void 0,function(){var e,t,r,a;return n.d(this,function(n){switch(n.label){case 0:if(e=this.tokenInfo,t=e.token,r=e.expires,t&&r>=Date.now())return[2,this.tokenInfo];n.label=1;case 1:return n.trys.push([1,4,,6]),a=this,[4,this.storage.load(this.clientId+"/"+this.tokenId)];case 2:return a.tokenInfo=n.sent(),this.tokenInfo.token&&this.tokenInfo.expires>=Date.now()?[2,this.tokenInfo]:[4,this.refreshBearer()];case 3:return n.sent(),[2,this.tokenInfo];case 4:return n.sent(),[4,this.refreshBearer()];case 5:return n.sent(),[2,this.tokenInfo];case 6:return[2]}})})},e.prototype.refreshBearer=function(){return n.b(this,void 0,void 0,function(){var e,t,r,a;return n.d(this,function(n){switch(n.label){case 0:t=0,n.label=1;case 1:return t<6?(console.log("Retrieving token for "+this.tokenId),[4,this.client.get(this.tokenUrl,this.tokenQuery,{cache:"reload"})]):[3,5];case 2:return 200!==(e=n.sent()).status?(console.warn("Got "+e.status+" "+e.statusText),[3,4]):(r=this,a={},[4,e.text()]);case 3:return r.tokenInfo=(a.token=n.sent(),a.expires=Date.now()+354e4,a),console.log("Got token for "+this.tokenId+": "+JSON.stringify(this.tokenInfo)),this.storage.save(this.clientId+"/"+this.tokenId,this.tokenInfo),[2,this.tokenInfo];case 4:return++t,[3,1];case 5:throw new Error("Failed to retrieve token for "+JSON.stringify(this.tokenId))}})})},e}(),u=function(){function e(e,t,r){this.accessClaimType=e,this.accessClaimValue=t,this.right=r}return e.fromString=function(t){if(!t)return null;var r=t.split(":");if(r.length<3)throw new Error("Invalid access string: "+t);var n=e.unescape(r[0]),a=e.unescape(r[1]),s=r[2];if("R"!==s&&"W"!==s&&"S"!==s)throw new Error("Invalid access string: "+t);return new e(n,a,s)},e.escape=function(e){return e.replace(/\%/g,"%25").replace(/\:/g,"%3A")},e.unescape=function(e){return e.replace(/\%3A/g,":").replace(/\%25/g,"%")},e.prototype.toString=function(){return e.escape(this.accessClaimType)+":"+e.escape(this.accessClaimValue)+":"+this.right},e.fromStringArray=function(t){return t.map(function(t){return e.fromString(t)}).filter(function(e){return e})},e.toStringArray=function(e){return e.map(function(e){return e.toString()})},e}();function c(e,t,r){return!!t.some(function(e){return"role"===e.type&&"ADMIN"===e.value})||e.some(function(e){return t.some(function(t){return e.accessClaimType===t.type&&e.accessClaimValue===t.value&&("R"===e.right&&"R"===r||"W"===e.right&&["R","W"].indexOf(r)>=0||"S"===e.right)})})}var l=function(e){function t(t,r){var n=e.call(this,"HTTP"+t+" "+r)||this;return n.code=t,n.message=r,n.name="http"+t,n.message="HTTP"+t+" "+r,n}return n.c(t,e),t}(Error);r.d(t,"d",function(){return d}),r.d(t,"a",function(){return h}),r.d(t,"h",function(){return a.c}),r.d(t,"i",function(){return a.d}),r.d(t,"g",function(){return a.b}),r.d(t,"k",function(){return a.e}),r.d(t,"l",function(){return a.f}),r.d(t,"e",function(){return o}),r.d(t,"b",function(){return u}),r.d(t,"j",function(){return c}),r.d(t,"f",function(){return i}),r.d(t,"c",function(){return l});var d=function(){function e(e,t,r){this.http=new i(e,r,{bearerProvider:t})}return e.prototype.getMyClaims=function(e,t){return n.b(this,void 0,void 0,function(){var r,a,s;return n.d(this,function(n){switch(n.label){case 0:return[4,this.http.get("me/claims/"+(e||""),null,t)];case 1:return 200==(r=n.sent()).status?[3,3]:(a=l.bind,s=[void 0,r.status],[4,r.text()]);case 2:throw new(a.apply(l,s.concat([n.sent()])));case 3:return[4,r.json()];case 4:return[2,n.sent()]}})})},e.prototype.get=function(e,t,r,a){return n.b(this,void 0,void 0,function(){var s,i,o;return n.d(this,function(n){switch(n.label){case 0:return[4,this.http.get(e+"/"+t,r,a)];case 1:return 200==(s=n.sent()).status?[3,3]:(i=l.bind,o=[void 0,s.status],[4,s.text()]);case 2:throw new(i.apply(l,o.concat([n.sent()])));case 3:return[4,s.json()];case 4:return[2,n.sent()]}})})},e.prototype.list=function(e,t,r){return n.b(this,void 0,void 0,function(){var a,s,i,o;return n.d(this,function(u){switch(u.label){case 0:return a=n.a({},t),"undefined"!=typeof location&&location.search.includes("useSP")&&(a.flags=(a.flags||[]).concat(["useSP"])),t&&t.mutationsOnEmpty&&(a.mutationsOnEmpty=JSON.stringify(t.mutationsOnEmpty)),[4,this.http.get(""+e,a,r)];case 1:return 200==(s=u.sent()).status?[3,3]:(i=l.bind,o=[void 0,s.status],[4,s.text()]);case 2:throw new(i.apply(l,o.concat([u.sent()])));case 3:return[4,s.json()];case 4:return[2,u.sent()]}})})},e.prototype.batch=function(e,t){return n.b(this,void 0,void 0,function(){var r,a,s;return n.d(this,function(n){switch(n.label){case 0:return e=e.slice().sort(function(e,t){return"add"===e.op?-1:"add"===t.op?1:"delete"===e.op?1:"delete"===t.op?-1:0}),[4,this.http.post("batch",e,t)];case 1:return 200==(r=n.sent()).status?[3,3]:(a=l.bind,s=[void 0,r.status],[4,r.text()]);case 2:throw new(a.apply(l,s.concat([n.sent()])));case 3:return[4,r.json()];case 4:return[2,n.sent()]}})})},e.prototype.do=function(e){return n.b(this,void 0,void 0,function(){var t;return n.d(this,function(r){switch(r.label){case 0:return t=new h,e(t),[4,this.batch(t.mutationRequests)];case 1:return[2,r.sent()]}})})},e.prototype.deleteRealm=function(e){return n.b(this,void 0,void 0,function(){var t,r,a;return n.d(this,function(n){switch(n.label){case 0:return[4,this.http.delete("realms/"+e)];case 1:return 200==(t=n.sent()).status?[3,3]:(r=l.bind,a=[void 0,t.status],[4,t.text()]);case 2:throw new(r.apply(l,a.concat([n.sent()])));case 3:return[4,t.json()];case 4:return[2,n.sent()]}})})},e.prototype.add=function(e,t,r){return this.do(function(r){return r.add(e,t)})},e.prototype.put=function(e,t){return this.do(function(r){return r.put(e,t)})},e.prototype.update=function(e,t,r,n){return this.do(function(a){return a.update(e,t,r,n)})},e.prototype.merge=function(e,t){return this.do(function(r){return r.merge(e,t)})},e.prototype.clearBranch=function(e){return this.do(function(t){return t.clearBranch(e)})},e.prototype.delete=function(e,t){return this.do(function(r){return r.delete(e,t)})},e.prototype.share=function(e,t,r){return this.do(function(n){return n.share(e,t,r)})},e.prototype.unshare=function(e,t,r){return this.do(function(n){return n.unshare(e,t,r)})},e.prototype.link=function(e,t,r,n,a){return this.do(function(s){return s.link(e,t,r,n,a)})},e.prototype.link2=function(e,t,r,n,a){return this.do(function(s){return s.link2(e,t,n,r,a)})},e.prototype.unlink=function(e,t,r,n,a){return this.do(function(s){return s.unlink(e,t,r,n,a)})},e.prototype.unlink2=function(e,t,r,n,a){return this.do(function(s){return s.unlink2(e,t,n,r,a)})},e.prototype.undoLink=function(e,t,r,n,a){return this.do(function(s){return s.undoLink(e,t,n,r,a)})},e}(),h=function(){function e(){this.mutationRequests=[]}return e.prototype.add=function(e,t,r){return this.mutationRequests.push({op:"add",table:e,doc:t,branchId:r}),this},e.prototype.put=function(e,t){return delete(t=n.a({},t)).acl,this.mutationRequests.push({op:"put",table:e,doc:t}),this},e.prototype.update=function(e,t,r,a){r=n.a({},r),this.mutationRequests.push({op:"update",table:e,id:t,deltaDoc:r,branchId:a})},e.prototype.merge=function(e,t){this.mutationRequests.push({op:"merge",branchId:e,targetBranchId:t})},e.prototype.clearBranch=function(e){this.mutationRequests.push({op:"clear-branch",branchId:e})},e.prototype.delete=function(e,t){return this.mutationRequests.push({op:"delete",table:e,id:t}),this},e.prototype.share=function(e,t,r){return this.mutationRequests.push({op:"share",table:e,id:t,acl:r}),this},e.prototype.unshare=function(e,t,r){return this.mutationRequests.push({op:"unshare",table:e,id:t,acl:r}),this},e.prototype.link=function(e,t,r,n,a){return this.mutationRequests.push({op:"link",sourceTable:e,sourceId:t,targetTable:r,targetId:n,label:a}),this},e.prototype.link2=function(e,t,r,n,a){this.mutationRequests.push({op:"link",sourceTable:e,sourceId:t,targetId:n,label:r,branchId:a})},e.prototype.unlink=function(e,t,r,n,a){return this.mutationRequests.push({op:"unlink",sourceTable:e,sourceId:t,targetTable:r,targetId:n,label:a}),this},e.prototype.unlink2=function(e,t,r,n,a){return this.mutationRequests.push({op:"unlink",sourceTable:e,sourceId:t,targetId:n,label:r,branchId:a}),this},e.prototype.undoLink=function(e,t,r,n,a){this.mutationRequests.push({op:"undo-link",sourceTable:e,sourceId:t,targetId:n,label:r,branchId:a})},e}()},19:function(e,t,r){"use strict";var n=r(1),a=r(0),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createProgress=function(){var e=t.props,r=e.numberOfTasks,n=e.completedNumberOfTasks,s=e.maximumTasksDisplayed,i=e.backgroundColor,o=e.progressColor,u=[];if(r>s)return a.createElement("div",{className:"progress-overview"}," ",n," / ",r," ");for(var c=1;c<=r;c++)u.push(a.createElement("svg",{key:c},a.createElement("circle",{className:"circle-chart-background",fill:c>n?i:o,cx:"8",cy:"8",r:"8"})));return u},t}return n.c(t,e),t.prototype.render=function(){return a.createElement("div",{className:"goals-progress"},this.createProgress())},t.defaultProps={numberofTasks:0,completedNumberOfTasks:0,maximumTasksDisplayed:10,backgroundColor:"lightgrey",progressColor:"#3dbca2"},t}(a.Component);r.d(t,"a",function(){return i});var i=function(e){function t(t){var r=e.call(this,t)||this;return r.state={headerOpen:t.headerOpen||!1},r}return n.c(t,e),t.prototype.componentWillReceiveProps=function(e){e.headerOpen!==this.props.headerOpen&&this.setState({headerOpen:e.headerOpen})},t.prototype.render=function(){var e=this,t=this.props,r=t.title,i=t.className,o=t.children,u=t.headerClassName,c=t.contentClassName,l=t.displayProgress,d=t.progressData,h=t.inactivated,p=t.inactivatedRender,f=this.state.headerOpen;return h?"titleAndChildren"===p?a.createElement(a.Fragment,null,a.createElement(a.Fragment,null,r),a.createElement(a.Fragment,null,o)):a.createElement(a.Fragment,null,o):a.createElement("div",{className:(i||"")+" openClose"+(f?" open":"")},a.createElement("div",{className:"openHeader"+(u?" "+u:""),onClick:function(){e.props.onOpenClose&&e.props.onOpenClose(!e.state.headerOpen),e.setState({headerOpen:!e.state.headerOpen})}},a.createElement("div",{className:"openHeaderContainer"},a.createElement("div",null,r),l&&a.createElement(s,n.a({},d)))),a.createElement("div",{className:"openContent"+(c?" "+c:"")},o))},t}(a.Component)},194:function(e,t,r){"use strict";var n=r(0),a=r.n(n),s=r(313),i=r(312),o=r(314),u=r(105),c=r(72),l=r(1),d=r(236),h=r(70),p=r(19),f=r(6),m=r.n(f),g=r(56),b=r(4),v=r(5),y=r(2),k=function(e){var t=e.assignment,r=e.shouldGetUrkundStatus,a=l.f(Object(n.useState)(t),2),s=a[0],i=a[1];return Object(n.useEffect)(function(){r&&i(l.a({},t,{isRefreshing:!0}))},[r,t]),n.createElement("tr",{key:s.mediaLink,style:s.metadata.$meta?{opacity:.5}:{}},n.createElement("td",null,n.createElement("a",{href:"mailto:"+s.user},s.metadata.userDisplayName||s.user)),n.createElement("td",null,s.metadata.driveFileId?n.createElement(g.a,{file:s}):n.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),e.stopPropagation(),Object(g.b)(s)}},Object(y.l)(s.filename,32))),n.createElement("td",{className:"assignment-date-col"},m()(s.uploadDate).format("YYYY-MM-DD HH:mm")),Object(g.c)(s,function(e){return l.b(this,void 0,void 0,function(){var t,r,n,a,s,o,u,c,d,h,p,f;return l.d(this,function(m){switch(m.label){case 0:return t=b.b.kedBackendClient.http,r=this.props,n=r.courseId,a=r.taskId,s=r.school,o=e.user,u=e.filename,[4,i(l.a({},e,{isRefreshing:!0}))];case 1:m.sent(),m.label=2;case 2:return m.trys.push([2,8,,10]),[4,t.get("assignments/urkund/"+s+"/"+n+"/"+a+"/"+o+"/"+u)];case 3:return(c=m.sent()).status>=400?(d=v.c.bind,h=[void 0,c.status],[4,c.text()]):[3,5];case 4:throw new(d.apply(v.c,h.concat([m.sent()])));case 5:return[4,c.text()];case 6:return p=m.sent(),[4,i(l.a({},e,{isRefreshing:!1,metadata:l.a({},e.metadata,{urkundResponse:p})}))];case 7:return m.sent(),[3,10];case 8:return f=m.sent(),[4,i(l.a({},e,{isRefreshing:!1,refreshError:f}))];case 9:return m.sent(),[3,10];case 10:return[2]}})})},r))},E=r(16),w=r(51),S=function(e){var t=e.assignments,r=e.checkWithUrkund,a=Object(n.useContext)(E.a).intl,s=n.useContext(R).filterStudyGroups,i=Object.assign([],t),o=s.length>0&&Object.keys(w.c).filter(function(e){return s.includes(e)}).map(function(e){return w.c[e]}),u=s.length>0?i.filter(function(e){return Object(y.k)(o).find(function(t){return t.studentEmailAddress===e.user})}):i;return r&&u.length>0&&u.forEach(function(e){e.shouldRefresh=!1,e.metadata&&e.metadata.urkundExternalId&&e.metadata.urkundExternalId.length>0&&!e.metadata.urkundUploadError&&(!e.metadata.urkundLastPoll||["Accepted","Submitted"].indexOf(JSON.parse(e.metadata.urkundResponse)[0].Status.State)>=0&&parseInt(e.metadata.urkundLastPoll)<m()().add(-15,"seconds").toDate().getTime())&&(e.shouldRefresh=!0)}),u.length>0?n.createElement("table",{className:"task-assignments-table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,a.formatMessage({id:"teacherView.assignmentStudentName",defaultMessage:"Elev"})),n.createElement("th",null,a.formatMessage({id:"teacherView.assignmentFileName",defaultMessage:"Filnamn"})),n.createElement("th",null,a.formatMessage({id:"teacherView.assignmentSubmittedAt",defaultMessage:"Inlamnat"})),n.createElement("th",null,a.formatMessage({id:"teacherView.assignmentReport",defaultMessage:"Rapport"})),n.createElement("th",null,a.formatMessage({id:"teacherView.assignmentGrade",defaultMessage:"Niva"})))),n.createElement("tbody",null,u.map(function(e){return n.createElement(k,{key:e.uploadDate,assignment:e,shouldGetUrkundStatus:e.shouldRefresh})}))):n.createElement("div",null,a.formatMessage({id:"teacherView.noTaskAssignments",defaultMessage:"Inga uppdrag uppladdade för denna uppgift"}))},T=function(e){var t=e.notSubmittedUsers,r=Object(n.useContext)(E.a).intl,a=t&&t.length,s=l.f(Object(n.useState)([]),2),i=s[0],o=s[1];return t&&0!==t.length?n.createElement("div",{className:"not-submitted-users taskContainer"},n.createElement("h4",null,r.formatMessage({id:"teacherView.notSubmittedAssignments",defaultMessage:"Ej lämnat in"})),t.map(function(e,t){return n.createElement("div",{key:"notHandedIn_"+t,className:"align-horizontal student-row"+(a===t+1?" last":"")},n.createElement("div",{className:"horizontalItem top pull-right",onClick:function(){o(i.indexOf(e.email)>-1?i.filter(function(t){return t!=e.email}):l.g(i,[e.email]))}},n.createElement("div",{className:"checkBox"+(i.indexOf(e.email)>-1?" checked":"")})),n.createElement("div",{className:"horizontalItem top"},e.displayName))}),n.createElement("div",{className:"align-horizontal remind-assignment"},n.createElement("div",{className:"horizontalItem top pull-right"},n.createElement("button",{className:"btn"},r.formatMessage({id:"teacherView.remindBtn",defaultMessage:"Påminn"}))))):null},D=r(25),N=function(e){var t=e.course,r=e.entity,n=e.moduleId,s=e.taskId,i=e.notificationdigests,o=a.a.useContext(U).seenDigestsObservable;return a.a.createElement(D.a,null,o.map(function(e){var o=0,u=i[t.id];if(u)if("course"===r)t.modules.forEach(function(e){e.taskIds.forEach(function(e){o+=l(u[e])})});else if("module"===r){var c=t.modules.find(function(e){return e.id==n});c&&c.taskIds.forEach(function(e){o+=l(u[e])})}else"task"===r&&(o+=l(u[s]));function l(t){return t?t.filter(function(t){return!e.find(function(e){return e.digest===t.digest})}).length:0}return o>0&&a.a.createElement("div",{className:"notification-icon"},o)}))},O=r(9),I=function(e){var t=e.task,r=e.assignments,a=e.notSubmittedUsers,s=n.useContext(U),i=s.notificationdigests,o=s.selectedCourse,u=s.seenDigestsObservable;return n.createElement(p.a,{onOpenClose:function(e){return function(e){return l.b(this,void 0,void 0,function(){var n,a,s=this;return l.d(this,function(c){switch(c.label){case 0:return e&&i[o.id][t.id]?[4,Object(v.k)(b.b.currentUser.mail+o.id)]:[3,3];case 1:return n=c.sent(),[4,u.load()];case 2:a=c.sent(),r.forEach(function(e){return l.b(s,void 0,void 0,function(){var t;return l.d(this,function(r){switch(r.label){case 0:return[4,Object(v.k)(e.user+e.courseId+e.taskId+e.uploadDate+(e.metadata.driveFileId||""))];case 1:return t=r.sent(),a&&a.find(function(e){return e.digest===t})||O.c.seenStudentAssignments.add({id:Object(v.h)(),tags:[n],digest:t}),[2]}})})}),c.label=3;case 3:return[2]}})})}(e)},className:"task-container",title:n.createElement("div",{className:"notification-container"},n.createElement("span",null,t.name),n.createElement(N,{course:o,entity:"task",taskId:t.id,notificationdigests:i})),headerOpen:!1},n.createElement("div",{className:"ked_boxed"},n.createElement(S,{assignments:r,checkWithUrkund:t.sendToUrkund}),n.createElement("br",null),n.createElement(T,{notSubmittedUsers:a})))},C=function(e){var t=e.module,r=e.tasks,a=Object(n.useContext)(E.a).intl,s=Object(n.useContext)(U),i=s.notificationdigests,o=s.selectedCourse,u=Object(n.useContext)(R).filterStudyGroups,c=i[o.id];return r&&r.length>0&&n.createElement(n.Fragment,null,n.createElement(p.a,{title:n.createElement("div",{className:"notification-container"},n.createElement("span",null,t.name),n.createElement(N,{course:o,entity:"module",moduleId:t.id,notificationdigests:i})),headerOpen:!1},c&&Object.keys(c).length>0?n.createElement("div",null,r.map(function(e){var t=c[e.id]?c[e.id].map(function(e){return e.assignment}):[],r=o.studyGroups&&o.studyGroups.length>0&&function(e){var t=[];return(u.length>0?o.studyGroups.filter(function(e){return u.includes(e)}):o.studyGroups).forEach(function(r){var n=w.c[r].filter(function(t){return!e.find(function(e){return e.user===t.studentEmailAddress})}).map(function(e){return{displayName:e.studentFirstName+" "+e.studentLastName,email:e.studentEmailAddress}});n&&t.push.apply(t,l.g(n))}),t.map(function(e){var t=l.f(e.displayName.split(" ")),r=t[0],n=t.slice(1);return l.a({},e,{firstName:r,lastName:n.join(" ")})}).sort(Object(y.h)(["lastName","firstName"]))}(t);return(r&&r.length>0||t&&t.length>0)&&n.createElement(I,{key:e.id,task:e,assignments:t,notSubmittedUsers:r})})):n.createElement("div",null,a.formatMessage({id:"teacherView.noUploadedAssignmentsForModule",defaultMessage:"No assignments have been uploaded for this module"}))))},A=r(120),R=Object(n.createContext)({filterStudyGroups:[]}),P=function(){var e=Object(n.useContext)(E.a).intl,t=l.f(Object(n.useState)([]),2),r=t[0],a=t[1],s=Object(n.useContext)(U),i=s.tasks,o=s.selectedCourse;return n.createElement(n.Fragment,null," ",o?n.createElement(R.Provider,{value:{filterStudyGroups:r}},n.createElement("div",{className:"sv-row sv-layout sv-skip-spacer"},n.createElement("h2",null,e.formatMessage({id:"teacherView.assignmentsViewTitle",defaultMessage:"Inlämningsuppgifter"})),n.createElement("p",null,e.formatMessage({id:"teacherView.assignmentsViewDescription",defaultMessage:{defaultDescriptionMessage:"Här listas samtliga inlämningsuppgifter i din/dina kurser du handleder.Klicka till höger för att välja kurs. Kursens uppgifter syns nedan. Du kan öppna/dölja varje modul."}})),n.createElement("h3",null,o.name,"-",o.description),o.studyGroups&&o.studyGroups.length>0&&n.createElement("div",{className:"sv-row sv-layout sv-skip-spacer"},n.createElement("div",{className:"horizontalItem top pull-right study-group-filter"},n.createElement(A.a,{isMulti:!0,options:o.studyGroups.map(function(e){return{label:e,value:e}}),value:r.map(function(e){return{label:e,value:e}}),placeholder:e.formatMessage({id:"teacherView.filterByStudygroupsPlaceholder",defaultMessage:"Välj studiegrupp"}),onChange:function(e){a(e.map(function(e){return e.value}))}}))),o.modules.map(function(e){var t=i.filter(function(t){return e.taskIds.find(function(e){return e===t.id})});return t.length>0?n.createElement(C,{tasks:t,key:e.id,module:e}):null}))):null)},_=r(121),G=r(14),L=function(e){var t=e.courseBuilderUrl,r=Object(n.useContext)(E.a).intl,s=Object(n.useContext)(U),i=s.notificationdigests,o=s.teacherCourses,u=s.selectedCourse;return a.a.createElement("div",{className:"sv-html-portlet sv-portlet sv-skip-spacer"},a.a.createElement("div",{className:"ked_boxed"},a.a.createElement("h3",null,r.formatMessage({id:"teacherView.coursesViewTitle",defaultMessage:"Mina kurser/ uppgifter"})),a.a.createElement("div",{className:"taskContainer odd-even"},o.map(function(e){return a.a.createElement("div",{key:e.id+e.code,className:"align-horizontal"},a.a.createElement("div",{className:"teacherSchoolCourse"},a.a.createElement("div",{className:"horizontalItem top pull-right"},a.a.createElement("a",{target:"_blank",href:Object(G.f)(t,{})+"#/courses/"+e.id+"/edit",className:"editItem"})),a.a.createElement("div",{className:"horizontalItem top"},a.a.createElement("div",{className:"notification-container"},a.a.createElement(_.a,{key:"linkCourse_"+e.id,className:u&&u.id===e.id?"selected":"",to:"/overview/course/"+e.id+"/assignments"},e.name," - ",e.description),a.a.createElement(N,{key:"notifictiona_"+e.id,notificationdigests:i,entity:"course",course:e})))))}))))},x=r(32),j={notificationdigests:{},selectedCourse:null,teacherCourses:[],seenDigestsObservable:new x.a([]),school:"",tasks:[]},U=Object(n.createContext)(j),M=Object(d.a)(function(e){var t,r=e.match,a=e.courseBuilderUrl,s=(s=r?r.params.courseId:null)||null,i=[],o=O.c.schools.tags("gymnasium").name(b.b.currentUser.school).include("courses").single().read(),u=o?o.courses:[];if(u){var c=b.b.currentUser.mail;u.forEach(function(e){e.modules.length>0&&(e.activatedBy&&e.activatedBy.url==c?i.push(e):e.responsibleTeachers.filter(function(e){return e.url==c}).length>0&&i.push(e))})}var d=((i=i.sort(Object(y.h)(["name","dateTime"])))?O.c.tasks.hasEdgesFrom(i.map(function(e){return e.id})).toValue().read():[]).filter(function(e){return!0===e.assignment}),p=o.name,f=i.map(function(e){return e.id}).join(","),m=i.find(function(e){return e.id===s}),g=b.b.kedBackendClient.http.suspenseGet("assignments/notificationdigests",{school:p,courseIds:f});if(200!==g.status)throw new v.c(g.status,g.text());var k=g.json(),E=Object(v.l)(i.map(function(e){return b.b.currentUser.mail+e.id})),w=E.length>0?(t=O.c.seenStudentAssignments).tags.apply(t,l.g(E)).toValue():new x.a([]),S={notificationdigests:k,selectedCourse:m,teacherCourses:i,seenDigestsObservable:w,school:p,tasks:d};return n.createElement(U.Provider,{value:S},n.createElement(h.a,{left:n.createElement(P,{key:m?m.id:""}),right:n.createElement(L,{courseBuilderUrl:a}),rightWidth:5}))});r.d(t,"a",function(){return K});var K=function(e){var t=e.courseBuilderUrl;return a.a.createElement(s.a,null,a.a.createElement("div",{className:"teacher-view"},a.a.createElement(i.a,{path:"/",exact:!0,render:function(){return a.a.createElement(o.a,{to:"/overview"})}}),a.a.createElement(i.a,{exact:!1,path:"/overview/course/:courseId/assignments"},a.a.createElement(u.a,{fallback:a.a.createElement(c.a,null)},a.a.createElement(M,{courseBuilderUrl:t})))))}},2:function(e,t,r){"use strict";r.d(t,"d",function(){return a}),r.d(t,"f",function(){return i}),r.d(t,"k",function(){return u}),r.d(t,"g",function(){return c}),r.d(t,"h",function(){return l}),r.d(t,"a",function(){return d}),r.d(t,"i",function(){return h}),r.d(t,"o",function(){return p}),r.d(t,"n",function(){return f}),r.d(t,"l",function(){return m}),r.d(t,"b",function(){return g}),r.d(t,"c",function(){return b}),r.d(t,"e",function(){return v}),r.d(t,"j",function(){return y}),r.d(t,"m",function(){return k});var n=r(1);function a(e){for(var t=0,r=e.length;t<r;++t)if(e.charCodeAt(t)<8192)return e.substr(0,t)+e[t].toLocaleUpperCase()+e.substr(t+1);return e}function s(e,t){return"object"!=typeof t?e:(Object.keys(t).forEach(function(r){e[r]=t[r]}),e)}function i(e,t){var r={};return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),t&&s(r,t),r}var o=[].concat;function u(e){return o.apply([],e)}function c(e){return function(t,r){var n=t[e],a=r[e];return n>a?1:n<a?-1:0}}function l(e,t,r){e=Array.isArray(e)?e:[e];var a=function(e,n){return"string"==typeof e?e.localeCompare(n,t,r):e<n?-1:e>n?1:0};return e.map(function(e){return e.split(".")}).map(function(e){var t=n.f(e),r=t[0],s=t.slice(1);return function(e,t){return function e(t,r,n,s){var i=t[n],o=r[n];return i===o?0:null==i?-1:null==o?1:0===s.length?a(i,o):e(i,o,s[0],s.slice(1))}(e,t,r,s)}}).reduce(function(e,t){return function(r,n){return e(r,n)||t(r,n)}})}function d(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e[0];return function(e,t){for(var r=e[0],n=1,a=e.length;n<a;++n)r+=t[n-1]+e[n];return r}(e,t)}function h(e,t){var r;return"string"==typeof t&&(r=/\/Date\((\d*)\)\//.exec(t))?new Date(+r[1]):t}function p(e){var t=new CustomEvent("info",{detail:e});window.dispatchEvent(t)}function f(e){var t="string"==typeof e?e:e.message,r=new CustomEvent("customerror",{detail:t});console.error(e),window.dispatchEvent(r)}function m(e,t){return e.length>t?e.substr(0,t-3)+"...":e}function g(e,t){for(var r={},n=0,a=e.length;n<a;++n){var s=e[n],i=t(s),o=r[i];o?o.push(s):r[i]=[s]}return r}function b(e,t){for(var r={},n=0,a=e.length;n<a;++n){var s=e[n];r[t(s)]=s}return r}function v(e,t){var r,a,s={};try{for(var i=n.h(t),o=i.next();!o.done;o=i.next()){var u=o.value;u in e&&(s[u]=e[u])}}catch(e){r={error:e}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return s}function y(e,t){var r=b(e,t||function(e){return e});return Object.keys(r).map(function(e){return r[e]})}function k(e,t){if(e===t)return!0;if(!e||!t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0,s=r.length;a<s;++a){var i=r[a];if(n[a]!==i)return!1;if(e[i]!==t[i])return!1}return!0}},20:function(e){e.exports=JSON.parse('{"a":{"branches":{"accessClaimTypes":["role","schoolRole","email"],"sharingAccessPerRole":{"USER":{"email":["*"],"schoolRole":["*"],"role":["*"]}},"relationships":{"parents":"branches","approvedChildren":"branches"},"isPublic":true},"global":{"accessClaimTypes":["role","schoolRole"],"relationships":{"courseInstances":"courseInstances"},"isPublic":true},"courseInstances":{"accessClaimTypes":["role","schoolRole"],"sharingAccessPerRole":{"USER":{"schoolRole":["*"],"role":["*"]}},"defaultAcl":["role:USER:R","schoolRole:{school}/EMPLOYEE:S"],"relationships":{"abilities":"abilities","centralContent":"central-content","knowledgeRequirements":"knowledge-requirements","blocks":"courseBlocks","tabs":"courseTabs"},"isPublic":true},"courseBlocks":{"accessClaimTypes":["role","schoolRole"],"sharingAccessPerRole":{"USER":{"schoolRole":["*"],"role":["*"]}},"defaultAcl":["role:USER:R","schoolRole:{school}/EMPLOYEE:S"],"relationships":{"abilities":"abilities","centralContent":"central-content","knowledgeRequirements":"knowledge-requirements","tabs":"courseTabs","tasks":"tasks"},"isPublic":true},"courseTabs":{"accessClaimTypes":["role","schoolRole"],"sharingAccessPerRole":{"USER":{"schoolRole":["*"],"role":["*"]}},"defaultAcl":["role:USER:R","schoolRole:{school}/EMPLOYEE:S"],"relationships":{"abilities":"abilities","centralContent":"central-content","knowledgeRequirements":"knowledge-requirements","contents":"courseContents"},"isPublic":true},"courseContents":{"accessClaimTypes":["role","schoolRole"],"sharingAccessPerRole":{"USER":{"schoolRole":["*"],"role":["*"]}},"defaultAcl":["role:USER:R","schoolRole:{school}/EMPLOYEE:S"],"relationships":{"tasks":"tasks"},"isPublic":true},"weekplans":{"accessClaimTypes":["email","tutorFor"],"sharingAccessPerRole":{"USER":{"email":["{email}:*","{tutorFor}:*"],"tutorFor":["{tutorFor}:*"]}},"defaultAcl":["email:{email}:S"],"isPublic":false},"weekplans-ks":{"accessClaimTypes":["email","tutorFor"],"sharingAccessPerRole":{"USER":{"email":["{email}:*","{tutorFor}:*"],"tutorFor":["{tutorFor}:*"]}},"defaultAcl":["email:{email}:S"],"isPublic":false},"usertasks":{"accessClaimTypes":["email","schoolRole","tutorFor"],"sharingAccessPerRole":{"USER":{"email":["{email}:*","{tutorFor}:*"],"schoolRole":["{school}/EMPLOYEE:*"],"tutorFor":["{tutorFor}:*"]}},"defaultAcl":["email:{email}:S"],"relationships":{"task":"tasks","course":"courses"},"isPublic":false},"userhiddencourses":{"accessClaimTypes":["email"],"sharingAccessPerRole":{"USER":{"email":["{email}:*"]}},"defaultAcl":["email:{email}:S"],"relationships":{},"isPublic":false},"usercalendarvisibility":{"accessClaimTypes":["email"],"sharingAccessPerRole":{"USER":{"email":["{email}:*"]}},"defaultAcl":["email:{email}:S"],"relationships":{},"isPublic":false},"subjects":{"relationships":{"courseTemplates":"courses","abilities":"abilities"},"isPublic":true},"schools":{"accessClaimTypes":["role","schoolRole"],"relationships":{"courses":"courses","activeCourses":"courses"},"isPublic":true},"courses":{"accessClaimTypes":["role","schoolRole"],"sharingAccessPerRole":{"EMPLOYEE":{"schoolRole":["{school}/EMPLOYEE:*"],"role":["USER:R"]}},"defaultAcl":["schoolRole:{school}/EMPLOYEE:*"],"relationships":{"templateChain":"courses","centralContent":"central-content","knowledgeRequirements":"knowledge-requirements","abilities":"abilities","images":"images","tasks":"tasks"},"isPublic":true},"tasks":{"accessClaimTypes":["role","schoolRole"],"sharingAccessPerRole":{"EMPLOYEE":{"schoolRole":["{school}/EMPLOYEE:*"],"role":["USER:R"]}},"defaultAcl":["schoolRole:{school}/EMPLOYEE:S","role:USER:R"],"relationships":{"knowledgeRequirements":"knowledge-requirements","centralContent":"central-content","abilities":"abilities"},"isPublic":true},"images":{"accessClaimTypes":["role","schoolRole","email"],"sharingAccessPerRole":{"EMPLOYEE":{"schoolRole":["{school}/EMPLOYEE:*"],"role":["USER:R"]},"USER":{"email":["{email}:*"]}},"isPublic":true},"central-content":{"accessClaimTypes":["role"],"defaultAcl":["role:USER:R"]},"knowledge-requirements":{"accessClaimTypes":["role"],"defaultAcl":["role:USER:R"],"isPublic":true},"abilities":{"accessClaimTypes":["role"],"defaultAcl":["role:USER:R"],"isPublic":true},"seenStudentAssignments":{"accessClaimTypes":["email"],"sharingAccessPerRole":{"USER":{"email":["{email}:*"]}},"defaultAcl":["email:{email}:S"],"relationships":{},"isPublic":true},"notes":{"accessClaimTypes":["email"],"sharingAccessPerRole":{"USER":{"email":["{email}:*"]}},"defaultAcl":["email:{email}:S"],"relationships":{},"isPublic":false}}}')},21:function(e,t,r){"use strict";var n=r(3),a=r(17),s=function(){function e(){}return e.prototype.save=function(e,t){sessionStorage.setItem("bearer-"+e,JSON.stringify(t))},e.prototype.load=function(e){try{var t=sessionStorage.getItem("bearer-"+e);return Promise.resolve(t?JSON.parse(t):{token:null,expires:0})}catch(e){return Promise.resolve({token:null,expires:0})}},e}(),i=r(11);function o(e){e.resources||(e.resources=[])}function u(e,t,r){switch(t){case"courses":!function(e,t){e.modules||(e.modules=[]),e.modules.forEach(function(e){e.resources||(e.resources=[]),e.taskIds||(e.taskIds=[])}),e.responsibleTeachers||(e.responsibleTeachers=[]),"resourses"in e&&!("resources"in e)&&(e.resources=e.resourses,delete e.resourses),e.resources||(e.resources=[]),t&&t.forEach(function(t){switch(t){case"tasks":e.tasks.forEach(function(e){return o(e)})}})}(e,r);break;case"tasks":o(e)}}var c=sessionStorage.getItem("redir-hash");if(c)try{var l=JSON.parse(c),d=l.time,h=l.hash;d&&d>Date.now()-6e4&&(sessionStorage.removeItem("redir-hash"),location.hash=h)}catch(e){}!function(e){if(!e.__migrator_mixed_in){e.__migrator_mixed_in=!0;var t=e.get,r=e.list;e.get=function(e,r,n){var a=n&&n.include;return t.apply(this,arguments).then(function(t){return u(t,e,a&&a.toString().split(",")),t})},e.list=function(e,t){var n=t&&t.include;return r.apply(this,arguments).then(function(t){return t.forEach(function(t){return u(t,e,n&&n.toString().split(","))}),t})}}}(a.d.prototype);var p=new s,f=Date.now(),m=function(){function e(e,t,r){this.tokenPath=e,this.tokenResponseMapper=t,this.tokenId=r,this.tokenInfo={token:null,expires:0},this.getBearer=Object(i.a)(this.getBearer.bind(this)),this.refreshBearer=Object(i.a)(this.refreshBearer.bind(this))}return e.prototype.getBearer=function(){return n.b(this,void 0,void 0,function(){var e;return n.d(this,function(t){switch(t.label){case 0:return this.tokenInfo.token?[3,2]:this.tokenId?(e=this,[4,p.load(this.tokenId)]):[3,2];case 1:e.tokenInfo=t.sent(),t.label=2;case 2:return this.tokenInfo.expires<Date.now()?[4,this.refreshBearer()]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2,this.tokenInfo]}})})},e.prototype.refreshBearer=function(){return n.b(this,void 0,void 0,function(){var e,t,r,s,i;return n.d(this,function(n){switch(n.label){case 0:return[4,fetch(this.tokenPath,{headers:{Accept:"text/plain; application/json"},redirect:"manual",cache:"no-cache",credentials:"same-origin"})];case 1:if((302===(e=n.sent()).status||!e.status&&"opaqueredirect"===e.type)&&Date.now()-f>6e4)throw this.wantsRedirect=!0,console.log("Redirect wanted. Reload page."),sessionStorage.setItem("redir-hash",JSON.stringify({time:Date.now(),hash:location.hash})),window.location.reload(!0),new a.c(302,"Redirected");return 200==e.status?[3,3]:(t=Error.bind,r="HTTP"+e.status+" ",[4,e.text()]);case 2:throw new(t.apply(Error,[void 0,r+n.sent()]));case 3:return s=this,i=this.tokenResponseMapper,[4,e.text()];case 4:return s.tokenInfo=i.apply(this,[n.sent()]),p.save(this.tokenId,this.tokenInfo),[2,this.tokenInfo]}})})},e}(),g={fetch:fetch.bind(self),btoa:btoa.bind(self)},b=function(e){function t(t,r,n){var a="string"!=typeof r?r:new m(r,n&&n.tokenResponseMapper||function(e){return{token:e,expires:Date.now()+212400}},n&&n.tokenId);return e.call(this,g,a,t)||this}return n.c(t,e),t}(a.d);r.d(t,"d",function(){return p}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return g}),r.d(t,"a",function(){return b})},22:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"c",function(){return u}),r.d(t,"a",function(){return c});var n=r(1),a=r(6),s=r.n(a);function i(e){return"AT"===e?[32,51]:[1,25]}function o(e,t){var r=null;r=e.getMonth()>=7?t?e.getFullYear():e.getFullYear()+1:t?e.getFullYear()-1:e.getFullYear();var n=s()(r.toString(),"YYYY");return 1!=n.week()&&(n=n.clone().add(1,"week")),t?[s()(n.clone()).week(32).startOf("week"),s()(n.clone()).week(51).endOf("week")]:[s()(n.clone()),s()(n.clone()).week(25).endOf("week")]}function u(e){var t=e.year(),r=e.month()>=6,a=n.f(r?[t,t+1]:[t-1,t],2);return{academicYear:a[0]+"/"+a[1],term:r?"AT":"ST",week:e.week()}}function c(e,t){return e.split("/").map(function(e){return parseInt(e)+t}).map(function(e){return""+e}).join("/")}},25:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),a=r(40);function s(e){var t=e.children,r=e.spinner,s=e.onError,i=e.noError;return n.createElement(a.a,{props:t,spinner:r,noError:i,onError:s,fn:function(e){return e}})}},26:function(e,t,r){"use strict";var n="undefined"==typeof KED?{}:KED;"undefined"!=typeof window&&"undefined"==typeof KED&&(window.KED=n),t.a=n},28:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(3),a=function(e){function t(t){var r=e.call(this,function(e){var t={unsubscribe:function(){return r.subscribers=r.subscribers.filter(function(t){return t[0]!==e})}};return r.subscribers.push([e,t]),r.error?e(null,r.error,t):e(r.value,void 0,t),t})||this;return r.subscribers=[],r.value=t,r}return n.c(t,e),t.prototype.dispatch=function(e){this.value=e,this.error=void 0,this._dispatch()},t.prototype.dispatchError=function(e){this.error=e,this._dispatch()},t.prototype._dispatch=function(){var e=this;this.subscribers.forEach(function(t){var r=t[0],n=t[1];try{r(e.value,e.error,n)}catch(e){r(null,e,n)}})},t}(r(29).a)},29:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(3),a=r(30),s=r(42),i=r(31),o=r(41),u=function(e){function t(t){return e.call(this,t)||this}return n.c(t,e),t.from=function(e){if(e.subscribe)return new t(function(t){return e.subscribe(t)});throw new Error("Value.from() can only take observables")},t.prototype.read=function(){var e,t,r,n=!1,a=this.subscribe(function(a,s,i){n=!0,e=a,t=s,s&&r?r(null,s,i):r&&r(a,null,i)});if(n){var s=o.a.current;if(!s)throw a.unsubscribe(),new Error("Invalid Fiber Context");if(t)throw a.unsubscribe(),t;var i=s.subscriptions,u=s.observer;return i.push(a),r=u,e}throw new Promise(function(e,t){r=function(r,n,a){a.unsubscribe(),n?t(n):e(r)}})},t.prototype.load=function(){var e=this;return new Promise(function(t,r){e.subscribe(function(e,n,a){n?r(n):t(e),a.unsubscribe()})})},t.prototype.filter=function(e){var r=this;return new t(function(t){return r.subscribe(function(r,n,a){n?t(null,n,a):e(r)&&t(r,n,a)})})},t.prototype.log=function(e){return this.map(function(t){return console.log(e,t),t})},t.prototype.toCollection=function(e){var t=this;return new i.a(function(r){return t.map(e).subscribe(r)})},t.prototype.combineLatest=function(e){var r=this;return new t(function(t){var n,a,s=[null,null],i={unsubscribe:function(){n.unsubscribe(),a.unsubscribe()}};return n=r.subscribe(function(e,r,n){r&&(n.unsubscribe(),t(null,r,i)),s[0]=e,null!==s[1]&&t(s,null,i)}),a=e.subscribe(function(e,r,n){r&&(n.unsubscribe(),t(null,r,i)),s[1]=e,null!==s[0]&&t(s,null,i)}),i})},t.prototype.switchMap=function(e){var r=this;return new t(function(t){var n=null,a=null,s={unsubscribe:function(){a.unsubscribe(),n&&(n.unsubscribe(),n=null)}};return a=r.subscribe(function(r,i,o){if(a=o,n&&(n.unsubscribe(),n=null),i)t(null,i,s);else try{var u=e(r);u&&"function"==typeof u.subscribe?n=u.subscribe(function(e,r,a){n=a,t(e,r,s)}):t(u,null,a)}catch(i){t(null,i,a)}}),s})},t}(a.a);u.prototype.map=Object(s.a)(u)},30:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){function e(e){this._subscribe=e}return e.prototype.subscribe=function(e){try{return this._subscribe(function(t,r,n){try{e(t,r,n)}catch(t){e(null,t,n)}})}catch(t){e(null,t,{unsubscribe:function(){}})}},e}()},302:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(26),s=(r(97),r(4)),i=r(7),o=r(0),u=r(194),c=r(2),l=r(13),d=r(16),h=r(8),p=r(59),f=s.a.bearerProvider.getBearer(),m=function(e){function t(t){var r=e.call(this,t)||this;return r.state={isTokenLoaded:!1},r}return n.c(t,e),t.prototype.componentWillMount=function(){var e=this;f.then(function(){e.setState({isTokenLoaded:!0})}).catch(function(e){Object(c.n)(e)})},t.prototype.render=function(){var e=this.props.intl;return this.state.isTokenLoaded?o.createElement(d.a.Provider,{value:{intl:e}},o.createElement(u.a,{courseBuilderUrl:i.b.KED_COURSE_BUILDER_URL})):o.createElement("p",null,o.createElement(l.a,null),"V.g. vänta... autenticerar...")},t}(o.Component),g=Object(p.a)(Object(h.d)(m));a.a.components=n.a({},a.a.components,{KEDAppTeacherView:g})},31:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(3),a=r(30),s=r(42),i=r(29),o=r(28),u=function(e){function t(t){return e.call(this,t)||this}return n.c(t,e),t.prototype._map=function(e){throw"mixedin"},t.from=function(e){if(e.subscribe)return new t(function(t){return e.subscribe(t)});if(Array.isArray(e)){var r=new o.a(e);return new t(function(e){return r.subscribe(e)})}throw new Error("ObservableCollection.from() can only take arrays or observables")},t.prototype.map=function(e){return this._map(function(t){return t.map(function(t){return e(t)})})},t.prototype.flat=function(){return this._map(function(e){return[].concat.apply([],e)})},t.prototype.filter=function(e){return this._map(function(t){return t.filter(e)})},t.prototype.concat=function(e){return t.from(this.toValue().combineLatest(e).map(function(e){var t=e[0],r=e[1];return t.concat(r)}))},t.prototype.orderBy=function(e){return this.toValue().map(function(t){return t.slice().sort(function(t,r){var n=t&&t[e],a=r&&r[e];return n>a?1:n<a?-1:0})}).toCollection(function(e){return e})},t.prototype.toValue=function(){var e=this;return new i.a(function(t){return e.subscribe(t)})},t.prototype.groupBy=function(e){return this.toValue().map(function(t){var r={};return t.forEach(function(t){(r[t[e]]||(r[t[e]]=[])).push(t)}),r})},t.prototype.first=function(){return this.toValue().map(function(e){return e[0]})},t}(a.a);u.prototype._map=Object(s.a)(u)},32:function(e,t,r){"use strict";var n=r(33);r.d(t,"a",function(){return n.b}),r.d(t,"b",function(){return n.c})},33:function(e,t,r){"use strict";r(30),r(29);var n=r(31);r.d(t,"a",function(){return n.a});var a=r(28);r.d(t,"b",function(){return a.a});var s=r(41);r.d(t,"c",function(){return s.a})},34:function(e,t,r){"use strict";var n="undefined"==typeof KED?{}:KED;"undefined"!=typeof window&&"undefined"==typeof KED&&(window.KED=n),t.a=n},4:function(e,t,r){"use strict";r.d(t,"b",function(){return a});var n=r(34);n.a.env||(n.a.env={}),t.a=n.a.env;var a=n.a.env},40:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o});var n=r(1),a=r(0),s=r(2);function i(e,t){return function(r){return a.createElement(o,n.a({props:r,fn:e},t))}}var o=function(e){function t(t){var r=e.call(this,t)||this;return r.state={result:null,isLoading:!0},r}return n.c(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.shouldComponentUpdate=function(e,t){return this.state.error!==t.error||this.state.isLoading!==t.isLoading||this.state.result!==t.result||!Object(s.m)(e.props,this.props.props)},t.prototype.componentDidUpdate=function(e){Object(s.m)(e.props,this.props.props)||(this.unsubscribe(),this.subscribe())},t.prototype.subscribe=function(){var e=this;this.setState({isLoading:!0}),this.subscription=this.props.fn(this.props.props).subscribe(function(t,r){return e.setState({result:t,error:r,isLoading:!1})})},t.prototype.unsubscribe=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},t.prototype.render=function(){var e=this.state,t=e.result,r=e.error,n=e.isLoading,s=this.props,i=s.spinner,o=s.onError,u=s.noError;return r?u?"":o?o(r):a.createElement("p",null,"Error: ",r.message):n?i||"":void 0===t?"":t},t}(a.Component)},41:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=null,a=[function(){return n}];var s={get current(){return n},addProvider:function(e){a.push(e),i()},removeProvider:function(e){a=a.filter(function(t){return t!==e}),i()}};function i(){Object.defineProperty(s,"current",{get:a.reduce(function(e,t){return function(){return e()||t()}}),set:function(){throw new Error("Use FiberContext.push() to change current fiber")}})}},42:function(e,t,r){"use strict";function n(e){return function(t){var r=this;return new e(function(e){return r.subscribe(function(r,n,a){if(n)e(null,n,a);else try{e(t(r),n,a)}catch(t){e(null,t,a)}})})}}r.d(t,"a",function(){return n})},45:function(e,t,r){"use strict";var n=r(1),a=r(5),s=r(22),i=r(6),o=r.n(i);var u=function(){function e(e){var t="academicYear"in e?e:Object(s.c)(o()(e));this.academicYear=t.academicYear,this.term=t.term}return Object.defineProperty(e.prototype,"year",{get:function(){return parseInt(this.academicYear.split("/")["AT"===this.term?0:1])},enumerable:!0,configurable:!0}),e.prototype.nextTerm=function(){return new e("AT"===this.term?{term:"ST",academicYear:this.academicYear}:{term:"AT",academicYear:Object(s.a)(this.academicYear,1)})},e.prototype.prevTerm=function(){return new e("AT"===this.term?{term:"ST",academicYear:Object(s.a)(this.academicYear,-1)}:{term:"AT",academicYear:this.academicYear})},e.prototype.toLocaleString=function(e,t){var r="AT"===this.term?this.academicYear.split("/")[0]:this.academicYear.split("/")[1];return t&&(r=r.substr(2)),"AT"===this.term?e.formatMessage({id:"termplanner.secondTerm",defaultMessage:"HT {year}"},{year:r}):e.formatMessage({id:"termplanner.firstTerm",defaultMessage:"VT {year}"},{year:r})},e}(),c=r(2),l=r(53),d={isApiMethod:function(e){return"function"==typeof e},cacheExpiration:18e5};r.d(t,"b",function(){return p}),r.d(t,"a",function(){return f});var h,p=function(){function e(t,r,s,i){var o=this;this.http=new a.f(t,r,{bearerProvider:s}),this.userEmailGetter=i;var u=function(e){return"function"==typeof o[e]&&"constructor"!==e&&"privatizingCacheBust"!==e&&"userEmailGetter"!==e};Object.keys(e.prototype).forEach(function(e){u(e)&&(o[e]=function(e){var t={};return function(){var r=JSON.stringify([].slice.call(arguments));return t[r]||(t[r]=e.apply(this,arguments).then(function(e){return delete t[r],e})),t[r]}}(o[e]))}),this.suspense=function(e,t){void 0===t&&(t=d);for(var r=(t=n.a({},d,t)).isApiMethod,a=t.cacheExpiration,s=Object.create(e),i={},o=e;o&&o!==Object.prototype;o=Object.getPrototypeOf(o))u(o);function u(t){Object.keys(t).forEach(function(o){!s.hasOwnProperty(o)&&r(o)&&(s[o]=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var u=JSON.stringify(n.g([o],r)),c=i[u];if(void 0!==c){if(c.promise)throw c.promise;if(c.error)throw c.error;if(c.timeout>Date.now())return c.value}try{var l=t[o].apply(e,r).then(function(e){i[u]={timeout:Date.now()+a,value:e}}).catch(function(e){i[u]={timeout:Date.now()+a,error:e}});throw i[u]={timeout:Date.now()+a,promise:l},l}catch(e){if(e.then)throw e;i[u]={timeout:Date.now()+a,error:e}}})})}return s}(this,{isApiMethod:u})}return e.prototype.privatizingCacheBust=function(){return{user:this.userEmailGetter()}},e.prototype.getActiveCourses=function(e){return n.b(this,void 0,void 0,function(){var t,r,s,i,o;return n.d(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),t=this.privatizingCacheBust(),e&&(e.courseCode&&(t.CourseCode=e.courseCode),e.periodName&&(t.PeriodName=e.periodName)),[4,this.http.get("studentactivecourses",t)];case 1:return 200==(r=u.sent()).status?[3,3]:(s=a.c.bind,i=[void 0,r.status],[4,r.text()]);case 2:throw new(s.apply(a.c,i.concat([u.sent()])));case 3:return[4,r.json()];case 4:return[2,u.sent().courses];case 5:throw o=u.sent(),console.error("Error from EDS: "+o),new Error(Object(c.a)(h||(h=n.e(["Kunde tyvärr inte ladda terminsmål eller avklarade steg från EDS. Försök igen senare..."],["Kunde tyvärr inte ladda terminsmål eller avklarade steg från EDS. Försök igen senare..."]))));case 6:return[2]}})})},e.prototype.getLatestAssessments=function(e){return n.b(this,void 0,void 0,function(){var t,r,s,i;return n.d(this,function(n){switch(n.label){case 0:return t=this.privatizingCacheBust(),isNaN(e)||(t.Count=e),[4,this.http.get("studentassessments",t)];case 1:return 200==(r=n.sent()).status?[3,3]:(s=a.c.bind,i=[void 0,r.status],[4,r.text()]);case 2:throw new(s.apply(a.c,i.concat([n.sent()])));case 3:return[4,r.json()];case 4:return[2,n.sent().assessments]}})})},e.prototype.getStudentGoals=function(){return n.b(this,void 0,void 0,function(){var e,t,r;return n.d(this,function(n){switch(n.label){case 0:return[4,this.http.get("studentgoals",this.privatizingCacheBust())];case 1:return 200==(e=n.sent()).status?[3,3]:(t=a.c.bind,r=[void 0,e.status],[4,e.text()]);case 2:throw new(t.apply(a.c,r.concat([n.sent()])));case 3:return[4,e.json()];case 4:return[2,n.sent().studentGoals]}})})},e.prototype.getStudentFutureAbilities=function(){return n.b(this,void 0,void 0,function(){var e,t,r;return n.d(this,function(n){switch(n.label){case 0:return[4,this.http.get("studentFutureAbilities",this.privatizingCacheBust())];case 1:return 200==(e=n.sent()).status?[3,3]:(t=a.c.bind,r=[void 0,e.status],[4,e.text()]);case 2:throw new(t.apply(a.c,r.concat([n.sent()])));case 3:return[4,e.json()];case 4:return[2,n.sent().studentFutureAbilities]}})})},e.prototype.getTeacherTutorStudents=function(){return n.b(this,void 0,void 0,function(){var e,t,r;return n.d(this,function(n){switch(n.label){case 0:return[4,this.http.get("teachertutorstudents",this.privatizingCacheBust())];case 1:return 200==(e=n.sent()).status?[3,3]:(t=a.c.bind,r=[void 0,e.status],[4,e.text()]);case 2:throw new(t.apply(a.c,r.concat([n.sent()])));case 3:return[4,e.json()];case 4:return[2,n.sent().students]}})})},e.prototype.getSchoolTuitionGroups=function(e){return n.b(this,void 0,void 0,function(){var t,r,s;return n.d(this,function(i){switch(i.label){case 0:return[4,this.http.get("SchoolTuitionGroups",n.a({},this.privatizingCacheBust(),e))];case 1:return 200==(t=i.sent()).status?[3,3]:(r=a.c.bind,s=[void 0,t.status],[4,t.text()]);case 2:throw new(r.apply(a.c,s.concat([i.sent()])));case 3:return[4,t.json()];case 4:return[2,i.sent().schoolTuitionGroups]}})})},e.prototype.getTuitionGroupStudents=function(e){return n.b(this,void 0,void 0,function(){var t,r,s;return n.d(this,function(i){switch(i.label){case 0:return[4,this.http.get("TuitionGroupStudents",n.a({},this.privatizingCacheBust(),e))];case 1:return 200==(t=i.sent()).status?[3,3]:(r=a.c.bind,s=[void 0,t.status],[4,t.text()]);case 2:throw new(r.apply(a.c,s.concat([i.sent()])));case 3:return[4,t.json()];case 4:return[2,i.sent().tuitionGroupStudents]}})})},e.prototype.getSchoolTeachers=function(e){return n.b(this,void 0,void 0,function(){var t,r,s;return n.d(this,function(i){switch(i.label){case 0:return[4,this.http.get("SchoolTeachers",n.a({},this.privatizingCacheBust(),e))];case 1:return 200==(t=i.sent()).status?[3,3]:(r=a.c.bind,s=[void 0,t.status],[4,t.text()]);case 2:throw new(r.apply(a.c,s.concat([i.sent()])));case 3:return[4,t.json()];case 4:return[2,i.sent().schoolTeachers]}})})},e.prototype.getAcademicYearTerms=function(e,t){return n.b(this,void 0,void 0,function(){var r,a,i,u,c,d,h,p,f;return n.d(this,function(n){switch(e){case"en_sin":return[2,l.SouthIndia.filter(function(e){return o()(t).isSameOrAfter(e.firstTerm.startDate)&&o()(t).isSameOrBefore(e.secondTerm.endDate)})[0]];case"en_nin":return[2,l.NorthIndia.filter(function(e){return o()(t).isSameOrAfter(e.firstTerm.startDate)&&o()(t).isSameOrBefore(e.secondTerm.endDate)})[0]];case"sv":return r=[],a=Object(s.d)(t,!0),i=Object(s.d)(t,!1),u=a[0],c=i[0],d=a[1],h=i[1],p={startDate:new Date(u.year(),u.month(),u.date()).toDateString(),endDate:new Date(u.year(),d.month(),d.date()).toDateString()},f={startDate:new Date(c.year(),c.month(),c.date()).toDateString(),endDate:new Date(c.year(),h.month(),h.date()).toDateString()},[2,{firstTerm:p,secondTerm:f,holidays:r}]}return[2]})})},e}(),f=function(){function e(e){if("string"==typeof e){if(this.period=e,this.term=this.period.startsWith("HT")?"AT":"ST",this.year=parseInt(this.period.substr(2)),isNaN(this.year))throw new Error("Invalid period: "+this.period)}else{var t=new u(e);this.period=("AT"===t.term?"HT":"VT")+t.year,this.term=t.term,this.year=t.year}}return Object.defineProperty(e.prototype,"schoolTerm",{get:function(){return new u({academicYear:"AT"===this.term?this.year+"/"+(this.year+1):this.year-1+"/"+this.year,term:this.term})},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.period},e.prototype.valueOf=function(){return this.year+":"+("ST"===this.term?"1":"2")},e}()},47:function(e,t){e.exports=ReactDOM},5:function(e,t,r){"use strict";var n=r(17);r.d(t,"a",function(){return n.a}),r.d(t,"b",function(){return n.b}),r.d(t,"c",function(){return n.c}),r.d(t,"d",function(){return n.d}),r.d(t,"e",function(){return n.e}),r.d(t,"f",function(){return n.f}),r.d(t,"g",function(){return n.g}),r.d(t,"h",function(){return n.h}),r.d(t,"i",function(){return n.i}),r.d(t,"j",function(){return n.j}),r.d(t,"k",function(){return n.k}),r.d(t,"l",function(){return n.l})},51:function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return o});var n=r(1),a=function(e,t,r){for(var n=[],a=t;a<=r;a++)n.push({schoolName:"KED",tuitionGroupName:e,studentFirstName:"Student "+a,studentLastName:"Classroom",studentEmailAddress:"student"+a+".classroom@kedschools.com"});return n},s=[{schoolName:"KED",teacherFirstName:"Teacher 1",teacherLastName:"Classroom",teacherEmailAddress:"teacher1.classroom@kedschools.com"},{schoolName:"KED",teacherFirstName:"Teacher 2",teacherLastName:"Classroom",teacherEmailAddress:"teacher2.classroom@kedschools.com"},{schoolName:"KED",teacherFirstName:"Teacher 3",teacherLastName:"Classroom",teacherEmailAddress:"teacher3.classroom@kedschools.com"},{schoolName:"KED",teacherFirstName:"Carl",teacherLastName:"Holmberg",teacherEmailAddress:"carl@kedschools.com"},{schoolName:"KED",teacherFirstName:"David",teacherLastName:"Fahlander",teacherEmailAddress:"david.fahlander@kedschools.com"},{schoolName:"KED",teacherFirstName:"Andrei",teacherLastName:"Spatarelu",teacherEmailAddress:"andrei.spatarelu@vemendo.se"}],i={"DJUSÄL01":[{schoolName:"KED",tuitionGroupName:"DJUR1_GR1 (180816-190614)",courseCode:"DJUSÄL01"},{schoolName:"KED",tuitionGroupName:"DJUR1_GR2 (180816-190614)",courseCode:"DJUSÄL01"},{schoolName:"KED",tuitionGroupName:"DJUR1_GR3 (180816-190614)",courseCode:"DJUSÄL01"}],DJUDJI0:[{schoolName:"KED",tuitionGroupName:"DJUDJ_Gr1 (180816-190614)",courseCode:"DJUDJI0"},{schoolName:"KED",tuitionGroupName:"DJUDJ_Gr2 (180816-190614)",courseCode:"DJUDJI0"}],KEMKEM01:[{schoolName:"KED",tuitionGroupName:"KEM1_Gr1 (180816-190614)",courseCode:"KEMKEM01"},{schoolName:"KED",tuitionGroupName:"KEM1_Gr2 (180816-190614)",courseCode:"KEMKEM01"}],MATMAT03b:[{schoolName:"KED",tuitionGroupName:"MAT3b_Gr1 (180816-190614)",courseCode:"MATMAT03b"},{schoolName:"KED",tuitionGroupName:"MAT3b_Gr2 (180816-190614)",courseCode:"MATMAT03b"},{schoolName:"KED",tuitionGroupName:"MAT3b_Gr3 (180816-190614)",courseCode:"MATMAT03b"}],BIOBIO01:[{schoolName:"KED",tuitionGroupName:"BIO1_Gr1 (180816-190614)",courseCode:"BIOBIO01"},{schoolName:"KED",tuitionGroupName:"BIO1_Gr2 (180816-190614)",courseCode:"BIOBIO01"}],SVESVE03:[{schoolName:"KED",tuitionGroupName:"SVE3_Gr1 (180816-190614)",courseCode:"SVESVE03"},{schoolName:"KED",tuitionGroupName:"SVE3_Gr2 (180816-190614)",courseCode:"SVESVE03"},{schoolName:"KED",tuitionGroupName:"SVE3_Gr3 (180816-190614)",courseCode:"SVESVE03"},{schoolName:"KED",tuitionGroupName:"SVE3_Gr4 (180816-190614)",courseCode:"SVESVE03"},{schoolName:"KED",tuitionGroupName:"SVE3_Gr5 (180816-190614)",courseCode:"SVESVE03"},{schoolName:"KED",tuitionGroupName:"SVE3_Gr6 (180816-190614)",courseCode:"SVESVE03"},{schoolName:"KED",tuitionGroupName:"SVE3_Gr7 (180816-190614)",courseCode:"SVESVE03"}]},o={"DJUR1_GR1 (180816-190614)":a("DJUR1_GR1 (180816-190614)",1,12),"DJUR1_GR2 (180816-190614)":a("DJUR1_GR2 (180816-190614)",13,24),"DJUR1_GR3 (180816-190614)":n.g([{schoolName:"KED",tuitionGroupName:"DJUDJ_Gr2 (180816-190614)",studentFirstName:"Student2",studentLastName:"Classroom",studentEmailAddress:"student2.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"DJUDJ_Gr2 (180816-190614)",studentFirstName:"Carl",studentLastName:"Holmberg",studentEmailAddress:"carl@kedschools.com"},{schoolName:"KED",tuitionGroupName:"DJUDJ_Gr2 (180816-190614)",studentFirstName:"Andrei",studentLastName:"Spatarelu",studentEmailAddress:"andrei.spatarelu@vemendo.se"},{schoolName:"KED",tuitionGroupName:"DJUDJ_Gr2 (180816-190614)",studentFirstName:"Student3",studentLastName:"Classroom",studentEmailAddress:"student3.classroom@kedschools.com"}],a("DJUR1_GR3 (180816-190614)",23,34)),"MAT3b_Gr1 (180816-190614)":a("MAT3b_Gr1 (180816-190614)",3,23),"MAT3b_Gr2 (180816-190614)":a("MAT3b_Gr2 (180816-190614)",24,49),"MAT3b_Gr3 (180816-190614)":a("MAT3b_Gr3 (180816-190614)",50,72),"IDR1_Gr1 (180816-190614)":a("IDR1_Gr1 (180816-190614)",1,12),"IDR1_Gr2 (180816-190614)":a("IDR1_Gr2 (180816-190614)",13,22),"IDR1_Gr3 (180816-190614)":a("IDR1_Gr3 (180816-190614)",23,34),"KEM1_Gr1 (180816-190614)":[{schoolName:"KED",tuitionGroupName:"KEM1_Gr1 (180816-190614)",studentFirstName:"Student 2",studentLastName:"Classroom",studentEmailAddress:"student2.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"KEM1_Gr1 (180816-190614)",studentFirstName:"Student 3",studentLastName:"Classroom",studentEmailAddress:"student3.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"KEM1_Gr1 (180816-190614)",studentFirstName:"Student 8",studentLastName:"Classroom",studentEmailAddress:"student8.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"KEM1_Gr1 (180816-190614)",studentFirstName:"Student 9",studentLastName:"Classroom",studentEmailAddress:"student9.classroom@kedschools.com"}],"KEM1_Gr2 (180816-190614)":[{schoolName:"KED",tuitionGroupName:"KEM1_Gr2 (180816-190614)",studentFirstName:"Student 1",studentLastName:"Classroom",studentEmailAddress:"student1.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"KEM1_Gr2 (180816-190614)",studentFirstName:"Student 5",studentLastName:"Classroom",studentEmailAddress:"student5.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"KEM1_Gr2 (180816-190614)",studentFirstName:"Student 6",studentLastName:"Classroom",studentEmailAddress:"student6.classroom@kedschools.com"}],"BIO1_Gr1 (180816-190614)":[{schoolName:"KED",tuitionGroupName:"BIO1_Gr1 (180816-190614)",studentFirstName:"Student 1",studentLastName:"Classroom",studentEmailAddress:"student1.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"BIO1_Gr1 (180816-190614)",studentFirstName:"Student 4",studentLastName:"Classroom",studentEmailAddress:"student4.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"BIO1_Gr1 (180816-190614)",studentFirstName:"Student 6",studentLastName:"Classroom",studentEmailAddress:"student6.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"BIO1_Gr1 (180816-190614)",studentFirstName:"Student 10",studentLastName:"Classroom",studentEmailAddress:"student10.classroom@kedschools.com"}],"BIO1_Gr2 (180816-190614)":[{schoolName:"KED",tuitionGroupName:"BIO1_Gr2 (180816-190614)",studentFirstName:"Student 2",studentLastName:"Classroom",studentEmailAddress:"student2.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"BIO1_Gr2 (180816-190614)",studentFirstName:"Student 7",studentLastName:"Classroom",studentEmailAddress:"student7.classroom@kedschools.com"},{schoolName:"KED",tuitionGroupName:"BIO1_Gr2 (180816-190614)",studentFirstName:"Student 8",studentLastName:"Classroom",studentEmailAddress:"student8.classroom@kedschools.com"}],"SVE3_Gr1 (180816-190614)":a("SVE3_Gr1 (180816-190614)",1,21),"SVE3_Gr2 (180816-190614)":a("SVE3_Gr2 (180816-190614)",22,44),"SVE3_Gr3 (180816-190614)":a("SVE3_Gr3 (180816-190614)",45,61),"SVE3_Gr4 (180816-190614)":a("SVE3_Gr4 (180816-190614)",62,78),"SVE3_Gr5 (180816-190614)":a("SVE3_Gr5 (180816-190614)",83,107),"SVE3_Gr6 (180816-190614)":a("SVE3_Gr6 (180816-190614)",108,124),"SVE3_Gr7 (180816-190614)":a("SVE3_Gr7 (180816-190614)",125,150)}},53:function(e){e.exports=JSON.parse('{"SouthIndia":[{"firstTerm":{"startDate":"2015-06-01T00:00:00.000Z","endDate":"2015-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2015-11-01T00:00:00.000Z","endDate":"2016-03-27T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2016-06-23T00:00:00.000Z","endDate":"2016-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2016-11-01T00:00:00.000Z","endDate":"2017-03-25T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2017-06-05T00:00:00.000Z","endDate":"2017-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2017-11-01T00:00:00.000Z","endDate":"2018-03-30T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2018-06-04T00:00:00.000Z","endDate":"2018-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2018-11-01T00:00:00.000Z","endDate":"2019-04-29T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2019-06-03T00:00:00.000Z","endDate":"2019-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2019-11-01T00:00:00.000Z","endDate":"2020-03-27T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2020-06-01T00:00:00.000Z","endDate":"2020-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2020-11-01T00:00:00.000Z","endDate":"2021-03-26T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2021-06-06T00:00:00.000Z","endDate":"2021-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2021-11-01T00:00:00.000Z","endDate":"2022-03-25T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2022-06-05T00:00:00.000Z","endDate":"2022-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2022-11-01T00:00:00.000Z","endDate":"2023-03-31T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2023-06-04T00:00:00.000Z","endDate":"2023-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2023-11-01T00:00:00.000Z","endDate":"2024-03-29T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2024-06-03T00:00:00.000Z","endDate":"2024-10-31T00:00:00.000Z"},"secondTerm":{"startDate":"2024-11-01T00:00:00.000Z","endDate":"2025-03-28T00:00:00.000Z"},"holidays":[]}],"NorthIndia":[{"firstTerm":{"startDate":"2024-04-03T00:00:00.000Z","endDate":"2024-09-30T00:00:00.000Z"},"secondTerm":{"startDate":"2024-10-01T00:00:00.000Z","endDate":"2025-04-02T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2023-04-05T00:00:00.000Z","endDate":"2023-10-01T00:00:00.000Z"},"secondTerm":{"startDate":"2023-10-02T00:00:00.000Z","endDate":"2024-04-02T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2022-04-06T00:00:00.000Z","endDate":"2022-10-03T00:00:00.000Z"},"secondTerm":{"startDate":"2022-10-04T00:00:00.000Z","endDate":"2023-04-04T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2021-04-01T00:00:00.000Z","endDate":"2021-10-04T00:00:00.000Z"},"secondTerm":{"startDate":"2021-10-05T00:00:00.000Z","endDate":"2022-04-05T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2020-04-01T00:00:00.000Z","endDate":"2020-09-28T00:00:00.000Z"},"secondTerm":{"startDate":"2020-09-29T00:00:00.000Z","endDate":"2021-03-31T00:00:00.000Z"},"holidays":[{"startDate":"2020-05-17","endDate":"2020-06-28"}]},{"firstTerm":{"startDate":"2019-04-04T00:00:00.000Z","endDate":"2019-09-30T00:00:00.000Z"},"secondTerm":{"startDate":"2019-10-01T00:00:00.000Z","endDate":"2020-03-31T00:00:00.000Z"},"holidays":[{"startDate":"2019-05-19","endDate":"2019-06-29"}]},{"firstTerm":{"startDate":"2018-04-04T00:00:00.000Z","endDate":"2018-09-30T00:00:00.000Z"},"secondTerm":{"startDate":"2018-10-01T00:00:00.000Z","endDate":"2019-04-03T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2017-04-05T00:00:00.000Z","endDate":"2017-10-02T00:00:00.000Z"},"secondTerm":{"startDate":"2017-10-03T00:00:00.000Z","endDate":"2018-04-03T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2016-04-06T00:00:00.000Z","endDate":"2016-10-03T00:00:00.000Z"},"secondTerm":{"startDate":"2016-10-04T00:00:00.000Z","endDate":"2017-04-04T00:00:00.000Z"},"holidays":[]},{"firstTerm":{"startDate":"2015-04-01T00:00:00.000Z","endDate":"2015-10-05T00:00:00.000Z"},"secondTerm":{"startDate":"2015-10-06T00:00:00.000Z","endDate":"2016-04-05T00:00:00.000Z"},"holidays":[]}]}')},56:function(e,t,r){"use strict";r.d(t,"c",function(){return d}),r.d(t,"d",function(){return h}),r.d(t,"b",function(){return p}),r.d(t,"a",function(){return f});var n=r(1),a=r(0),s=r(5),i=r(4),o=r(140),u=r.n(o),c=r(13),l=r(63);function d(e,t,r){var n,s=e.metadata;try{n=s.urkundResponse&&JSON.parse(s.urkundResponse)}catch(e){n=null}var i=n&&n[0];return!i&&e.metadata.urkundUploadError&&(i={Status:{ErrorCode:-1,Message:e.metadata.urkundUploadError,State:"Error"},ExternalId:e.metadata.urkundExternalId}),e.isRefreshing?a.createElement("td",{colSpan:2},a.createElement(c.a,null)," Uppdaterar..."):i?a.createElement(a.Fragment,null,a.createElement("td",{className:"urkund-status-col"},a.createElement("a",{href:i.Report&&i.Report.ReportUrl,onClick:function(n){-1!==["Accepted","Submitted"].indexOf(i.Status.State)&&(n.preventDefault(),n.stopPropagation(),r&&t(e))},target:"_blank",title:Object(l.a)(i)},a.createElement("div",{className:Object(l.c)(i)}))),a.createElement("td",{className:"urkund-status-col"},a.createElement("div",{className:Object(l.b)(i)},i.Report&&"number"==typeof i.Report.Significance?i.Report.Significance.toFixed()+"%":" "))):a.createElement("td",{colSpan:2})}function h(e,t){return n.g([t],e.filter(function(e){var r=e.user,n=e.filename;return r!==t.user||n!==t.filename}))}function p(e){return n.b(this,void 0,void 0,function(){var t,r,a,o,c;return n.d(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),[4,i.b.kedBackendClient.http.fetch(e.mediaLink,"get",{})];case 1:return(t=n.sent()).status>=400?(r=s.c.bind,a=[void 0,t.status],[4,t.text()]):[3,3];case 2:throw new(r.apply(s.c,a.concat([n.sent()])));case 3:return[4,t.blob()];case 4:return o=n.sent(),u()(o,e.filename,e.contentType),[3,6];case 5:return c=n.sent(),this.setState({error:"Kunde inte ladda ned filen. "+(c.message||c)}),console.error(c),[3,6];case 6:return[2]}})})}function f(e){var t=e.file,r=t.metadata,n=r.driveFileIconUrl,s=r.driveFileUrl,i=t.filename.substr(0,t.filename.lastIndexOf("."));return a.createElement("div",{className:"align-horizontal spaced"},a.createElement("div",{className:"horizontalItem top"},a.createElement("img",{className:"file-icon",src:n})),a.createElement("div",{className:"horizontalItem top"},a.createElement("span",null,a.createElement("a",{target:"_blank",href:s},i))))}},59:function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(1),a=r(8),s=r(93),i=r.n(s),o=r(94),u=r.n(o),c=r(64),l=r(65),d=r(0),h=r(7),p=r(6),f=r.n(p),m=function(e){return function(t){function r(e){var r=t.call(this,e)||this;return Object(a.c)(n.g(i.a,u.a)),r.messages={sv:c,en:l},f()().locale(h.b.KED_LOCALE),r}return n.c(r,t),r.prototype.render=function(){return d.createElement(a.b,{locale:h.b.KED_LOCALE,messages:this.messages[h.b.KED_LOCALE]},d.createElement(e,n.a({},this.props)))},r}(d.Component)}},63:function(e,t,r){"use strict";function n(e){if(!e||!e.Status)return null;switch(e.Status.State){case"Error":return"urkund-status urkund-status-error";case"Submitted":return"urkund-status urkund-status-submitted";case"Accepted":return"urkund-status urkund-status-accepted";case"Analyzed":return"urkund-status urkund-status-analyzed"}}function a(e){if(!e||!e.Status)return null;switch(e.Status.State){case"Error":return e.ExternalId?"Kunde inte tas emot av urkund. Felkod: "+e.Status.ErrorCode+"\nExternal ID: "+e.ExternalId+"\nFelmeddelande: "+e.Status.Message:e.Status.Message;case"Submitted":return"Filen är uppladdad till Urkund. Klicka för att uppdatera status.";case"Accepted":return"Filen analyseras fortfarande av Urkund. Klicka för att uppdatera status.";case"Analyzed":return"Rapport skapad. Klicka för att öppna rapporten i nytt fönster"}}function s(e){if(!e||!e.Status)return"";switch(e.Status.State){case"Error":return"urkund-significance-error";case"Submitted":return"urkund-significance-submitted";case"Accepted":return"urkund-significance-accepted"}var t=e.Report;return t?t.Significance<1?"urkund-significance urkund-significance-0":t.Significance<10?"urkund-significance urkund-significance-1":t.Significance<25?"urkund-significance urkund-significance-2":t.Significance<40?"urkund-significance urkund-significance-3":t.Significance<55?"urkund-significance urkund-significance-4":t.Significance<70?"urkund-significance urkund-significance-5":t.Significance<85?"urkund-significance urkund-significance-6":t.Significance<99.9?"urkund-significance urkund-significance-7":t.Significance>=99.9?"urkund-significance urkund-significance-8":"":""}r.d(t,"c",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s})},64:function(e){e.exports=JSON.parse('{"addeditsubtask.addSubtask":"Lägg till underuppgift","addeditsubtask.deleteSubtask":"Ta bort underuppgift","addeditsubtask.editSubtask":"Redigera underuppgift","addeditsubtask.nameLabel":"Underuppgiftens namn","calendar.currentDate":"Vecka {week}, {year}","calendar.fullDayEventLocation":"Plats: {location}","calendar.loadCalendarEvents":"Load calendar events...","calendar.loadingCalendar":"Loading calendars... (listing...)","calendar.weekNumber":"V{weekNumber}","common.addDescriptionPlhd":"Lägg till en beskrivning...","common.cancel":"Avbryt","common.changesNotSavedErrorOccured":"För tillfället problem att spara data. Dina ändringar sparades inte.","common.changesNotSavedUnauthorized":"Ändringarna sparades inte p.g.a. otillräcklig behörighet.","common.descriptionLabel":"Beskrivning","common.errorSavingData":"Kunde inte spara.","common.linkLabel":"Länk","common.loading":"Laddar...","common.nameLabel":"Namn","common.save":" Spara","common.saved":" Sparad","common.saving":"Sparar...","common.remove":"Ta bort","customTask.addWorkGoalPrimarySchoolTitle":"Lägg till eget arbetsmål","customTask.addWorkGoalGymnasiumSchoolTitle":"Lägg till uppgift","customTask.enterNamePlhd":"Ange namn...","learningGoalsLost.overall":"Övergripande","task.addSubtask":"Lägg till underuppgift","task.editTask":"Redigera uppgift","task.editWorkGoals":"Redigera arbetsmål","task.enterTaskNamePlhd":"Ange uppgiftens namn...","task.removeDeadline":"Ta bort deadline","task.removeThisTask":"Ta bort den här uppgiften","task.removeWorkGoals":"Ta bort arbetsmål","task.setDeadline":"Set deadline","task.setDeadlineLabel":"Ange deadline...","task.subTasks":"Underuppgifter","task.targetNameLabel":"Arbetsmålets namn","task.taskNameLabel":"Uppgiftens namn","task.whatShouldYouDoPlhd":"Vad ska du göra?","taskList.nextWeekTask":"för nästa vecka (v{week})","taskList.lastWeekTask":"för förra veckan (v{week})","taskList.currentWeekTask":"för vecka {week}","taskList.removeTaskFromWeeklyPlanning":"Ta bort uppgiften från egen veckoplanering {week}","taskList.addTaskToWeeklyPlanning":"Lägg till uppgiften i egen veckoplanering {week}","termplanner.comments":"Kommentar","termplanner.course":"Kurs","termplanner.edsGoalGrades":"Terminsmål","termplanner.englishLanguage":"Eng","termplanner.swedishLanguage":"Sv/SvA","termplanner.finalStep":"Slutsteg","termplanner.firstTerm":"HT {year}","termplanner.hindiLanguage":"","termplanner.loadingTermplanner":"V.g. vänta medan terminsplaner laddas...","termplanner.modernLanguageFullname":"M.språk","termplanner.mathsFullname":"Matematik","termplanner.noFinalStepAvailable":"Inget slutsteg tillgängligt","termplanner.swedishLanguageFullName":"Svenska","termplanner.englishLanguageFullName":"Engelska","termplanner.maths":"Ma","termplanner.modernLanguage":"M.spr","termplanner.secondTerm":"VT {year}","termplanner.termPlanning":"Terminsplanering","termplanner.weekNumber":"Vecka","termplanner.chartsBoxTitle":"Min progression","tutorNoteDialog.weekComment":"Kommentar för vecka {weekNumber}","test.chooseComponentLabel":"Komponent","test.pageDescription":"Testsida för komponenter till nya startsidan","userTasks.addLearningGoal":"Eget arbetsmål","userTasks.deleteLearningGoal":"Ta bort lärandemålet och dess uppgifter","userTasks.primarySchoolGoals":"Egna lärandemål","userTasks.gymnasiumSchoolGoals":"Övriga uppgifter","weekNotebook.title":"Anteckningar","weekplanner.addLearningGoalGymnasiumSchool":"Rubrik:","weekplanner.addLearningGoalPrimarySchool":"Mål:","weekplanner.addLearningGoalPrimarySchoolTitle":"Lägg till eget lärandemål","weekplanner.addLearningGoalGymnasiumSchoolTitle":"Lägg till rubrik","weekplanner.confirmRemoveLearningObjectives":"Ta bort lärandemål samt {learningGoalsNumber} uppgifter?","weekplanner.copyPreviousWeekTaks":"Kopiera ej klara från föregående vecka","weekplanner.emptyLearningGoalErr":"Lärandemålet kan inte vara tomt","weekplanner.evaluation":"Utvärdering","weekplanner.evaluationDescription":"Reflektion kring din arbetsinsats och dina valda strategier under veckan.Utvärdera i förhållande till dina mål.","weekplanner.learningGoalPrimary":"Eget lärandemål","weekplanner.learningGoalGymnasium":"Uppgift","weekplanner.logBook":"Loggbok","weekplanner.nameCannotBeEmpty":"Namnet kan inte vara tomt","weekplanner.nameMustNotBeEmpty":"Namnet får inte vara tomt","weekplanner.strategy":"Strategi","weekplanner.strategyAndEvaluation":"Strategi & Utvärdering","weekplanner.strategyDescription":"Hur jag ska göra för att lära mig.","weekplanner.weekNumber":"Vecka {weekNumber}","wysiwyg.bold":"Fetstil","wysiwyg.code":"Programkod","wysiwyg.heading1":"Rubrik 1","wysiwyg.heading2":"Rubrik 2","wysiwyg.heading3":"Rubrik 3","wysiwyg.image":"Infoga bild","wysiwyg.imagePromptMsg":"Ange bildens URL","wysiwyg.italic":"Kursiv","wysiwyg.line":"Vågrät linje","wysiwyg.link":"Infoga länk","wysiwyg.olist":"Ordnad lista","wysiwyg.paragraph":"Paragraf","wysiwyg.quote":"Citat","wysiwyg.strikethrough":"Struken","wysiwyg.ulist":"Punktlista","wysiwyg.underline":"Understruken","teacherView.coursesViewTitle":"Mina kurser/ uppgifter","teacherView.assignmentsViewTitle":"Inlämningsuppgifter","teacherView.assignmentsViewDescription":"Här listas samtliga inlämningsuppgifter i din/dina kurser du handleder. Klicka till höger för att välja kurs. Kursens uppgifter syns nedan. Du kan öppna/dölja varje modul.","teacherView.noUploadedAssignmentsForModule":"No assignments have been uploaded for this module","teacherView.assignmentStudentName":"Elev","teacherView.assignmentFileName":"Filnamn","teacherView.assignmentSubmittedAt":"Inlamnat","teacherView.assignmentReport":"Rapport","teacherView.assignmentGrade":"Niva","teacherView.noTaskAssignments":"Inga uppdrag uppladdade för denna uppgift","teacherView.notSubmittedAssignments":"Ej lämnat in","teacherView.remindBtn":"Påminn","teacherView.filterByStudygroupsPlaceholder":"Välj studiegrupp"}')},65:function(e){e.exports=JSON.parse('{"addeditsubtask.deleteSubtask":"Delete subtask","addeditsubtask.editSubtask":"Edit subtask","addeditsubtask.nameLabel":"Name of subtask","addeditsubtask.addSubtask":"Add sub-task","calendar.currentDate":"Week {week}, {year}","calendar.fullDayEventLocation":"Place: {location}","calendar.loadCalendarEvents":"Load calendar events...","calendar.loadingCalendar":"Loading calendars... (listing...)","calendar.weekNumber":"W{weekNumber}","common.addDescriptionPlhd":"Add description...","common.cancel":"Cancel","common.changesNotSavedErrorOccured":"An error occured while saving data. Your changes were not saved.","common.changesNotSavedUnauthorized":"The changes were not saved due to insufficient authority","common.descriptionLabel":"Description","common.errorSavingData":"An error occured while saving data.","common.linkLabel":"Link","common.loading":"Loading...","common.nameLabel":"Name","common.save":" Save","common.saved":" Saved","common.saving":"Saving","common.remove":"Delete","customTask.addWorkGoalPrimarySchoolTitle":"Add own working goal","customTask.addWorkGoalGymnasiumSchoolTitle":"Add own working goal","customTask.enterNamePlhd":"Enter Name...","learningGoalsLost.overall":"Overall","task.addSubtask":"Add subtask","task.editTask":"Edit task","task.editWorkGoals":"Edit working goal","task.enterTaskNamePlhd":"Enter the name of task...","task.removeDeadline":"Delete deadline","task.removeThisTask":"Delete this task","task.removeWorkGoals":"Delete working goal","task.setDeadline":"Set deadline","task.setDeadlineLabel":"Set deadline...","task.subTasks":"Subtasks","task.targetNameLabel":"Name of working goal","task.taskNameLabel":"Name of task","task.whatShouldYouDoPlhd":"What should you do?","taskList.nextWeekTask":"for next week (w{week})","taskList.lastWeekTask":"for last week (w{week})","taskList.currentWeekTask":"for week {week}","taskList.removeTaskFromWeeklyPlanning":"Delete task from your weekly planning {week}","taskList.addTaskToWeeklyPlanning":"Add task to your weekly planning {week}","termplanner.comments":"Comments","termplanner.course":"Theme course","termplanner.edsGoalGrades":"Intermediate goals","termplanner.englishLanguage":"Eng","termplanner.finalStep":"Final Step","termplanner.firstTerm":"FT {year}","termplanner.hindiLanguage":"Hindi","termplanner.ict":"ICT","termplanner.loadingTermplanner":"Loading Termplanner","termplanner.maths":"Maths","termplanner.modernLanguage":"MFL","termplanner.noFinalStepAvailable":"No final step available","termplanner.secondTerm":"ST {year}","termplanner.termPlanning":"Term planner","termplanner.weekNumber":"Week","termplanner.chartsBoxTitle":"Progress Charts","termplanner.yoga":"Yoga","tutorNoteDialog.weekComment":"Note for week {weekNumber}","test.chooseComponentLabel":"Component","test.pageDescription":"Test page for the components on the starting page","userTasks.addLearningGoal":"Own working goal","userTasks.deleteLearningGoal":"Delete learning goal and its tasks","userTasks.primarySchoolGoals":"Own learning goal","userTasks.gymnasiumSchoolGoals":"Own learning goal","weekNotebook.title":"Notepad","weekplanner.addLearningGoalGymnasiumSchool":"Goal:","weekplanner.addLearningGoalPrimarySchool":"Goal:","weekplanner.addLearningGoalPrimarySchoolTitle":"Add own learning goal","weekplanner.addLearningGoalGymnasiumSchoolTitle":"Add own learning goal","weekplanner.confirmRemoveLearningObjectives":"Delete learning goal and {learningGoalsNumber} tasks?","weekplanner.copyPreviousWeekTaks":"Copy from previous week","weekplanner.emptyLearningGoalErr":"The learning goal cannot be empty","weekplanner.evaluation":"Evaluation","weekplanner.evaluationDescription":"Reflection on your work effort and your chosen strategies during the week. Evaluate in relation to your goals.","weekplanner.learningGoalPrimary":"Own learning goal","weekplanner.learningGoalGymnasium":"Own learning goal","weekplanner.logBook":"Logbook","weekplanner.nameCannotBeEmpty":"Name cannot be empty","weekplanner.nameMustNotBeEmpty":"Name must not be empty","weekplanner.strategy":"Strategy","weekplanner.strategyAndEvaluation":"Strategy & Evaluation","weekplanner.strategyDescription":"What I should do to learn","weekplanner.weekNumber":"Week {weekNumber}","wysiwyg.bold":"Bold","wysiwyg.code":"Code","wysiwyg.heading1":"Heading 1","wysiwyg.heading2":"Heading 2","wysiwyg.heading3":"Heading 3","wysiwyg.image":"Insert image","wysiwyg.imagePromptMsg":"Enter the URL of the image","wysiwyg.italic":"Italics","wysiwyg.line":"Horizontal line","wysiwyg.link":"Insert link","wysiwyg.olist":"Ordered list","wysiwyg.paragraph":"Paragraph","wysiwyg.quote":"Quote","wysiwyg.strikethrough":"Strikethrough","wysiwyg.ulist":"Bullet list","wysiwyg.underline":"Underline","teacherView.coursesViewTitle":"My Courses","teacherView.assignmentsViewTitle":"Assignments","teacherView.assignmentsViewDescription":"Here you cand find all the assignments you supervise. Click on the right menu to select course. The details are displayed below. You can open/hide each module.","teacherView.noUploadedAssignmentsForModule":"No assignments have been uploaded for this module","teacherView.assignmentStudentName":"Pupil","teacherView.assignmentFileName":"Filename","teacherView.assignmentSubmittedAt":"Submitted","teacherView.assignmentReport":"Report","teacherView.assignmentGrade":"Grade","teacherView.noTaskAssignments":"No assignments uploaded for this task","teacherView.notSubmittedAssignments":"Not submitted","teacherView.remindBtn":"Remind","teacherView.filterByStudygroupsPlaceholder":"Select study groups"}')},7:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(26);n.a.cfg||(n.a.cfg={}),t.b=n.a.cfg;var a=n.a.cfg},70:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),a=function(e){var t=e.left,r=e.right,a=e.rightWidth;return n.createElement("div",{className:"sv-row sv-layout"},n.createElement("div",{className:"sv-layout sv-skip-spacer sv-column-12"},n.createElement("div",{className:"sv-spacer-20pxvt sv-vertical sv-layout sv-skip-spacer"},n.createElement("div",{className:"pagecontent sv-layout sv-spacer-20pxvt sv-skip-spacer"},n.createElement("div",{className:"sv-row sv-layout sv-skip-spacer"},n.createElement("div",{className:"sv-layout sv-skip-spacer sv-column-"+(12-a)},t),n.createElement("div",{className:"sv-layout sv-column-"+a},r))))))}},72:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),a=function(){return n.createElement("img",{style:{border:0,margin:0,padding:0},className:"ellipsis-loader"})}},9:function(e,t,r){"use strict";var n=r(4),a=r(3),s=r(17),i=function(){function e(e,t){this.subscriber=e,this.collection=t}return e.prototype.notifySubscriber=function(e,t){try{t?this.subscriber([],t,this):e!==this.lastNotifiedData&&(this.lastNotifiedData=e,this.subscriber(e,t,this))}catch(e){try{this.subscriber([],e,this)}catch(t){console.error("Error while notifying KedBackendSubscriber:",t,"originally notified error:",e)}}},e.prototype.unsubscribe=function(){this.collection.unsubscribe(this)},e}(),o=r(20);function u(e,t){return o.a[e].relationships[t]}function c(e,t){var r=function(e){var t=function(e){return!0};return e.from?l(t,function(t){return t.dateTime>=e.from}):e.to?l(t,function(t){return t.dateTime<e.to}):e.ids?l(t,function(t){return e.ids.includes(t.id)}):e.name?l(t,function(t){return t.name===e.name}):e.tags?l(t,function(t){return t.tags&&[].concat(e.tags||[]).some(function(e){return t.tags.includes(e)})}):t}(e);return t.filter(r)}function l(e,t){return function(r){return e(r)&&t(r)}}function d(e){return"delete"!==e.op}function h(e){return"clear-branch"===e.op||"merge"===e.op}var p=function(){function e(){}return e.getCacheBust=function(t,r,n,a){return e.getInvolvedItems(t,r,a).map(function(e){return localStorage.getItem("cache-bust-"+n+"-"+e)}).filter(function(e){return!!e}).join("/")||"static"},e.invalidateCache=function(t,r){for(var n=0,a=e.getCacheInvalidations(t);n<a.length;n++){var s=a[n];localStorage.setItem("cache-bust-"+r+"-"+s,""+Date.now())}},e.getInvolvedItems=function(e,t,r){var n=t.hasEdgesFrom,a=r.map(function(t){return o.a[e].relationships[t]}).filter(function(e){return!!e});return n&&a.push("hef"+e),[e,"master",t.branchId].filter(function(e){return!!e}).concat(a).sort()},e.getCacheInvalidations=function(e){var t={};return e.forEach(function(e){switch(e.op){case"add":case"put":case"delete":case"update":t[e.table]=!0;break;case"link":case"unlink":case"undo-link":t[e.sourceTable]=!0,t["hef-"+u(e.sourceTable,e.label)]=!0;break;case"clear-branch":t[e.branchId]=!0;break;case"merge":t[e.branchId]=!0,t[e.targetBranchId||"master"]=!0}}),Object.keys(t)},e}(),f=r(11);function m(e,t){for(var r=Object.keys(t),n=e,s=0,i=r;s<i.length;s++){var o=i[s];n===e&&(n=a.a({},e));var u=t[o];if(u&&"object"==typeof u){var c=Object.keys(u).filter(function(e){return e.startsWith("$")});if(c.length>0){for(var l=function(e){var t=u[e];switch(e){case"$unset":n.$wasUnset=!0;break;case"$add":var r=t;if(!Array.isArray(r))throw new Error("$add instruction must contain array");var a=n[o];a=Array.isArray(a)?a.slice():[],n[o]=a;for(var s=0,i=r;s<i.length;s++){var c=i[s];a.includes(c)||a.push(c)}break;case"$remove":var l=t;if(!Array.isArray(l))throw new Error("$remove instruction must contain array");a=n[o];Array.isArray(a)||(a=[]),n[o]=a.filter(function(e){return!l.includes(e)})}},d=0,h=c;d<h.length;d++){l(h[d])}continue}}n[o]=u}return n}function g(e,t,r){for(var n=(void 0===r?{removeUnsetProps:!1}:r).removeUnsetProps,s=Object.keys(t),i=a.a({},e),o=0,u=s;o<u.length;o++){var c=u[o],l=t[c];if(l&&"object"==typeof l){var d=Object.keys(l).filter(function(e){return e.startsWith("$")});if(d.length>0){for(var h=function(e){var t=l[e];switch(e){case"$unset":n?delete i[c]:i[c]={$unset:0};break;case"$add":var r=t;if(!Array.isArray(r))throw new Error("$add instruction must contain array");o=(o=i[c])?a.a({},o):{},i[c]=o;var s=o.$remove;Array.isArray(s)&&(o.$remove=s.filter(function(e){return!r.includes(e)}),0===o.$remove.length&&delete o.$remove),d=(d=o.$add)?d.concat(r):r.slice(),o.$add=d;break;case"$remove":var o,u=t;if(!Array.isArray(u))throw new Error("$remove instruction must contain array");o=(o=i[c])?a.a({},o):{},i[c]=o;var d=o.$remove;Array.isArray(d)&&(o.$add=d.filter(function(e){return!u.includes(e)}),0===o.$add.length&&delete o.$add),s=(s=o.$remove)?s.concat(u):u.slice(),o.$remove=s}},p=0,f=d;p<f.length;p++){h(f[p])}continue}}i[c]=l}return i}var b=function(){function e(e,t,r,n,a){this.table=e,this.query=t,this.user=r,this.repo=n,this.mutationQueue=a,this.subscriptions=[],this.data=[],this.gotInitialResponse=!1,this.invalid=!1,this.loadedVersion=0,this._loadPromise=null,this.includes=t.include?"string"==typeof t.include?[t.include]:t.include:[]}return e.queryKey=function(e,t){t.mutationsOnEmpty;var r=a.e(t,["mutationsOnEmpty"]);return e+JSON.stringify(r)},Object.defineProperty(e.prototype,"queryKey",{get:function(){return e.queryKey(this.table,this.query)},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){return a.b(this,void 0,void 0,function(){var t;return a.d(this,function(r){switch(r.label){case 0:return this.subscriptions.push(e),!this.gotInitialResponse||this.invalid?[3,1]:(t=this.getDataWithMutationsApplied(this.mutationQueue.get(),!0,this.data),e.notifySubscriber(t,this.error),[3,4]);case 1:return(t=this.queryLocally())?(this.data=t,this.error=null,e.notifySubscriber(t,this.error),[3,4]):[3,2];case 2:return[4,this.load()];case 3:r.sent(),r.label=4;case 4:return[2]}})})},e.prototype.load=function(e){return a.b(this,void 0,void 0,function(){var t,r=this;return a.d(this,function(n){switch(n.label){case 0:return this.gotInitialResponse&&delete this.query.mutationsOnEmpty,e||!this._loadPromise?[3,2]:[4,this._loadPromise];case 1:return[2,n.sent()];case 2:return e=e||this.repo.writer.persistedVersion.value,[4,t=this._loadPromise=this._load(e).then(function(n){r._loadPromise===t&&(r.data=n,r.loadedVersion=Math.max(r.loadedVersion,e))}).catch(function(e){r._loadPromise===t&&(r.error=e)}).then(function(){if(r._loadPromise!==t)return r._loadPromise;r._loadPromise=null,r.gotInitialResponse=!0,r.notifySubscribers(r.mutationQueue.get())})];case 3:return n.sent(),[2]}})})},e.prototype._load=function(e){return a.b(this,void 0,void 0,function(){return a.d(this,function(t){switch(t.label){case 0:return this.mutationQueue.affectsQuery(this.table,this.query,this.includes)?[4,this.repo.writer.waitForVersionToPersist(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[4,this.queryServer()];case 3:return[2,t.sent()]}})})},e.prototype.unsubscribe=function(e){this.subscriptions=this.subscriptions.filter(function(t){return t!==e})},e.prototype.commitMutations=function(e,t){return a.b(this,void 0,void 0,function(){var r,n,s,i;return a.d(this,function(a){switch(a.label){case 0:if(!this.data)return[3,9];r=0,n=e,a.label=1;case 1:return r<n.length?"clear-branch"!==(s=n[r]).op||s.branchId!==this.query.branchId?[3,3]:[4,this.refreshOrInvalidate(t)]:[3,8];case 2:return a.sent(),[2];case 3:return"merge"!==s.op||s.targetBranchId&&s.branchId!==this.query.branchId&&s.targetBranchId!==this.query.branchId?[3,5]:[4,this.refreshOrInvalidate(t)];case 4:return a.sent(),[2];case 5:return"update"===s.op&&(s.deltaDoc.tags&&this.query.tags||s.deltaDoc.name&&this.query.name)?[4,this.refreshOrInvalidate(t)]:[3,7];case 6:return a.sent(),[2];case 7:return r++,[3,1];case 8:i=this.getDataWithMutationsApplied(e,!1,this.data),this.data=i,a.label=9;case 9:return[2]}})})},e.prototype.refreshOrInvalidate=function(e){return a.b(this,void 0,void 0,function(){return a.d(this,function(t){switch(t.label){case 0:return 0!==this.subscriptions.length?[3,1]:(this.invalid=!0,[3,3]);case 1:return[4,this.load(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.notifySubscribers=function(e){var t=this;if(this.data&&this.gotInitialResponse){var r=this.getDataWithMutationsApplied(e,!0,this.data);this.subscriptions.forEach(function(e){e.notifySubscriber(r,t.error)})}},e.prototype.queryLocally=function(){return this.repo.querySet.queryLocally(this.table,this.query,this.includes)},e.prototype.queryServer=function(){return a.b(this,void 0,void 0,function(){return a.d(this,function(e){switch(e.label){case 0:return[4,this.repo.getClient().list(this.table,a.a({},this.query))];case 1:return[2,e.sent()]}})})},e.prototype.getDataWithMutationsApplied=function(e,t,r){var n=this;return e.forEach(function(e){r=n.applyMutationsOnData(r,e,t)}),r},e.prototype.applyMutationsOnData=function(e,t,r){if(d(t)&&t.branchId!=this.query.branchId)return e;var n=this.table,s=this.includes,i=this.query,o=i.hasEdgesFrom?[].concat(i.hasEdgesFrom||[]):[],c=i.tags?[].concat(i.tags||[]):[];switch(t.op){case"update":return Object(f.g)(e,function(e){if(e.id===t.id){var n=m(e,t.deltaDoc);return r&&(n.$meta="updating"),n}return s.forEach(function(n){var s,i=e[n];if(i){var o=Object(f.g)(i,function(e){if(e.id!==t.id)return e;var n=m(e,t.deltaDoc);return r&&(n.$meta="updating"),n});o!==i&&(e=a.a({},e,((s={})[n]=o,s)))}}),e});case"add":if(n===t.table&&i.tags){var l=[].concat(i.tags);if(t.doc.tags&&t.doc.tags.some(function(e){return l.includes(e)}))return e.concat([t.doc])}return e;case"add-related":if(n===t.table&&-1!==s.indexOf(t.graphProp))return Object(f.g)(e,function(e){var n;if(e.id!==t.id)return e;var s=a.a({},t.relatedDoc);return r&&(s.$meta="adding"),a.a({},e,((n={})[t.graphProp]=e[t.graphProp].concat([s]),n))});if(i.hasEdgesFrom&&o.includes(t.id)&&n===u(t.table,t.graphProp)){if(!i.tags)return e.concat(this.setGraphProps(t.relatedDoc));if(t.relatedDoc.tags&&c.some(function(e){return t.relatedDoc.tags.includes(e)}))return e.concat(this.setGraphProps(t.relatedDoc))}return i.ids&&i.ids.some(function(e){return e===t.relatedDoc.id})?e.concat(this.setGraphProps(t.relatedDoc)):e;case"remove-related":return n===t.table&&-1!==s.indexOf(t.graphProp)?Object(f.g)(e,function(e){var n,s=e[t.graphProp];return s?e.id!==t.id?e:a.a({},e,((n={})[t.graphProp]=r?s.map(function(e){return e.id!==t.relatedDoc.id?e:a.a({},e,{$meta:"deleting"})}):s.filter(function(e){return e.id!==t.relatedDoc.id}),n)):e}):i.hasEdgesFrom&&o.includes(t.id)?r?e.map(function(e){return e.id===t.relatedDoc.id?a.a({},e,{$meta:"deleting"}):e}):e.filter(function(e){return e.id!==t.relatedDoc.id}):e;case"delete":if(n===t.table)return e.filter(function(e){return e.id!==t.id});if(i.include){var h=s.map(function(e){return{label:e,table:u(n,e)}}).filter(function(e){return e.table===t.table});if(h.length>0)return Object(f.g)(e,function(e){return h.forEach(function(n){var s,i=n.label,o=e[i];o&&(e=a.a({},e,((s={})[i]=r?o.map(function(e){return e.id===t.id?a.a({},e,{$meta:"deleting"}):e}):o.filter(function(e){return e.id!==t.id}),s)))}),e})}return e;default:return e}},e.prototype.setGraphProps=function(e){var t=a.a({},e);return this.includes.forEach(function(e){return t[e]=t[e]||[]}),t},e}(),v=function(e){function t(t,r,n){var a=e.call(this,function(e){var t=new i(e,a);return a.repo.querySet.subscribe(t),t})||this;return a.repo=t,a.table=r,a.query=n,a}return a.c(t,e),Object.defineProperty(t.prototype,"queryKey",{get:function(){return b.queryKey(this.table,this.query)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includes",{get:function(){return this._includes||(this._includes=[].concat(this.query.include||[]))},enumerable:!0,configurable:!0}),t.prototype.applyQuery=function(e){return new t(this.repo,this.table,a.a({},this.query,e))},t.prototype.addToQueryArrayProp=function(e,t){var r;return this.applyQuery(((r={})[e]=(this.query[e]||[]).concat(t),r))},t.prototype.addFlags=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.addToQueryArrayProp("flags",e)},t.prototype.debug=function(){return this.applyQuery({debug:!0})},t.prototype.idsOnly=function(){return this.addFlags("idsOnly")},t.prototype.idsAndNamesOnly=function(){return this.addFlags("idsAndNamesOnly")},t.prototype.includeIdsOnly=function(){return this.addFlags("includeIdsOnly")},t.prototype.includeIdsAndNamesOnly=function(){return this.addFlags("includeIdsAndNamesOnly")},t.prototype.between=function(e,t){return this.applyQuery({from:e,to:t})},t.prototype.role=function(e){return this.applyQuery({role:e})},t.prototype.hasEdgesFrom=function(e){if(0===e.length||e.some(function(e){return!e}))throw new Error("Invalid id list given to Collection.hasEdgesFrom("+JSON.stringify(e)+")");return this.addToQueryArrayProp("hasEdgesFrom",e)},t.prototype.hasEdgesTo=function(e){if(0===e.length||e.some(function(e){return!e}))throw new Error("Invalid id list given to Collection.hasEdgesTo("+JSON.stringify(e)+")");return this.addToQueryArrayProp("hasEdgesTo",e)},t.prototype.id=function(e){var t=this;return this.applyQuery({ids:[e]}).single({onZero:function(){throw new Error("Could not find entity in "+t.table+" with id "+e)},onMany:function(){throw new Error("Multiple entries in "+t.table+" with id "+e)}})},t.prototype.ids=function(e){return this.applyQuery({ids:e})},t.prototype.name=function(e){return this.applyQuery({name:e})},t.prototype.tags=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.applyQuery({tags:e})},t.prototype.branchId=function(e){return this.applyQuery({branchId:e})},t.prototype.include=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.addToQueryArrayProp("include",e)},t.prototype.cacheOptimized=function(){return this.applyQuery({cacheBust:p.getCacheBust(this.table,this.query,this.repo.getUser(),this.includes)})},t.prototype.mutationsOnEmpty=function(e){var t=new s.a;return e(t),this.applyQuery({mutationsOnEmpty:t.mutationRequests})},t.prototype.single=function(e){var t=this,r=e||{},n=r.onZero,a=r.onMany;return this.toValue().map(function(e){if(0===e.length){if(!n)throw new Error("Single item of "+t.table+" expected to be returned by query "+JSON.stringify(t.query)+" but none was found.");n()}return e.length>1&&(a?a():console.log("Single item of "+t.table+" expected to be returned by query "+JSON.stringify(t.query)+" but "+e.length+" was found.")),e[0]})},t.prototype.update=function(e,t,r){void 0===r&&(r=1e3),this.repo.writer.mutate([{op:"update",table:this.table,branchId:this.query.branchId,id:e.id,deltaDoc:t,targetName:e.name}],r)},t.prototype.addRelated=function(e,t,r){this.repo.writer.mutate([{op:"add-related",table:this.table,branchId:this.query.branchId,id:e,graphProp:t,relatedDoc:r}],0)},t.prototype.add=function(e){this.repo.writer.mutate([{op:"add",id:e.id,table:this.table,doc:e}],0)},t.prototype.removeRelated=function(e,t,r){this.repo.writer.mutate([{op:"remove-related",table:this.table,branchId:this.query.branchId,id:e,graphProp:t,relatedDoc:r}],0)},t.prototype.undoLink=function(e,t,r){if(!this.query.branchId)throw new Error("undo links can only be performed on branches");this.repo.writer.mutate([{op:"undo-link",table:this.table,branchId:this.query.branchId,id:e,graphProp:t,relatedId:r}],0)},t.prototype.delete=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.repo.writer.mutate(t.map(function(t){return{op:"delete",table:e.table,id:t}}),0)},t.prototype.unsubscribe=function(e){this.repo.querySet.unsubscribe(e)},t}(r(31).a),y=function(){function e(e){this.mutationQueue=e,this.queries=[]}return e.prototype.commitMutations=function(e,t){return a.b(this,void 0,void 0,function(){return a.d(this,function(r){switch(r.label){case 0:return[4,Promise.all(this.queries.map(function(r){return r.commitMutations(e,t)}))];case 1:return r.sent(),this.cleanupInvalidQueries(),[2]}})})},e.prototype.cleanupInvalidQueries=function(){this.queries=this.queries.filter(function(e){return!e.invalid||(e.timeoutHandle&&(clearTimeout(e.timeoutHandle),e.timeoutHandle=null),!1)})},e.prototype.notifySubscribers=function(){var e=this.mutationQueue.get();this.queries.forEach(function(t){t.notifySubscribers(e)})},e.prototype.findQuery=function(e,t){return this.queries.find(function(r){return r.queryKey===b.queryKey(e,t)})},e.prototype.queryLocally=function(e,t,r){var n=this.mutationQueue.get();if(t.ids&&1===t.ids.length&&n.some(function(e){return"add-related"===e.op&&e.relatedDoc.id===t.ids[0]}))return[];if(t.hasEdgesFrom||t.hasEdgesTo)return null;if(!t.ids)return null;for(var a=function(n){if(!n.gotInitialResponse)return"continue";if(n.query.branchId!==t.branchId)return"continue";if(n.query.flags)return"continue";var a=n.includes;if(a.length>0&&(!t.include||0===t.include.length)){var s=a.find(function(t){return o.a[n.table].relationships[t]===e});if(s){for(var i={},u=0,l=n.data;u<l.length;u++){var d=l[u];c(t,d[s]).forEach(function(e){return i[e.id]=e})}var h=Object.keys(i).map(function(e){return i[e]});return t.ids.every(function(e){return h.some(function(t){return t.id===e})})?{value:h}:"continue"}}if(!r.every(function(e){return a.includes(e)}))return"continue";if(n.table===e){var p=c(t,n.data);return t.ids.every(function(e){return p.some(function(t){return t.id===e})})?{value:p}:"continue"}},s=0,i=this.queries;s<i.length;s++){var u=a(i[s]);if("object"==typeof u)return u.value}},e.prototype.subscribe=function(e){var t=e.collection,r=t.table,n=t.query,a=t.repo,s=this.findQuery(r,n);s?s.timeoutHandle&&(clearTimeout(s.timeoutHandle),s.timeoutHandle=null):(s=new b(r,n,a.getUser(),a,this.mutationQueue),this.queries.push(s)),s.subscribe(e)},e.prototype.unsubscribe=function(e){var t=this,r=e.collection,n=r.table,a=r.query,s=(r.repo,this.findQuery(n,a));s&&(s.unsubscribe(e),0===s.subscriptions.length&&(s.timeoutHandle=setTimeout(function(){0===s.subscriptions.length&&(t.queries=t.queries.filter(function(e){return e!==s}))},this.queries.length>50?500:3e5)))},e}(),k=function(){function e(){this.queue=[],this.savingQueue=[]}return e.prototype.add=function(t){this.queue=e.merge(this.queue,t)},e.prototype.moveToSavingQueue=function(){this.savingQueue=e.merge(this.savingQueue,this.queue),this.queue=[]},e.prototype.clearSavingQueue=function(){this.savingQueue=[]},e.prototype.get=function(){return this.savingQueue.concat(this.queue)},e.prototype.affectsQuery=function(e,t,r){var n=this.get();return!!n.some(function(e){return"merge"===e.op||"clear-branch"===e.op})||(t.ids?n.some(function(e){return h(e)||(!d(e)||e.branchId===t.branchId)&&t.ids.includes(e.id)}):n.some(function(n){return"add"===n.op?n.table===e:"delete"===n.op?n.table===e||r.some(function(t){return u(e,t)===n.table}):!!h(n)||n.branchId==t.branchId&&(n.table===e||"update"!==n.op&&[e].concat(r.map(function(t){return u(e,t)})).some(function(e){return u(n.table,n.graphProp)===e}))}))},e.merge=function(e,t){for(var r=e.slice(),n=t.slice(),s=e.length,i=function(t){var s=e[t];if("update"===s.op){var i=n.findIndex(function(e){return"update"===e.op&&e.branchId===s.branchId&&e.id===s.id});i>=0&&(r[t]=a.a({},s,{deltaDoc:g(s.deltaDoc,n[i].deltaDoc)}),n.splice(i,1))}},o=0;o<s;++o)i(o);return r.concat(n)},e}(),E=r(33);function w(e,t,r,n,s,i){for(var o=function(r){switch(r.op){case"add-related":i||r.branchId!==e||(t=[{type:"add",sourceId:r.id,targetId:r.relatedDoc.id,label:r.graphProp,sourceTable:r.table,$meta:n?"adding":"persisted",dateTime:Date.now(),targetName:r.relatedDoc.name,contributor:s}].concat(t));break;case"clear-branch":r.branchId===e&&(t=[]);break;case"delete":break;case"merge":if(r.branchId===e)t=[];else if(r.targetBranchId===e&&!n)return{value:null};break;case"remove-related":if(i||r.branchId!==e)return"continue";t=[{type:"remove",sourceId:r.id,targetId:r.relatedDoc.id,targetName:r.relatedDoc.name,label:r.graphProp,sourceTable:r.table,contributor:s,dateTime:Date.now(),$meta:n?"adding":"persisted"}].concat(t);break;case"undo-link":if(r.branchId!==e)return"continue";if((u=t.findIndex(function(e){return("add"===e.type||"remove"===e.type||"undo-link"===e.type)&&e.sourceId===r.id&&e.targetId===r.relatedId}))<0)return"continue";if(n){var o=t[u];t=t.slice(0,u).concat([a.a({},o,{$meta:n?"removing":"persisted"})],t.slice(u+1))}else t=t.slice(0,u).concat(t.slice(u+1));break;case"update":if(r.branchId!==e)return"continue";var u;if((u=t.findIndex(function(e){return"modify"===e.type&&e.targetId===r.id}))<0&&!i)t=[{type:"modify",table:r.table,targetId:r.id,targetName:r.targetName,data:r.deltaDoc,dateTime:Date.now(),contributors:[s],$meta:n?"adding":"persisted"}].concat(t);else{var c=t[u],l=c.contributors.slice();l.includes(s)||l.push(s);var d=g(c.data,r.deltaDoc,{removeUnsetProps:!0});t=n||0!==Object.keys(d).length?[{type:"modify",table:r.table,targetId:r.id,targetName:r.targetName,data:d,dateTime:Date.now(),contributors:l,$meta:n?"updating":"persisted"}].concat(t.slice(0,u),t.slice(u+1)):t.slice(0,u).concat(t.slice(u+1))}}},u=0,c=r;u<c.length;u++){var l=o(c[u]);if("object"==typeof l)return l.value}return t}var S=function(){function e(e,t,r){this.getClient=e,this.getUser=t,this.getUserDisplayName=r,this.lookup={}}return e.prototype.applyMutations=function(e,t){for(var r=(void 0===t?{optimistic:!1}:t).optimistic,n=0,a=Object.keys(this.lookup);n<a.length;n++){var s=a[n],i=this.lookup[s];if(i.value){var o=w(i.query.branchId,i.value,e,r,this.getUserDisplayName(),!!i.query.tags);null===o&&(r||i.fetch()),o!==i.value&&(i.optimisticValue=o,r||(i.value=o),i.notify(o))}}},e.prototype.subscribe=function(e,t){var r=this,n=this.lookup[e.branchId+e.tags];n||(n=new T(this.getClient(),e),this.lookup[e.branchId+e.tags]=n),n.cleanupTimer&&(clearTimeout(n.cleanupTimer),n.cleanupTimer=null);var a={unsubscribe:function(){n.subscribers=n.subscribers.filter(function(e){return e.observer!==t}),0===n.subscribers.length&&(n.cleanupTimer=setTimeout(function(){0===n.subscribers.length&&delete r.lookup[e.branchId+e.tags]},100))}};return n.subscribers.push({observer:t,subscription:a}),n.value?t(n.optimisticValue||n.value,null,a):n.isFetching||(n.error?t(null,n.error,a):n.fetch()),a},e}(),T=function(){function e(e,t){this.fetchOperationId=0,this.client=e,this.query=t,this.value=null,this.error=null,this.optimisticValue=null,this.subscribers=[],this.isFetching=!1,this.cleanupTimer=null}return e.prototype.fetch=function(){var e=this,t=++this.fetchOperationId;this.isFetching=!0,this.fetchFromServer().then(function(r){t===e.fetchOperationId&&(e.isFetching=!1,r.sort(function(e,t){return t.dateTime-e.dateTime}),e.value=r,e.optimisticValue=r,e.notify(r))}).catch(function(r){t===e.fetchOperationId&&(e.isFetching=!1,e.error=r,e.fail(r))})},e.prototype.fetchFromServer=function(){return a.b(this,void 0,void 0,function(){var e,t,r;return a.d(this,function(n){switch(n.label){case 0:if(!this.query.branchId)throw new Error("Deltas only available on branches");return[4,this.client.http.get("deltas",this.query)];case 1:return(e=n.sent()).status>=300||e.status<200?(t=s.c.bind,r=[void 0,e.status],[4,e.text()]):[3,3];case 2:throw new(t.apply(s.c,r.concat([n.sent()])));case 3:return[4,e.json()];case 4:return[2,n.sent()]}})})},e.prototype.notify=function(e){for(var t=0,r=this.subscribers;t<r.length;t++){var n=r[t];(0,n.observer)(e,null,n.subscription)}},e.prototype.fail=function(e){var t=this.subscribers.slice();this.subscribers=[];for(var r=0,n=t;r<n.length;r++){var a=n[r];(0,a.observer)(null,e,a.subscription)}},e}(),D=function(){function e(e,t,r,n,a){this.mutationQueue=e,this.querySet=t,this.getClient=r,this.getUser=n,this.getUserDisplayName=a,this._timeoutId=null,this._isSavingPromise=null,this.currentVersion=0,this.persistedVersion=new E.b(0),this.errorSubscribers=[],this.stateSubscribers=[],this.deltaCache=new S(r,n,a)}return Object.defineProperty(e.prototype,"isSaving",{get:function(){return!!this._isSavingPromise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEdited",{get:function(){return this.mutationQueue.get().length>0},enumerable:!0,configurable:!0}),e.prototype.onError=function(e){this.errorSubscribers.push(e)},e.prototype.onStateChange=function(e){this.stateSubscribers.push(e)},e.prototype.off=function(e){this.errorSubscribers=this.errorSubscribers.filter(function(t){return t!==e}),this.stateSubscribers=this.stateSubscribers.filter(function(t){return t!==e})},e.prototype.dispatchError=function(e,t){var r=this;this.errorSubscribers.forEach(function(n){try{n(e,t,r)}catch(e){}})},e.prototype.dispatchStateChange=function(){var e=this;this.stateSubscribers.forEach(function(t){try{t(e)}catch(e){}})},e.prototype.mutate=function(e,t){this.mutationQueue.add(e),++this.currentVersion,this.dispatchStateChange(),this.querySet.notifySubscribers(),this.deltaCache.applyMutations(this.mutationQueue.get(),{optimistic:!0}),this._isSavingPromise||(this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this.save.bind(this),t))},e.prototype.retrySave=function(){return this.save()},e.prototype.waitForVersionToPersist=function(e){return a.b(this,void 0,void 0,function(){return a.d(this,function(t){switch(t.label){case 0:return[4,this.persistedVersion.load()];case 1:return t.sent()<e?(this.save(),[4,this.persistedVersion.filter(function(t){return t>=e}).load()]):[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.save=function(){var e=this;return this._timeoutId&&clearTimeout(this._timeoutId),this._isSavingPromise?this._isSavingPromise:this.isEdited?(this._timeoutId=null,this._isSavingPromise=this._save(),this._isSavingPromise.catch(function(){}).then(function(){return e._isSavingPromise=null}),this._isSavingPromise):Promise.resolve()},e.prototype._save=function(){return a.b(this,void 0,void 0,function(){var e,t,r,n,s,i;return a.d(this,function(a){switch(a.label){case 0:this.dispatchStateChange(),e=this.mutationQueue.get(),t=this.currentVersion,this.mutationQueue.moveToSavingQueue(),r=this.mapMutations(e),a.label=1;case 1:return a.trys.push([1,6,11,12]),[4,this.getClient().batch(r)];case 2:return n=a.sent(),s=Object.keys(n.newEtags).map(function(e){return{op:"update",table:null,id:e,deltaDoc:{$etag:n.newEtags[e]},targetName:null}}),p.invalidateCache(r,this.getUser()),this.persistedVersion.dispatch(t),this.deltaCache.applyMutations(e,{optimistic:!1}),[4,this.querySet.commitMutations(k.merge(e,s),t)];case 3:return a.sent(),this.mutationQueue.clearSavingQueue(),this.dispatchStateChange(),this.querySet.notifySubscribers(),this.mutationQueue.get().length>0?[4,this._save()]:[3,5];case 4:a.sent(),a.label=5;case 5:return[3,12];case 6:return i=a.sent(),this.persistedVersion.dispatchError(i),i&&i.name&&i.name.startsWith("http4")?(this.dispatchError(i,!1),this.mutationQueue.clearSavingQueue(),this.dispatchStateChange(),this.querySet.notifySubscribers(),this.mutationQueue.get().length>0?[4,this._save()]:[3,8]):[3,9];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:this.dispatchError(i,!0),a.label=10;case 10:return[3,12];case 11:return this.dispatchStateChange(),[7];case 12:return[2]}})})},e.prototype.mapMutations=function(e){var t=new s.a;return e.forEach(function(e){switch(e.op){case"update":t.update(e.table,e.id,e.deltaDoc,e.branchId);break;case"add":t.add(e.table,e.doc);break;case"add-related":e.relatedDoc.$etag||t.add(o.a[e.table].relationships[e.graphProp],e.relatedDoc,e.branchId),t.link2(e.table,e.id,e.graphProp,e.relatedDoc.id,e.branchId);break;case"remove-related":t.unlink2(e.table,e.id,e.graphProp,e.relatedDoc.id,e.branchId);break;case"undo-link":t.undoLink(e.table,e.id,e.graphProp,e.relatedId,e.branchId);break;case"delete":t.delete(e.table,e.id);break;case"clear-branch":t.clearBranch(e.branchId);break;case"merge":t.merge(e.branchId,e.targetBranchId)}}),t.mutationRequests},e}(),N=function(e){function t(t,r){var n=e.call(this,function(e){return n.deltaCache.subscribe(r,e)})||this;return n.deltaCache=t,n.query=r,n}return a.c(t,e),t.prototype.tags=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new t(this.deltaCache,a.a({},this.query,{tags:e}))},t}(E.a),O=function(){function e(e,t,r,n,a,s,i,u){var c=this;this.getClient=e,this.getUser=t,this.getUserDisplayName=r,this.defaultQueryOptions=n,this.mutationQueue=a,this.querySet=s,this.writer=i,this.cacheOptimized=u,n||(this.defaultQueryOptions={}),a||(this.mutationQueue=new k),s||(this.querySet=new y(this.mutationQueue)),i||(this.writer=new D(this.mutationQueue,this.querySet,e,t,r)),Object.keys(o.a).forEach(function(e){var t=new v(c,e,n||{});u&&(t=t.cacheOptimized()),c[e]=t}),this.deltas=new N(this.writer.deltaCache,{branchId:this.defaultQueryOptions.branchId})}return e.prototype.table=function(e){var t=new v(this,e,this.defaultQueryOptions);return this.cacheOptimized&&(t=t.cacheOptimized()),t},e.prototype._clone=function(t,r){return new e(this.getClient,this.getUser,this.getUserDisplayName,a.a({},this.defaultQueryOptions,t),this.mutationQueue,this.querySet,this.writer,void 0===r?this.cacheOptimized:r)},e.prototype.branch=function(e){return this._clone({branchId:e})},e.prototype.role=function(e){return this._clone({role:e})},e.prototype.optimizeCache=function(){return this._clone({},!0)},e.prototype.clearBranch=function(){if(!this.defaultQueryOptions.branchId)throw new Error("Cannot clear master branch");this.writer.mutate([{op:"clear-branch",branchId:this.defaultQueryOptions.branchId}],0)},e.prototype.merge=function(e){if(!this.defaultQueryOptions.branchId)throw new Error("Cannot merge from master branch");this.writer.mutate([{op:"merge",branchId:this.defaultQueryOptions.branchId,targetBranchId:e}],0)},e.prototype.saveNow=function(){return a.b(this,void 0,void 0,function(){return a.d(this,function(e){switch(e.label){case 0:return[4,this.writer.waitForVersionToPersist(this.writer.currentVersion)];case 1:return e.sent(),[2]}})})},e}();var I=r(5),C=r(7);r.d(t,"c",function(){return A}),r.d(t,"d",function(){return R}),r.d(t,"b",function(){return P}),r.d(t,"a",function(){return _});var A=new O(function(){return n.a.kedBackendClient},function(){return n.a.currentUser?n.a.currentUser.mail:""},function(){return n.a.currentUser?n.a.currentUser.displayName||n.a.currentUser.mail:""}),R=Object(I.i)(C.b.KED_REALM),P={standardSchool:A.schools.name("standard").cacheOptimized().single(),get mySchool(){return A.schools.name(n.a.currentUser.school).cacheOptimized().single()}},_={getBranchId:function(e,t){return e.switchMap(function(e){return A.branches.hasEdgesFrom([e.officialBranchId]).name("draft").tags(t).idsOnly().map(function(e){return e.id}).toValue().map(function(e){return e.length>0?e[0]:void 0})})},getOrCreateBranchId:function(e,t){return A.courseInstances.idsOnly().id(t).switchMap(function(){return e.switchMap(function(e){return A.branches.hasEdgesFrom([e.officialBranchId]).name("draft").tags(t).idsOnly().mutationsOnEmpty(function(r){var n=Object(I.h)();r.add("branches",{id:n,acl:["role:USER:R","schoolRole:"+e.name+"/EMPLOYEE:S"],name:"draft",schoolId:e.id,treeParentId:e.officialBranchId,tags:[t]}),r.link2("branches",e.officialBranchId,"approvedChildren",n)}).single().map(function(e){return e.id})})})},getAllDescendantIds:function(e){return A.courseBlocks.tags(e).idsOnly().concat(A.courseContents.tags(e).idsOnly()).concat(A.courseTabs.tags(e).idsOnly()).concat(A.tasks.tags(e).idsOnly()).map(function(e){return e.id})}}},96:function(e,t,r){"use strict";(function(e){var t=r(7);t.b.ENVIRONMENT="test",t.b.KED_API_URL="https://backend.kedschools.com/kedbackend-next/api/",t.b.EDS_API_URL="https://edsportalowinapitest.azurewebsites.net/studentportal/",t.b.KED_TOKEN_URL="",t.b.KED_CLIENT_ID="",t.b.KED_CLIENT_SECRET="",t.b.KED_REALM="SE1",t.b.KED_LOCALE=t.b.KED_LOCALE||"sv",t.b.KED_SCHOOL_LOCALE=t.b.KED_SCHOOL_LOCALE||"sv",t.b.KED_RESOURCES_URL=t.b.KED_RESOURCES_URL||e.env.KED_RESOURCES_URL}).call(this,r(130))},97:function(e,t,r){"use strict";r(96);var n=r(1),a=r(15),s=r(21),i=r(5),o=r(7),u=r(4),c=r(14),l=r(2),d=["https://www.googleapis.com/auth/classroom.courses","https://www.googleapis.com/auth/classroom.profile.emails","https://www.googleapis.com/auth/classroom.rosters","https://www.googleapis.com/auth/classroom.coursework.students"],h=["https://www.googleapis.com/auth/classroom.courses","https://www.googleapis.com/auth/classroom.coursework.me"];function p(e,t,r){var s=Object(a.b)(t),i=Object(l.e)(s,c.a),o=n.f(Object(a.c)(e),2),u=o[0],d=o[1],h=Object(a.b)(d);return u+Object(a.a)(n.a({},h,i,{scopes:r.join(",")}))}function f(e,t){return e+"/"+t}function m(e,t,r){return new i.e(s.c,s.d,e+t.mail+location.search,o.b.KED_CLIENT_ID,o.b.KED_CLIENT_SECRET,e,{email:t.mail.toLowerCase(),roles:t.roles,school:t.school,schoolType:t.schoolType,scopes:r})}var g,b,v=u.a.currentUser&&u.a.currentUser.mail;if(v)if(o.b.KED_TOKEN_PATH){var y=p(o.b.KED_TOKEN_PATH,location.search,["kedbackend","EDS"]);u.a.bearerProvider=(b=f(g=y,v),new s.b(g,function(e){var t=JSON.parse(e);if(!t.ok)throw new Error(t.error);return t.user&&function(e,t){u.a.currentUser=e,sessionStorage.setItem("userInfo"+t,JSON.stringify(e))}(t.user,b),{token:t.token,expires:Date.now()+354e4}},b)),function(e){var t=sessionStorage.getItem("userInfo"+e);t&&(u.a.currentUser=JSON.parse(t))}(f(y,v));var k=["https://www.googleapis.com/auth/calendar.readonly","https://www.googleapis.com/auth/drive"].concat(u.a.currentUser.roles.includes("EMPLOYEE")?d:h),E=p(o.b.KED_TOKEN_PATH,location.search,k);u.a.googleTokenProvider=function(e,t){var r=f(e,t);return new s.b(e,function(e){var t=JSON.parse(e);if(!t.ok)throw new Error(t.error);return{token:t.token,expires:Date.now()+354e4}},r)}(E,v)}else{if(!(o.b.KED_TOKEN_URL&&o.b.KED_CLIENT_ID&&o.b.KED_CLIENT_SECRET))throw new Error("Missing configuration parameter KED_TOKEN_PATH");u.a.bearerProvider=m(o.b.KED_TOKEN_URL,u.a.currentUser,["kedbackend","EDS"]);k=["https://www.googleapis.com/auth/calendar.readonly","https://www.googleapis.com/auth/drive"].concat(u.a.currentUser.roles.includes("EMPLOYEE")?d:h);u.a.googleTokenProvider=m(o.b.KED_TOKEN_URL+"/google",u.a.currentUser,k)}u.a.kedBackendClient=new s.a(o.b.KED_API_URL,u.a.bearerProvider);var w=r(45);u.a.edsClient=new w.b(s.c,o.b.EDS_API_URL,u.a.bearerProvider,function(){return u.a.currentUser.mail})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vW25hbWVdL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tcG9uZW50cy91dGlsaXR5LWNvbXBvbmVudHMvb2JzZXJ2ZS50c3giLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1iYWNrZW5kLWNsaWVudC91dGlscy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tcG9uZW50cy9jb3Vyc2UtYnVpbGRlci9zdWItY29tcG9uZW50cy9zcGlubmVyLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZSBzeW5jIHN2fGVuIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9hY2Nlc3MtY29udHJvbC9pbmRleC50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvYWNjZXNzLWNvbnRyb2wvZ2V0LXVzZXItY2xhaW1zLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy91dGlscy9xdWVyeS1zdHJpbmcudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS1jb21wb25lbnRzL0xhbmd1YWdlQ29udGV4dC50c3giLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1iYWNrZW5kLWNsaWVudC9yZXN0Y2xpZW50LmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1jbGllbnQva2VkLWJlYXJlci1wcm92aWRlci5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9rZWRiYWNrZW5kL2pzL2Rpc3QvanMva2VkLWJhY2tlbmQtY2xpZW50L2FjY2Vzcy1jb250cm9sLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1jbGllbnQvaHR0cC1lcnJvci5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9rZWRiYWNrZW5kL2pzL2Rpc3QvanMva2VkLWJhY2tlbmQtY2xpZW50L2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21wb25lbnRzL2NoYXJ0cy9nb2FsLXByb2dyZXNzLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tcG9uZW50cy91dGlsaXR5LWNvbXBvbmVudHMvb3Blbi1jbG9zZS1ib3gudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21wb25lbnRzL3RlYWNoZXItdmlldy9hc3NpZ25tZW50cy12aWV3L3Rhc2stYXNzaWdubWVudC50c3giLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2NvbXBvbmVudHMvdGVhY2hlci12aWV3L2Fzc2lnbm1lbnRzLXZpZXcvY291cnNlLXRhc2tzLWFzc2lnbm1lbnRzLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tcG9uZW50cy90ZWFjaGVyLXZpZXcvYXNzaWdubWVudHMtdmlldy9jb3Vyc2UtdGFzay1ub3QtaGFuZGVkLXVzZXJzLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tcG9uZW50cy90ZWFjaGVyLXZpZXcvc2hhcmVkL25vdGlmaWNhdGlvbi1pY29uLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tcG9uZW50cy90ZWFjaGVyLXZpZXcvYXNzaWdubWVudHMtdmlldy9jb3Vyc2UtdGFzay50c3giLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2NvbXBvbmVudHMvdGVhY2hlci12aWV3L2Fzc2lnbm1lbnRzLXZpZXcvY291cnNlLW1vZHVsZS50c3giLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2NvbXBvbmVudHMvdGVhY2hlci12aWV3L2Fzc2lnbm1lbnRzLXZpZXcvaW5kZXgudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21wb25lbnRzL3RlYWNoZXItdmlldy9jb3Vyc2VzLXZpZXcvaW5kZXgudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21wb25lbnRzL3RlYWNoZXItdmlldy9kaWdlc3Qtdmlldy50c3giLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2NvbXBvbmVudHMvdGVhY2hlci12aWV3L2luZGV4LnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvdXRpbHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1iYWNrZW5kLWNsaWVudC13ZWIvYmVhcmVyLXN0b3JhZ2Utc2Vzc2lvbnN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1tb2RlbC1taWdyYXRvci9taWdyYXRlLXRhc2suanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1tb2RlbC1taWdyYXRvci9taWdyYXRlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtbW9kZWwtbWlncmF0b3IvbWlncmF0ZS1jb3Vyc2UuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1tb2RlbC1taWdyYXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9rZWRiYWNrZW5kL2pzL2Rpc3QvanMva2VkLWJhY2tlbmQtY2xpZW50LXdlYi9oYXNoLXJlc3RvcmVyLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1jbGllbnQtd2ViL2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvY2xpZW50d2ViLmpzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy91dGlscy9zY2hvb2wtbW9tZW50LnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHktY29tcG9uZW50cy9sYXp5LWNvbnRlbnQudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9nbG9iYWxzL0tFRC50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9rZWRiYWNrZW5kL2pzL2Rpc3QvanMvb2JzZXJ2YWJsZS9lbWl0dGVyLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9vYnNlcnZhYmxlL3ZhbHVlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9vYnNlcnZhYmxlL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2VsZW1lbnRzL0tFREFwcFRlYWNoZXJWaWV3L2FwcC50ZWFjaGVydmlldy5jbGllbnQudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9lbGVtZW50cy9LRURBcHBUZWFjaGVyVmlldy93ZWJwYWNrLWVudHJ5LnRzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9vYnNlcnZhYmxlL2NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9vYnNlcnZhYmxlL2luZGV4LmpzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9nbG9iYWxzL2tlZC50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvZ2xvYmFscy9LRUQuZW52LnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21wb25lbnRzL3V0aWxpdHktY29tcG9uZW50cy9saXZlLXF1ZXJ5LXZpZXcudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9vYnNlcnZhYmxlL2ZpYmVyLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL29ic2VydmFibGUvbWFwLmpzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy91dGlscy9zY2hvb2wtdGVybS50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvdXRpbHMvbWFrZS1zdXNwZW5zZS1hcGkudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2FwaXMvZWRzY2xpZW50LnRzIiwid2VicGFjazovL1tuYW1lXS9leHRlcm5hbCBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9jbGllbnQuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2FwaXMvbW9jay9tb2NrLWNsYXNzcm9vbS1kYXRhLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21wb25lbnRzL2NvdXJzZS12aWV3ZXIvY291cnNlLXBhZ2UvdGFzay1hc3NpZ25tZW50cy11dGlscy50c3giLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2NvbXBvbmVudHMvdXRpbGl0eS1jb21wb25lbnRzL1NldHVwTGFuZ3VhZ2VJbnRsLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tcG9uZW50cy9jb3Vyc2Utdmlld2VyL2NvdXJzZS1wYWdlL3Vya3VuZC11dGlscy50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvZ2xvYmFscy9LRUQuY2ZnLnRzIiwid2VicGFjazovL1tuYW1lXS8uL3NyYy9jb21wb25lbnRzL2NvdXJzZS1idWlsZGVyLWtzL2NvbW1vbi90d28tY29sdW1ucy1wYWdlLnRzeCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvY29tcG9uZW50cy9jb3Vyc2UtYnVpbGRlci9zdWItY29tcG9uZW50cy9lbGxpcHNpcy1sb2FkZXIudHN4Iiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1yZXBvL2tlZGJhY2tlbmQtc3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1yZXBvL3V0aWxzLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1yZXBvL2NhY2hlLWJ1c3QuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1iYWNrZW5kLXJlcG8vZGVsdGEtbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1iYWNrZW5kLXJlcG8va2VkYmFja2VuZC1xdWVyeS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9rZWRiYWNrZW5kL2pzL2Rpc3QvanMva2VkLWJhY2tlbmQtcmVwby9rZWRiYWNrZW5kLWNvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4va2VkYmFja2VuZC9qcy9kaXN0L2pzL2tlZC1iYWNrZW5kLXJlcG8vcXVlcnktc2V0LmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1yZXBvL211dGF0aW9uLXF1ZXVlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1yZXBvL2RlbHRhLWNvbGxlY3Rpb24vYXBwbHktbXV0YXRpb25zLW9uLWRlbHRhcy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9rZWRiYWNrZW5kL2pzL2Rpc3QvanMva2VkLWJhY2tlbmQtcmVwby9kZWx0YS1jb2xsZWN0aW9uL2RlbHRhLWNhY2hlLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1yZXBvL2tlZGJhY2tlbmQtd3JpdGVyLmpzIiwid2VicGFjazovL1tuYW1lXS8uL2tlZGJhY2tlbmQvanMvZGlzdC9qcy9rZWQtYmFja2VuZC1yZXBvL2RlbHRhLWNvbGxlY3Rpb24vZGVsdGEtY29sbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9rZWRiYWNrZW5kL2pzL2Rpc3QvanMva2VkLWJhY2tlbmQtcmVwby9rZWRiYWNrZW5kLXJlcG8uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2dsb2JhbHMvZGIudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2dsb2JhbC1zZXR0ZXJzL2NvbmZpZ3VyZS50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvZ2xvYmFsLXNldHRlcnMvc2V0LWJlYXJlci1wcm92aWRlcnMudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2dsb2JhbC1zZXR0ZXJzL3NldC1rZWQtYmFja2VuZC1jbGllbnQudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL2dsb2JhbC1zZXR0ZXJzL3NldC1lZHMtY2xpZW50LnRzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiNSIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiUmVhY3QiLCJGaWJlckNvbnRleHRSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJhZGRQcm92aWRlciIsIl9jdXJyZW50VmFsdWUiLCJwcm9wcyIsInN1YnNjcmlwdGlvbnMiLCJvdXRlclN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwiZm9yRWFjaCIsIm9ic2VydmVyIiwiZXJyb3IiLCJzdWJzY3JpcHRpb24iLCJzZXRTdGF0ZSIsImNvdW50ZXIiLCJzdGF0ZSIsImNvbXBvbmVudERpZENhdGNoIiwiaW5mbyIsIkVycm9yIiwidGhpcyIsImNvbnNvbGUiLCJsb2ciLCJjb21wb25lbnRXaWxsTW91bnQiLCJyZW5kZXIiLCJlcnJvckZhbGxiYWNrIiwiZmFsbGJhY2siLCJQcm92aWRlciIsImNoaWxkcmVuIiwiQ29tcG9uZW50IiwiY3JlYXRlVVVJRCIsIkRhdGUiLCJub3ciLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwidG9TdHJpbmciLCJhdm9pZFNpbXVsdGFub3VzQ2FsbHMiLCJtZXRob2QiLCJvbmdvaW5nUHJvbWlzZSIsImFyZ3VtZW50cyIsInRoZW4iLCJnZXRHbG9iYWxJZCIsInJlYWxtIiwicGFkIiwiaGV4IiwiY2hhckNvZGVBdCIsImpvaW4iLCJjb21wdXRlUHJlZGVzdGluYXRlZElkIiwiaW5wdXQiLCJlbmNvZGVyIiwiZGlnZXN0IiwiX2EiLCJfYiIsImxhYmVsIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJVaW50OEFycmF5IiwiY3J5cHRvIiwic3VidGxlIiwic2VudCIsIm5pYmJsZSIsInNpbXBsZURpZ2VzdCIsImlucHV0Qnl0ZXMiLCJkaWdlc3RCeXRlcyIsImJ1ZmZlciIsIkFycmF5IiwibWFwIiwieCIsInNpbXBsZURpZ2VzdENhY2hlIiwic2ltcGxlRGlnZXN0U3VzcGVuc2UiLCJpbnB1dHMiLCJyZXN1bHRzIiwidW5yZXNvbHZlZElucHV0cyIsImluZGV4IiwiUHJvbWlzZSIsImFsbCIsInVwZGF0ZUFycmF5IiwiYSIsIm1hcHBlciIsInJldHZhbCIsIm1hcHBlZCIsIlNwaW5uZXIiLCJjbGFzc05hbWUiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsImlkIiwid2VicGFja0NvbnRleHRSZXNvbHZlIiwiZSIsImNvZGUiLCJrZXlzIiwicmVzb2x2ZSIsIklNUEVSU09OQVRJT05fUVVFUllfUEFSQU1TIiwiaGFzQWNjZXNzIiwidXNlciIsImRvYyIsInJlcXVlc3RlZFJpZ2h0IiwiY2xhaW1zIiwidHlwZSIsIm1haWwiLCJzY2hvb2wiLCJjb25jYXQiLCJyb2xlcyIsInJvbGUiLCJnZXRVc2VyQ2xhaW1zIiwidHV0b3JGb3IiLCJmaWx0ZXIiLCJjbGFpbSIsImZyb21TdHJpbmdBcnJheSIsImFjbCIsImhhc1dyaXRlQWNjZXNzIiwiaXNUZWFjaGVyQXRTY2hvb2wiLCJpc1RlYWNoZXIiLCJzb21lIiwiYmVsb25nc1RvU2Nob29sIiwidG9Mb3dlckNhc2UiLCJpc0FkbWluT3JUZWFjaGVyQXRTY2hvb2wiLCJpbmNsdWRlcyIsImltcGVyc29uYXRpb25FbnYiLCJhY3RBcyIsIm9wdGlvbnMiLCJ1cmwiLCJjdXJyZW50UXVlcnkiLCJsb2NhdGlvbiIsInNlYXJjaCIsIm5ld1F1ZXJ5IiwibmV3UXVlcnlTdHJpbmciLCJocmVmIiwiaGFzaCIsInByZXNlcnZlSW1wZXJzb25hdGlvblF1ZXJ5IiwicXVlcnkiLCJwcmVzZXJ2ZWRRdWVyeSIsInBhcmFtIiwicEhhc2giLCJpbmRleE9mIiwic3Vic3RyIiwicGFyc2VRdWVyeVN0cmluZyIsImxvY2F0aW9uU2VhcmNoIiwidG9Mb3dlciIsInNwbGl0IiwicGFydCIsImRlY29kZVVSSUNvbXBvbmVudCIsInRyaW0iLCJlbmNvZGVQYXJhbXMiLCJwYXJhbXMiLCJ1bmRlZmluZWQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJnZW5lcmF0ZVF1ZXJ5U3RyaW5nIiwic3BsaXRVcmxBbmRRdWVyeSIsInVybFdpdGhQb3NzaWJsZVF1ZXJ5IiwicFF1ZXJ5IiwiTGFuZ3VhZ2VDb250ZXh0IiwiaW50bCIsIlJlc3RDbGllbnQiLCJpc29tb3JwaGljIiwiYmFzZVVybCIsIm51bU91dHN0YW5kaW5nT3BlcmF0aW9ucyIsImNhY2hlIiwiX3N0YXR1cyIsImZldGNoT3B0aW9ucyIsImF1dGhIZWFkZXIiLCJiZWFyZXIiLCJ1c2VybmFtZSIsImJ0b2EiLCJwYXNzd29yZCIsImJlYXJlclByb3ZpZGVyIiwiY29uZmlndXJhYmxlIiwic3VzcGVuc2VGZXRjaCIsInBhdGgiLCJoZWFkZXJzIiwiX3RoaXMiLCJKU09OIiwic3RyaW5naWZ5IiwiZW50cnkiLCJwcm9taXNlIiwiZmV0Y2giLCJyZXMiLCJzdGF0dXMiLCJ0ZXh0IiwianNvbiIsInBhcnNlIiwiZGlzcGF0Y2giLCJfZmV0Y2giLCJjYXRjaCIsImVyciIsInJlamVjdCIsInF1ZXJ5U3RyIiwidG9rZW5JbmZvIiwiX2MiLCJ3d3dhdXRoIiwiX2QiLCJfZSIsIm5vY2FjaGUiLCJnZXRCZWFyZXIiLCJleHBpcmVzIiwicmVmcmVzaEJlYXJlciIsInRva2VuIiwiQXV0aG9yaXphdGlvbiIsInRlc3QiLCJBY2NlcHQiLCJzdXNwZW5zZUdldCIsInBvc3QiLCJib2R5IiwiZGVsZXRlIiwiS2VkQmVhcmVyUHJvdmlkZXIiLCJzdG9yYWdlIiwidG9rZW5JZCIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0IiwidG9rZW5VcmwiLCJ0b2tlblF1ZXJ5IiwiY2xpZW50IiwidHJ5cyIsImxvYWQiLCJyZXRyaWVzIiwid2FybiIsInN0YXR1c1RleHQiLCJzYXZlIiwiRG9jdW1lbnRBY2Nlc3MiLCJhY2Nlc3NDbGFpbVR5cGUiLCJhY2Nlc3NDbGFpbVZhbHVlIiwicmlnaHQiLCJmcm9tU3RyaW5nIiwiYWMiLCJjbGFpbVR5cGUiLCJ1bmVzY2FwZSIsImNsYWltVmFsdWUiLCJlc2NhcGUiLCJhY2Nlc3NDb21wb25lbnQiLCJ0b1N0cmluZ0FycmF5IiwidXNlckNsYWltcyIsIl9zdXBlciIsIkh0dHBFcnJvciIsIm1lc3NhZ2UiLCJLZWRCYWNrZW5kQ2xpZW50IiwiaHR0cCIsImdldE15Q2xhaW1zIiwidGFibGUiLCJsaXN0IiwiZmxhZ3MiLCJtdXRhdGlvbnNPbkVtcHR5IiwiYmF0Y2giLCJyZXFzIiwic29ydCIsInJlcTEiLCJyZXEyIiwib3AiLCJkbyIsInNjb3BlRm4iLCJydW5uZXIiLCJtdXRhdGlvblJlcXVlc3RzIiwiZGVsZXRlUmVhbG0iLCJhZGQiLCJicmFuY2hJZCIsInB1dCIsInVwZGF0ZSIsImRlbHRhRG9jIiwibWVyZ2UiLCJ0YXJnZXRCcmFuY2hJZCIsImNsZWFyQnJhbmNoIiwic2hhcmUiLCJ1bnNoYXJlIiwibGluayIsInNvdXJjZVRhYmxlIiwic291cmNlSWQiLCJ0YXJnZXRUYWJsZSIsInRhcmdldElkIiwibGluazIiLCJ1bmxpbmsiLCJ1bmxpbmsyIiwidW5kb0xpbmsiLCJCYXRjaFJ1bm5lciIsImNyZWF0ZVByb2dyZXNzIiwibnVtYmVyT2ZUYXNrcyIsImNvbXBsZXRlZE51bWJlck9mVGFza3MiLCJtYXhpbXVtVGFza3NEaXNwbGF5ZWQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwcm9ncmVzc0NvbG9yIiwicHJvZ3Jlc3MiLCJ0YXNrTm8iLCJmaWxsIiwiY3giLCJjeSIsImRlZmF1bHRQcm9wcyIsIm51bWJlcm9mVGFza3MiLCJoZWFkZXJPcGVuIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsInRpdGxlIiwiaGVhZGVyQ2xhc3NOYW1lIiwiY29udGVudENsYXNzTmFtZSIsImRpc3BsYXlQcm9ncmVzcyIsInByb2dyZXNzRGF0YSIsImluYWN0aXZhdGVkIiwiaW5hY3RpdmF0ZWRSZW5kZXIiLCJvbkNsaWNrIiwib25PcGVuQ2xvc2UiLCJUYXNrQXNzaWdubWVudCIsImFzc2lnbm1lbnQiLCJzaG91bGRHZXRVcmt1bmRTdGF0dXMiLCJhc3NpZ25tZW50c1dpdGhTdGF0dXMiLCJzZXRBc3NpZ25tZW50U3RhdHVzIiwiaXNSZWZyZXNoaW5nIiwibWVkaWFMaW5rIiwic3R5bGUiLCJtZXRhZGF0YSIsIiRtZXRhIiwib3BhY2l0eSIsInVzZXJEaXNwbGF5TmFtZSIsImRyaXZlRmlsZUlkIiwiZmlsZSIsImV2IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJmaWxlbmFtZSIsInVwbG9hZERhdGUiLCJmb3JtYXQiLCJrZWRCYWNrZW5kQ2xpZW50IiwiY291cnNlSWQiLCJ0YXNrSWQiLCJyZXNKc29uIiwidXJrdW5kUmVzcG9uc2UiLCJyZWZyZXNoRXJyb3IiLCJDb3Vyc2VUYXNrQXNzaWdubWVudHMiLCJhc3NpZ25tZW50cyIsImNoZWNrV2l0aFVya3VuZCIsImZpbHRlclN0dWR5R3JvdXBzIiwicmVmcmVzaGFibGVBc3NpZ21lbnRzIiwiYXNzaWduIiwic3R1ZHlHcm91cHMiLCJnciIsInN0IiwiZmlsdGVyZWRBc3NpZ25tZW50cyIsImZpbmQiLCJzZyIsInN0dWRlbnRFbWFpbEFkZHJlc3MiLCJzaG91bGRSZWZyZXNoIiwidXJrdW5kRXh0ZXJuYWxJZCIsInVya3VuZFVwbG9hZEVycm9yIiwidXJrdW5kTGFzdFBvbGwiLCJTdGF0dXMiLCJTdGF0ZSIsInBhcnNlSW50IiwidG9EYXRlIiwiZ2V0VGltZSIsImZvcm1hdE1lc3NhZ2UiLCJkZWZhdWx0TWVzc2FnZSIsIkNvdXJzZVRhc2tOb3RIYW5kZWRVc2VyTGlzdCIsIm5vdFN1Ym1pdHRlZFVzZXJzIiwibm90U3VibWl0dGVkTGVuZ3RoIiwic2VsZWN0ZWRVc2VycyIsInNlbGVjdFVzZXIiLCJlbWFpbCIsInUiLCJkaXNwbGF5TmFtZSIsIk5vdGlmaWNhdGlvbkljb24iLCJjb3Vyc2UiLCJlbnRpdHkiLCJub3RpZmljYXRpb25kaWdlc3RzIiwic2VlbkRpZ2VzdHNPYnNlcnZhYmxlIiwic2VlbkRpZ2VzdHNPYnNlcmFibGUiLCJzZWVuRGlnZXN0cyIsIm5vdGlmaWNhdGlvbnMiLCJjb3Vyc2VOb3RpZmljYXRpb25zIiwiY21vZCIsInRhc2tJZHMiLCJjb3Vyc2VUYXNrIiwiZ2V0VGFza05vdGlmaWNhdGlvbnMiLCJjdXJyZW50TW9kdWxlIiwidGFza0Fzc2lnbm1lbnRzIiwiQ291cnNlVGFzayIsInRhc2siLCJzZWxlY3RlZENvdXJzZSIsImJlY2FtZU9wZW4iLCJpc09wZW5lZCIsImN1cnJlbnRVc2VyIiwiYXNzaWdubWVudERpZ2VzdCIsImRiIiwic2VlblN0dWRlbnRBc3NpZ25tZW50cyIsInRhZ3MiLCJvblRhc2tPcGVuZWQiLCJzZW5kVG9Vcmt1bmQiLCJDb3Vyc2VNb2R1bGVWaWV3IiwidGFza3MiLCJ0YXNrTm90U3VibWl0dGVkVXNlcnMiLCJncm91cCIsInVzZXJzIiwiY3MiLCJmIiwic3R1ZGVudEZpcnN0TmFtZSIsInN0dWRlbnRMYXN0TmFtZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicmVzdCIsImdldE5vdFN1Ym1pdHRlZFVzZXJzIiwiQXNzaWdubWVudHNDb250ZXh0IiwiQXNzaWdubWVudHNWaWV3Iiwic2VsZWN0ZWRTdHVkeUdyb3VwcyIsInNldEZpbHRlclN0dWR5R3JvdXAiLCJkZWZhdWx0RGVzY3JpcHRpb25NZXNzYWdlIiwiZGVzY3JpcHRpb24iLCJpc011bHRpIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsIm1vZHVsZVRhc2tzIiwidElkIiwiQ291cnNlc1ZpZXciLCJjb3Vyc2VCdWlsZGVyVXJsIiwidGVhY2hlckNvdXJzZXMiLCJ0YXJnZXQiLCJMaW5rIiwidG8iLCJjb250ZXh0SW5pdGlhbFZhbHVlIiwiU3RhdGVDb250ZXh0IiwiRGlnZXN0VmlldyIsIndpdGhSb3V0ZXIiLCJtYXRjaCIsIm15Q291cnNlcyIsInNjaG9vbHMiLCJpbmNsdWRlIiwic2luZ2xlIiwicmVhZCIsInNjaG9vbENvdXJzZXMiLCJjb3Vyc2VzIiwiYWN0aXZhdGVkQnkiLCJyZXNwb25zaWJsZVRlYWNoZXJzIiwiaGFzRWRnZXNGcm9tIiwidG9WYWx1ZSIsInNjaG9vbE5hbWUiLCJjb3Vyc2VJZHMiLCJkaWdlc3RBcnJheSIsImNvbnRleHRWYWx1ZSIsImxlZnQiLCJyaWdodFdpZHRoIiwiVGVhY2hlclZpZXdBcHAiLCJSb3V0ZSIsImV4YWN0IiwiUmVkaXJlY3QiLCJjYXBpdGFsaXplRmlyc3QiLCJzdHIiLCJ0b0xvY2FsZVVwcGVyQ2FzZSIsImV4dGVuZCIsIm9iaiIsImV4dGVuc2lvbiIsImNsb25lIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImZsYXR0ZW4iLCJjb21wYXJlUHJvcCIsInByb3AiLCJiIiwiYVByb3AiLCJiUHJvcCIsImNvbXBhcmVQcm9wcyIsImxvY2FsZXMiLCJpc0FycmF5IiwibG9jYWxlQ29tcGFyZSIsImZpcnN0UGFydCIsImNtcFBhcnQiLCJmaXJzdEEiLCJmaXJzdEIiLCJyZWR1Y2UiLCJjbXAxIiwiY21wMiIsIkwiLCJhcmdzIiwicnYiLCJidWlsZE1lc3NhZ2UiLCJkYXRlVGltZVJldml2ZXIiLCJleGVjIiwic2hvd0luZm8iLCJtc2ciLCJldmVudCIsIkN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInNob3dFcnJvciIsImVyck1zZyIsIm1heExlbmd0aCIsIm1heExlbiIsImFycmF5VG9Mb29rdXAiLCJrZXlBY2Nlc3NvciIsIml0ZW0iLCJhcnJheSIsImFycmF5VG9NYXAiLCJjaGVycnlQaWNrUHJvcHMiLCJwcm9wc1RvUGljayIsImRpc3RpbmN0Iiwic2hhbGxvd0VxdWFscyIsImtleXNBIiwia2V5c0IiLCJCZWFyZXJTdG9yYWdlU2Vzc2lvblN0b3JhZ2UiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiZXgiLCJtaWdyYXRlVGFzayIsInJlc291cmNlcyIsIm1pZ3JhdGUiLCJncmFwaHMiLCJyZXNvdXJzZXMiLCJtaWdyYXRlQ291cnNlIiwicmVkaXJIYXNoIiwidGltZSIsInJlbW92ZUl0ZW0iLCJfIiwiX19taWdyYXRvcl9taXhlZF9pbiIsIktlZE1vZGVsTWlncmF0b3JNaXhpbiIsInRpbWVPZlBhZ2VMb2FkIiwiV2ViU2VydmVyQmVhcmVyUHJvdmlkZXIiLCJ0b2tlblBhdGgiLCJ0b2tlblJlc3BvbnNlTWFwcGVyIiwicmVkaXJlY3QiLCJjcmVkZW50aWFscyIsIndhbnRzUmVkaXJlY3QiLCJyZWxvYWQiLCJzZWxmIiwiS2VkQmFja2VuZENsaWVudFdlYiIsImFwaUJhc2VVcmwiLCJwcm92aWRlck9yVG9rZW5QYXRoIiwiZ2V0Rmlyc3RBbmRMYXN0V2Vla09mVGVybSIsInRlcm0iLCJnZXRUZXJtU3RhckVuZERhdGUiLCJkYXRlIiwiaXNGaXJzdFRlcm0iLCJ0ZXJtWWVhciIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJ0ZXJtWWVhck1vbWVudCIsIndlZWsiLCJzdGFydE9mIiwiZW5kT2YiLCJnZXRTY2hvb2xNb21lbnQiLCJ0aGlzWWVhciIsInllYXIiLCJpc0F1dHVtbiIsIm1vbnRoIiwiYWNhZGVtaWNZZWFyIiwiYWRkWWVhciIsImFZZWFyIiwibnVtWWVhcnNUb0FkZCIsInllYXJTdHIiLCJMYXp5Q29udGVudCIsInNwaW5uZXIiLCJvbkVycm9yIiwibm9FcnJvciIsImZuIiwib2JzZXJ2YWJsZSIsIktFRCIsIkVtaXR0ZXIiLCJpbml0aWFsVmFsdWUiLCJzdWJzY3JpYmVycyIsIl9kaXNwYXRjaCIsImRpc3BhdGNoRXJyb3IiLCJWYWx1ZSIsInN1YnNjcmliZSIsImZyb20iLCJub3RpZnkiLCJyZXNvbHZlZCIsInN1YnNjaXB0aW9uIiwiY3VycmVudEZpYmVyIiwiY3VycmVudCIsInByZWZpeCIsInRvQ29sbGVjdGlvbiIsImNvbWJpbmVMYXRlc3QiLCJvdGhlciIsIm15U3Vic2NyaXB0aW9uIiwib3RoZXJTdWJzY3JpcHRpb24iLCJ2YWx1ZXMiLCJpdGVtcyIsInN3aXRjaE1hcCIsIm1hcHBlZFN1YnNjcmlwdGlvbiIsInJldHVybmVkU3Vic2NyaXB0aW9uIiwib2JzZXJ2YWJsZU9yVmFsdWUiLCJPYnNlcnZhYmxlIiwiX3N1YnNjcmliZSIsImJlYXJlclByb21pc2UiLCJpc1Rva2VuTG9hZGVkIiwiS0VEX0NPVVJTRV9CVUlMREVSX1VSTCIsIktFREFwcFRlYWNoZXJWaWV3IiwiY29tcG9uZW50cyIsIkNvbGxlY3Rpb24iLCJfbWFwIiwiZW1pdHRlcl8xIiwiZmxhdCIsIm1lIiwib3JkZXJCeSIsImdyb3VwQnkiLCJmaXJzdCIsImFyciIsImVudiIsImxpdmVRdWVyeVZpZXciLCJMaXZlUXVlcnlWaWV3IiwiaXNMb2FkaW5nIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsIm5leHRTdGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInByb3ZpZGVycyIsIkZpYmVyQ29udGV4dCIsImdldEN1cnJlbnRGaWJlciIsInNldEN1cnJlbnRHZXR0ZXJGcm9tUHJvdmlkZXJzIiwicmVtb3ZlUHJvdmlkZXIiLCJzZXQiLCJpbml0TWFwTWV0aG9kIiwiY3RvciIsImRhdGVPclNjaG9vbE1vbWVudCIsInNjaG9vbE1vbWVudCIsIm5leHRUZXJtIiwiU2Nob29sVGVybSIsInByZXZUZXJtIiwidG9Mb2NhbGVTdHJpbmciLCJzaG9ydFllYXIiLCJkZWZhdWx0T3B0aW9ucyIsImlzQXBpTWV0aG9kIiwiY2FjaGVFeHBpcmF0aW9uIiwidXNlckVtYWlsR2V0dGVyIiwiRWRzQ2xpZW50Iiwib25nb2luZ1Byb21pc2VzIiwiYXJnc0pzb24iLCJzdXNwZW5zZSIsImFwaSIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJzdXNwZW5kaWZ5IiwiY2FjaGVkRW50cnkiLCJ0aW1lb3V0IiwibWFrZVN1c3BlbnNlQXBpIiwicHJpdmF0aXppbmdDYWNoZUJ1c3QiLCJnZXRBY3RpdmVDb3Vyc2VzIiwicSIsImNvdXJzZUNvZGUiLCJDb3Vyc2VDb2RlIiwicGVyaW9kTmFtZSIsIlBlcmlvZE5hbWUiLCJnZXRMYXRlc3RBc3Nlc3NtZW50cyIsImxpbWl0IiwiaXNOYU4iLCJDb3VudCIsImFzc2Vzc21lbnRzIiwiZ2V0U3R1ZGVudEdvYWxzIiwic3R1ZGVudEdvYWxzIiwiZ2V0U3R1ZGVudEZ1dHVyZUFiaWxpdGllcyIsInN0dWRlbnRGdXR1cmVBYmlsaXRpZXMiLCJnZXRUZWFjaGVyVHV0b3JTdHVkZW50cyIsInN0dWRlbnRzIiwiZ2V0U2Nob29sVHVpdGlvbkdyb3VwcyIsInNjaG9vbFR1aXRpb25Hcm91cHMiLCJnZXRUdWl0aW9uR3JvdXBTdHVkZW50cyIsInR1aXRpb25Hcm91cFN0dWRlbnRzIiwiZ2V0U2Nob29sVGVhY2hlcnMiLCJzY2hvb2xUZWFjaGVycyIsImdldEFjYWRlbWljWWVhclRlcm1zIiwic2Nob29sTG9jYWxlIiwiU291dGhJbmRpYSIsImlzU2FtZU9yQWZ0ZXIiLCJmaXJzdFRlcm0iLCJzdGFydERhdGUiLCJpc1NhbWVPckJlZm9yZSIsInNlY29uZFRlcm0iLCJlbmREYXRlIiwiTm9ydGhJbmRpYSIsImhvbGlkYXlzIiwiZmlyc3RUZXJtTW9tZW50Iiwic2Vjb25kVGVybU1vbWVudCIsInN0YXJ0Rmlyc3RUZXJtRGF0ZSIsInN0YXJ0U2Vjb25kVGVybURhdGUiLCJlbmRGaXJzdFRlcm1EYXRlIiwiZW5kU2Vjb25kVGVybURhdGUiLCJ0b0RhdGVTdHJpbmciLCJwZXJpb2RTdHJpbmdPclNjaG9vbFRlcm0iLCJwZXJpb2QiLCJzdGFydHNXaXRoIiwic2Nob29sVGVybSIsInZhbHVlT2YiLCJSZWFjdERPTSIsImNyZWF0ZVN0dWRlbnRzIiwidHVpdGlvbkdyb3VwTmFtZSIsIm1vY2tUZWFjaGVycyIsInRlYWNoZXJGaXJzdE5hbWUiLCJ0ZWFjaGVyTGFzdE5hbWUiLCJ0ZWFjaGVyRW1haWxBZGRyZXNzIiwibW9ja1R1aXRpb25Hcm91cHMiLCJtb2NrVHVpdGlvblN0dWRlbnRzIiwiZ2V0VXJrdW5kU3RhdHVzIiwicmVmcmVzaEFzc2lnbm1lbnQiLCJ1cmt1bmRSZXNwb25zZXMiLCJFcnJvckNvZGUiLCJNZXNzYWdlIiwiRXh0ZXJuYWxJZCIsImNvbFNwYW4iLCJSZXBvcnQiLCJSZXBvcnRVcmwiLCJTaWduaWZpY2FuY2UiLCJ0b0ZpeGVkIiwiZG93bmxvYWRGaWxlIiwiYmxvYiIsImNvbnRlbnRUeXBlIiwiRHJpdmVGaWxlTGlzdGluZyIsImRyaXZlRmlsZUljb25VcmwiLCJkcml2ZUZpbGVVcmwiLCJsYXN0SW5kZXhPZiIsInNyYyIsInNldHVwSW50bCIsIm1lc3NhZ2VzIiwibG9jYWxlIiwiS0VEX0xPQ0FMRSIsImdldFVya3VuZFN0YXR1c0NsYXNzIiwiZ2V0VXJrdW5kSG92ZXJUZXh0IiwiZ2V0VXJrdW5kU2lnbmlmaWNhbmNlQ2xhc3MiLCJyZXBvcnQiLCJjZmciLCJUd29Db2x1bW5zUGFnZSIsIkVsbGlwc2lzTG9hZGVyIiwiYm9yZGVyIiwibWFyZ2luIiwicGFkZGluZyIsIktlZEJhY2tlbmRTdWJzY3JpcHRpb24iLCJzdWJzY3JpYmVyIiwiY29sbGVjdGlvbiIsIm5vdGlmeVN1YnNjcmliZXIiLCJsYXN0Tm90aWZpZWREYXRhIiwiZXgyIiwiZ2V0VGFibGVGcm9tTGFiZWwiLCJyZWxhdGlvbnNoaXBzIiwicXVlcnlBcnJheSIsIkFORCIsImRhdGVUaW1lIiwiaWRzIiwidGFnIiwiZ2V0RmlsdGVyRnJvbVF1ZXJ5IiwiZmlsdGVyMSIsImZpbHRlcjIiLCJicmFuY2hTZW5zaXRpdmUiLCJnbG9iYWxPcCIsIkNhY2hlQnVzdCIsImdldENhY2hlQnVzdCIsImdldEludm9sdmVkSXRlbXMiLCJsb2NhbFN0b3JhZ2UiLCJpbnZhbGlkYXRlQ2FjaGUiLCJfaSIsImdldENhY2hlSW52YWxpZGF0aW9ucyIsInJlbGF0ZWRUYWJsZXMiLCJpbnZhbGlkYXRpb25TZXQiLCJhcHBseURlbHRhIiwiZGVsdGEiLCJ0YXJnZXREb2MiLCJrZXlzXzEiLCJ2YWwiLCJtZXRhSW5zdHJ1Y3Rpb25zIiwiX2xvb3BfMSIsIm1pIiwibWlWYWx1ZSIsIiR3YXNVbnNldCIsInZhbHVlc1RvQWRkIiwidGFyZ2V0QXJyYXkiLCJ2YWx1ZXNUb0FkZF8xIiwidiIsInZhbHVlc1RvUmVtb3ZlXzEiLCJtZXRhSW5zdHJ1Y3Rpb25zXzEiLCJtZXJnZURlbHRhcyIsImRlbHRhMSIsImRlbHRhMiIsInJlbW92ZVVuc2V0UHJvcHMiLCJ0YXJnZXREZWx0YSIsImtleXNfMiIsIl9sb29wXzIiLCIkdW5zZXQiLCJ2YWx1ZXNUb0FkZF8yIiwidGFyZ2V0TWV0YVByb3AiLCJ0YXJnZXRSZW1vdmVBcnJheSIsIiRyZW1vdmUiLCJ0YXJnZXRBZGRBcnJheSIsIiRhZGQiLCJ2YWx1ZXNUb1JlbW92ZV8yIiwibWV0YUluc3RydWN0aW9uc18yIiwiS2VkQmFja2VuZFF1ZXJ5IiwicmVwbyIsIm11dGF0aW9uUXVldWUiLCJnb3RJbml0aWFsUmVzcG9uc2UiLCJpbnZhbGlkIiwibG9hZGVkVmVyc2lvbiIsIl9sb2FkUHJvbWlzZSIsInF1ZXJ5S2V5IiwiY29tcGFyYWJsZVByb3BzIiwiZ2V0RGF0YVdpdGhNdXRhdGlvbnNBcHBsaWVkIiwicXVlcnlMb2NhbGx5IiwidmVyc2lvbiIsImxvYWRQcm9taXNlIiwid3JpdGVyIiwicGVyc2lzdGVkVmVyc2lvbiIsIl9sb2FkIiwibWF4Iiwibm90aWZ5U3Vic2NyaWJlcnMiLCJhZmZlY3RzUXVlcnkiLCJ3YWl0Rm9yVmVyc2lvblRvUGVyc2lzdCIsInF1ZXJ5U2VydmVyIiwiY29tbWl0TXV0YXRpb25zIiwibXV0YXRpb25zIiwibXV0YXRpb25zXzEiLCJyZWZyZXNoT3JJbnZhbGlkYXRlIiwib3B0aW1pc3RpY011dGF0aW9ucyIsImRhdGFfMSIsInF1ZXJ5U2V0IiwiZ2V0Q2xpZW50Iiwib3B0aW1pc3RpYyIsIm11dGF0aW9uIiwiYXBwbHlNdXRhdGlvbnNPbkRhdGEiLCJsaXN0T3B0aW9ucyIsInNvdXJjZUlkcyIsInJlcXVlc3RlZFRhZ3MiLCJ1cGRhdGVkRG9jIiwiaW5jbHVkZWREb2NzIiwidXBkYXRlZEFycmF5IiwicmVsYXRlZCIsInVwZGF0ZWRSZWxhdGVkIiwicXVlcmllZFRhZ3NfMSIsImdyYXBoUHJvcCIsInJlbGF0ZWREb2MiLCJzZXRHcmFwaFByb3BzIiwibGFiZWxzXzEiLCJyZWxhdGVkRG9jcyIsImNvcHkiLCJLZWRCYWNrZW5kQ29sbGVjdGlvbiIsIl9pbmNsdWRlcyIsImFwcGx5UXVlcnkiLCJhZGRUb1F1ZXJ5QXJyYXlQcm9wIiwiYXJyYXlQcm9wIiwiZW50cmllcyIsImFkZEZsYWdzIiwiZGVidWciLCJpZHNPbmx5IiwiaWRzQW5kTmFtZXNPbmx5IiwiaW5jbHVkZUlkc09ubHkiLCJpbmNsdWRlSWRzQW5kTmFtZXNPbmx5IiwiYmV0d2VlbiIsImhhc0VkZ2VzVG8iLCJvblplcm8iLCJvbk1hbnkiLCJjYWNoZU9wdGltaXplZCIsImNhY2hlQnVzdCIsImdldFVzZXIiLCJtdXRhdGlvbkZhY3RvcnkiLCJ0eCIsInRocm93ZXJzIiwiY2hhbmdlcyIsImRlYm91bmNlIiwibXV0YXRlIiwidGFyZ2V0TmFtZSIsImFkZFJlbGF0ZWQiLCJyZW1vdmVSZWxhdGVkIiwicmVsYXRlZElkIiwiUXVlcnlTZXQiLCJxdWVyaWVzIiwiY2xlYW51cEludmFsaWRRdWVyaWVzIiwidGltZW91dEhhbmRsZSIsImNsZWFyVGltZW91dCIsImZpbmRRdWVyeSIsInFJbmNsdWRlcyIsInJlc18xIiwicmVzdWx0XzEiLCJldmVyeSIsInJlc3VsdF8yIiwic3RhdGVfMSIsImtiUXVlcnkiLCJzZXRUaW1lb3V0IiwiTXV0YXRpb25RdWV1ZSIsInF1ZXVlIiwic2F2aW5nUXVldWUiLCJtb3ZlVG9TYXZpbmdRdWV1ZSIsImNsZWFyU2F2aW5nUXVldWUiLCJxdWV1ZTEiLCJxdWV1ZTIiLCJtdXRhYmxlUXVldWUxIiwibXV0YWJsZVF1ZXVlMiIsImxlbiIsIm92ZXJsYXBwaW5nSWRPcElkeCIsImZpbmRJbmRleCIsIm5ld011dCIsImFwcGx5TXV0YXRpb25zT25EZWx0YXMiLCJkZWx0YXMiLCJoYXNBZGRpdGlvbmFsRmlsdGVyIiwiY29udHJpYnV0b3IiLCJpZHgiLCJkZWx0YVJlbGF0aW9uIiwiY29udHJpYnV0b3JzIiwiZXhpc3RpbmdEZWx0YURvYyIsIm5ld0RhdGEiLCJEZWx0YUNhY2hlIiwiZ2V0VXNlckRpc3BsYXlOYW1lIiwibG9va3VwIiwiYXBwbHlNdXRhdGlvbnMiLCJjYWNoZUVudHJ5IiwibmV3VmFsdWUiLCJvcHRpbWlzdGljVmFsdWUiLCJjbGVhbnVwVGltZXIiLCJpc0ZldGNoaW5nIiwiRGVsdGFDYWNoZUVudHJ5IiwiZmV0Y2hPcGVyYXRpb25JZCIsImZldGNoRnJvbVNlcnZlciIsImZhaWwiLCJjb3B5XzEiLCJLZWRCYWNrZW5kV3JpdGVyIiwiX3RpbWVvdXRJZCIsIl9pc1NhdmluZ1Byb21pc2UiLCJjdXJyZW50VmVyc2lvbiIsImVycm9yU3Vic2NyaWJlcnMiLCJzdGF0ZVN1YnNjcmliZXJzIiwiZGVsdGFDYWNoZSIsImNhbGxiYWNrIiwib25TdGF0ZUNoYW5nZSIsIm9mZiIsInJldHJ5YWJsZSIsImRpc3BhdGNoU3RhdGVDaGFuZ2UiLCJyZXRyeVNhdmUiLCJpc0VkaXRlZCIsIl9zYXZlIiwiZXRhZ011dGF0aW9ucyIsImVycm9yXzEiLCJtYXBNdXRhdGlvbnMiLCJuZXdFdGFncyIsIiRldGFnIiwiYnIiLCJEZWx0YUNvbGxlY3Rpb24iLCJLZWRCYWNrZW5kUmVwbyIsImRlZmF1bHRRdWVyeU9wdGlvbnMiLCJ0YWJsZU5hbWUiLCJfY2xvbmUiLCJxdWVyeU9wdGlvbnMiLCJicmFuY2giLCJvcHRpbWl6ZUNhY2hlIiwic2F2ZU5vdyIsImdsb2JhbElkIiwiS0VEX1JFQUxNIiwiU2Nob29scyIsInN0YW5kYXJkU2Nob29sIiwiQ291cnNlSW5zdGFuY2VzIiwiZ2V0QnJhbmNoSWQiLCJicmFuY2hlcyIsIm9mZmljaWFsQnJhbmNoSWQiLCJnZXRPckNyZWF0ZUJyYW5jaElkIiwiY291cnNlSW5zdGFuY2VzIiwic2Nob29sSWQiLCJ0cmVlUGFyZW50SWQiLCJnZXRBbGxEZXNjZW5kYW50SWRzIiwiY291cnNlQmxvY2tzIiwiY291cnNlQ29udGVudHMiLCJjb3Vyc2VUYWJzIiwiRU5WSVJPTk1FTlQiLCJLRURfQVBJX1VSTCIsIkVEU19BUElfVVJMIiwiS0VEX1RPS0VOX1VSTCIsIktFRF9DTElFTlRfSUQiLCJLRURfQ0xJRU5UX1NFQ1JFVCIsIktFRF9TQ0hPT0xfTE9DQUxFIiwiS0VEX1JFU09VUkNFU19VUkwiLCJwcm9jZXNzIiwiZW1wbG95ZWVDbGFzc3Jvb21TY29wZXMiLCJzdHVkZW50Q2xhc3Nyb29tU2NvcGVzIiwiZ2V0TWVyZ2VkVG9rZW5QYXRoIiwic2NvcGVzIiwiaW1wZXJzb25hdGlvblByb3BzIiwidG9rZW5QYXRoV2l0aG91dFF1ZXJ5IiwidG9rZW5RdWVyeVN0cmluZyIsInRva2VuUGF0aFF1ZXJ5IiwiZ2V0VG9rZW5JZCIsIm1lcmdlZFRva2VuUGF0aCIsInVzZXJFbWFpbCIsImNyZWF0ZVRlc3RUb2tlblByb3ZpZGVyIiwic2Nob29sVHlwZSIsImluaXRpYWxVc2VyRW1haWwiLCJLRURfVE9LRU5fUEFUSCIsInJlc3BvbnNlVGV4dCIsIm9rIiwic2F2ZVVzZXJJbmZvIiwic3RvcmVkU2Vzc2lvblVzZXIiLCJsb2FkVXNlckluZm8iLCJnb29nbGVNZXJnZWRQYXRoIiwiZ29vZ2xlVG9rZW5Qcm92aWRlciIsImNyZWF0ZUdvb2dsZVRva2VuUHJvdmlkZXIiLCJlZHNDbGllbnQiXSwibWFwcGluZ3MiOiJrQ0FDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVBQ1JDLEVBQUksRUFBR0EsRUFBSUYsRUFBZWQsT0FBUWdCLElBQUssQ0FDOUMsSUFBSUMsRUFBUUgsRUFBZUUsR0FDRyxJQUEzQlgsRUFBZ0JZLEtBQWNGLEdBQVksR0FFM0NBLElBQ0ZMLEVBQWdCUSxPQUFPcEIsSUFBSyxHQUM1QmUsRUFBU00sRUFBb0JBLEVBQW9CQyxFQUFJTixFQUFlLEtBSXRFLE9BQU9ELEVBSVIsSUFBSVEsRUFBbUIsR0FLbkJoQixFQUFrQixDQUNyQmlCLEVBQUcsR0FHQVosRUFBa0IsR0FHdEIsU0FBU1MsRUFBb0IxQixHQUc1QixHQUFHNEIsRUFBaUI1QixHQUNuQixPQUFPNEIsRUFBaUI1QixHQUFVOEIsUUFHbkMsSUFBSUMsRUFBU0gsRUFBaUI1QixHQUFZLENBQ3pDSyxFQUFHTCxFQUNIZ0MsR0FBRyxFQUNIRixRQUFTLElBVVYsT0FOQWhCLEVBQVFkLEdBQVVXLEtBQUtvQixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSixHQUcvREssRUFBT0MsR0FBSSxFQUdKRCxFQUFPRCxRQUtmSixFQUFvQk8sRUFBSW5CLEVBR3hCWSxFQUFvQlEsRUFBSU4sRUFHeEJGLEVBQW9CUyxFQUFJLFNBQVNMLEVBQVNNLEVBQU1DLEdBQzNDWCxFQUFvQlksRUFBRVIsRUFBU00sSUFDbEM1QixPQUFPK0IsZUFBZVQsRUFBU00sRUFBTSxDQUFFSSxZQUFZLEVBQU1DLElBQUtKLEtBS2hFWCxFQUFvQmdCLEVBQUksU0FBU1osR0FDWCxvQkFBWGEsUUFBMEJBLE9BQU9DLGFBQzFDcEMsT0FBTytCLGVBQWVULEVBQVNhLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RHJDLE9BQU8rQixlQUFlVCxFQUFTLGFBQWMsQ0FBRWUsT0FBTyxLQVF2RG5CLEVBQW9Cb0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFuQixFQUFvQm1CLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS3pDLE9BQU8wQyxPQUFPLE1BR3ZCLEdBRkF4QixFQUFvQmdCLEVBQUVPLEdBQ3RCekMsT0FBTytCLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9uQixFQUFvQlMsRUFBRWMsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnZCLEVBQW9CMkIsRUFBSSxTQUFTdEIsR0FDaEMsSUFBSU0sRUFBU04sR0FBVUEsRUFBT2lCLFdBQzdCLFdBQXdCLE9BQU9qQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBTCxFQUFvQlMsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlgsRUFBb0JZLEVBQUksU0FBU2dCLEVBQVFDLEdBQVksT0FBTy9DLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUsyQyxFQUFRQyxJQUd6RzdCLEVBQW9COEIsRUFBSSxHQUV4QixJQUFJQyxFQUFhQyxPQUEyQixtQkFBSUEsT0FBMkIsb0JBQUssR0FDNUVDLEVBQW1CRixFQUFXNUMsS0FBS3VDLEtBQUtLLEdBQzVDQSxFQUFXNUMsS0FBT2YsRUFDbEIyRCxFQUFhQSxFQUFXRyxRQUN4QixJQUFJLElBQUl2RCxFQUFJLEVBQUdBLEVBQUlvRCxFQUFXbEQsT0FBUUYsSUFBS1AsRUFBcUIyRCxFQUFXcEQsSUFDM0UsSUFBSVUsRUFBc0I0QyxFQU0xQixPQUZBMUMsRUFBZ0JKLEtBQUssQ0FBQyxJQUFJLElBRW5CTSxJLGtCQ3ZKVFksRUFBT0QsUUFBVStCLE8sMkdDSVhDLEVBQW9CLElBQU1DLGNBQTRCLE1BRTVELElBQWFDLFlBQVksV0FTdkIsT0FBQ0YsRUFBMEJHLGdCQVE3QixJLEVBQUEsY0FDRSxXQUFZQyxHQUFaLE1BQ0UsWUFBTUEsSUFBTSxLLE9BYWQsRUFBQUMsY0FBZ0MsR0FFaEMsRUFBQUMsa0JBQWtDLENBQ2hDQyxZQUFhLFdBQ1gsRUFBS0YsY0FBY0csUUFBUSxTQUFBM0MsR0FBSyxPQUFBQSxFQUFFMEMsZ0JBQ2xDLEVBQUtGLGNBQWdCLEtBSXpCLEVBQUFJLFNBQVcsU0FBQzFCLEVBQVkyQixFQUFZQyxHQUM5QkQsRUFDRixFQUFLRSxTQUFTLENBQUNGLE1BQUssSUFFcEIsRUFBS0UsU0FBUyxTQUFDLEdBQWMsT0FBRUMsUUFBZixFQUFBQSxRQUFrQyxFQUFHSCxNQUFLLE1BekI1RCxFQUFLSSxNQUFRLENBQ1hELFFBQVMsRUFDVEgsTUFBTyxNLEVBd0NiLE9BN0M2QixTQVMzQixZQUFBSyxrQkFBQSxTQUFrQkwsRUFBWU0sR0FDdkJOLEdBQVVBLEVBQU1wQyxPQUFNb0MsRUFBUSxJQUFJTyxNQUFNLEdBQUdQLElBQ2hEUSxLQUFLTixTQUFTLENBQUNGLE1BQUssRUFBRU0sS0FBSSxJQUMxQkcsUUFBUUMsSUFBSVYsRUFBT00sSUFvQnJCLFlBQUFLLG1CQUFBLFdBQ0VILEtBQUtaLGtCQUFrQkMsZUFHekIsWUFBQWUsT0FBQSxXQUNFLE9BQUlKLEtBQUtKLE1BQU1KLE1BQ05RLEtBQUtkLE1BQU1tQixlQUFpQiwyQkFBSSxZQUFDLCtFQUUxQ0wsS0FBS1osa0JBQWtCQyxjQUNoQixrQkFBQyxXQUFRLENBQUNpQixTQUFVTixLQUFLZCxNQUFNb0IsVUFBWSxNQUNoRCxrQkFBQ3hCLEVBQWtCeUIsU0FBUSxDQUFDMUMsTUFBT21DLE1BQU9BLEtBQUtkLE1BQU1zQixhQUczRCxFQTdDQSxDQUE2QixJQUFNQyxZLGdDQ3ZCbkMsMk9BQ08sU0FBU0MsSUFFWixJQUFJdkQsRUFBSXdELEtBQUtDLE1BTWIsTUFMVyx1Q0FBdUNDLFFBQVEsUUFBUyxTQUFVM0QsR0FDekUsSUFBSVEsR0FBS1AsRUFBb0IsR0FBaEIyRCxLQUFLQyxVQUFpQixHQUFLLEVBRXhDLE9BREE1RCxFQUFJMkQsS0FBS0UsTUFBTTdELEVBQUksS0FDTCxNQUFORCxFQUFZUSxFQUFTLEVBQUpBLEVBQVUsR0FBTXVELFNBQVMsTUFJbkQsU0FBU0MsRUFBc0JDLEdBQ2xDLElBQUlDLEVBQWlCLEtBQ3JCLE9BQU8sV0FPSCxPQU5LQSxJQUNEQSxFQUFpQkQsRUFBT2pGLE1BQU04RCxLQUFNcUIsV0FBV0MsS0FBSyxTQUFVbEYsR0FFMUQsT0FEQWdGLEVBQWlCLEtBQ1ZoRixLQUdSZ0YsR0FHUixTQUFTRyxFQUFZQyxHQUN4QixJQUNJQyxFQUFNLENBQUMsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLE1BQ3pDLEdBQUlELEVBQU1qRyxPQUFTLEVBQ2YsTUFBTSxJQUFJd0UsTUFBTSxrQkFDcEIsSUFBSyxJQUFJMUUsRUFBSSxFQUFHQSxFQUFJbUcsRUFBTWpHLFNBQVVGLEVBQUcsQ0FDbkMsSUFBSXFHLEVBQU1GLEVBQU1HLFdBQVd0RyxHQUFHNEYsU0FBUyxJQUN2Q1EsRUFBSXBHLEdBQW9CLElBQWZxRyxFQUFJbkcsT0FDVG1HLEVBQ0EsSUFBTUEsRUFFZCxNQVZhLDJCQVVHRCxFQUFJRyxLQUFLLElBRXRCLFNBQVNDLEVBQXVCQyxHQUNuQyxPQUFPLElBQWtCOUIsVUFBTSxPQUFRLEVBQVEsV0FDM0MsSUFBSStCLEVBQVNoSCxFQUFNaUgsRUFBUUMsRUFBSTVHLEVBQy9CLE9BQU8sSUFBb0IyRSxLQUFNLFNBQVVrQyxHQUN2QyxPQUFRQSxFQUFHQyxPQUNQLEtBQUssRUFJRCxPQUhBSixFQUFVLElBQUlLLFlBQ2RySCxFQUFPZ0gsRUFBUU0sT0FBT1AsR0FDdEJHLEVBQUtLLFdBQVdsRSxLQUNULENBQUMsRUFBYW1FLE9BQU9DLE9BQU9SLE9BQU8sVUFBV2pILElBQ3pELEtBQUssRUFHRCxPQUZBaUgsRUFBUyxJQUFLQyxFQUFHL0YsTUFBTW9HLFdBQVksTUFBQyxFQUFRSixFQUFHTyxVQUMvQ3BILEVBQUksRUFDRyxDQUFDLEVBQWMsdUNBQXVDd0YsUUFBUSxRQUFTLFNBQVUzRCxHQUNoRixJQUFJd0YsRUFBU1YsRUFBTzNHLEtBQU8sR0FBSyxFQUloQyxPQUh5QixNQUFONkIsRUFDZndGLEVBQ1MsRUFBVEEsRUFBZSxHQUNDekIsU0FBUyxZQU1sRCxTQUFTMEIsRUFBYWIsR0FDekIsT0FBTyxJQUFrQjlCLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQUkrQixFQUFTYSxFQUFZQyxFQUFhWixFQUN0QyxPQUFPLElBQW9CakMsS0FBTSxTQUFVa0MsR0FDdkMsT0FBUUEsRUFBR0MsT0FDUCxLQUFLLEVBSUQsT0FIQUosRUFBVSxJQUFJSyxZQUNkUSxFQUFhYixFQUFRTSxPQUFPUCxHQUM1QkcsRUFBS0ssV0FBV2xFLEtBQ1QsQ0FBQyxFQUFhbUUsT0FBT0MsT0FBT1IsT0FBTyxVQUFXWSxJQUN6RCxLQUFLLEVBRUQsT0FEQUMsRUFBYyxJQUFLWixFQUFHL0YsTUFBTW9HLFdBQVksTUFBQyxFQUFRSixFQUFHTyxPQUFRLEVBQUcsTUFDeEQsQ0FBQyxHQWlCSkssRUFqQjBCRCxFQWtCdkNFLE1BQU10SCxVQUFVdUgsSUFBSXJILEtBQUttSCxFQUFRLFNBQVVHLEdBQUssT0FBUSxLQUFPQSxFQUFFaEMsU0FBUyxLQUFLckMsT0FBTyxLQUFPZ0QsS0FBSyxNQUR0RyxJQUFpQmtCLE1BWnhCLElBQUlJLEVBQW9CLEdBQ2pCLFNBQVNDLEVBQXFCQyxHQUNqQyxJQUFJQyxFQUFVRCxFQUFPSixJQUFJLFNBQVVsQixHQUFTLE9BQU9vQixFQUFrQnBCLEtBQ2pFd0IsRUFBbUIsR0FLdkIsR0FKQUQsRUFBUS9ELFFBQVEsU0FBVWxELEVBQVFtSCxHQUN6Qm5ILEdBQ0RrSCxFQUFpQnpILEtBQUt1SCxFQUFPRyxNQUVMLElBQTVCRCxFQUFpQi9ILE9BQ2pCLE9BQU84SCxFQUNYLE1BQU1HLFFBQVFDLElBQUlILEVBQWlCTixJQUFJLFNBQVVsQixHQUFTLE9BQU9hLEVBQWFiLEdBQU9SLEtBQUssU0FBVWxGLEdBQVUsT0FBTzhHLEVBQWtCcEIsR0FBUzFGLE9BSzdJLFNBQVNzSCxFQUFZQyxFQUFHQyxHQUUzQixJQURBLElBQUlDLEVBQVNGLEVBQ0p0SSxFQUFJLEVBQUcyQixFQUFJMkcsRUFBRXBJLE9BQVFGLEVBQUkyQixJQUFLM0IsRUFBRyxDQUN0QyxJQUFJeUMsRUFBSTZGLEVBQUV0SSxHQUNOeUksRUFBU0YsRUFBTzlGLEdBQ2hCZ0csSUFBV2hHLElBQ1ArRixJQUFXRixJQUNYRSxFQUFTRixFQUFFL0UsU0FDZmlGLEVBQU94SSxHQUFLeUksR0FHcEIsT0FBT0QsSSxnQ0N2R1gsMkNBRWFFLEVBQVUsU0FBQyxHLElBQUMsSUFBQTVCLGFBQUEsV0FBOEIsbUNBQU0scUJBQUc2QixVQUFVLHdCQUF1QixjQUFhLFMsSUFBa0I3QixLLHdDQ0ZoSSxJQUFJYSxFQUFNLENBQ1QsVUFBVyxHQUNYLGFBQWMsR0FDZCxVQUFXLEdBQ1gsYUFBYyxHQUNkLFVBQVcsR0FDWCxhQUFjLEdBQ2QsVUFBVyxHQUNYLGFBQWMsR0FDZCxVQUFXLEdBQ1gsYUFBYyxHQUNkLFVBQVcsR0FDWCxhQUFjLEdBQ2QsVUFBVyxHQUNYLGFBQWMsR0FDZCxPQUFRLEdBQ1IsVUFBVyxJQUlaLFNBQVNpQixFQUFlQyxHQUN2QixJQUFJQyxFQUFLQyxFQUFzQkYsR0FDL0IsT0FBT3hILEVBQW9CeUgsR0FFNUIsU0FBU0MsRUFBc0JGLEdBQzlCLElBQUl4SCxFQUFvQlksRUFBRTBGLEVBQUtrQixHQUFNLENBQ3BDLElBQUlHLEVBQUksSUFBSXRFLE1BQU0sdUJBQXlCbUUsRUFBTSxLQUVqRCxNQURBRyxFQUFFQyxLQUFPLG1CQUNIRCxFQUVQLE9BQU9yQixFQUFJa0IsR0FFWkQsRUFBZU0sS0FBTyxXQUNyQixPQUFPL0ksT0FBTytJLEtBQUt2QixJQUVwQmlCLEVBQWVPLFFBQVVKLEVBQ3pCckgsRUFBT0QsUUFBVW1ILEVBQ2pCQSxFQUFlRSxHQUFLLEssc1NDOUJiLElBQU1NLEVBQTZCLENBQ3hDLE9BQ0EsT0FDQSxTQUNBLFFBQ0EsY0FDQSxjQUNBLFdBQ0EsYUFDQSxjQUVLLFNBQVNDLEVBQVVDLEVBQVlDLEVBQWVDLEdBQ25ELElBQUlDLEVDakJTLFNBQXdCSCxHQUNyQyxNQUFPLENBQUMsQ0FDTkksS0FBTSxRQUNObEgsTUFBTzhHLEVBQUtLLE1BQ1osQ0FDQUQsS0FBTSxTQUNObEgsTUFBTzhHLEVBQUtNLFNBQ1hDLE9BQU9QLEVBQUtRLE1BQU1uQyxJQUFJLFNBQUFvQyxHQUFRLE9BQy9CTCxLQUFNLE9BQ05sSCxNQUFPdUgsTUFDSkYsT0FBT1AsRUFBS1EsTUFBTW5DLElBQUksU0FBQW9DLEdBQVEsT0FDakNMLEtBQU0sYUFDTmxILE1BQU84RyxFQUFLTSxPQUFTLElBQU1HLE1ES2hCQyxDQUFjVixHQU0zQixNQUx1QixNQUFuQkUsR0FBMEJGLEVBQUtXLFdBQ2pDUixFQUFTQSxFQUFPUyxPQUFPLFNBQUFDLEdBQVMsTUFBZSxVQUFmQSxFQUFNVCxRQUUzQixZQUFXLElBQWVVLGdCQUFnQmIsRUFBSWMsS0FBTyxJQUFLWixFQUFRRCxHQVMxRSxTQUFTYyxFQUFlaEIsRUFBWUMsR0FDekMsT0FBT0YsRUFBVUMsRUFBTUMsRUFBSyxLQU92QixTQUFTZ0IsRUFBa0JqQixFQUFZTSxHQUM1QyxJQUFNWSxFQUFZbEIsRUFBS1EsTUFBTVcsS0FBSyxTQUFBVixHQUFRLE1BQVMsYUFBVEEsR0FBZ0MsVUFBVEEsSUFDM0RXLEdBQW1CZCxHQUFRLElBQUllLGdCQUFrQnJCLEVBQUtNLE9BQU9lLGNBQ25FLE9BQVFILEdBQWFFLEVBR2hCLFNBQVNFLEVBQXlCdEIsRUFBWU0sR0FDbkQsT0FBT04sRUFBS1EsTUFBTWUsU0FBUyxVQUFZTixFQUFrQmpCLEVBQU1NLEdBRzFELElBQU1rQixFQUFtQixDQUM5QkMsTUFBQSxTQUFPQyxHQUNFLElBQUFqQixFQUFBLEVBQUFBLEtBQU1ILEVBQUEsRUFBQUEsT0FBUXFCLEVBQUEsRUFBQUEsSUFDZkMsRUFBZSxZQUFpQkMsU0FBU0MsUUFDekNDLEVBQVcsT0FBSUgsRUFBYyxDQUFBbkIsS0FBSSxFQUFFSCxPQUFNLElBQ3pDMEIsRUFBaUIsWUFBb0JELEdBQ3ZDSixFQUNGRSxTQUFTSSxLQUFPLEdBQUdOLEVBQU1LLEdBRXpCSCxTQUFTSyxLQUFPLElBQ2hCTCxTQUFTQyxPQUFTRSxLQUtqQixTQUFTUCxFQUFNQyxHQUNwQkYsRUFBaUJDLE1BQU1DLEdBR2xCLFNBQVNTLEVBQTRCUixFQUFhUyxHLFFBQ2pEUixFQUFlLFlBQWlCQyxTQUFTQyxRQUN6Q08sRUFBaUIsRyxJQUN2QixJQUFvQixVQUFBdkMsR0FBMEIsOEJBQUUsQ0FBM0MsSUFBTXdDLEVBQUssUUFDVlYsRUFBYVUsS0FBUUQsRUFBZUMsR0FBU1YsRUFBYVUsSyxpR0FFaEUsSUFBTU4sRUFBaUIsWUFBb0IsT0FBSUssRUFBbUJELElBQzVERyxFQUFRWixFQUFJYSxRQUFRLEtBQzFCLE9BQU9ELEdBQVMsRUFDZCxHQUFHWixFQUFJYyxPQUFPLEVBQUVGLEdBQVNQLEVBQWlCTCxFQUFJYyxPQUFPRixHQUNyRCxHQUFHWixFQUFNSyxJLDJJRTNFTixTQUFTVSxFQUFpQkMsRUFBd0JqQixHQUNoRCxJQUFBa0IsR0FBQSxPQUFBQSxRQUNEbkwsRUFBUyxHQU1mLE9BTElrTCxHQUFrQkEsRUFBZS9MLE9BQVMsR0FDNUMrTCxFQUFlRixPQUFPLEdBQ25CSSxNQUFNLEtBQ054RSxJQUFJLFNBQUF5RSxHQUFRLE9BQUFBLEVBQUtELE1BQU0sS0FBS3hFLElBQUksU0FBQXJHLEdBQUssT0FBQStLLG1CQUFtQi9LLEVBQUVnTCxZQUMxRHJJLFFBQVEsU0FBQyxHLElBQUEsV0FBQ25CLEVBQUEsS0FBS04sRUFBQSxLQUFXLE9BQUF6QixFQUFPbUwsRUFBVXBKLEVBQUk2SCxjQUFnQjdILEdBQU9OLElBQ3BFekIsRUFHVCxTQUFTd0wsRUFBYUMsR0FDcEIsT0FBT3JNLE9BQU8rSSxLQUFLc0QsR0FBUXRDLE9BQU8sU0FBQXBILEdBQU8sWUFBZ0IySixJQUFoQkQsRUFBTzFKLEtBQW9CNkUsSUFBSSxTQUFBN0UsR0FBTyxPQUFHNEosbUJBQW1CNUosR0FBSSxJQUFJNEosbUJBQW1CRixFQUFPMUosTUFBU3lELEtBQUssS0FHaEosU0FBU29HLEVBQW9CSCxHQUNsQyxNQUFPLElBQU1ELEVBQWFDLEdBV3JCLFNBQVNJLEVBQWtCQyxHQUNoQyxJQUFNQyxFQUFTRCxFQUFxQmYsUUFBUSxLQUM1QyxPQUFPZ0IsR0FBVSxFQUNmLENBQUNELEVBQXFCZCxPQUFPLEVBQUdlLEdBQVNELEVBQXFCZCxPQUFPZSxJQUNyRSxDQUFDRCxFQUFzQixNLGdDQ25DM0IsMkNBQ2FFLEVBQWtCLGdCQUFvQixDQUFDQyxLQUFNLFEsMkRDVXRELEVBQTRCLFdBQzVCLFNBQVNDLEVBQVdDLEVBQVlDLEVBQVNuQyxHQUNyQ3JHLEtBQUt1SSxXQUFhQSxFQUNsQnZJLEtBQUt3SSxRQUFVQSxFQUNmeEksS0FBS3FHLFFBQVVBLEVBQ2ZyRyxLQUFLeUkseUJBQTJCLEVBQ2hDekksS0FBSzBJLE1BQVEsR0FDYjFJLEtBQUsySSxRQUFVLElBQUksSUFBUTNJLE1BQzNCQSxLQUFLNEksYUFBZSxDQUFFN0ssS0FBTSxRQUM1QmlDLEtBQUs2SSxXQUFheEMsRUFBUXlDLE9BQ3RCLFVBQVl6QyxFQUFReUMsT0FDcEJ6QyxFQUFRMEMsU0FDSixTQUFXUixFQUFXUyxLQUFLM0MsRUFBUTBDLFNBQVcsS0FBTzFDLEVBQVE0QyxVQUFZLEtBQ3pFLEtBQ1JqSixLQUFLa0osZUFBaUI3QyxFQUFRNkMsZ0JBQWtCLEtBNklwRCxPQTNJQTFOLE9BQU8rQixlQUFlK0ssRUFBVzdNLFVBQVcsU0FBVSxDQUNsRGdDLElBQUssV0FDRCxPQUFPdUMsS0FBSzJJLFNBRWhCbkwsWUFBWSxFQUNaMkwsY0FBYyxJQUVsQmIsRUFBVzdNLFVBQVUyTixjQUFnQixTQUFVQyxFQUFNbEksRUFBUW1JLEVBQVN2QyxFQUFPNkIsR0FDekUsSUFBSVcsRUFBUXZKLEtBQ1I3QixFQUFNZ0QsRUFBUyxJQUFNa0ksRUFBTyxJQUFNRyxLQUFLQyxVQUFVSCxHQUFXLElBQU1FLEtBQUtDLFVBQVUxQyxHQUFTLElBQU15QyxLQUFLQyxVQUFVYixHQUMvR2MsRUFBUTFKLEtBQUswSSxNQUFNdkssR0FDdkIsR0FBSXVMLEVBQU8sQ0FFUCxHQUFJLFlBQWFBLEVBQ2IsTUFBTUEsRUFBTUMsUUFFaEIsT0FBT0QsRUFBTXROLE9BSWIsSUFBSXVOLEVBQVUzSixLQUFLNEosTUFBTVAsRUFBTWxJLEVBQVFtSSxFQUFTdkMsRUFBTzZCLEdBQWN0SCxLQUFLLFNBQVV1SSxHQUFPLE9BQU8sSUFBa0JOLE9BQU8sT0FBUSxFQUFRLFdBQ3ZJLElBQUlPLEVBQVFDLEVBQ1osT0FBTyxJQUFvQi9KLEtBQU0sU0FBVWlDLEdBQ3ZDLE9BQVFBLEVBQUdFLE9BQ1AsS0FBSyxFQUVELE9BREEySCxFQUFTRCxFQUFJQyxPQUNOLENBQUMsRUFBYUQsRUFBSUUsUUFDN0IsS0FBSyxFQVNELE9BUkFBLEVBQU85SCxFQUFHUSxPQUNWekMsS0FBSzBJLE1BQU12SyxHQUFPLENBQ2QvQixPQUFRLENBQ0owTixPQUFRQSxFQUNSQyxLQUFNLFdBQWMsT0FBT0EsR0FDM0JDLEtBQU0sV0FBYyxPQUFPUixLQUFLUyxNQUFNRixNQUd2QyxDQUFDLFVBT3hCLE1BRkEvSixLQUFLMEksTUFBTXZLLEdBQU8sQ0FBRXdMLFFBQVNBLEdBRXZCQSxHQUdkckIsRUFBVzdNLFVBQVVtTyxNQUFRLFNBQVVQLEVBQU1sSSxFQUFRbUksRUFBU3ZDLEVBQU82QixHQUNqRSxJQUFJVyxFQUFRdkosS0FHWixRQUZFQSxLQUFLeUkseUJBQ1B6SSxLQUFLMkksUUFBUXVCLFNBQVNsSyxNQUNmQSxLQUFLbUssT0FBT2QsRUFBTWxJLEVBQVFtSSxFQUFTdkMsRUFBTzZCLEdBQzVDdEgsS0FBSyxTQUFVdUksR0FHaEIsUUFGRU4sRUFBTWQseUJBQ1JjLEVBQU1aLFFBQVF1QixTQUFTWCxHQUNoQk0sSUFDUk8sTUFBTSxTQUFVQyxHQUdmLFFBRkVkLEVBQU1kLHlCQUNSYyxFQUFNWixRQUFRdUIsU0FBU1gsR0FDaEIvRixRQUFROEcsT0FBT0QsTUFHOUIvQixFQUFXN00sVUFBVTBPLE9BQVMsU0FBVWQsRUFBTWxJLEVBQVFtSSxFQUFTdkMsRUFBTzZCLEdBQ2xFLE9BQU8sSUFBa0I1SSxVQUFNLE9BQVEsRUFBUSxXQUMzQyxJQUFJdUssRUFBVXRJLEVBQUk0RyxFQUFZMkIsRUFBV3RCLEVBQWdCaEgsRUFBSXVJLEVBQUluRSxFQUFLdUQsRUFBS2EsRUFBU0MsRUFDcEYsT0FBTyxJQUFvQjNLLEtBQU0sU0FBVTRLLEdBQ3ZDLE9BQVFBLEVBQUd6SSxPQUNQLEtBQUssRUFhRCxPQVpJeUcsR0FBdUMsYUFBdkJBLEVBQWFGLFFBRzdCM0IsRUFBUSxJQUFpQixHQUFJQSxFQUFPLENBQUU4RCxRQUFTLGlCQUVuRE4sRUFBV3hELEdBQVN2TCxPQUFPK0ksS0FBS3dDLEdBQU94QixPQUFPLFNBQVVwSCxHQUFPLFlBQXNCMkosSUFBZmYsRUFBTTVJLEtBQXVCNkUsSUFBSSxTQUFVN0UsR0FDN0csT0FBTzRKLG1CQUFtQjVKLEdBQ3RCLElBQ0E0SixtQkFBbUJoQixFQUFNNUksTUFFNUJ5RCxLQUFLLEtBQ0NpSCxHQUFYNUcsRUFBS2pDLE1BQXNCNkksV0FBWTJCLEVBQVl2SSxFQUFHdUksVUFBV3RCLEVBQWlCakgsRUFBR2lILGVBQzlFTCxHQUFlMkIsSUFBYXRCLEVBQXdCLENBQUMsRUFBYSxJQUN6RWhILEVBQUtsQyxLQUNFLENBQUMsRUFBYWtKLEVBQWU0QixjQUN4QyxLQUFLLEVBQ0Q1SSxFQUFHc0ksVUFBWUEsRUFBWUksRUFBR25JLE9BQzlCbUksRUFBR3pJLE1BQVEsRUFDZixLQUFLLEVBQ0QsT0FBS3FJLEVBQ0NBLEVBQVVPLFFBQVVwSyxLQUFLQyxPQUMvQlgsUUFBUUMsSUFBSSw4QkFDWnVLLEVBQUt6SyxLQUNFLENBQUMsRUFBYWtKLEVBQWU4QixrQkFIVSxDQUFDLEVBQWEsR0FEckMsQ0FBQyxFQUFhLEdBS3pDLEtBQUssRUFDRFAsRUFBR0QsVUFBWUEsRUFBWUksRUFBR25JLE9BQzlCbUksRUFBR3pJLE1BQVEsRUFDZixLQUFLLEVBQ0QwRyxFQUFhLFVBQVkyQixFQUFVUyxNQUNuQ0wsRUFBR3pJLE1BQVEsRUFDZixLQUFLLEVBTUQsT0FKSTBHLElBQ0FTLEVBQVE0QixjQUFnQnJDLEdBRTVCdkMsRUFBTXRHLEtBQUt3SSxRQUFVYSxHQUFRa0IsRUFBVyxJQUFNQSxFQUFXLElBQ2xELENBQUMsRUFBYXZLLEtBQUt1SSxXQUFXcUIsTUFBTXRELEVBQUssSUFBaUIsR0FBSXRHLEtBQUs0SSxhQUFjLENBQUVVLFFBQVNBLEVBQVNuSSxPQUFRQSxHQUFVeUgsS0FDbEksS0FBSyxFQUVELE9BQW9CLE1BRHBCaUIsRUFBTWUsRUFBR25JLFFBQ0NxSCxRQUFpQjlKLEtBQUtrSixnQkFDaEN3QixFQUFVYixFQUFJUCxRQUFRN0wsSUFBSSxvQkFDMUJ3QyxRQUFRQyxJQUFJLE9BQVMySixFQUFJQyxPQUFTLFVBQVk5SixLQUFLd0ksUUFBVWEsSUFDdkRxQixHQUFXLFVBQVVTLEtBQUtULElBQ2hDQyxFQUFLM0ssS0FDRSxDQUFDLEVBQWFBLEtBQUtrSixlQUFlOEIsa0JBRlMsQ0FBQyxFQUFhLElBSFIsQ0FBQyxFQUFhLEdBTTFFLEtBQUssRUFHRCxPQUZBTCxFQUFHSCxVQUFZSSxFQUFHbkksT0FDbEI2RyxFQUFRNEIsY0FBZ0IsVUFBWWxMLEtBQUt3SyxVQUFVUyxNQUM1QyxDQUFDLEVBQWFqTCxLQUFLdUksV0FBV3FCLE1BQU10RCxFQUFLLElBQWlCLEdBQUl0RyxLQUFLNEksYUFBYyxDQUFFVSxRQUFTQSxFQUFTbkksT0FBUUEsR0FBVXlILEtBQ2xJLEtBQUssRUFDRGlCLEVBQU1lLEVBQUduSSxPQUNUbUksRUFBR3pJLE1BQVEsRUFDZixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWMwSCxTQUs5Q3ZCLEVBQVc3TSxVQUFVZ0MsSUFBTSxTQUFVNEwsRUFBTXRDLEVBQU82QixHQUM5QyxPQUFPNUksS0FBSzRKLE1BQU1QLEVBQU0sTUFBTyxDQUFFK0IsT0FBUSxnQ0FBa0NyRSxFQUFPNkIsSUFFdEZOLEVBQVc3TSxVQUFVNFAsWUFBYyxTQUFVaEMsRUFBTXRDLEVBQU82QixHQUN0RCxPQUFPNUksS0FBS29KLGNBQWNDLEVBQU0sTUFBTyxDQUFFK0IsT0FBUSxnQ0FBa0NyRSxFQUFPNkIsSUFFOUZOLEVBQVc3TSxVQUFVNlAsS0FBTyxTQUFVakMsRUFBTXRPLEVBQU02TixHQUM5QyxPQUFPNUksS0FBSzRKLE1BQU1QLEVBQU0sT0FBUSxDQUM1QixlQUFnQixtQkFDaEIsT0FBVSxvQkFDWCxLQUFNLElBQWlCLEdBQUlULEVBQWMsQ0FBRTJDLEtBQU0vQixLQUFLQyxVQUFVMU8sT0FFdkV1TixFQUFXN00sVUFBVStQLE9BQVMsU0FBVW5DLEVBQU10QyxFQUFPd0UsRUFBTTNDLEdBQ3ZELE9BQU81SSxLQUFLNEosTUFBTVAsRUFBTSxTQUFVLENBQUUrQixPQUFRLGdDQUFrQ3JFLEVBQU8sSUFBaUIsR0FBSTZCLEVBQWMsQ0FBRTJDLEtBQU1BLE1BRTdIakQsRUEzSm9CLEdDUjNCLEVBQW1DLFdBQ25DLFNBQVNtRCxFQUFrQmxELEVBQVltRCxFQUFTQyxFQUFTQyxFQUFVQyxFQUFjQyxFQUFVQyxHQUN2Ri9MLEtBQUt1SSxXQUFhQSxFQUNsQnZJLEtBQUswTCxRQUFVQSxFQUNmMUwsS0FBSzJMLFFBQVVBLEVBQ2YzTCxLQUFLNEwsU0FBV0EsRUFDaEI1TCxLQUFLNkwsYUFBZUEsRUFDcEI3TCxLQUFLOEwsU0FBV0EsRUFDaEI5TCxLQUFLK0wsV0FBYUEsRUFDbEIvTCxLQUFLd0ssVUFBWSxDQUFFUyxNQUFPLEtBQU1GLFFBQVMsR0FDekMvSyxLQUFLZ00sT0FBUyxJQUFJLEVBQVd6RCxFQUFZLEdBQUksQ0FDekNRLFNBQVUvSSxLQUFLNEwsU0FDZjNDLFNBQVVqSixLQUFLNkwsZUFFbkI3TCxLQUFLOEssVUFBWSxZQUFzQjlLLEtBQUs4SyxVQUFVMU0sS0FBSzRCLE9BQzNEQSxLQUFLZ0wsY0FBZ0IsWUFBc0JoTCxLQUFLZ0wsY0FBYzVNLEtBQUs0QixPQXFFdkUsT0FuRUF5TCxFQUFrQmhRLFVBQVVxUCxVQUFZLFdBQ3BDLE9BQU8sSUFBa0I5SyxVQUFNLE9BQVEsRUFBUSxXQUMzQyxJQUFJaUMsRUFBSWdKLEVBQU9GLEVBQVM3SSxFQUN4QixPQUFPLElBQW9CbEMsS0FBTSxTQUFVeUssR0FDdkMsT0FBUUEsRUFBR3RJLE9BQ1AsS0FBSyxFQUVELEdBREFGLEVBQUtqQyxLQUFLd0ssVUFBV1MsRUFBUWhKLEVBQUdnSixNQUFPRixFQUFVOUksRUFBRzhJLFFBQ2hERSxHQUFTRixHQUFXcEssS0FBS0MsTUFDekIsTUFBTyxDQUFDLEVBQWNaLEtBQUt3SyxXQUMvQkMsRUFBR3RJLE1BQVEsRUFDZixLQUFLLEVBR0QsT0FGQXNJLEVBQUd3QixLQUFLcFEsS0FBSyxDQUFDLEVBQUcsRUFBRyxDQUFFLElBQ3RCcUcsRUFBS2xDLEtBQ0UsQ0FBQyxFQUFhQSxLQUFLMEwsUUFBUVEsS0FBS2xNLEtBQUs0TCxTQUFXLElBQU01TCxLQUFLMkwsVUFDdEUsS0FBSyxFQUVELE9BREF6SixFQUFHc0ksVUFBWUMsRUFBR2hJLE9BQ2R6QyxLQUFLd0ssVUFBVVMsT0FBU2pMLEtBQUt3SyxVQUFVTyxTQUFXcEssS0FBS0MsTUFDaEQsQ0FBQyxFQUFjWixLQUFLd0ssV0FDeEIsQ0FBQyxFQUFheEssS0FBS2dMLGlCQUM5QixLQUFLLEVBRUQsT0FEQVAsRUFBR2hJLE9BQ0ksQ0FBQyxFQUFjekMsS0FBS3dLLFdBQy9CLEtBQUssRUFFRCxPQURNQyxFQUFHaEksT0FDRixDQUFDLEVBQWF6QyxLQUFLZ0wsaUJBQzlCLEtBQUssRUFFRCxPQURBUCxFQUFHaEksT0FDSSxDQUFDLEVBQWN6QyxLQUFLd0ssV0FDL0IsS0FBSyxFQUFHLE1BQU8sQ0FBQyxTQUtoQ2lCLEVBQWtCaFEsVUFBVXVQLGNBQWdCLFdBQ3hDLE9BQU8sSUFBa0JoTCxVQUFNLE9BQVEsRUFBUSxXQUMzQyxJQUFJNkosRUFBS3NDLEVBQVNsSyxFQUFJQyxFQUN0QixPQUFPLElBQW9CbEMsS0FBTSxTQUFVeUssR0FDdkMsT0FBUUEsRUFBR3RJLE9BQ1AsS0FBSyxFQUNEZ0ssRUFBVSxFQUNWMUIsRUFBR3RJLE1BQVEsRUFDZixLQUFLLEVBQ0QsT0FBTWdLLEVBQVUsR0FDaEJsTSxRQUFRQyxJQUFJLHdCQUEwQkYsS0FBSzJMLFNBQ3BDLENBQUMsRUFBYTNMLEtBQUtnTSxPQUFPdk8sSUFBSXVDLEtBQUs4TCxTQUFVOUwsS0FBSytMLFdBQVksQ0FBRXJELE1BQU8sYUFGbkQsQ0FBQyxFQUFhLEdBRzdDLEtBQUssRUFFRCxPQUFtQixPQURuQm1CLEVBQU1ZLEVBQUdoSSxRQUNEcUgsUUFDSjdKLFFBQVFtTSxLQUFLLE9BQVN2QyxFQUFJQyxPQUFTLElBQU1ELEVBQUl3QyxZQUN0QyxDQUFDLEVBQWEsS0FFekJwSyxFQUFLakMsS0FDTGtDLEVBQUssR0FDRSxDQUFDLEVBQWEySCxFQUFJRSxTQUM3QixLQUFLLEVBSUQsT0FIQTlILEVBQUd1SSxXQUFhdEksRUFBRytJLE1BQVFSLEVBQUdoSSxPQUFRUCxFQUFHNkksUUFBVXBLLEtBQUtDLE1BQVEsTUFBZ0JzQixHQUNoRmpDLFFBQVFDLElBQUksaUJBQW1CRixLQUFLMkwsUUFBVSxLQUFPbkMsS0FBS0MsVUFBVXpKLEtBQUt3SyxZQUN6RXhLLEtBQUswTCxRQUFRWSxLQUFLdE0sS0FBSzRMLFNBQVcsSUFBTTVMLEtBQUsyTCxRQUFTM0wsS0FBS3dLLFdBQ3BELENBQUMsRUFBY3hLLEtBQUt3SyxXQUMvQixLQUFLLEVBRUQsUUFERTJCLEVBQ0ssQ0FBQyxFQUFhLEdBQ3pCLEtBQUssRUFBRyxNQUFNLElBQUlwTSxNQUFNLGdDQUFrQ3lKLEtBQUtDLFVBQVV6SixLQUFLMkwsZ0JBS3ZGRixFQXBGMkIsR0NIbENjLEVBQWdDLFdBQ2hDLFNBQVNBLEVBQWVDLEVBQWlCQyxFQUFrQkMsR0FDdkQxTSxLQUFLd00sZ0JBQWtCQSxFQUN2QnhNLEtBQUt5TSxpQkFBbUJBLEVBQ3hCek0sS0FBSzBNLE1BQVFBLEVBa0NqQixPQWhDQUgsRUFBZUksV0FBYSxTQUFVQyxHQUNsQyxJQUFLQSxFQUNELE9BQU8sS0FDWCxJQUFJcEYsRUFBUW9GLEVBQUdwRixNQUFNLEtBQ3JCLEdBQUlBLEVBQU1qTSxPQUFTLEVBQ2YsTUFBTSxJQUFJd0UsTUFBTSwwQkFBNEI2TSxHQUNoRCxJQUFJQyxFQUFZTixFQUFlTyxTQUFTdEYsRUFBTSxJQUMxQ3VGLEVBQWFSLEVBQWVPLFNBQVN0RixFQUFNLElBQzNDa0YsRUFBUWxGLEVBQU0sR0FDbEIsR0FBYyxNQUFWa0YsR0FBMkIsTUFBVkEsR0FBMkIsTUFBVkEsRUFDbEMsTUFBTSxJQUFJM00sTUFBTSwwQkFBNEI2TSxHQUNoRCxPQUFPLElBQUlMLEVBQWVNLEVBQVdFLEVBQVlMLElBRXJESCxFQUFlUyxPQUFTLFNBQVVDLEdBQzlCLE9BQU9BLEVBQWdCcE0sUUFBUSxNQUFPLE9BQU9BLFFBQVEsTUFBTyxRQUVoRTBMLEVBQWVPLFNBQVcsU0FBVUcsR0FDaEMsT0FBT0EsRUFBZ0JwTSxRQUFRLFFBQVMsS0FBS0EsUUFBUSxRQUFTLE1BRWxFMEwsRUFBZTlRLFVBQVV3RixTQUFXLFdBQ2hDLE9BQU9zTCxFQUFlUyxPQUFPaE4sS0FBS3dNLGlCQUFtQixJQUNqREQsRUFBZVMsT0FBT2hOLEtBQUt5TSxrQkFBb0IsSUFDL0N6TSxLQUFLME0sT0FFYkgsRUFBZTlHLGdCQUFrQixTQUFVQyxHQUN2QyxPQUFPQSxFQUNGMUMsSUFBSSxTQUFVNEosR0FBTSxPQUFPTCxFQUFlSSxXQUFXQyxLQUNyRHJILE9BQU8sU0FBVXFILEdBQU0sT0FBT0EsS0FFdkNMLEVBQWVXLGNBQWdCLFNBQVV4SCxHQUNyQyxPQUFPQSxFQUFJMUMsSUFBSSxTQUFVNEosR0FBTSxPQUFPQSxFQUFHM0wsY0FFdENzTCxFQXRDd0IsR0F5QzVCLFNBQVM3SCxFQUFVZ0IsRUFBS3lILEVBQVl0SSxHQUN2QyxRQUFJc0ksRUFBV3JILEtBQUssU0FBVU4sR0FBUyxNQUFzQixTQUFmQSxFQUFNVCxNQUFtQyxVQUFoQlMsRUFBTTNILFNBRXRFNkgsRUFBSUksS0FBSyxTQUFVbkMsR0FDdEIsT0FBT3dKLEVBQVdySCxLQUFLLFNBQVU1SSxHQUM3QixPQUFPeUcsRUFBRTZJLGtCQUFvQnRQLEVBQUU2SCxNQUMzQnBCLEVBQUU4SSxtQkFBcUJ2UCxFQUFFVyxRQUF1QixNQUFaOEYsRUFBRStJLE9BQW9DLE1BQW5CN0gsR0FDMUMsTUFBWmxCLEVBQUUrSSxPQUFpQixDQUFDLElBQUssS0FBS3ZGLFFBQVF0QyxJQUFtQixHQUM3QyxNQUFabEIsRUFBRStJLFdDaERuQixJQUFJLEVBQTJCLFNBQVVVLEdBRXJDLFNBQVNDLEVBQVUvSSxFQUFNZ0osR0FDckIsSUFBSS9ELEVBQVE2RCxFQUFPelIsS0FBS3FFLEtBQU0sT0FBU3NFLEVBQU8sSUFBTWdKLElBQVl0TixLQUtoRSxPQUpBdUosRUFBTWpGLEtBQU9BLEVBQ2JpRixFQUFNK0QsUUFBVUEsRUFDaEIvRCxFQUFNbk0sS0FBTyxPQUFTa0gsRUFDdEJpRixFQUFNK0QsUUFBVSxPQUFTaEosRUFBTyxJQUFNZ0osRUFDL0IvRCxFQUVYLE9BVEEsSUFBa0I4RCxFQUFXRCxHQVN0QkMsRUFWbUIsQ0FXNUJ0TixPQ1pGLDBZQVdBLElBQUksRUFBa0MsV0FDbEMsU0FBU3dOLEVBQWlCaEYsRUFBWVcsRUFBZ0JWLEdBQ2xEeEksS0FBS3dOLEtBQU8sSUFBSSxFQUFXakYsRUFBWUMsRUFBUyxDQUFFVSxlQUFnQkEsSUFtS3RFLE9BaktBcUUsRUFBaUI5UixVQUFVZ1MsWUFBYyxTQUFVQyxFQUFPOUUsR0FDdEQsT0FBTyxJQUFrQjVJLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQUk2SixFQUFLNUgsRUFBSUMsRUFDYixPQUFPLElBQW9CbEMsS0FBTSxTQUFVeUssR0FDdkMsT0FBUUEsRUFBR3RJLE9BQ1AsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFhbkMsS0FBS3dOLEtBQUsvUCxJQUFJLGNBQWdCaVEsR0FBUyxJQUFLLEtBQU05RSxJQUMvRSxLQUFLLEVBRUQsT0FBb0IsTUFEcEJpQixFQUFNWSxFQUFHaEksUUFDQ3FILE9BQXVCLENBQUMsRUFBYSxJQUMvQzdILEVBQUssRUFBVTdELEtBQ2Y4RCxFQUFLLE1BQUMsRUFBUTJILEVBQUlDLFFBQ1gsQ0FBQyxFQUFhRCxFQUFJRSxTQUM3QixLQUFLLEVBQUcsTUFBTSxJQUFLOUgsRUFBRy9GLE1BQU0sRUFBV2dHLEVBQUdnRCxPQUFPLENBQUN1RixFQUFHaEksV0FDckQsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFhb0gsRUFBSUcsUUFDakMsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFjUyxFQUFHaEksY0FLakQ4SyxFQUFpQjlSLFVBQVVnQyxJQUFNLFNBQVVpUSxFQUFPdkosRUFBSWtDLEVBQVN1QyxHQUMzRCxPQUFPLElBQWtCNUksVUFBTSxPQUFRLEVBQVEsV0FDM0MsSUFBSTZKLEVBQUs1SCxFQUFJQyxFQUNiLE9BQU8sSUFBb0JsQyxLQUFNLFNBQVV5SyxHQUN2QyxPQUFRQSxFQUFHdEksT0FDUCxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWFuQyxLQUFLd04sS0FBSy9QLElBQUlpUSxFQUFRLElBQU12SixFQUFJa0MsRUFBU3VDLElBQ3RFLEtBQUssRUFFRCxPQUFvQixNQURwQmlCLEVBQU1ZLEVBQUdoSSxRQUNDcUgsT0FBdUIsQ0FBQyxFQUFhLElBQy9DN0gsRUFBSyxFQUFVN0QsS0FDZjhELEVBQUssTUFBQyxFQUFRMkgsRUFBSUMsUUFDWCxDQUFDLEVBQWFELEVBQUlFLFNBQzdCLEtBQUssRUFBRyxNQUFNLElBQUs5SCxFQUFHL0YsTUFBTSxFQUFXZ0csRUFBR2dELE9BQU8sQ0FBQ3VGLEVBQUdoSSxXQUNyRCxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWFvSCxFQUFJRyxRQUNqQyxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWNTLEVBQUdoSSxjQUtqRDhLLEVBQWlCOVIsVUFBVWtTLEtBQU8sU0FBVUQsRUFBT3JILEVBQVN1QyxHQUN4RCxPQUFPLElBQWtCNUksVUFBTSxPQUFRLEVBQVEsV0FDM0MsSUFBSStHLEVBQU84QyxFQUFLNUgsRUFBSUMsRUFDcEIsT0FBTyxJQUFvQmxDLEtBQU0sU0FBVXlLLEdBQ3ZDLE9BQVFBLEVBQUd0SSxPQUNQLEtBQUssRUFPRCxPQU5BNEUsRUFBUSxJQUFpQixHQUFJVixHQUNMLG9CQUFiRyxVQUE0QkEsU0FBU0MsT0FBT1AsU0FBUyxXQUM1RGEsRUFBTTZHLE9BQVM3RyxFQUFNNkcsT0FBUyxJQUFJMUksT0FBTyxDQUFDLFdBRTFDbUIsR0FBV0EsRUFBUXdILG1CQUNuQjlHLEVBQU04RyxpQkFBbUJyRSxLQUFLQyxVQUFVcEQsRUFBUXdILG1CQUM3QyxDQUFDLEVBQWE3TixLQUFLd04sS0FBSy9QLElBQUksR0FBS2lRLEVBQU8zRyxFQUFPNkIsSUFDMUQsS0FBSyxFQUVELE9BQW9CLE1BRHBCaUIsRUFBTVksRUFBR2hJLFFBQ0NxSCxPQUF1QixDQUFDLEVBQWEsSUFDL0M3SCxFQUFLLEVBQVU3RCxLQUNmOEQsRUFBSyxNQUFDLEVBQVEySCxFQUFJQyxRQUNYLENBQUMsRUFBYUQsRUFBSUUsU0FDN0IsS0FBSyxFQUFHLE1BQU0sSUFBSzlILEVBQUcvRixNQUFNLEVBQVdnRyxFQUFHZ0QsT0FBTyxDQUFDdUYsRUFBR2hJLFdBQ3JELEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYW9ILEVBQUlHLFFBQ2pDLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBY1MsRUFBR2hJLGNBS2pEOEssRUFBaUI5UixVQUFVcVMsTUFBUSxTQUFVQyxFQUFNbkYsR0FDL0MsT0FBTyxJQUFrQjVJLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQUk2SixFQUFLNUgsRUFBSUMsRUFDYixPQUFPLElBQW9CbEMsS0FBTSxTQUFVeUssR0FDdkMsT0FBUUEsRUFBR3RJLE9BQ1AsS0FBSyxFQU1ELE9BSkE0TCxFQUFPQSxFQUFLblAsUUFBUW9QLEtBQUssU0FBVUMsRUFBTUMsR0FDckMsTUFBbUIsUUFBWkQsRUFBS0UsSUFBZ0IsRUFBZ0IsUUFBWkQsRUFBS0MsR0FBZSxFQUNwQyxXQUFaRixFQUFLRSxHQUFrQixFQUFnQixXQUFaRCxFQUFLQyxJQUFtQixFQUFJLElBRXhELENBQUMsRUFBYW5PLEtBQUt3TixLQUFLbEMsS0FBSyxRQUFTeUMsRUFBTW5GLElBQ3ZELEtBQUssRUFFRCxPQUFvQixNQURwQmlCLEVBQU1ZLEVBQUdoSSxRQUNDcUgsT0FBdUIsQ0FBQyxFQUFhLElBQy9DN0gsRUFBSyxFQUFVN0QsS0FDZjhELEVBQUssTUFBQyxFQUFRMkgsRUFBSUMsUUFDWCxDQUFDLEVBQWFELEVBQUlFLFNBQzdCLEtBQUssRUFBRyxNQUFNLElBQUs5SCxFQUFHL0YsTUFBTSxFQUFXZ0csRUFBR2dELE9BQU8sQ0FBQ3VGLEVBQUdoSSxXQUNyRCxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWFvSCxFQUFJRyxRQUNqQyxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWNTLEVBQUdoSSxjQUtqRDhLLEVBQWlCOVIsVUFBVTJTLEdBQUssU0FBVUMsR0FDdEMsT0FBTyxJQUFrQnJPLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQUlzTyxFQUNKLE9BQU8sSUFBb0J0TyxLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFHRCxPQUZBbU0sRUFBUyxJQUFJLEVBQ2JELEVBQVFDLEdBQ0QsQ0FBQyxFQUFhdE8sS0FBSzhOLE1BQU1RLEVBQU9DLG1CQUMzQyxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWN0TSxFQUFHUSxjQUtqRDhLLEVBQWlCOVIsVUFBVStTLFlBQWMsU0FBVWhOLEdBQy9DLE9BQU8sSUFBa0J4QixVQUFNLE9BQVEsRUFBUSxXQUMzQyxJQUFJNkosRUFBSzVILEVBQUlDLEVBQ2IsT0FBTyxJQUFvQmxDLEtBQU0sU0FBVXlLLEdBQ3ZDLE9BQVFBLEVBQUd0SSxPQUNQLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYW5DLEtBQUt3TixLQUFLaEMsT0FBTyxVQUFZaEssSUFDMUQsS0FBSyxFQUVELE9BQW9CLE1BRHBCcUksRUFBTVksRUFBR2hJLFFBQ0NxSCxPQUF1QixDQUFDLEVBQWEsSUFDL0M3SCxFQUFLLEVBQVU3RCxLQUNmOEQsRUFBSyxNQUFDLEVBQVEySCxFQUFJQyxRQUNYLENBQUMsRUFBYUQsRUFBSUUsU0FDN0IsS0FBSyxFQUFHLE1BQU0sSUFBSzlILEVBQUcvRixNQUFNLEVBQVdnRyxFQUFHZ0QsT0FBTyxDQUFDdUYsRUFBR2hJLFdBQ3JELEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYW9ILEVBQUlHLFFBQ2pDLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBY1MsRUFBR2hJLGNBS2pEOEssRUFBaUI5UixVQUFVZ1QsSUFBTSxTQUFVZixFQUFPOUksRUFBSzhKLEdBQ25ELE9BQU8xTyxLQUFLb08sR0FBRyxTQUFVMVEsR0FBSyxPQUFPQSxFQUFFK1EsSUFBSWYsRUFBTzlJLE1BRXREMkksRUFBaUI5UixVQUFVa1QsSUFBTSxTQUFVakIsRUFBTzlJLEdBQzlDLE9BQU81RSxLQUFLb08sR0FBRyxTQUFVMVEsR0FBSyxPQUFPQSxFQUFFaVIsSUFBSWpCLEVBQU85SSxNQUV0RDJJLEVBQWlCOVIsVUFBVW1ULE9BQVMsU0FBVWxCLEVBQU92SixFQUFJMEssRUFBVUgsR0FDL0QsT0FBTzFPLEtBQUtvTyxHQUFHLFNBQVUxUSxHQUFLLE9BQU9BLEVBQUVrUixPQUFPbEIsRUFBT3ZKLEVBQUkwSyxFQUFVSCxNQUV2RW5CLEVBQWlCOVIsVUFBVXFULE1BQVEsU0FBVUosRUFBVUssR0FDbkQsT0FBTy9PLEtBQUtvTyxHQUFHLFNBQVUxUSxHQUFLLE9BQU9BLEVBQUVvUixNQUFNSixFQUFVSyxNQUUzRHhCLEVBQWlCOVIsVUFBVXVULFlBQWMsU0FBVU4sR0FDL0MsT0FBTzFPLEtBQUtvTyxHQUFHLFNBQVUxUSxHQUFLLE9BQU9BLEVBQUVzUixZQUFZTixNQUV2RG5CLEVBQWlCOVIsVUFBVStQLE9BQVMsU0FBVWtDLEVBQU92SixHQUNqRCxPQUFPbkUsS0FBS29PLEdBQUcsU0FBVTFRLEdBQUssT0FBT0EsRUFBRThOLE9BQU9rQyxFQUFPdkosTUFFekRvSixFQUFpQjlSLFVBQVV3VCxNQUFRLFNBQVV2QixFQUFPdkosRUFBSXVCLEdBQ3BELE9BQU8xRixLQUFLb08sR0FBRyxTQUFVMVEsR0FBSyxPQUFPQSxFQUFFdVIsTUFBTXZCLEVBQU92SixFQUFJdUIsTUFFNUQ2SCxFQUFpQjlSLFVBQVV5VCxRQUFVLFNBQVV4QixFQUFPdkosRUFBSXVCLEdBQ3RELE9BQU8xRixLQUFLb08sR0FBRyxTQUFVMVEsR0FBSyxPQUFPQSxFQUFFd1IsUUFBUXhCLEVBQU92SixFQUFJdUIsTUFFOUQ2SCxFQUFpQjlSLFVBQVUwVCxLQUFPLFNBQVVDLEVBQWFDLEVBQVVDLEVBQWFDLEVBQVVwTixHQUN0RixPQUFPbkMsS0FBS29PLEdBQUcsU0FBVTFRLEdBQUssT0FBT0EsRUFBRXlSLEtBQUtDLEVBQWFDLEVBQVVDLEVBQWFDLEVBQVVwTixNQUU5Rm9MLEVBQWlCOVIsVUFBVStULE1BQVEsU0FBVUosRUFBYUMsRUFBVUUsRUFBVXBOLEVBQU91TSxHQUNqRixPQUFPMU8sS0FBS29PLEdBQUcsU0FBVTFRLEdBQUssT0FBT0EsRUFBRThSLE1BQU1KLEVBQWFDLEVBQVVsTixFQUFPb04sRUFBVWIsTUFFekZuQixFQUFpQjlSLFVBQVVnVSxPQUFTLFNBQVVMLEVBQWFDLEVBQVVDLEVBQWFDLEVBQVVwTixHQUN4RixPQUFPbkMsS0FBS29PLEdBQUcsU0FBVTFRLEdBQUssT0FBT0EsRUFBRStSLE9BQU9MLEVBQWFDLEVBQVVDLEVBQWFDLEVBQVVwTixNQUVoR29MLEVBQWlCOVIsVUFBVWlVLFFBQVUsU0FBVU4sRUFBYUMsRUFBVUUsRUFBVXBOLEVBQU91TSxHQUNuRixPQUFPMU8sS0FBS29PLEdBQUcsU0FBVTFRLEdBQUssT0FBT0EsRUFBRWdTLFFBQVFOLEVBQWFDLEVBQVVsTixFQUFPb04sRUFBVWIsTUFFM0ZuQixFQUFpQjlSLFVBQVVrVSxTQUFXLFNBQVVQLEVBQWFDLEVBQVVFLEVBQVVwTixFQUFPdU0sR0FDcEYsT0FBTzFPLEtBQUtvTyxHQUFHLFNBQVUxUSxHQUFLLE9BQU9BLEVBQUVpUyxTQUFTUCxFQUFhQyxFQUFVbE4sRUFBT29OLEVBQVViLE1BRXJGbkIsRUFySzBCLEdBd0tqQyxFQUE2QixXQUM3QixTQUFTcUMsSUFDTDVQLEtBQUt1TyxpQkFBbUIsR0FvRDVCLE9BbERBcUIsRUFBWW5VLFVBQVVnVCxJQUFNLFNBQVVmLEVBQU85SSxFQUFLOEosR0FFOUMsT0FEQTFPLEtBQUt1TyxpQkFBaUIxUyxLQUFLLENBQUVzUyxHQUFJLE1BQU9ULE1BQU9BLEVBQU85SSxJQUFLQSxFQUFLOEosU0FBVUEsSUFDbkUxTyxNQUVYNFAsRUFBWW5VLFVBQVVrVCxJQUFNLFNBQVVqQixFQUFPOUksR0FJekMsY0FIQUEsRUFBTSxJQUFpQixHQUFJQSxJQUNoQmMsSUFDWDFGLEtBQUt1TyxpQkFBaUIxUyxLQUFLLENBQUVzUyxHQUFJLE1BQU9ULE1BQU9BLEVBQU85SSxJQUFLQSxJQUNwRDVFLE1BRVg0UCxFQUFZblUsVUFBVW1ULE9BQVMsU0FBVWxCLEVBQU92SixFQUFJMEssRUFBVUgsR0FDMURHLEVBQVcsSUFBaUIsR0FBSUEsR0FDaEM3TyxLQUFLdU8saUJBQWlCMVMsS0FBSyxDQUFFc1MsR0FBSSxTQUFVVCxNQUFPQSxFQUFPdkosR0FBSUEsRUFBSTBLLFNBQVVBLEVBQVVILFNBQVVBLEtBRW5Ha0IsRUFBWW5VLFVBQVVxVCxNQUFRLFNBQVVKLEVBQVVLLEdBQzlDL08sS0FBS3VPLGlCQUFpQjFTLEtBQUssQ0FBRXNTLEdBQUksUUFBU08sU0FBVUEsRUFBVUssZUFBZ0JBLEtBRWxGYSxFQUFZblUsVUFBVXVULFlBQWMsU0FBVU4sR0FDMUMxTyxLQUFLdU8saUJBQWlCMVMsS0FBSyxDQUFFc1MsR0FBSSxlQUFnQk8sU0FBVUEsS0FFL0RrQixFQUFZblUsVUFBVStQLE9BQVMsU0FBVWtDLEVBQU92SixHQUU1QyxPQURBbkUsS0FBS3VPLGlCQUFpQjFTLEtBQUssQ0FBRXNTLEdBQUksU0FBVVQsTUFBT0EsRUFBT3ZKLEdBQUlBLElBQ3REbkUsTUFFWDRQLEVBQVluVSxVQUFVd1QsTUFBUSxTQUFVdkIsRUFBT3ZKLEVBQUl1QixHQUUvQyxPQURBMUYsS0FBS3VPLGlCQUFpQjFTLEtBQUssQ0FBRXNTLEdBQUksUUFBU1QsTUFBT0EsRUFBT3ZKLEdBQUlBLEVBQUl1QixJQUFLQSxJQUM5RDFGLE1BRVg0UCxFQUFZblUsVUFBVXlULFFBQVUsU0FBVXhCLEVBQU92SixFQUFJdUIsR0FFakQsT0FEQTFGLEtBQUt1TyxpQkFBaUIxUyxLQUFLLENBQUVzUyxHQUFJLFVBQVdULE1BQU9BLEVBQU92SixHQUFJQSxFQUFJdUIsSUFBS0EsSUFDaEUxRixNQUVYNFAsRUFBWW5VLFVBQVUwVCxLQUFPLFNBQVVDLEVBQWFDLEVBQVVDLEVBQWFDLEVBQVVwTixHQUVqRixPQURBbkMsS0FBS3VPLGlCQUFpQjFTLEtBQUssQ0FBRXNTLEdBQUksT0FBUWlCLFlBQWFBLEVBQWFDLFNBQVVBLEVBQVVDLFlBQWFBLEVBQWFDLFNBQVVBLEVBQVVwTixNQUFPQSxJQUNySW5DLE1BRVg0UCxFQUFZblUsVUFBVStULE1BQVEsU0FBVUosRUFBYUMsRUFBVWxOLEVBQU9vTixFQUFVYixHQUM1RTFPLEtBQUt1TyxpQkFBaUIxUyxLQUFLLENBQUVzUyxHQUFJLE9BQVFpQixZQUFhQSxFQUFhQyxTQUFVQSxFQUFVRSxTQUFVQSxFQUFVcE4sTUFBT0EsRUFBT3VNLFNBQVVBLEtBRXZJa0IsRUFBWW5VLFVBQVVnVSxPQUFTLFNBQVVMLEVBQWFDLEVBQVVDLEVBQWFDLEVBQVVwTixHQUVuRixPQURBbkMsS0FBS3VPLGlCQUFpQjFTLEtBQUssQ0FBRXNTLEdBQUksU0FBVWlCLFlBQWFBLEVBQWFDLFNBQVVBLEVBQVVDLFlBQWFBLEVBQWFDLFNBQVVBLEVBQVVwTixNQUFPQSxJQUN2SW5DLE1BRVg0UCxFQUFZblUsVUFBVWlVLFFBQVUsU0FBVU4sRUFBYUMsRUFBVWxOLEVBQU9vTixFQUFVYixHQUU5RSxPQURBMU8sS0FBS3VPLGlCQUFpQjFTLEtBQUssQ0FBRXNTLEdBQUksU0FBVWlCLFlBQWFBLEVBQWFDLFNBQVVBLEVBQVVFLFNBQVVBLEVBQVVwTixNQUFPQSxFQUFPdU0sU0FBVUEsSUFDOUgxTyxNQUVYNFAsRUFBWW5VLFVBQVVrVSxTQUFXLFNBQVVQLEVBQWFDLEVBQVVsTixFQUFPb04sRUFBVWIsR0FDL0UxTyxLQUFLdU8saUJBQWlCMVMsS0FBSyxDQUFFc1MsR0FBSSxZQUFhaUIsWUFBYUEsRUFBYUMsU0FBVUEsRUFBVUUsU0FBVUEsRUFBVXBOLE1BQU9BLEVBQU91TSxTQUFVQSxLQUVySWtCLEVBdERxQixJLGtEQ3pLaEMseUUsT0FTSSxFQUFBQyxlQUFpQixXQUNQLGNBQUVDLEVBQUEsRUFBQUEsY0FBZUMsRUFBQSxFQUFBQSx1QkFBd0JDLEVBQUEsRUFBQUEsc0JBQXVCQyxFQUFBLEVBQUFBLGdCQUFpQkMsRUFBQSxFQUFBQSxjQUNuRkMsRUFBVyxHQUNmLEdBQUdMLEVBQWdCRSxFQUNoQixPQUFPLHVCQUFLaE0sVUFBVSxxQixJQUFzQitMLEUsTUFBMkJELEUsS0FHMUUsSUFBSyxJQUFJTSxFQUFTLEVBQUdBLEdBQVVOLEVBQWVNLElBQzFDRCxFQUFTdFUsS0FDVCx1QkFBS3NDLElBQUtpUyxHQUNOLDBCQUFRcE0sVUFBVSwwQkFBMEJxTSxLQUFNRCxFQUFTTCxFQUF5QkUsRUFBa0JDLEVBQWVJLEdBQUcsSUFBSUMsR0FBRyxJQUFJN1MsRUFBRSxRQUk3SSxPQUFPeVMsRyxFQU1mLE9BN0JrQyxTQTBCOUIsWUFBQS9QLE9BQUEsV0FDSSxPQUFPLHVCQUFLNEQsVUFBVSxrQkFBa0JoRSxLQUFLNlAsbUJBMUJuQyxFQUFBVyxhQUFlLENBQ3pCQyxjQUFlLEVBQ2ZWLHVCQUF3QixFQUN4QkMsc0JBQXVCLEdBQ3ZCQyxnQkFBaUIsWUFDakJDLGNBQWUsV0F1QnZCLEVBN0JBLENBQWtDLGFDVmxDLGdDQXlCQSxrQkFDRSxXQUFZaFIsR0FBWixNQUNFLFlBQU1BLElBQU0sSyxPQUNaLEVBQUtVLE1BQVEsQ0FDWDhRLFdBQVl4UixFQUFNd1IsYUFBYyxHLEVBdUN0QyxPQTNDa0MsU0FRaEMsWUFBQUMsMEJBQUEsU0FBMkJDLEdBQ3JCQSxFQUFVRixhQUFlMVEsS0FBS2QsTUFBTXdSLFlBQ3RDMVEsS0FBS04sU0FBUyxDQUFDZ1IsV0FBWUUsRUFBVUYsY0FJekMsWUFBQXRRLE9BQUEsc0JBQ1EsYUFBRXlRLEVBQUEsRUFBQUEsTUFBTzdNLEVBQUEsRUFBQUEsVUFBV3hELEVBQUEsRUFBQUEsU0FBVXNRLEVBQUEsRUFBQUEsZ0JBQWlCQyxFQUFBLEVBQUFBLGlCQUFrQkMsRUFBQSxFQUFBQSxnQkFBaUJDLEVBQUEsRUFBQUEsYUFDdEZDLEVBQUEsRUFBQUEsWUFBYUMsRUFBQSxFQUFBQSxrQkFDUFQsRUFBQSxXQUFBQSxXQUVSLE9BQUlRLEVBQTBDLHFCQUF0QkMsRUFBMkMsZ0NBQ2pFLGdDQUFHTixHQUNILGdDQUFHclEsSUFDQyxnQ0FDSEEsR0FJSSx1QkFBS3dELFdBQVlBLEdBQVcsSUFBTSxjQUFnQjBNLEVBQWEsUUFBVSxLQUM5RSx1QkFBSzFNLFVBQVcsY0FBZ0I4TSxFQUFrQixJQUFNQSxFQUFrQixJQUN4RU0sUUFBUyxXQUNILEVBQUtsUyxNQUFNbVMsYUFBYSxFQUFLblMsTUFBTW1TLGFBQWEsRUFBS3pSLE1BQU04USxZQUMvRCxFQUFLaFIsU0FBUyxDQUFFZ1IsWUFBYSxFQUFLOVEsTUFBTThRLGVBRTFDLHVCQUFLMU0sVUFBVSx1QkFDYiwyQkFBTTZNLEdBQ0xHLEdBQW1CLGdCQUFDLEVBQVksT0FBS0MsTUFHMUMsdUJBQUtqTixVQUFXLGVBQWlCK00sRUFBbUIsSUFBTUEsRUFBbUIsS0FDMUV2USxLQUlULEVBM0NBLENBQWtDLGMsOEtDVnJCOFEsRUFBaUIsU0FBRSxHLElBQUVDLEVBQUEsRUFBQUEsV0FBWUMsRUFBQSxFQUFBQSxzQkFDcEMsK0JBQUNDLEVBQUEsS0FBdUJDLEVBQUEsS0E2QjlCLE9BTkEsb0JBQVUsV0FDRkYsR0FDQUUsRUFBb0IsT0FBS0gsRUFBWSxDQUFBSSxjQUFjLE1BRXhELENBQUNILEVBQXVCRCxJQUVwQixzQkFBSXBULElBQUtzVCxFQUFzQkcsVUFBV0MsTUFBT0osRUFBc0JLLFNBQVNDLE1BQVEsQ0FBRUMsUUFBUyxJQUFRLElBQzlHLDBCQUNJLHFCQUFHcEwsS0FBTSxVQUFVNkssRUFBc0I5TSxNQUNwQzhNLEVBQXNCSyxTQUFTRyxpQkFBbUJSLEVBQXNCOU0sT0FHakYsMEJBQ0s4TSxFQUFzQkssU0FBU0ksWUFFNUIsZ0JBQUMsSUFBZ0IsQ0FBQ0MsS0FBTVYsSUFDeEIscUJBQUc3SyxLQUFLLElBQ0p3SyxRQUFTLFNBQUFnQixHQUNMQSxFQUFHQyxpQkFDSEQsRUFBR0Usa0JBQ0gsWUFBYWIsS0FDYixZQUFVQSxFQUFzQmMsU0FBVSxNQUcxRCxzQkFBSXZPLFVBQVUsdUJBQXVCLElBQU95TixFQUFzQmUsWUFBWUMsT0FBTyxxQkFDcEYsWUFBZ0JoQixFQTlDckIsU0FBaUNGLEcsd0hBSTdCLE9BSE12RixFQUFTLElBQUkwRyxpQkFBaUJsRixLQUM5QixFQUErQnhOLEtBQUtkLE1BQWxDeVQsRUFBUSxXQUFFQyxFQUFNLFNBQUUzTixFQUFNLFNBQ3hCTixFQUFtQjRNLEVBQVUsS0FBdkJnQixFQUFhaEIsRUFBVSxTQUNyQyxHQUFNRyxFQUFvQixPQUFLSCxFQUFZLENBQUFJLGNBQWMsTSxPQUF6RCxTLGlCQUVnQixPLHVCQUFBLEdBQU0zRixFQUFPdk8sSUFBSSxzQkFBc0J3SCxFQUFNLElBQUkwTixFQUFRLElBQUlDLEVBQU0sSUFBSWpPLEVBQUksSUFBSTROLEksY0FBckZyTyxFQUFNLFVBQ0o0RixRQUFVLEssRUFBZSxJQUFTLEssVUFBQzVGLEVBQUk0RixRQUFRLEdBQU01RixFQUFJNkYsU0FBN0QsTSxPQUFtQixNQUFNLFlBQUksSUFBUyxVQUFhLGEsT0FDdkMsU0FBTTdGLEVBQUk2RixRLE9BQzFCLE9BRE04SSxFQUFVLFNBQ2hCLEdBQU1uQixFQUFvQixPQUNuQkgsRUFBWSxDQUFBSSxjQUFjLEVBQzdCRyxTQUFVLE9BQ0hQLEVBQVdPLFNBQVEsQ0FDdEJnQixlQUFnQkQsUSxjQUp4QixTLGNBUUEsTyxXQUFBLEdBQU1uQixFQUFvQixPQUFLSCxFQUFZLENBQUFJLGNBQWMsRUFBT29CLGFBQWMsTSxjQUE5RSxTLCtCQTZCdUR2QixLLGdCQ2pEdER3QixFQUF3QixTQUFFLEcsSUFBRUMsRUFBQSxFQUFBQSxZQUFhQyxFQUFBLEVBQUFBLGdCQUMxQzdLLEVBQUEsMEJBQUFBLEtBQ0E4SyxFQUFBLGdCQUFBQSxrQkFFRkMsRUFBd0I1WCxPQUFPNlgsT0FBTyxHQUFJSixHQUM1Q0ssRUFBY0gsRUFBa0I1WCxPQUFTLEdBQUtDLE9BQU8rSSxLQUFLLEtBQXFCZ0IsT0FBTyxTQUFBZ08sR0FBTSxPQUFBSixFQUFrQmpOLFNBQVNxTixLQUFLdlEsSUFBSSxTQUFBd1EsR0FBTSxXQUFvQkEsS0FDMUpDLEVBQXNCTixFQUFrQjVYLE9BQVMsRUFBSTZYLEVBQXNCN04sT0FBTyxTQUFBN0gsR0FBSyxtQkFBUTRWLEdBQWFJLEtBQUssU0FBQUMsR0FBSyxPQUFBQSxFQUFHQyxzQkFBd0JsVyxFQUFFaUgsU0FBU3lPLEVBa0JoSyxPQWhCQUYsR0FBbUJPLEVBQW9CbFksT0FBUyxHQUFLa1ksRUFBb0JuVSxRQUFRLFNBQUFxRSxHQUM3RUEsRUFBRWtRLGVBQWdCLEVBQ2RsUSxFQUFFbU8sVUFDRm5PLEVBQUVtTyxTQUFTZ0Msa0JBQ1huUSxFQUFFbU8sU0FBU2dDLGlCQUFpQnZZLE9BQVMsSUFDcENvSSxFQUFFbU8sU0FBU2lDLHFCQUNQcFEsRUFBRW1PLFNBQVNrQyxnQkFFUixDQUFDLFdBQVksYUFBYTdNLFFBQVNxQyxLQUFLUyxNQUFNdEcsRUFBRW1PLFNBQVNnQixnQkFBZ0IsR0FBc0JtQixPQUFPQyxRQUFVLEdBQ2hIQyxTQUFTeFEsRUFBRW1PLFNBQVNrQyxnQkFBa0IsTUFBU3ZGLEtBQUssR0FBSSxXQUFXMkYsU0FBU0MsYUFFcEYxUSxFQUFFa1EsZUFBZ0IsS0FLbkJKLEVBQW9CbFksT0FBUyxFQUFJLHlCQUFPeUksVUFBVSwwQkFDckQsNkJBQ0ksMEJBQ0ksMEJBQUtxRSxFQUFLaU0sY0FBYyxDQUFDblEsR0FBRyxvQ0FBcUNvUSxlQUFlLFVBQ2hGLDBCQUFLbE0sRUFBS2lNLGNBQWMsQ0FBQ25RLEdBQUcsaUNBQWtDb1EsZUFBZSxhQUM3RSwwQkFBS2xNLEVBQUtpTSxjQUFjLENBQUNuUSxHQUFHLG9DQUFxQ29RLGVBQWUsY0FDaEYsMEJBQUtsTSxFQUFLaU0sY0FBYyxDQUFDblEsR0FBRywrQkFBZ0NvUSxlQUFlLGFBQzNFLDBCQUFLbE0sRUFBS2lNLGNBQWMsQ0FBQ25RLEdBQUcsOEJBQStCb1EsZUFBZSxZQUdsRiw2QkFDS2QsRUFBb0J6USxJQUFJLFNBQUF1TyxHQUNyQixPQUFPLGdCQUFDRCxFQUFjLENBQUNuVCxJQUFLb1QsRUFBV2lCLFdBQVlqQixXQUFZQSxFQUFZQyxzQkFBeUJELEVBQVdzQyxvQkFNdkgsMkJBQU14TCxFQUFLaU0sY0FBYyxDQUFDblEsR0FBRyxnQ0FBaUNvUSxlQUFlLGdEQ2hEeEVDLEVBQThCLFNBQUUsRyxJQUFFQyxFQUFBLEVBQUFBLGtCQUNuQ3BNLEVBQUEsMEJBQUFBLEtBQ0ZxTSxFQUFxQkQsR0FBcUJBLEVBQWtCbFosT0FDNUQsZ0NBQUNvWixFQUFBLEtBQWVDLEVBQUEsS0FFdEIsT0FBUUgsR0FBa0QsSUFBN0JBLEVBQWtCbFosT0FBc0IsdUJBQUt5SSxVQUFVLHFDQUNoRiwwQkFBS3FFLEVBQUtpTSxjQUFjLENBQUNuUSxHQUFHLHNDQUF1Q29RLGVBQWdCLGtCQUNsRkUsRUFBa0J6UixJQUFJLFNBQUMvRSxFQUFJc0YsR0FDeEIsOEJBQUtwRixJQUFLLGVBQWlCb0YsRUFBT1MsVUFBVyxnQ0FBa0MwUSxJQUF1Qm5SLEVBQVEsRUFBSSxRQUFVLEtBQ3hILHVCQUFLUyxVQUFVLGdDQUFnQ29OLFFBQVMsV0FDcER3RCxFQUFXRCxFQUFjeE4sUUFBUWxKLEVBQUc0VyxRQUFVLEVBQUlGLEVBQWNwUCxPQUFPLFNBQUF1UCxHQUFLLE9BQUFBLEdBQUs3VyxFQUFHNFcsUUFBUyxJQUFJRixFQUFlLENBQUExVyxFQUFHNFcsV0FFbkgsdUJBQUs3USxVQUFXLFlBQWMyUSxFQUFjeE4sUUFBUWxKLEVBQUc0VyxRQUFVLEVBQUksV0FBYSxPQUV0Rix1QkFBSzdRLFVBQVUsc0JBQXNCL0YsRUFBRzhXLGdCQUdoRCx1QkFBSy9RLFVBQVUsc0NBQ1gsdUJBQUtBLFVBQVUsaUNBQ1gsMEJBQVFBLFVBQVUsT0FBT3FFLEVBQUtpTSxjQUFjLENBQUNuUSxHQUFHLHdCQUF5Qm9RLGVBQWdCLGVBZHZDLE0sUUNEckRTLEVBQW1CLFNBQUUsRyxJQUFFQyxFQUFBLEVBQUFBLE9BQVFDLEVBQUEsRUFBQUEsT0FBUWxhLEVBQUEsRUFBQUEsU0FBVTRYLEVBQUEsRUFBQUEsT0FBUXVDLEVBQUEsRUFBQUEsb0JBQzFELG9CQUFBQyxzQkFDUixPQUFPLGtCQUFDLElBQVcsS0FDZEMsRUFBcUJyUyxJQUFJLFNBQUFzUyxHQUN0QixJQUFJQyxFQUF3QixFQUN4QkMsRUFBc0JMLEVBQW9CRixFQUFPOVEsSUFDckQsR0FBSXFSLEVBQ0EsR0FBZSxXQUFYTixFQUNBRCxFQUFPblosUUFBUXdELFFBQVEsU0FBQW1XLEdBQ25CQSxFQUFLQyxRQUFRcFcsUUFBUSxTQUFBcVcsR0FDakJKLEdBQWlCSyxFQUFxQkosRUFBb0JHLGFBRy9ELEdBQWUsV0FBWFQsRUFBcUIsQ0FDNUIsSUFBSVcsRUFBZ0JaLEVBQU9uWixRQUFRNFgsS0FBSyxTQUFBelcsR0FBSyxPQUFBQSxFQUFFa0gsSUFBTW5KLElBQ3JENmEsR0FBaUJBLEVBQWNILFFBQVFwVyxRQUFRLFNBQUFxVyxHQUMzQ0osR0FBaUJLLEVBQXFCSixFQUFvQkcsVUFFNUMsU0FBWFQsSUFDUEssR0FBaUJLLEVBQXFCSixFQUFvQjVDLEtBSWxFLFNBQVNnRCxFQUFxQkUsR0FDMUIsT0FBR0EsRUFDUUEsRUFBZ0J2USxPQUFPLFNBQUF6SCxHQUFJLE9BQUN3WCxFQUFZNUIsS0FBSyxTQUFBdlcsR0FBSyxPQUFBQSxFQUFFNkUsU0FBV2xFLEVBQUVrRSxXQUFTekcsT0FFOUUsRUFHWCxPQUFPZ2EsRUFBZ0IsR0FBSyx5QkFBS3ZSLFVBQVUscUJBQXFCdVIsTyxPQ3hCL0RRLEVBQWEsU0FBRSxHLElBQUVDLEVBQUEsRUFBQUEsS0FBTS9DLEVBQUEsRUFBQUEsWUFBYXdCLEVBQUEsRUFBQUEsa0JBQ3pDLGtCQUFDVSxFQUFBLEVBQUFBLG9CQUFzQmMsRUFBQSxFQUFBQSxlQUFnQmIsRUFBQSxFQUFBQSxzQkF5QjdDLE9BQU8sZ0JBQUMsSUFBWSxDQUNsQi9ELFlBQWEsU0FBQzZFLEdBQWUsT0F4Qi9CLFNBQTRCQyxHLGtIQUN0QkEsR0FBWWhCLEVBQW9CYyxFQUFlOVIsSUFBSTZSLEVBQUs3UixJQUN2QyxHQUFNLFlBQWEsSUFBSWlTLFlBQVlwUixLQUFPaVIsRUFBZTlSLEtBRDFFLE0sT0FFa0IsT0FEZCxFQUFhLFNBQ0MsR0FBTWlSLEVBQXNCbEosUSxPQUExQyxFQUFjLFNBQ3BCK0csRUFBWTNULFFBQVEsU0FBT2lTLEdBQVUsc0MseURBQ1YsU0FBTSxZQUM3QkEsRUFBVzVNLEtBQ1g0TSxFQUFXb0IsU0FDWHBCLEVBQVdxQixPQUNYckIsRUFBV2lCLFlBQ1ZqQixFQUFXTyxTQUFTSSxhQUFlLE0sY0FMaENtRSxFQUFtQixTQU9uQixHQUFlLEVBQVkzQyxLQUFLLFNBQUEvUCxHQUFLLE9BQUFBLEVBQUUzQixTQUFXcVUsS0FDdERDLEVBQUEsRUFBR0MsdUJBQXVCOUgsSUFBSSxDQUM1QnRLLEdBQUksY0FDSnFTLEtBQU0sQ0FBQyxHQUNQeFUsT0FBUXFVLEksMkNBUWFJLENBQWFQLElBQzFDbFMsVUFBVSxpQkFDVjZNLE1BQU8sdUJBQUs3TSxVQUFVLDBCQUNwQiw0QkFBT2dTLEVBQUs1WSxNQUNaLGdCQUFDNFgsRUFBZ0IsQ0FBQ0MsT0FBUWdCLEVBQWdCZixPQUFRLE9BQVF0QyxPQUFRb0QsRUFBSzdSLEdBQUlnUixvQkFBcUJBLEtBRWxHekUsWUFBWSxHQUNaLHVCQUFLMU0sVUFBVSxhQUNiLGdCQUFDZ1AsRUFBcUIsQ0FBQ0MsWUFBYUEsRUFBYUMsZ0JBQWlCOEMsRUFBS1UsZUFDdkUsMkJBQ0EsZ0JBQUNsQyxFQUEyQixDQUFDQyxrQkFBbUJBLE9DckN6Q2tDLEVBQW1CLFNBQUUsRyxJQUFFNVosRUFBQSxFQUFBQSxPQUFRNlosRUFBQSxFQUFBQSxNQUNoQ3ZPLEVBQUEsMEJBQUFBLEtBQ0YsMEJBQUM4TSxFQUFBLEVBQUFBLG9CQUFxQmMsRUFBQSxFQUFBQSxlQUNwQjlDLEVBQUEsd0JBQUFBLGtCQXlCSnFDLEVBQXNCTCxFQUFvQmMsRUFBZTlSLElBRTdELE9BQU95UyxHQUFTQSxFQUFNcmIsT0FBUyxHQUM3QixnQ0FDRSxnQkFBQyxJQUFZLENBQ1pzVixNQUNBLHVCQUFLN00sVUFBVSwwQkFDaEIsNEJBQU9qSCxFQUFPSyxNQUNkLGdCQUFDNFgsRUFBZ0IsQ0FBQ0MsT0FBUWdCLEVBQWdCZixPQUFRLFNBQVVsYSxTQUFVK0IsRUFBT29ILEdBQUlnUixvQkFBcUJBLEtBR3RHekUsWUFBWSxHQUVSOEUsR0FBdUJoYSxPQUFPK0ksS0FBS2lSLEdBQXFCamEsT0FBUyxFQUFJLDJCQUNsRXFiLEVBQU01VCxJQUFJLFNBQUFnVCxHQUNULElBQUlGLEVBQWtCTixFQUFvQlEsRUFBSzdSLElBQU1xUixFQUFvQlEsRUFBSzdSLElBQUluQixJQUFJLFNBQUFsRixHQUFJLE9BQUFBLEVBQUV5VCxhQUFjLEdBQ3RHa0QsRUFBb0J3QixFQUFlM0MsYUFBZTJDLEVBQWUzQyxZQUFZL1gsT0FBUyxHQXZDM0UsU0FBU3VhLEdBQ2xDLElBQUllLEVBQWdFLEdBWXBFLE9BVmtCMUQsRUFBa0I1WCxPQUFTLEVBQUkwYSxFQUFlM0MsWUFBWS9OLE9BQU8sU0FBQW9PLEdBQU0sT0FBQVIsRUFBa0JqTixTQUFTeU4sS0FBT3NDLEVBQWUzQyxhQUM5SGhVLFFBQVEsU0FBQXdYLEdBQ2xCLElBQUlDLEVBQVEsSUFBb0JELEdBQU92UixPQUFPLFNBQUF5UixHQUFNLE9BQUNsQixFQUFnQnBDLEtBQUssU0FBQXVELEdBQUssT0FBQUEsRUFBRXRTLE9BQVNxUyxFQUFHcEQsd0JBQzVGNVEsSUFBSSxTQUFBL0UsR0FBTyxNQUFPLENBQUU4VyxZQUFnQjlXLEVBQUdpWixpQkFBZ0IsSUFBSWpaLEVBQUdrWixnQkFBbUJ0QyxNQUFPNVcsRUFBRzJWLHVCQUN6Rm1ELEdBQ0RGLEVBQXNCaGIsS0FBSSxNQUExQmdiLEVBQXFCLElBQVNFLE1BSzNCRixFQUFzQjdULElBQUksU0FBQXJHLEdBQ3pCLG9DQUFDeWEsRUFBQSxLQUFXLGFBQ2xCLE9BQU8sT0FDRnphLEVBQUMsQ0FDSnlhLFVBQVMsRUFDVEMsU0FBVUMsRUFBSzFWLEtBQUssU0FFckJvTSxLQUFLLFlBQWEsQ0FBQyxXQUFZLGVBbUJ1RXVKLENBQXFCekIsR0FHcEgsT0FEa0JyQixHQUFxQkEsRUFBa0JsWixPQUFTLEdBQUt1YSxHQUFtQkEsRUFBZ0J2YSxPQUFTLElBRWpILGdCQUFDd2EsRUFBVSxDQUFDNVgsSUFBSzZYLEVBQUs3UixHQUNwQjZSLEtBQU1BLEVBQ04vQyxZQUFhNkMsRUFDYnJCLGtCQUFtQkEsT0FLM0IsMkJBQ0dwTSxFQUFLaU0sY0FBYyxDQUFDblEsR0FBSSw2Q0FBOENvUSxlQUFnQiwwRCxTQ3JFeEZpRCxFQUFxQix3QkFBYyxDQUFDckUsa0JBQW1CLEtBRXZEc0UsRUFBa0IsV0FDbkIsSUFBQXBQLEVBQUEsMEJBQUFBLEtBQ0YsZ0NBQUNxUCxFQUFBLEtBQXFCQyxFQUFBLEtBQ3RCLDBCQUFFZixFQUFBLEVBQUFBLE1BQU9YLEVBQUEsRUFBQUEsZUFLZixPQUFPLGdDLElBQUlBLEVBQ1AsZ0JBQUN1QixFQUFtQmpYLFNBQVEsQ0FBQzFDLE1BQU8sQ0FBQ3NWLGtCQUFtQnVFLElBQ3hELHVCQUFLMVQsVUFBVSxtQ0FDWCwwQkFBS3FFLEVBQUtpTSxjQUFjLENBQUVuUSxHQUFJLG1DQUFvQ29RLGVBQWdCLHlCQUNsRix5QkFBSWxNLEVBQUtpTSxjQUFjLENBQUVuUSxHQUFJLHlDQUEwQ29RLGVBQWdCLENBQUVxRCwwQkFQL0QsaUxBUTFCLDBCQUFLM0IsRUFBZTdZLEssSUFBTzZZLEVBQWU0QixhQUN6QzVCLEVBQWUzQyxhQUFlMkMsRUFBZTNDLFlBQVkvWCxPQUFTLEdBQ25FLHVCQUFLeUksVUFBVSxtQ0FDWCx1QkFBS0EsVUFBVSxvREFDWCxnQkFBQyxJQUFNLENBQ0g4VCxTQUFTLEVBQ1R6UixRQUFTNFAsRUFBZTNDLFlBQVl0USxJQUFJLFNBQUEyUSxHQUFNLE9BQUd4UixNQUFPd1IsRUFBSTlWLE1BQU84VixLQUNuRTlWLE1BQU82WixFQUFvQjFVLElBQUksU0FBQThULEdBQVMsT0FBRzNVLE1BQU8yVSxFQUFPalosTUFBT2laLEtBQ2hFaUIsWUFBYTFQLEVBQUtpTSxjQUFjLENBQUVuUSxHQUFJLDZDQUE4Q29RLGVBQWdCLHFCQUNwR3lELFNBQVUsU0FBQzNSLEdBQ1BzUixFQUFvQnRSLEVBQVFyRCxJQUFJLFNBQUMsR0FBYyxPQUFaLEVBQUFuRixjQU1sRG9ZLEVBQWVuYSxRQUFRa0gsSUFBSSxTQUFBakcsR0FDeEIsSUFBTWtiLEVBQWNyQixFQUFNclIsT0FBTyxTQUFBekgsR0FBSyxPQUFBZixFQUFPMlksUUFBUWhDLEtBQUssU0FBQXdFLEdBQU8sT0FBQUEsSUFBUXBhLEVBQUVxRyxPQUMzRSxPQUFPOFQsRUFBWTFjLE9BQVMsRUFBSSxnQkFBQ29iLEVBQWdCLENBQUNDLE1BQU9xQixFQUFhOVosSUFBS3BCLEVBQU9vSCxHQUFJcEgsT0FBUUEsSUFBYSxTQUlqSCxPLGlCQzdCR29iLEVBQWMsU0FBRSxHLElBQUVDLEVBQUEsRUFBQUEsaUJBQ25CL1AsRUFBQSwwQkFBQUEsS0FDRiwwQkFBQzhNLEVBQUEsRUFBQUEsb0JBQXFCa0QsRUFBQSxFQUFBQSxlQUFnQnBDLEVBQUEsRUFBQUEsZUFFNUMsT0FBTyx5QkFBS2pTLFVBQVUsNkNBQ2xCLHlCQUFLQSxVQUFVLGFBQ1gsNEJBQUtxRSxFQUFLaU0sY0FBYyxDQUFFblEsR0FBSSwrQkFBZ0NvUSxlQUFnQiw0QkFDOUUseUJBQUt2USxVQUFVLDBCQUNWcVUsRUFBZXJWLElBQUksU0FBQ2lTLEdBQ2pCLE9BQU8seUJBQUs5VyxJQUFLOFcsRUFBTzlRLEdBQUs4USxFQUFPM1EsS0FBTU4sVUFBVSxvQkFDNUMseUJBQUtBLFVBQVUsdUJBQ1gseUJBQUtBLFVBQVUsaUNBQ1gsdUJBQUdzVSxPQUFPLFNBQVMxUixLQUFTLFlBQTJCd1IsRUFBa0IsSUFBRyxhQUFhbkQsRUFBTzlRLEdBQUUsUUFBU0gsVUFBVSxjQUV6SCx5QkFBS0EsVUFBVSxzQkFDWCx5QkFBS0EsVUFBVSwwQkFDWCxrQkFBQ3VVLEVBQUEsRUFBSSxDQUFDcGEsSUFBSyxjQUFnQjhXLEVBQU85USxHQUFJSCxVQUFXaVMsR0FBa0JBLEVBQWU5UixLQUFPOFEsRUFBTzlRLEdBQUssV0FBYSxHQUFJcVUsR0FBSSxvQkFBb0J2RCxFQUFPOVEsR0FBRSxnQkFBaUI4USxFQUFPN1gsSyxNQUFTNlgsRUFBTzRDLGFBQy9MLGtCQUFDN0MsRUFBZ0IsQ0FBQzdXLElBQUssZ0JBQWtCOFcsRUFBTzlRLEdBQUlnUixvQkFBcUJBLEVBQXFCRCxPQUFRLFNBQVVELE9BQVFBLGMsUUNMNUp3RCxFQUFnQyxDQUFDdEQsb0JBQXFCLEdBQUljLGVBQWdCLEtBQU1vQyxlQUFnQixHQUFJakQsc0JBQXdCLElBQUksSUFBaUMsSUFBS25RLE9BQVEsR0FBSTJSLE1BQU8sSUFDaEw4QixFQUFlLHdCQUFjRCxHQUc3QkUsRUFBYSxPQUFBQyxFQUFBLEdBQVcsU0FBRSxHLE1BQUVDLEVBQUEsRUFBQUEsTUFBT1QsRUFBQSxFQUFBQSxpQkFFeEN6RixHQURBQSxFQUFXa0csRUFBUUEsRUFBTWhSLE9BQU84SyxTQUFXLE9BQ1YsS0FDakNtRyxFQUF1QixHQUlyQjdULEVBQVNxUixFQUFBLEVBQUd5QyxRQUFRdkMsS0FBSyxhQUFhcFosS0FBSyxJQUFJZ1osWUFBWW5SLFFBQVErVCxRQUFRLFdBQVdDLFNBQVNDLE9BRWpHQyxFQUFnQmxVLEVBQVNBLEVBQU9tVSxRQUFVLEdBQzlDLEdBQUlELEVBQWUsQ0FDZixJQUFNLEVBQUssSUFBSS9DLFlBQVlwUixLQUUzQm1VLEVBQWM3WixRQUFRLFNBQUMyVixHQUNmQSxFQUFPblosUUFBUVAsT0FBUyxJQUNwQjBaLEVBQU9vRSxhQUFlcEUsRUFBT29FLFlBQVkvUyxLQUFPLEVBQ2hEd1MsRUFBVWpkLEtBQUtvWixHQUNSQSxFQUFPcUUsb0JBQW9CL1QsT0FBTyxTQUFBekgsR0FBSyxPQUFBQSxFQUFFd0ksS0FBTyxJQUFJL0ssT0FBUyxHQUNwRXVkLEVBQVVqZCxLQUFLb1osTUFPL0IsSUFDTWEsSUFGTmdELEVBQVlBLEVBQVU5SyxLQUFLLFlBQWEsQ0FBQyxPQUFRLGVBQ3ZCc0ksRUFBQSxFQUFHTSxNQUFNMkMsYUFBYVQsRUFBVTlWLElBQUksU0FBQTlGLEdBQUssT0FBQUEsRUFBRWlILE1BQUtxVixVQUFVTixPQUFTLElBQy9EM1QsT0FBTyxTQUFBeVEsR0FBUSxPQUFvQixJQUFwQkEsRUFBS3pFLGFBRTVDa0ksRUFBYXhVLEVBQU83SCxLQUNwQnNjLEVBQVlaLEVBQVU5VixJQUFJLFNBQVVxQixHQUFJLE9BQU9BLEVBQUVGLEtBQU12QyxLQUFLLEtBQzVEcVUsRUFBaUI2QyxFQUFVcEYsS0FBSyxTQUFBeFcsR0FBSyxPQUFBQSxFQUFFaUgsS0FBT3dPLElBRTlDOUksRUFBTSxJQUFJNkksaUJBQWlCbEYsS0FBS25DLFlBQVksa0NBQW1DLENBQUVwRyxPQUFRd1UsRUFBWUMsVUFBUyxJQUNwSCxHQUFtQixNQUFmN1AsRUFBSUMsT0FDSixNQUFNLElBQUksSUFBVUQsRUFBSUMsT0FBUUQsRUFBSUUsUUFFeEMsSUFBTWtKLEVBQWNwSixFQUFJRyxPQUNsQjJQLEVBQWMsWUFBcUJiLEVBQVU5VixJQUFJLFNBQUFpUyxHQUFVLFdBQUltQixZQUFZcFIsS0FBT2lRLEVBQU85USxNQUV6RmlSLEVBQXdCdUUsRUFBWXBlLE9BQVMsR0FDL0MsRUFBQSthLEVBQUEsRUFBR0Msd0JBQXVCQyxLQUFJLFlBQUltRCxJQUFhSCxVQUMvQyxJQUFJLElBQWlDLElBRXJDSSxFQUFlLENBQ2Z6RSxvQkFBcUJsQyxFQUNyQmdELGVBQWMsRUFDZG9DLGVBQWlCUyxFQUNqQjFELHNCQUFxQixFQUNyQm5RLE9BQVF3VSxFQUNSN0MsTUFBT2QsR0FHWCxPQUFRLGdCQUFDNEMsRUFBYW5ZLFNBQVEsQ0FBQzFDLE1BQU8rYixHQUFjLGdCQUFDLElBQWMsQ0FDbkVDLEtBQU0sZ0JBQUNwQyxFQUFlLENBQUN0WixJQUFLOFgsRUFBaUJBLEVBQWU5UixHQUFLLEtBQ2pFdUksTUFBTyxnQkFBQ3lMLEVBQVcsQ0FBQ0MsaUJBQWtCQSxJQUN0QzBCLFdBQVksT0N0RmhCLGdDQVlPLElBQU1DLEVBQWlCLFNBQUMsRyxJQUFDM0IsRUFBQSxFQUFBQSxpQkFDNUIsT0FBTyxrQkFBQyxJQUFNLEtBQ1YseUJBQUtwVSxVQUFVLGdCQUNYLGtCQUFDZ1csRUFBQSxFQUFLLENBQUMzUSxLQUFLLElBQUk0USxPQUFLLEVBQUM3WixPQUFRLFdBQU0seUJBQUM4WixFQUFBLEVBQVEsQ0FBQzFCLEdBQUksaUJBQ2xELGtCQUFDd0IsRUFBQSxFQUFLLENBQUNDLE9BQU8sRUFBTzVRLEtBQUssMENBQ3RCLGtCQUFDLElBQU8sQ0FBQy9JLFNBQVUsa0JBQUMsSUFBYyxPQUM5QixrQkFBQ3FZLEVBQVUsQ0FBQ1AsaUJBQW1CQSxVLDBnQkNqQjVDLFNBQVMrQixFQUFpQkMsR0FDN0IsSUFBSyxJQUFJL2UsRUFBRSxFQUFHMkIsRUFBRW9kLEVBQUk3ZSxPQUFRRixFQUFFMkIsSUFBSzNCLEVBQy9CLEdBQUkrZSxFQUFJelksV0FBV3RHLEdBQUssS0FDcEIsT0FBTytlLEVBQUloVCxPQUFPLEVBQUcvTCxHQUFLK2UsRUFBSS9lLEdBQUdnZixvQkFBc0JELEVBQUloVCxPQUFPL0wsRUFBSSxHQUc5RSxPQUFPK2UsRUFHSixTQUFTRSxFQUFPQyxFQUFLQyxHQUN4QixNQUF5QixpQkFBZEEsRUFBK0JELEdBQzFDL2UsT0FBTytJLEtBQUtpVyxHQUFXbGIsUUFBUSxTQUFBbkIsR0FDM0JvYyxFQUFJcGMsR0FBT3FjLEVBQVVyYyxLQUVsQm9jLEdBR0osU0FBU0UsRUFBWUYsRUFBU0MsR0FDakMsSUFBSUMsRUFBUSxHQUtaLE9BSkFqZixPQUFPa2Ysb0JBQW9CSCxHQUFLamIsUUFBUSxTQUFBbkIsR0FDcEMzQyxPQUFPK0IsZUFBZWtkLEVBQU90YyxFQUFLM0MsT0FBT21mLHlCQUF5QkosRUFBS3BjLE1BRXZFcWMsR0FBV0YsRUFBT0csRUFBT0QsR0FDdEJDLEVBR1gsSUFBTXZWLEVBQVMsR0FBR0EsT0FDWCxTQUFTMFYsRUFBWWpYLEdBQ3hCLE9BQU91QixFQUFPaEosTUFBTSxHQUFJeUgsR0FHckIsU0FBU2tYLEVBQWVDLEdBQzNCLE9BQU8sU0FBQ25YLEVBQUtvWCxHQUNULElBQU1DLEVBQVFyWCxFQUFFbVgsR0FBT0csRUFBUUYsRUFBRUQsR0FDakMsT0FBT0UsRUFBUUMsRUFBUSxFQUFJRCxFQUFRQyxHQUFTLEVBQUksR0FJakQsU0FBU0MsRUFDWmhjLEVBQ0FpYyxFQUNBOVUsR0FFQW5ILEVBQVE2RCxNQUFNcVksUUFBUWxjLEdBQVNBLEVBQVEsQ0FBQ0EsR0FFeEMsSUFBTW1jLEVBQWdCLFNBQUMxWCxFQUFFb1gsR0FDckIsTUFBYSxpQkFBTnBYLEVBQ0hBLEVBQUUwWCxjQUFjTixFQUFHSSxFQUFTOVUsR0FDNUIxQyxFQUFJb1gsR0FBSyxFQUFJcFgsRUFBSW9YLEVBQUksRUFBSSxHQWFqQyxPQUFPN2IsRUFDRjhELElBQUksU0FBQThYLEdBQVEsT0FBQUEsRUFBS3RULE1BQU0sT0FDdkJ4RSxJQUFJLFNBQUMsRyxJQUFBLFNBQUNzWSxFQUFBLEtBQVcsYUFBYSxnQkFBQzNYLEVBQUVvWCxHQUFNLE9BYjVDLFNBQVNRLEVBQVM1WCxFQUFFb1gsRUFBRU8sRUFBa0JoRSxHQUNwQyxJQUFNa0UsRUFBUzdYLEVBQUUyWCxHQUNYRyxFQUFTVixFQUFFTyxHQUNqQixPQUFJRSxJQUFXQyxFQUFlLEVBQ2hCLE1BQVZELEdBQXdCLEVBQ2QsTUFBVkMsRUFBdUIsRUFDSixJQUFoQm5FLEVBQUsvYixPQUNSOGYsRUFBY0csRUFBUUMsR0FDdEJGLEVBQVFDLEVBQVFDLEVBQVFuRSxFQUFLLEdBQUlBLEVBQUsxWSxNQUFNLElBS1IyYyxDQUFRNVgsRUFBRW9YLEVBQUdPLEVBQVdoRSxNQUMvRG9FLE9BQU8sU0FBQ0MsRUFBTUMsR0FDWCxnQkFBQ2pZLEVBQUVvWCxHQUFNLE9BQUFZLEVBQUtoWSxFQUFFb1gsSUFBTWEsRUFBS2pZLEVBQUVvWCxNQUdsQyxTQUFTYyxFQUFFOVIsRyxJQUFNLHdEQUNSQSxFQUFLLEdBQ2pCLE9BR0osU0FBdUJBLEVBQU0rUixHQUV6QixJQURBLElBQUlDLEVBQUtoUyxFQUFLLEdBQ0wxTyxFQUFFLEVBQUcyQixFQUFFK00sRUFBS3hPLE9BQVFGLEVBQUUyQixJQUFLM0IsRUFDaEMwZ0IsR0FBTUQsRUFBS3pnQixFQUFFLEdBQUswTyxFQUFLMU8sR0FFM0IsT0FBTzBnQixFQVJBQyxDQUFhalMsRUFBTStSLEdBaUJ2QixTQUFTRyxFQUFpQjlkLEVBQUtOLEdBQ2xDLElBQUk4RixFQUNKLE1BQXFCLGlCQUFWOUYsSUFDUDhGLEVBQUksb0JBQW9CdVksS0FBS3JlLElBRWxCLElBQUk4QyxNQUFNZ0QsRUFBRSxJQUdwQjlGLEVBSUosU0FBU3NlLEVBQVVDLEdBQ3RCLElBQUlDLEVBQVEsSUFBSUMsWUFBWSxPQUFRLENBQUUsT0FBVUYsSUFDaEQxZCxPQUFPNmQsY0FBY0YsR0FHbEIsU0FBU0csRUFBV0MsR0FDdkIsSUFBTUwsRUFBd0IsaUJBQVhLLEVBQXNCQSxFQUFTQSxFQUFPblAsUUFDckQrTyxFQUFRLElBQUlDLFlBQVksY0FBZSxDQUFFLE9BQVVGLElBQ3ZEbmMsUUFBUVQsTUFBTWlkLEdBQ2QvZCxPQUFPNmQsY0FBY0YsR0FHbEIsU0FBU0ssRUFBVXRDLEVBQWF1QyxHQUNuQyxPQUFPdkMsRUFBSTdlLE9BQVNvaEIsRUFDaEJ2QyxFQUFJaFQsT0FBTyxFQUFHdVYsRUFBUyxHQUFLLE1BQzVCdkMsRUFHRCxTQUFTd0MsRUFBaUJqWixFQUFRa1osR0FFckMsSUFEQSxJQUFNemdCLEVBQWlDLEdBQzlCZixFQUFFLEVBQUcyQixFQUFFMkcsRUFBRXBJLE9BQVFGLEVBQUUyQixJQUFLM0IsRUFBRyxDQUNoQyxJQUFNeWhCLEVBQU9uWixFQUFFdEksR0FDVDhDLEVBQU0wZSxFQUFZQyxHQUNwQkMsRUFBUTNnQixFQUFPK0IsR0FDZjRlLEVBQU9BLEVBQU1saEIsS0FBS2loQixHQUNqQjFnQixFQUFPK0IsR0FBTyxDQUFDMmUsR0FFeEIsT0FBTzFnQixFQUdKLFNBQVM0Z0IsRUFBY3JaLEVBQVFrWixHQUVsQyxJQURBLElBQU16Z0IsRUFBK0IsR0FDNUJmLEVBQUUsRUFBRzJCLEVBQUUyRyxFQUFFcEksT0FBUUYsRUFBRTJCLElBQUszQixFQUFHLENBQ2hDLElBQU15aEIsRUFBT25aLEVBQUV0SSxHQUVmZSxFQURZeWdCLEVBQVlDLElBQ1ZBLEVBRWxCLE9BQU8xZ0IsRUFHSixTQUFTNmdCLEVBQW9CMUMsRUFBUTJDLEcsUUFDbEM5Z0IsRUFBUyxHLElBQ2YsSUFBb0IsVUFBQThnQixHQUFXLDhCQUFFLENBQTVCLElBQU1qVyxFQUFLLFFBQ1ZBLEtBQVNzVCxJQUFLbmUsRUFBTzZLLEdBQVNzVCxFQUFJdFQsSyxpR0FFeEMsT0FBTzdLLEVBR0osU0FBUytnQixFQUFheFosRUFBUWtaLEdBQ2pDLElBQU03WixFQUFNZ2EsRUFBV3JaLEVBQUdrWixHQUFlLFNBQUM1WixHQUFLLE9BQUFBLElBQy9DLE9BQU96SCxPQUFPK0ksS0FBS3ZCLEdBQUtBLElBQUksU0FBQTdFLEdBQU8sT0FBQTZFLEVBQUk3RSxLQUdwQyxTQUFTaWYsRUFBY3paLEVBQVFvWCxHQUNsQyxHQUFJcFgsSUFBTW9YLEVBQUcsT0FBTyxFQUNwQixJQUFLcFgsSUFBTW9YLEVBQUcsT0FBTyxFQUNyQixHQUFpQixpQkFBTnBYLEdBQStCLGlCQUFOb1gsRUFBZ0IsT0FBTyxFQUMzRCxJQUFNc0MsRUFBUTdoQixPQUFPK0ksS0FBS1osR0FDcEIyWixFQUFROWhCLE9BQU8rSSxLQUFLd1csR0FDMUIsR0FBSXNDLEVBQU05aEIsU0FBVytoQixFQUFNL2hCLE9BQVEsT0FBTyxFQUMxQyxJQUFLLElBQUlGLEVBQUUsRUFBRzJCLEVBQUVxZ0IsRUFBTTloQixPQUFRRixFQUFFMkIsSUFBSzNCLEVBQUcsQ0FDcEMsSUFBTThDLEVBQU1rZixFQUFNaGlCLEdBQ2xCLEdBQUlpaUIsRUFBTWppQixLQUFPOEMsRUFBSyxPQUFPLEVBQzdCLEdBQUl3RixFQUFFeEYsS0FBUzRjLEVBQUU1YyxHQUFNLE9BQU8sRUFFbEMsT0FBTyxJLDBoSkNyS1BvZixFQUE2QyxXQUM3QyxTQUFTQSxLQWNULE9BWkFBLEVBQTRCOWhCLFVBQVU2USxLQUFPLFNBQVVuSSxFQUFJcUcsR0FDdkRnVCxlQUFlQyxRQUFRLFVBQVl0WixFQUFJcUYsS0FBS0MsVUFBVWUsS0FFMUQrUyxFQUE0QjloQixVQUFVeVEsS0FBTyxTQUFVL0gsR0FDbkQsSUFDSSxJQUFJNkYsRUFBT3dULGVBQWVFLFFBQVEsVUFBWXZaLEdBQzlDLE9BQU9YLFFBQVFnQixRQUFRd0YsRUFBT1IsS0FBS1MsTUFBTUQsR0FBUSxDQUFFaUIsTUFBTyxLQUFNRixRQUFTLElBRTdFLE1BQU80UyxHQUNILE9BQU9uYSxRQUFRZ0IsUUFBUSxDQUFFeUcsTUFBTyxLQUFNRixRQUFTLE1BR2hEd1MsRUFmcUMsRyxRQ0FqQyxTQUFTSyxFQUFZNUgsR0FDM0JBLEVBQUs2SCxZQUNON0gsRUFBSzZILFVBQVksSUNBVixTQUFTQyxFQUFRbFosRUFBSzhJLEVBQU9xUSxHQUN4QyxPQUFRclEsR0FDSixJQUFLLFdDSEUsU0FBdUJ1SCxFQUFROEksR0FDckM5SSxFQUFPblosVUFDUm1aLEVBQU9uWixRQUFVLElBQ3JCbVosRUFBT25aLFFBQVF3RCxRQUFRLFNBQVV2QyxHQUN4QkEsRUFBTzhnQixZQUNSOWdCLEVBQU84Z0IsVUFBWSxJQUVsQjlnQixFQUFPMlksVUFDUjNZLEVBQU8yWSxRQUFVLE1BR3BCVCxFQUFPcUUsc0JBQ1JyRSxFQUFPcUUsb0JBQXNCLElBRzdCLGNBQWVyRSxLQUFZLGNBQWVBLEtBQzFDQSxFQUFPNEksVUFBWTVJLEVBQU8rSSxpQkFDbkIvSSxFQUFPK0ksV0FFYi9JLEVBQU80SSxZQUNSNUksRUFBTzRJLFVBQVksSUFFbkJFLEdBQ0FBLEVBQU96ZSxRQUFRLFNBQVU2QyxHQUNyQixPQUFRQSxHQUNKLElBQUssUUFDRDhTLEVBQU8yQixNQUFNdFgsUUFBUSxTQUFVMFcsR0FBUSxPQUFPNEgsRUFBWTVILFFEdEJsRWlJLENBQWNyWixFQUFLbVosR0FDbkIsTUFDSixJQUFLLFFBQ0RILEVBQVloWixJRVBqQixJQ0RIc1osRUFBWVYsZUFBZUUsUUFBUSxjQUN2QyxHQUFJUSxFQUNBLElBQ0ksSUFBSSxFQUFLMVUsS0FBS1MsTUFBTWlVLEdBQVlDLEVBQU8sRUFBR0EsS0FBTXRYLEVBQU8sRUFBR0EsS0FDdERzWCxHQUFRQSxFQUFPeGQsS0FBS0MsTUFBUSxNQUM1QjRjLGVBQWVZLFdBQVcsY0FDMUI1WCxTQUFTSyxLQUFPQSxHQUd4QixNQUFPd1gsS0RSd0IsU0FBVXJTLEdBQ3pDLElBQUlBLEVBQU9zUyxvQkFBWCxDQUVBdFMsRUFBT3NTLHFCQUFzQixFQUM3QixJQUFJN2dCLEVBQU11TyxFQUFPdk8sSUFDYmtRLEVBQU8zQixFQUFPMkIsS0FDbEIzQixFQUFPdk8sSUFBTSxTQUFVaVEsRUFBT3ZKLEVBQUlrQyxHQUM5QixJQUFJMlMsRUFBVTNTLEdBQVdBLEVBQVEyUyxRQUNqQyxPQUFPdmIsRUFBSXZCLE1BQU04RCxLQUFNcUIsV0FBV0MsS0FBSyxTQUFVbEYsR0FFN0MsT0FEQTBoQixFQUFRMWhCLEVBQVFzUixFQUFPc0wsR0FBV0EsRUFBUS9YLFdBQVd1RyxNQUFNLE1BQ3BEcEwsS0FHZjRQLEVBQU8yQixLQUFPLFNBQVVELEVBQU9ySCxHQUMzQixJQUFJMlMsRUFBVTNTLEdBQVdBLEVBQVEyUyxRQUNqQyxPQUFPckwsRUFBS3pSLE1BQU04RCxLQUFNcUIsV0FBV0MsS0FBSyxTQUFVbEYsR0FFOUMsT0FEQUEsRUFBT2tELFFBQVEsU0FBVXNGLEdBQU8sT0FBT2taLEVBQVFsWixFQUFLOEksRUFBT3NMLEdBQVdBLEVBQVEvWCxXQUFXdUcsTUFBTSxRQUN4RnBMLE1FWG5CbWlCLENBQXNCLElBQWlCOWlCLFdBQ2hDLElBQUlpUSxFQUFVLElBQUk2UixFQUNyQmlCLEVBQWlCN2QsS0FBS0MsTUFDdEIsRUFBeUMsV0FDekMsU0FBUzZkLEVBQXdCQyxFQUFXQyxFQUFxQmhULEdBQzdEM0wsS0FBSzBlLFVBQVlBLEVBQ2pCMWUsS0FBSzJlLG9CQUFzQkEsRUFDM0IzZSxLQUFLMkwsUUFBVUEsRUFDZjNMLEtBQUt3SyxVQUFZLENBQUVTLE1BQU8sS0FBTUYsUUFBUyxHQUN6Qy9LLEtBQUs4SyxVQUFZLFlBQXNCOUssS0FBSzhLLFVBQVUxTSxLQUFLNEIsT0FDM0RBLEtBQUtnTCxjQUFnQixZQUFzQmhMLEtBQUtnTCxjQUFjNU0sS0FBSzRCLE9Bb0V2RSxPQWxFQXllLEVBQXdCaGpCLFVBQVVxUCxVQUFZLFdBQzFDLE9BQU8sSUFBa0I5SyxVQUFNLE9BQVEsRUFBUSxXQUMzQyxJQUFJaUMsRUFDSixPQUFPLElBQW9CakMsS0FBTSxTQUFVa0MsR0FDdkMsT0FBUUEsRUFBR0MsT0FDUCxLQUFLLEVBQ0QsT0FBTW5DLEtBQUt3SyxVQUFVUyxNQUFjLENBQUMsRUFBYSxHQUM1Q2pMLEtBQUsyTCxTQUNWMUosRUFBS2pDLEtBQ0UsQ0FBQyxFQUFhMEwsRUFBUVEsS0FBS2xNLEtBQUsyTCxXQUZiLENBQUMsRUFBYSxHQUc1QyxLQUFLLEVBQ0QxSixFQUFHdUksVUFBWXRJLEVBQUdPLE9BQ2xCUCxFQUFHQyxNQUFRLEVBQ2YsS0FBSyxFQUNELE9BQU1uQyxLQUFLd0ssVUFBVU8sUUFBVXBLLEtBQUtDLE1BQzdCLENBQUMsRUFBYVosS0FBS2dMLGlCQUR5QixDQUFDLEVBQWEsR0FFckUsS0FBSyxFQUNEOUksRUFBR08sT0FDSFAsRUFBR0MsTUFBUSxFQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBY25DLEtBQUt3SyxpQkFLbkRpVSxFQUF3QmhqQixVQUFVdVAsY0FBZ0IsV0FDOUMsT0FBTyxJQUFrQmhMLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQUk2SixFQUFLNUgsRUFBSUMsRUFBSXVJLEVBQUlFLEVBQ3JCLE9BQU8sSUFBb0IzSyxLQUFNLFNBQVU0SyxHQUN2QyxPQUFRQSxFQUFHekksT0FDUCxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWF5SCxNQUFNNUosS0FBSzBlLFVBQVcsQ0FDM0NwVixRQUFTLENBQUU4QixPQUFRLGdDQUNuQndULFNBQVUsU0FDVmxXLE1BQU8sV0FDUG1XLFlBQWEsaUJBRXJCLEtBQUssRUFFRCxJQUFtQixPQURuQmhWLEVBQU1lLEVBQUduSSxRQUNEcUgsU0FBb0JELEVBQUlDLFFBQXVCLG1CQUFiRCxFQUFJOUUsT0FJdENwRSxLQUFLQyxNQUFRNGQsRUFBaUIsSUFLOUIsTUFKQXhlLEtBQUs4ZSxlQUFnQixFQUNyQjdlLFFBQVFDLElBQUksaUNEbkR4Q3NkLGVBQWVDLFFBQVEsYUFBY2pVLEtBQUtDLFVBQVUsQ0FBRTBVLEtBQU14ZCxLQUFLQyxNQUFPaUcsS0FBTUwsU0FBU0ssUUNxRDNEbkksT0FBTzhILFNBQVN1WSxRQUFPLEdBQ2pCLElBQUksSUFBVSxJQUFLLGNBR2pDLE9BQW9CLEtBQWRsVixFQUFJQyxPQUF1QixDQUFDLEVBQWEsSUFDL0M3SCxFQUFLbEMsTUFBTTNCLEtBQ1g4RCxFQUFLLE9BQVMySCxFQUFJQyxPQUFTLElBQ3BCLENBQUMsRUFBYUQsRUFBSUUsU0FDN0IsS0FBSyxFQUFHLE1BQU0sSUFBSzlILEVBQUcvRixNQUFNNkQsTUFBTyxNQUFDLEVBQVFtQyxFQUFNMEksRUFBR25JLFVBQ3JELEtBQUssRUFHRCxPQUZBZ0ksRUFBS3pLLEtBQ0wySyxFQUFLM0ssS0FBSzJlLG9CQUNILENBQUMsRUFBYTlVLEVBQUlFLFFBQzdCLEtBQUssRUFHRCxPQUZBVSxFQUFHRCxVQUFZRyxFQUFHek8sTUFBTThELEtBQU0sQ0FBQzRLLEVBQUduSSxTQUNsQ2lKLEVBQVFZLEtBQUt0TSxLQUFLMkwsUUFBUzNMLEtBQUt3SyxXQUN6QixDQUFDLEVBQWN4SyxLQUFLd0ssaUJBS3hDaVUsRUEzRWlDLEdBOEVqQ2xXLEVBQWEsQ0FBRXFCLE1BQU9BLE1BQU14TCxLQUFLNGdCLE1BQU9oVyxLQUFNQSxLQUFLNUssS0FBSzRnQixPQUMvRCxFQUFxQyxTQUFVNVIsR0FFL0MsU0FBUzZSLEVBQW9CQyxFQUFZQyxFQUFxQjlZLEdBQzFELElBQ0k2QyxFQUFnRCxpQkFBeEJpVyxFQUN4QkEsRUFDQSxJQUFJLEVBQXdCQSxFQUFzQjlZLEdBQVdBLEVBQVFzWSxxQkFBd0IsU0FBVzFiLEdBQUssTUFBTyxDQUFHZ0ksTUFBT2hJLEVBQUc4SCxRQUFTcEssS0FBS0MsTUFBUSxTQUFxQnlGLEdBQVdBLEVBQVFzRixTQUVuTSxPQURReUIsRUFBT3pSLEtBQUtxRSxLQUFNdUksRUFBWVcsRUFBZ0JnVyxJQUFlbGYsS0FHekUsT0FUQSxJQUFrQmlmLEVBQXFCN1IsR0FTaEM2UixFQVY2QixDQVd0QyxLQ3BHRixpSSwyTENTTyxTQUFTRyxFQUEwQkMsR0FDeEMsTUFBZ0IsT0FBVEEsRUFDTCxDQUFDLEdBQUksSUFDTCxDQUFDLEVBQUcsSUFVRCxTQUFTQyxFQUFtQkMsRUFBWUMsR0FDN0MsSUFDSUMsRUFBVyxLQUdiQSxFQUpZRixFQUFLRyxZQUFjLEVBSXBCRixFQUFjRCxFQUFLSSxjQUFnQkosRUFBS0ksY0FBZ0IsRUFFeERILEVBQWNELEVBQUtJLGNBQWdCLEVBQUlKLEVBQUtJLGNBR3pELElBQUlDLEVBQWlCLElBQU9ILEVBQVN4ZSxXQUFZLFFBTWpELE9BSjZCLEdBQXpCMmUsRUFBZUMsU0FDakJELEVBQWlCQSxFQUFlbkYsUUFBUWhNLElBQUksRUFBRyxTQUcxQytRLEVBQWMsQ0FBQyxJQUFPSSxFQUFlbkYsU0FBU29GLEtBQUssSUFBSUMsUUFBUSxRQUFTLElBQU9GLEVBQWVuRixTQUFTb0YsS0FBSyxJQUFJRSxNQUFNLFNBQzNILENBQUMsSUFBT0gsRUFBZW5GLFNBQVUsSUFBT21GLEVBQWVuRixTQUFTb0YsS0FBSyxJQUFJRSxNQUFNLFNBRzVFLFNBQVNDLEVBQWdCL2lCLEdBQzlCLElBQU1nakIsRUFBV2hqQixFQUFFaWpCLE9BQ2JDLEVBQVdsakIsRUFBRW1qQixTQUFXLEVBQ3hCLFEsbUJBTU4sTUFBTyxDQUFFQyxhQU5GLEtBR2dDLElBSHBCLEtBTUloQixLQUZWYyxFQUFXLEtBQU8sS0FFRk4sS0FEaEI1aUIsRUFBRTRpQixRQUlWLFNBQVNTLEVBQVFDLEVBQXFCQyxHQUMzQyxPQUFPRCxFQUFNL1ksTUFBTSxLQUNoQnhFLElBQUksU0FBQXlkLEdBQVcsT0FBQXRNLFNBQVNzTSxHQUFXRCxJQUNuQ3hkLElBQUksU0FBQWtkLEdBQVEsU0FBS0EsSUFDakJ0ZSxLQUFLLE8sZ0NDMURWLG1EQVdPLFNBQVM4ZSxFQUFZLEcsSUFBQ2xnQixFQUFBLEVBQUFBLFNBQVVtZ0IsRUFBQSxFQUFBQSxRQUFTQyxFQUFBLEVBQUFBLFFBQVNDLEVBQUEsRUFBQUEsUUFDdkQsT0FBTyxnQkFBQyxJQUFhLENBQ25CM2hCLE1BQU9zQixFQUNQbWdCLFFBQVNBLEVBQ1RFLFFBQVNBLEVBQ1RELFFBQVNBLEVBQ1RFLEdBQUksU0FBQUMsR0FBYyxPQUFBQSxPLGdDQ2hCZixJQUlIM2tCLEVBQXdCLG9CQUFSNGtCLElBQXNCLEdBQUtBLElBRXpCLG9CQUFYdGlCLFFBQXlDLG9CQUFSc2lCLE1BQ3hDdGlCLE9BQW9CLElBQUl0QyxHQUdiLE8sZ0NDWGYsMkNBRUk2a0IsRUFBeUIsU0FBVTdULEdBRW5DLFNBQVM2VCxFQUFRQyxHQUNiLElBQUkzWCxFQUFRNkQsRUFBT3pSLEtBQUtxRSxLQUFNLFNBQVVULEdBQ3BDLElBQUlFLEVBQWUsQ0FDZkosWUFBYSxXQUFjLE9BQU9rSyxFQUFNNFgsWUFBYzVYLEVBQU00WCxZQUFZNWIsT0FBTyxTQUFVdEQsR0FFckYsT0FEUUEsRUFBRyxLQUNFMUMsTUFRckIsT0FMQWdLLEVBQU00WCxZQUFZdGxCLEtBQUssQ0FBQzBELEVBQVVFLElBQzlCOEosRUFBTS9KLE1BQ05ELEVBQVMsS0FBTWdLLEVBQU0vSixNQUFPQyxHQUU1QkYsRUFBU2dLLEVBQU0xTCxXQUFPaUssRUFBV3JJLEdBQzlCQSxLQUNMTyxLQUdOLE9BRkF1SixFQUFNNFgsWUFBYyxHQUNwQjVYLEVBQU0xTCxNQUFRcWpCLEVBQ1AzWCxFQXVCWCxPQXpDQSxJQUFrQjBYLEVBQVM3VCxHQW9CM0I2VCxFQUFReGxCLFVBQVV5TyxTQUFXLFNBQVVyTSxHQUNuQ21DLEtBQUtuQyxNQUFRQSxFQUNibUMsS0FBS1IsV0FBUXNJLEVBQ2I5SCxLQUFLb2hCLGFBRVRILEVBQVF4bEIsVUFBVTRsQixjQUFnQixTQUFVN2hCLEdBQ3hDUSxLQUFLUixNQUFRQSxFQUNiUSxLQUFLb2hCLGFBRVRILEVBQVF4bEIsVUFBVTJsQixVQUFZLFdBQzFCLElBQUk3WCxFQUFRdkosS0FDWkEsS0FBS21oQixZQUFZN2hCLFFBQVEsU0FBVTJDLEdBQy9CLElBQUkxQyxFQUFXMEMsRUFBRyxHQUFJeEMsRUFBZXdDLEVBQUcsR0FDeEMsSUFDSTFDLEVBQVNnSyxFQUFNMUwsTUFBTzBMLEVBQU0vSixNQUFPQyxHQUV2QyxNQUFPNEssR0FDSDlLLEVBQVMsS0FBTThLLEVBQUs1SyxPQUl6QndoQixFQTFDaUIsQ0FGNUIsTUE2Q0UsSSxnQ0M3Q0YsMkVBS0lLLEVBQXVCLFNBQVVsVSxHQUVqQyxTQUFTa1UsRUFBTUMsR0FDWCxPQUFPblUsRUFBT3pSLEtBQUtxRSxLQUFNdWhCLElBQWN2aEIsS0FxSjNDLE9BdkpBLElBQWtCc2hCLEVBQU9sVSxHQUl6QmtVLEVBQU1FLEtBQU8sU0FBVXZlLEdBQ25CLEdBQUlBLEVBQUVzZSxVQUNGLE9BQU8sSUFBSUQsRUFBTSxTQUFVM2tCLEdBQUssT0FBT3NHLEVBQUVzZSxVQUFVNWtCLEtBQ3ZELE1BQU0sSUFBSW9ELE1BQU0sMkNBRXBCdWhCLEVBQU03bEIsVUFBVXlkLEtBQU8sV0FDbkIsSUFBc0I5YyxFQUFRaU8sRUFBS29YLEVBQS9CQyxHQUFXLEVBQ1hqaUIsRUFBZU8sS0FBS3VoQixVQUFVLFNBQVUxakIsRUFBTzJCLEVBQU9taUIsR0FDdERELEdBQVcsRUFDWHRsQixFQUFTeUIsRUFDVHdNLEVBQU03SyxFQUNGQSxHQUFTaWlCLEVBQ1RBLEVBQU8sS0FBTWppQixFQUFPbWlCLEdBQ2ZGLEdBQ0xBLEVBQU81akIsRUFBTyxLQUFNOGpCLEtBRTVCLEdBQUlELEVBQVUsQ0FDVixJQUFJRSxFQUFlLElBQWFDLFFBQ2hDLElBQUtELEVBRUQsTUFEQW5pQixFQUFhSixjQUNQLElBQUlVLE1BQU0seUJBRXBCLEdBQUlzSyxFQUVBLE1BREE1SyxFQUFhSixjQUNQZ0wsRUFFVixJQUFJbEwsRUFBZ0J5aUIsRUFBYXppQixjQUFlSSxFQUFXcWlCLEVBQWFyaUIsU0FHeEUsT0FGQUosRUFBY3RELEtBQUs0RCxHQUNuQmdpQixFQUFTbGlCLEVBQ0ZuRCxFQUVYLE1BQU0sSUFBSW9ILFFBQVEsU0FBVWdCLEVBQVM4RixHQUNqQ21YLEVBQVMsU0FBVTVqQixFQUFPMkIsRUFBT0MsR0FDN0JBLEVBQWFKLGNBQ1RHLEVBQ0E4SyxFQUFPOUssR0FFUGdGLEVBQVEzRyxPQUl4QnlqQixFQUFNN2xCLFVBQVV5USxLQUFPLFdBQ25CLElBQUkzQyxFQUFRdkosS0FDWixPQUFPLElBQUl3RCxRQUFRLFNBQVVnQixFQUFTOEYsR0FDbENmLEVBQU1nWSxVQUFVLFNBQVUxakIsRUFBTzJCLEVBQU9taUIsR0FDaENuaUIsRUFDQThLLEVBQU85SyxHQUVQZ0YsRUFBUTNHLEdBQ1o4akIsRUFBWXRpQixtQkFJeEJpaUIsRUFBTTdsQixVQUFVOEosT0FBUyxTQUFVdWIsR0FDL0IsSUFBSXZYLEVBQVF2SixLQUNaLE9BQU8sSUFBSXNoQixFQUFNLFNBQVUvaEIsR0FBWSxPQUFPZ0ssRUFBTWdZLFVBQVUsU0FBVTFqQixFQUFPMkIsRUFBT0MsR0FDOUVELEVBQ0FELEVBQVMsS0FBTUMsRUFBT0MsR0FDakJxaEIsRUFBR2pqQixJQUNSMEIsRUFBUzFCLEVBQU8yQixFQUFPQyxRQUduQzZoQixFQUFNN2xCLFVBQVV5RSxJQUFNLFNBQVU0aEIsR0FDNUIsT0FBTzloQixLQUFLZ0QsSUFBSSxTQUFVQyxHQUV0QixPQURBaEQsUUFBUUMsSUFBSTRoQixFQUFRN2UsR0FDYkEsS0FHZnFlLEVBQU03bEIsVUFBVXNtQixhQUFlLFNBQVVuZSxHQUNyQyxJQUFJMkYsRUFBUXZKLEtBQ1osT0FBTyxJQUFJLElBQVcsU0FBVXJELEdBQUssT0FBTzRNLEVBQU12RyxJQUFJWSxHQUFRMmQsVUFBVTVrQixNQUU1RTJrQixFQUFNN2xCLFVBQVV1bUIsY0FBZ0IsU0FBVUMsR0FDdEMsSUFBSTFZLEVBQVF2SixLQUNaLE9BQU8sSUFBSXNoQixFQUFNLFNBQVUvaEIsR0FDdkIsSUFDSTJpQixFQUFnQkMsRUFEaEJDLEVBQVMsQ0FBQyxLQUFNLE1BRWhCM2lCLEVBQWUsQ0FDZkosWUFBYSxXQUNUNmlCLEVBQWU3aUIsY0FDZjhpQixFQUFrQjlpQixnQkFxQjFCLE9BbEJBNmlCLEVBQWlCM1ksRUFBTWdZLFVBQVUsU0FBVWMsRUFBTzdpQixFQUFPN0MsR0FDakQ2QyxJQUNBN0MsRUFBRTBDLGNBQ0ZFLEVBQVMsS0FBTUMsRUFBT0MsSUFFMUIyaUIsRUFBTyxHQUFLQyxFQUNNLE9BQWRELEVBQU8sSUFDUDdpQixFQUFTNmlCLEVBQVEsS0FBTTNpQixLQUUvQjBpQixFQUFvQkYsRUFBTVYsVUFBVSxTQUFVMWpCLEVBQU8yQixFQUFPN0MsR0FDcEQ2QyxJQUNBN0MsRUFBRTBDLGNBQ0ZFLEVBQVMsS0FBTUMsRUFBT0MsSUFFMUIyaUIsRUFBTyxHQUFLdmtCLEVBQ00sT0FBZHVrQixFQUFPLElBQ1A3aUIsRUFBUzZpQixFQUFRLEtBQU0zaUIsS0FFeEJBLEtBR2Y2aEIsRUFBTTdsQixVQUFVNm1CLFVBQVksU0FBVTFlLEdBQ2xDLElBQUkyRixFQUFRdkosS0FDWixPQUFPLElBQUlzaEIsRUFBTSxTQUFVL2hCLEdBQ3ZCLElBQUlnakIsRUFBcUIsS0FDckI5aUIsRUFBZSxLQUNmK2lCLEVBQXVCLENBQ3ZCbmpCLFlBQWEsV0FDVEksRUFBYUosY0FDVGtqQixJQUNBQSxFQUFtQmxqQixjQUNuQmtqQixFQUFxQixRQThCakMsT0ExQkE5aUIsRUFBZThKLEVBQU1nWSxVQUFVLFNBQVV6RSxFQUFNdGQsRUFBTzdDLEdBTWxELEdBTEE4QyxFQUFlOUMsRUFDWDRsQixJQUNBQSxFQUFtQmxqQixjQUNuQmtqQixFQUFxQixNQUVyQi9pQixFQUNBRCxFQUFTLEtBQU1DLEVBQU9nakIsUUFFdEIsSUFDSSxJQUFJQyxFQUFvQjdlLEVBQU9rWixHQUMzQjJGLEdBQTRELG1CQUFoQ0EsRUFBa0JsQixVQUM5Q2dCLEVBQXFCRSxFQUFrQmxCLFVBQVUsU0FBVTFqQixFQUFPMkIsRUFBTzdDLEdBQ3JFNGxCLEVBQXFCNWxCLEVBQ3JCNEMsRUFBUzFCLEVBQU8yQixFQUFPZ2pCLEtBSTNCampCLEVBQVNrakIsRUFBbUIsS0FBTWhqQixHQUcxQyxNQUFPRCxHQUNIRCxFQUFTLEtBQU1DLEVBQU9DLE1BSTNCK2lCLEtBR1JsQixFQXhKZSxDQXlKeEIsS0FFRkEsRUFBTTdsQixVQUFVdUgsSUFBTSxZQUFjc2UsSSxnQ0NoS3BDLG9DQUFJb0IsRUFBNEIsV0FFNUIsU0FBU0EsRUFBV0MsR0FDaEIzaUIsS0FBSzJpQixXQUFhQSxFQWlCdEIsT0FmQUQsRUFBV2puQixVQUFVOGxCLFVBQVksU0FBVWhpQixHQUN2QyxJQUNJLE9BQU9TLEtBQUsyaUIsV0FBVyxTQUFVTixFQUFPN2lCLEVBQU9DLEdBQzNDLElBQ0lGLEVBQVM4aUIsRUFBTzdpQixFQUFPQyxHQUUzQixNQUFPNEssR0FDSDlLLEVBQVMsS0FBTThLLEVBQUs1SyxNQUloQyxNQUFPRCxHQUNIRCxFQUFTLEtBQU1DLEVBQU8sQ0FBRUgsWUFBYSxpQkFHdENxakIsRUFwQm9CLEksdUlDR3pCRSxFQUFnQixJQUFJMVosZUFBZTRCLFlBa0J6QyxjQUNJLFdBQVk1TCxHQUFaLE1BQ0ksWUFBTUEsSUFBTSxLLE9BQ1osRUFBS1UsTUFBUSxDQUNYaWpCLGVBQWUsRyxFQW9CekIsT0F4QmlDLFNBUTdCLFlBQUExaUIsbUJBQUEsc0JBQ0l5aUIsRUFBY3RoQixLQUFLLFdBQ2pCLEVBQUs1QixTQUFTLENBQUNtakIsZUFBZSxNQUM3QnpZLE1BQU0sU0FBQUMsR0FDUCxZQUFVQSxNQUlkLFlBQUFqSyxPQUFBLFdBQ1MsSUFBQWlJLEVBQUEsV0FBQUEsS0FDUCxPQUFPckksS0FBS0osTUFBTWlqQixjQUNoQixnQkFBQ3phLEVBQUEsRUFBZ0I3SCxTQUFRLENBQUMxQyxNQUFPLENBQUV3SyxLQUFJLElBQ3JDLGdCQUFDLElBQWMsQ0FBQytQLGlCQUFrQixJQUFJMEssMEJBRXhDLHlCQUFHLGdCQUFDLElBQU8sTSxrQ0FFckIsRUF4QkEsQ0FBaUMsYUEwQnBCQyxFQUFvQixZQUFVLFlBQVcsSUMzQ3REL0IsRUFBQSxFQUFJZ0MsV0FBYSxPQUFJaEMsRUFBQSxFQUFJZ0MsV0FBWSxDQUFBRCxrQkFBaUIsSyxnQ0NKdEQsMkVBS0lFLEVBQTRCLFNBQVU3VixHQUV0QyxTQUFTNlYsRUFBVzFCLEdBQ2hCLE9BQU9uVSxFQUFPelIsS0FBS3FFLEtBQU11aEIsSUFBY3ZoQixLQXFEM0MsT0F2REEsSUFBa0JpakIsRUFBWTdWLEdBSTlCNlYsRUFBV3huQixVQUFVeW5CLEtBQU8sU0FBVXRmLEdBQ2xDLEtBQU0sV0FFVnFmLEVBQVd6QixLQUFPLFNBQVV2ZSxHQUN4QixHQUFJQSxFQUFFc2UsVUFDRixPQUFPLElBQUkwQixFQUFXLFNBQVV0bUIsR0FBSyxPQUFPc0csRUFBRXNlLFVBQVU1a0IsS0FDNUQsR0FBSW9HLE1BQU1xWSxRQUFRblksR0FBSSxDQUNsQixJQUFJa2dCLEVBQVksSUFBSSxJQUFRbGdCLEdBQzVCLE9BQU8sSUFBSWdnQixFQUFXLFNBQVV0bUIsR0FBSyxPQUFPd21CLEVBQVU1QixVQUFVNWtCLEtBRXBFLE1BQU0sSUFBSW9ELE1BQU0sb0VBRXBCa2pCLEVBQVd4bkIsVUFBVXVILElBQU0sU0FBVVksR0FDakMsT0FBTzVELEtBQUtrakIsS0FBSyxTQUFVYixHQUFTLE9BQU9BLEVBQU1yZixJQUFJLFNBQVU4WixHQUFRLE9BQU9sWixFQUFPa1osUUFFekZtRyxFQUFXeG5CLFVBQVUybkIsS0FBTyxXQUN4QixPQUFPcGpCLEtBQUtrakIsS0FBSyxTQUFVYixHQUFTLE1BQU8sR0FBR25kLE9BQU9oSixNQUFNLEdBQUltbUIsTUFFbkVZLEVBQVd4bkIsVUFBVThKLE9BQVMsU0FBVUEsR0FDcEMsT0FBT3ZGLEtBQUtrakIsS0FBSyxTQUFVYixHQUFTLE9BQU9BLEVBQU05YyxPQUFPQSxNQUU1RDBkLEVBQVd4bkIsVUFBVXlKLE9BQVMsU0FBVStjLEdBQ3BDLE9BQU9nQixFQUFXekIsS0FBS3hoQixLQUFLd1osVUFBVXdJLGNBQWNDLEdBQU9qZixJQUFJLFNBQVVmLEdBQ3JFLElBQUlvaEIsRUFBS3BoQixFQUFHLEdBQUlnZ0IsRUFBUWhnQixFQUFHLEdBQzNCLE9BQU9vaEIsRUFBR25lLE9BQU8rYyxPQUd6QmdCLEVBQVd4bkIsVUFBVTZuQixRQUFVLFNBQVV4SSxHQUNyQyxPQUFPOWEsS0FBS3daLFVBQVV4VyxJQUFJLFNBQVUrWixHQUFTLE9BQU9BLEVBQU1uZSxRQUFRb1AsS0FBSyxTQUFVckssRUFBR29YLEdBQ2hGLElBQUlDLEVBQVFyWCxHQUFLQSxFQUFFbVgsR0FDZkcsRUFBUUYsR0FBS0EsRUFBRUQsR0FDbkIsT0FBT0UsRUFBUUMsRUFBUSxFQUFJRCxFQUFRQyxHQUFTLEVBQUksTUFDN0M4RyxhQUFhLFNBQVU5ZSxHQUFLLE9BQU9BLEtBRTlDZ2dCLEVBQVd4bkIsVUFBVStkLFFBQVUsV0FDM0IsSUFBSWpRLEVBQVF2SixLQUNaLE9BQU8sSUFBSSxJQUFNLFNBQVVyRCxHQUFLLE9BQU80TSxFQUFNZ1ksVUFBVTVrQixNQUUzRHNtQixFQUFXeG5CLFVBQVU4bkIsUUFBVSxTQUFVekksR0FDckMsT0FBTzlhLEtBQUt3WixVQUFVeFcsSUFBSSxTQUFVcWYsR0FDaEMsSUFBSXRHLEVBQUssR0FLVCxPQUpBc0csRUFBTS9pQixRQUFRLFNBQVV3ZCxJQUNUZixFQUFHZSxFQUFLaEMsTUFBV2lCLEVBQUdlLEVBQUtoQyxJQUFTLEtBQzFDamYsS0FBS2loQixLQUVQZixLQUdma0gsRUFBV3huQixVQUFVK25CLE1BQVEsV0FDekIsT0FBT3hqQixLQUFLd1osVUFBVXhXLElBQUksU0FBVXlnQixHQUFPLE9BQU9BLEVBQUksTUFFbkRSLEVBeERvQixDQXlEN0IsS0FFRkEsRUFBV3huQixVQUFVeW5CLEtBQU8sWUFBY0QsSSxnQ0NoRTFDLGlGLGdDQ0FBLHVKLGdDQ0NPLElBSUg3bUIsRUFBd0Isb0JBQVI0a0IsSUFBc0IsR0FBS0EsSUFFekIsb0JBQVh0aUIsUUFBeUMsb0JBQVJzaUIsTUFDeEN0aUIsT0FBb0IsSUFBSXRDLEdBR2IsTywrQkNOZiw0Q0FtQkssSUFBSXNuQixNQUFLLElBQUlBLElBQU0sSUFFVCxRQUFjLElBQ3RCLElBQU1BLEVBQVcsSUFBSUEsSyx5SENqQnJCLFNBQVNDLEVBQ2Q3QyxFQUNBemEsR0FFQSxPQUFPLFNBQUNuSCxHQUNOLE9BQU8sZ0JBQUMwa0IsRUFBYSxLQUFDMWtCLE1BQU9BLEVBQU80aEIsR0FBSUEsR0FBUXphLEtBa0JwRCxrQkFHRSxXQUFZbkgsR0FBWixNQUNFLFlBQU1BLElBQU0sSyxPQUNaLEVBQUtVLE1BQVEsQ0FDWHhELE9BQVEsS0FDUnluQixXQUFXLEcsRUF1RGpCLE9BOUQyQyxTQVd6QyxZQUFBQyxrQkFBQSxXQUNFOWpCLEtBQUt1aEIsYUFHUCxZQUFBd0MscUJBQUEsV0FDRS9qQixLQUFLWCxlQUdQLFlBQUEya0Isc0JBQUEsU0FBc0JwVCxFQUEwQnFULEdBQzlDLE9BQ0Vqa0IsS0FBS0osTUFBTUosUUFBVXlrQixFQUFVemtCLE9BQy9CUSxLQUFLSixNQUFNaWtCLFlBQWNJLEVBQVVKLFdBQ25DN2pCLEtBQUtKLE1BQU14RCxTQUFXNm5CLEVBQVU3bkIsU0FDL0IsWUFBY3dVLEVBQVUxUixNQUFPYyxLQUFLZCxNQUFNQSxRQUkvQyxZQUFBZ2xCLG1CQUFBLFNBQW1CQyxHQUNaLFlBQWNBLEVBQVVqbEIsTUFBT2MsS0FBS2QsTUFBTUEsU0FDN0NjLEtBQUtYLGNBQ0xXLEtBQUt1aEIsY0FJVCxZQUFBQSxVQUFBLHNCQUNFdmhCLEtBQUtOLFNBQVMsQ0FBQ21rQixXQUFXLElBQzFCN2pCLEtBQUtQLGFBQWVPLEtBQUtkLE1BQU00aEIsR0FBRzlnQixLQUFLZCxNQUFNQSxPQUFPcWlCLFVBQVUsU0FBQ25sQixFQUFRb0QsR0FBVSxTQUFLRSxTQUFTLENBQzdGdEQsT0FBTSxFQUNOb0QsTUFBSyxFQUNMcWtCLFdBQVcsT0FJZixZQUFBeGtCLFlBQUEsV0FDTVcsS0FBS1AsZUFDUE8sS0FBS1AsYUFBYUosY0FDbEJXLEtBQUtQLGFBQWUsT0FLeEIsWUFBQVcsT0FBQSxXQUNRLGlCQUFDaEUsRUFBQSxFQUFBQSxPQUFRb0QsRUFBQSxFQUFBQSxNQUFPcWtCLEVBQUEsRUFBQUEsVUFDaEIsYUFBQ2xELEVBQUEsRUFBQUEsUUFBU0MsRUFBQSxFQUFBQSxRQUFTQyxFQUFBLEVBQUFBLFFBRXpCLE9BQU9yaEIsRUFDTHFoQixFQUFVLEdBQUtELEVBQVVBLEVBQVFwaEIsR0FBUyx5QixVQUFXQSxFQUFNOE4sU0FDM0R1VyxFQUNFbEQsR0FBb0IsUUFDVDdZLElBQVgxTCxFQUF1QixHQUFLQSxHQUVwQyxFQTlEQSxDQUEyQyxjLGdDQ2pDM0Msb0NBQ0l3bEIsRUFBZSxLQUNmd0MsRUFBWSxDQUFDLFdBQWMsT0FBT3hDLElBUS9CLElBQUl5QyxFQUFlLENBQ3RCLGNBQWdCLE9BQU96QyxHQWV2QjVpQixZQUFhLFNBQVVzbEIsR0FDbkJGLEVBQVV2b0IsS0FBS3lvQixHQUNmQyxLQUVKQyxlQUFnQixTQUFVRixHQUN0QkYsRUFBWUEsRUFBVTdlLE9BQU8sU0FBVS9HLEdBQUssT0FBT0EsSUFBTThsQixJQUN6REMsTUFHUixTQUFTQSxJQUNML29CLE9BQU8rQixlQUFlOG1CLEVBQWMsVUFBVyxDQUMzQzVtQixJQUFLMm1CLEVBQVUxSSxPQUFPLFNBQVVsZCxFQUFHdEIsR0FBSyxPQUFPLFdBQWMsT0FBT3NCLEtBQU90QixPQUMzRXVuQixJQUFLLFdBQWMsTUFBTSxJQUFJMWtCLE1BQU0sd0QsZ0NDdENwQyxTQUFTMmtCLEVBQWNDLEdBQzFCLE9BQU8sU0FBVS9nQixHQUNiLElBQUkyRixFQUFRdkosS0FDWixPQUFPLElBQUkya0IsRUFBSyxTQUFVcGxCLEdBQVksT0FBT2dLLEVBQU1nWSxVQUFVLFNBQVUxakIsRUFBTzJCLEVBQU9DLEdBQ2pGLEdBQUlELEVBQ0FELEVBQVMsS0FBTUMsRUFBT0MsUUFFdEIsSUFDSUYsRUFBU3FFLEVBQU8vRixHQUFRMkIsRUFBT0MsR0FFbkMsTUFBTzRLLEdBQ0g5SyxFQUFTLEtBQU04SyxFQUFLNUssU0FYeEMsaUMsMEVDV0EsaUJBSUUsV0FBWW1sQixHQUNWLElBQU1DLEVBUkQsaUJBUStCRCxFQUNsQ0EsRUFBcUIsWUFBZ0IsSUFBT0EsSUFDOUM1a0IsS0FBS3FnQixhQUFld0UsRUFBYXhFLGFBQ2pDcmdCLEtBQUtxZixLQUFPd0YsRUFBYXhGLEtBNEM3QixPQXpDRSxzQkFBSSxtQkFBSSxDLElBQVIsV0FDRSxPQUFPbEwsU0FBU25VLEtBQUtxZ0IsYUFDaEI3WSxNQUFNLEtBQW1CLE9BQWR4SCxLQUFLcWYsS0FBZ0IsRUFBSSxLLGdDQUczQyxZQUFBeUYsU0FBQSxXQUNFLE9BQU8sSUFBSUMsRUFBeUIsT0FBZC9rQixLQUFLcWYsS0FDekIsQ0FDRUEsS0FBTSxLQUNOZ0IsYUFBY3JnQixLQUFLcWdCLGNBRXJCLENBQ0VoQixLQUFNLEtBQ05nQixhQUFjLFlBQVFyZ0IsS0FBS3FnQixhQUFjLE1BSS9DLFlBQUEyRSxTQUFBLFdBQ0UsT0FBTyxJQUFJRCxFQUF5QixPQUFkL2tCLEtBQUtxZixLQUN6QixDQUNFQSxLQUFNLEtBQ05nQixhQUFjLFlBQVFyZ0IsS0FBS3FnQixjQUFlLElBRTVDLENBQ0VoQixLQUFNLEtBQ05nQixhQUFjcmdCLEtBQUtxZ0IsZ0JBS3pCLFlBQUE0RSxlQUFBLFNBQWU1YyxFQUFvQjZjLEdBQ2pDLElBQUloRixFQUFxQixPQUFkbGdCLEtBQUtxZixLQUNkcmYsS0FBS3FnQixhQUFhN1ksTUFBTSxLQUFLLEdBQzdCeEgsS0FBS3FnQixhQUFhN1ksTUFBTSxLQUFLLEdBSy9CLE9BSEkwZCxJQUNGaEYsRUFBT0EsRUFBSzlZLE9BQU8sSUFFQSxPQUFkcEgsS0FBS3FmLEtBQWdCaFgsRUFBS2lNLGNBQWMsQ0FBQ25RLEdBQUcseUJBQTBCb1EsZUFBZSxhQUFjLENBQUMyTCxLQUFNQSxJQUNqSDdYLEVBQUtpTSxjQUFjLENBQUNuUSxHQUFHLHdCQUF5Qm9RLGVBQWUsYUFBYyxDQUFDMkwsS0FBTUEsS0FFeEYsRUFwREEsRyxlQ1FNaUYsRUFBMEIsQ0FDOUJDLFlBQWEsU0FBQW5PLEdBQUssTUFBYSxtQkFBTkEsR0FDekJvTyxnQkFyQitCLE0sZ0VDVWpDLEksRUFBQSxhQUtFLFdBQ0U5YyxFQUNBQyxFQUNBVSxFQUNBb2MsR0FKRixXQU1FdGxCLEtBQUt3TixLQUFPLElBQUksSUFBWWpGLEVBQVlDLEVBQVMsQ0FBQ1UsZUFBYyxJQUNoRWxKLEtBQUtzbEIsZ0JBQWtCQSxFQUN2QixJQUFNRixFQUFjLFNBQUFub0IsR0FDbEIsTUFBbUIsbUJBQVosRUFBS0EsSUFDTixnQkFBTkEsR0FDTSx5QkFBTkEsR0FDTSxvQkFBTkEsR0FHRnpCLE9BQU8rSSxLQUFLZ2hCLEVBQVU5cEIsV0FBVzZELFFBQVEsU0FBQTZCLEdBQ25DaWtCLEVBQVlqa0IsS0FDZCxFQUFLQSxHQXdMYixTQUFvQ0EsR0FDbEMsSUFBSXFrQixFQUFvRCxHQUN4RCxPQUFPLFdBQ0wsSUFBTUMsRUFBV2pjLEtBQUtDLFVBQVUsR0FBRzdLLE1BQU1qRCxLQUFLMEYsWUFPOUMsT0FOS21rQixFQUFnQkMsS0FDbkJELEVBQWdCQyxHQUFZdGtCLEVBQU9qRixNQUFNOEQsS0FBTXFCLFdBQVdDLEtBQUssU0FBQWxGLEdBRTdELGNBRE9vcEIsRUFBZ0JDLEdBQ2hCcnBCLEtBR0pvcEIsRUFBZ0JDLElBbE1KdmtCLENBQXNCLEVBQUtDLE9BRzlDbkIsS0FBSzBsQixTRFhGLFNBQThCQyxFQUFVdGYsUUFBQSxJQUFBQSxNQUFBLEdBUzdDLElBTk8sSUFBQStlLEdBRFAvZSxFQUFVLE9BQUk4ZSxFQUFtQjllLElBQzFCK2UsWUFBYUMsRUFBQSxFQUFBQSxnQkFFZHRKLEVBQTRCdmdCLE9BQU8wQyxPQUFPeW5CLEdBQzFDamQsRUFBOEYsR0FHM0ZrZCxFQUFRRCxFQUFLQyxHQUFTQSxJQUFVcHFCLE9BQU9DLFVBQVdtcUIsRUFBUXBxQixPQUFPcXFCLGVBQWVELEdBQ3ZGRSxFQUFXRixHQUdiLFNBQVNFLEVBQVdGLEdBQ2xCcHFCLE9BQU8rSSxLQUFLcWhCLEdBQU90bUIsUUFBUSxTQUFBd2IsSUFDcEJpQixFQUFHcmdCLGVBQWVvZixJQUFTc0ssRUFBWXRLLEtBQzFDaUIsRUFBR2pCLEdBQVEsVyxJQUFVLHNEQUNuQixJQUFNM2MsRUFBTXFMLEtBQUtDLFVBQVUsS0FBQ3FSLEdBQVNnQixJQUMvQmlLLEVBQWNyZCxFQUFNdkssR0FDMUIsUUFBb0IySixJQUFoQmllLEVBQTJCLENBQzdCLEdBQUlBLEVBQVlwYyxRQUFTLE1BQU1vYyxFQUFZcGMsUUFDM0MsR0FBSW9jLEVBQVl2bUIsTUFBTyxNQUFNdW1CLEVBQVl2bUIsTUFDekMsR0FBSXVtQixFQUFZQyxRQUFVcmxCLEtBQUtDLE1BQzdCLE9BQU9tbEIsRUFBWWxvQixNQUd2QixJQUNFLElBQU04TCxFQUFVaWMsRUFBTTlLLEdBQU01ZSxNQUFNeXBCLEVBQUs3SixHQUFNeGEsS0FBSyxTQUFBbEYsR0FDaERzTSxFQUFNdkssR0FBTyxDQUFDNm5CLFFBQVNybEIsS0FBS0MsTUFBUXlrQixFQUFpQnhuQixNQUFPekIsS0FDM0RnTyxNQUFNLFNBQUE1SyxHQUNQa0osRUFBTXZLLEdBQU8sQ0FBQzZuQixRQUFTcmxCLEtBQUtDLE1BQVF5a0IsRUFBaUI3bEIsTUFBSyxLQUc1RCxNQURBa0osRUFBTXZLLEdBQU8sQ0FBQzZuQixRQUFTcmxCLEtBQUtDLE1BQVF5a0IsRUFBaUIxYixRQUFPLEdBQ3REQSxFQUNOLE1BQU9uSyxHQUNQLEdBQUlBLEVBQU04QixLQUFNLE1BQU05QixFQUN0QmtKLEVBQU12SyxHQUFPLENBQUM2bkIsUUFBU3JsQixLQUFLQyxNQUFReWtCLEVBQWlCN2xCLE1BQUssUUFPcEUsT0FBT3VjLEVDaENXa0ssQ0FBZ0JqbUIsS0FBTSxDQUFDb2xCLFlBQVcsSUF1SXRELE9BcElVLFlBQUFjLHFCQUFSLFdBQ0UsTUFBTyxDQUFDdmhCLEtBQU0zRSxLQUFLc2xCLG9CQVFmLFlBQUFhLGlCQUFOLFNBQXVCQyxHLDBHQU9QLE8sc0JBTE5yZixFQUFZL0csS0FBS2ttQix1QkFDbkJFLElBQ0VBLEVBQUVDLGFBQVl0ZixFQUFNdWYsV0FBYUYsRUFBRUMsWUFDbkNELEVBQUVHLGFBQVl4ZixFQUFNeWYsV0FBYUosRUFBRUcsYUFFN0IsR0FBTXZtQixLQUFLd04sS0FBSy9QLElBQUksdUJBQXdCc0osSSxjQUN0QyxNQURaOEMsRUFBTSxVQUNKQyxPQUFKLE8sRUFBNkIsSUFBUyxLLFVBQUNELEVBQUlDLFFBQVEsR0FBTUQsRUFBSUUsUyxPQUExQyxNQUFNLFlBQUksSUFBUyxVQUFhLGEsT0FDMUMsU0FBTUYsRUFBSUcsUSxPQUN2QixNQUFPLENBQVAsRUFEYSxTQUNEb1AsUyxPQUdaLE0sV0FEQW5aLFFBQVFULE1BQU0sbUJBQXFCLEdBQzdCLElBQUlPLE1BQU0sWUFBQyxzTSx1QkFTZixZQUFBMG1CLHFCQUFOLFNBQTJCQyxHLHdHQUdiLE9BRk4zZixFQUFZL0csS0FBS2ttQix1QkFDbEJTLE1BQU1ELEtBQVEzZixFQUFNNmYsTUFBUUYsR0FDckIsR0FBTTFtQixLQUFLd04sS0FBSy9QLElBQUkscUJBQXNCc0osSSxjQUNwQyxNQURaOEMsRUFBTSxVQUNKQyxPQUFKLE8sRUFBNkIsSUFBUyxLLFVBQUNELEVBQUlDLFFBQVEsR0FBTUQsRUFBSUUsUyxPQUExQyxNQUFNLFlBQUksSUFBUyxVQUFhLGEsT0FDMUMsU0FBTUYsRUFBSUcsUSxPQUN2QixNQUFPLENBQVAsRUFEYSxTQUNENmMsbUJBTVIsWUFBQUMsZ0JBQU4sVyxzR0FDYyxTQUFNOW1CLEtBQUt3TixLQUFLL1AsSUFBSSxlQUFnQnVDLEtBQUtrbUIseUIsY0FDbkMsTUFEWnJjLEVBQU0sVUFDSkMsT0FBSixPLEVBQTZCLElBQVMsSyxVQUFDRCxFQUFJQyxRQUFRLEdBQU1ELEVBQUlFLFMsT0FBMUMsTUFBTSxZQUFJLElBQVMsVUFBYSxhLE9BQzFDLFNBQU1GLEVBQUlHLFEsT0FDdkIsTUFBTyxDQUFQLEVBRGEsU0FDRCtjLG9CQUdSLFlBQUFDLDBCQUFOLFcsc0dBQ2MsU0FBTWhuQixLQUFLd04sS0FBSy9QLElBQUkseUJBQTBCdUMsS0FBS2ttQix5QixjQUM3QyxNQURacmMsRUFBTSxVQUNKQyxPQUFKLE8sRUFBNkIsSUFBUyxLLFVBQUNELEVBQUlDLFFBQVEsR0FBTUQsRUFBSUUsUyxPQUExQyxNQUFNLFlBQUksSUFBUyxVQUFhLGEsT0FDMUMsU0FBTUYsRUFBSUcsUSxPQUN2QixNQUFPLENBQVAsRUFEYSxTQUNEaWQsOEJBR1IsWUFBQUMsd0JBQU4sVyxzR0FDYyxTQUFNbG5CLEtBQUt3TixLQUFLL1AsSUFBSSx1QkFBd0J1QyxLQUFLa21CLHlCLGNBQzNDLE1BRFpyYyxFQUFNLFVBQ0pDLE9BQUosTyxFQUE2QixJQUFTLEssVUFBQ0QsRUFBSUMsUUFBUSxHQUFNRCxFQUFJRSxTLE9BQTFDLE1BQU0sWUFBSSxJQUFTLFVBQWEsYSxPQUMxQyxTQUFNRixFQUFJRyxRLE9BQ3ZCLE1BQU8sQ0FBUCxFQURhLFNBQ0RtZCxnQkFXUixZQUFBQyx1QkFBTixTQUE2QmhCLEcsc0dBQ2YsU0FBTXBtQixLQUFLd04sS0FBSy9QLElBQUksc0JBQXVCLE9BQUl1QyxLQUFLa21CLHVCQUEyQkUsSyxjQUN6RSxNQURadmMsRUFBTSxVQUNKQyxPQUFKLE8sRUFBNkIsSUFBUyxLLFVBQUNELEVBQUlDLFFBQVEsR0FBTUQsRUFBSUUsUyxPQUExQyxNQUFNLFlBQUksSUFBUyxVQUFhLGEsT0FDMUMsU0FBTUYsRUFBSUcsUSxPQUN2QixNQUFPLENBQVAsRUFEYSxTQUNEcWQsMkJBV1IsWUFBQUMsd0JBQU4sU0FBOEJsQixHLHNHQUNoQixTQUFNcG1CLEtBQUt3TixLQUFLL1AsSUFBSSx1QkFBd0IsT0FBSXVDLEtBQUtrbUIsdUJBQTJCRSxLLGNBQzFFLE1BRFp2YyxFQUFNLFVBQ0pDLE9BQUosTyxFQUE2QixJQUFTLEssVUFBQ0QsRUFBSUMsUUFBUSxHQUFNRCxFQUFJRSxTLE9BQTFDLE1BQU0sWUFBSSxJQUFTLFVBQWEsYSxPQUMxQyxTQUFNRixFQUFJRyxRLE9BQ3ZCLE1BQU8sQ0FBUCxFQURhLFNBQ0R1ZCw0QkFVUixZQUFBQyxrQkFBTixTQUF3QnBCLEcsc0dBQ1YsU0FBTXBtQixLQUFLd04sS0FBSy9QLElBQUksaUJBQWtCLE9BQUl1QyxLQUFLa21CLHVCQUEyQkUsSyxjQUNwRSxNQURadmMsRUFBTSxVQUNKQyxPQUFKLE8sRUFBNkIsSUFBUyxLLFVBQUNELEVBQUlDLFFBQVEsR0FBTUQsRUFBSUUsUyxPQUExQyxNQUFNLFlBQUksSUFBUyxVQUFhLGEsT0FDMUMsU0FBTUYsRUFBSUcsUSxPQUN2QixNQUFPLENBQVAsRUFEYSxTQUNEeWQsc0JBR1IsWUFBQUMscUJBQU4sU0FBMkJDLEVBQXNCcEksRywyRkFFL0MsT0FBUW9JLEdBQ04sSUFBSyxTQUNMLE1BQU8sQ0FBUCxFQUFPLEVBQWFDLFdBQVdyaUIsT0FBTyxTQUFBMFIsR0FBSyxXQUFPc0ksR0FBTXNJLGNBQWM1USxFQUFFNlEsVUFBVUMsWUFBYyxJQUFPeEksR0FBTXlJLGVBQWUvUSxFQUFFZ1IsV0FBV0MsV0FBVSxJQUNuSixJQUFLLFNBQ0wsTUFBTyxDQUFQLEVBQU8sRUFBYUMsV0FBVzVpQixPQUFPLFNBQUEwUixHQUFLLFdBQU9zSSxHQUFNc0ksY0FBYzVRLEVBQUU2USxVQUFVQyxZQUFjLElBQU94SSxHQUFNeUksZUFBZS9RLEVBQUVnUixXQUFXQyxXQUFVLElBQ25KLElBQUssS0FhTCxPQVhJRSxFQUFXLEdBQ1hDLEVBQWtCLFlBQW1COUksR0FBTSxHQUMzQytJLEVBQW1CLFlBQW1CL0ksR0FBTSxHQUU1Q2dKLEVBQXFCRixFQUFnQixHQUNyQ0csRUFBc0JGLEVBQWlCLEdBQ3ZDRyxFQUFtQkosRUFBZ0IsR0FDbkNLLEVBQW9CSixFQUFpQixHQUVuQ1IsRUFBWSxDQUFDQyxVQUFXLElBQUlwbkIsS0FBSzRuQixFQUFtQnJJLE9BQVFxSSxFQUFtQm5JLFFBQVNtSSxFQUFtQmhKLFFBQVFvSixlQUFnQlQsUUFBUyxJQUFJdm5CLEtBQUs0bkIsRUFBbUJySSxPQUFRdUksRUFBaUJySSxRQUFTcUksRUFBaUJsSixRQUFRb0osZ0JBQ25PVixFQUFhLENBQUNGLFVBQVcsSUFBSXBuQixLQUFLNm5CLEVBQW9CdEksT0FBUXNJLEVBQW9CcEksUUFBU29JLEVBQW9CakosUUFBUW9KLGVBQWdCVCxRQUFTLElBQUl2bkIsS0FBSzZuQixFQUFvQnRJLE9BQVF3SSxFQUFrQnRJLFFBQVNzSSxFQUFrQm5KLFFBQVFvSixnQkFDek8sQ0FBUCxFQUFPLENBQUNiLFVBQVMsRUFBRUcsV0FBVSxFQUFFRyxTQUFRLEksZUFJN0MsRUFoS0EsR0FvS0EsYUFJRSxXQUFhUSxHQUNYLEdBQXdDLGlCQUE3QkEsR0FJVCxHQUhBNW9CLEtBQUs2b0IsT0FBU0QsRUFDZDVvQixLQUFLcWYsS0FBT3JmLEtBQUs2b0IsT0FBT0MsV0FBVyxNQUFRLEtBQU8sS0FDbEQ5b0IsS0FBS2tnQixLQUFPL0wsU0FBU25VLEtBQUs2b0IsT0FBT3poQixPQUFPLElBQ3BDdWYsTUFBTTNtQixLQUFLa2dCLE1BQU8sTUFBTSxJQUFJbmdCLE1BQU8sbUJBQW1CQyxLQUFLNm9CLFlBQzFELENBQ0wsSUFBTUUsRUFBYSxJQUFJLEVBQVdILEdBQ2xDNW9CLEtBQUs2b0IsUUFBOEIsT0FBcEJFLEVBQVcxSixLQUFnQixLQUFPLE1BQVEwSixFQUFXN0ksS0FDcEVsZ0IsS0FBS3FmLEtBQU8wSixFQUFXMUosS0FDdkJyZixLQUFLa2dCLEtBQU82SSxFQUFXN0ksTUFvQjdCLE9BaEJFLHNCQUFJLHlCQUFVLEMsSUFBZCxXQUNFLE9BQU8sSUFBSSxFQUFXLENBQ3BCRyxhQUE0QixPQUFkcmdCLEtBQUtxZixLQUNkcmYsS0FBS2tnQixLQUFJLEtBQUlsZ0IsS0FBS2tnQixLQUFPLEdBQ3pCbGdCLEtBQUtrZ0IsS0FBSyxFQUFDLElBQUlsZ0IsS0FBS2tnQixLQUN6QmIsS0FBTXJmLEtBQUtxZixRLGdDQUlmLFlBQUFwZSxTQUFBLFdBQ0UsT0FBT2pCLEtBQUs2b0IsUUFHZCxZQUFBRyxRQUFBLFdBQ0UsT0FBT2hwQixLQUFLa2dCLEtBQU8sS0FBcUIsT0FBZGxnQixLQUFLcWYsS0FBZ0IsSUFBTSxNQUV6RCxFQWxDQSxJLGlCQzlLQXRpQixFQUFPRCxRQUFVbXNCLFUsK0JDQWpCLHFhLDJJQ0dNQyxFQUFpQixTQUFDcFMsRUFBT3pZLEVBQUdwQixHQUVoQyxJQURBLElBQU1rcUIsRUFBVyxHQUNSOXJCLEVBQUVnRCxFQUFHaEQsR0FBSzRCLEVBQUc1QixJQUNwQjhyQixFQUFTdHJCLEtBQUssQ0FDWjRkLFdBQVksTUFDWjBQLGlCQUFrQnJTLEVBQ2xCSSxpQkFBa0IsV0FBYTdiLEVBQy9COGIsZ0JBQWlCLFlBQ2pCdkQsb0JBQXFCLFVBQVl2WSxFQUFJLDhCQUl6QyxPQUFPOHJCLEdBR0lpQyxFQUE2QixDQUN4QyxDQUNFM1AsV0FBWSxNQUNaNFAsaUJBQWtCLFlBQ2xCQyxnQkFBaUIsWUFDakJDLG9CQUFxQixxQ0FFdkIsQ0FDRTlQLFdBQVksTUFDWjRQLGlCQUFrQixZQUNsQkMsZ0JBQWlCLFlBQ2pCQyxvQkFBcUIscUNBRXZCLENBQ0U5UCxXQUFZLE1BQ1o0UCxpQkFBa0IsWUFDbEJDLGdCQUFpQixZQUNqQkMsb0JBQXFCLHFDQUV2QixDQUNFOVAsV0FBWSxNQUNaNFAsaUJBQWtCLE9BQ2xCQyxnQkFBaUIsV0FDakJDLG9CQUFxQix1QkFFdkIsQ0FDRTlQLFdBQVksTUFDWjRQLGlCQUFrQixRQUNsQkMsZ0JBQWlCLFlBQ2pCQyxvQkFBcUIsa0NBRXZCLENBQ0U5UCxXQUFZLE1BQ1o0UCxpQkFBa0IsU0FDbEJDLGdCQUFpQixZQUNqQkMsb0JBQXFCLGdDQUlaQyxFQUFvQixDQUMvQixXQUFZLENBQ1YsQ0FDRS9QLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEI5QyxXQUFZLFlBRWQsQ0FDRTVNLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEI5QyxXQUFZLFlBRWQsQ0FDRTVNLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEI5QyxXQUFZLGFBR2hCLFFBQVUsQ0FDUixDQUNFNU0sV0FBWSxNQUNaMFAsaUJBQWtCLDRCQUNsQjlDLFdBQVksV0FFZCxDQUNFNU0sV0FBWSxNQUNaMFAsaUJBQWtCLDRCQUNsQjlDLFdBQVksWUFFaEIsU0FBWSxDQUNWLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxZQUVkLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxhQUdoQixVQUFhLENBQ1gsQ0FDRTVNLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEI5QyxXQUFZLGFBRWQsQ0FDRTVNLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEI5QyxXQUFZLGFBRWQsQ0FDRTVNLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEI5QyxXQUFZLGNBR2hCLFNBQVksQ0FDVixDQUNFNU0sV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQjlDLFdBQVksWUFFZCxDQUNFNU0sV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQjlDLFdBQVksYUFHaEIsU0FBWSxDQUNWLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxZQUVkLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxZQUVkLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxZQUVkLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxZQUVkLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxZQUVkLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxZQUVkLENBQ0U1TSxXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCOUMsV0FBWSxjQUtMb0QsRUFBc0IsQ0FDakMsNEJBQThCUCxFQUFlLDRCQUE4QixFQUFHLElBQzlFLDRCQUE4QkEsRUFBZSw0QkFBOEIsR0FBSSxJQUMvRSw0QkFBMkIsS0FDekIsQ0FDRXpQLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEJqUyxpQkFBa0IsV0FDbEJDLGdCQUFpQixZQUNqQnZELG9CQUFxQixxQ0FFdkIsQ0FDRTZGLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEJqUyxpQkFBa0IsT0FDbEJDLGdCQUFpQixXQUNqQnZELG9CQUFxQix1QkFFdkIsQ0FDRTZGLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEJqUyxpQkFBa0IsU0FDbEJDLGdCQUFpQixZQUNqQnZELG9CQUFxQiwrQkFFdkIsQ0FDRTZGLFdBQVksTUFDWjBQLGlCQUFrQiw0QkFDbEJqUyxpQkFBa0IsV0FDbEJDLGdCQUFpQixZQUNqQnZELG9CQUFxQixzQ0FDakJzVixFQUFlLDRCQUE4QixHQUFJLEtBR3pELDRCQUE4QkEsRUFBZSw0QkFBNkIsRUFBRyxJQUM3RSw0QkFBOEJBLEVBQWUsNEJBQTZCLEdBQUksSUFDOUUsNEJBQThCQSxFQUFlLDRCQUE2QixHQUFJLElBRTlFLDJCQUE2QkEsRUFBZSwyQkFBNkIsRUFBRyxJQUM1RSwyQkFBNkJBLEVBQWUsMkJBQTZCLEdBQUksSUFDN0UsMkJBQTZCQSxFQUFlLDJCQUE2QixHQUFJLElBRTdFLDJCQUE2QixDQUMzQixDQUNFelAsV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQmpTLGlCQUFrQixZQUNsQkMsZ0JBQWlCLFlBQ2pCdkQsb0JBQXFCLHFDQUV2QixDQUNFNkYsV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQmpTLGlCQUFrQixZQUNsQkMsZ0JBQWlCLFlBQ2pCdkQsb0JBQXFCLHFDQUV2QixDQUNFNkYsV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQmpTLGlCQUFrQixZQUNsQkMsZ0JBQWlCLFlBQ2pCdkQsb0JBQXFCLHFDQUV2QixDQUNFNkYsV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQmpTLGlCQUFrQixZQUNsQkMsZ0JBQWlCLFlBQ2pCdkQsb0JBQXFCLHNDQUd6QiwyQkFBNkIsQ0FDM0IsQ0FDRTZGLFdBQVksTUFDWjBQLGlCQUFrQiwyQkFDbEJqUyxpQkFBa0IsWUFDbEJDLGdCQUFpQixZQUNqQnZELG9CQUFxQixxQ0FFdkIsQ0FDRTZGLFdBQVksTUFDWjBQLGlCQUFrQiwyQkFDbEJqUyxpQkFBa0IsWUFDbEJDLGdCQUFpQixZQUNqQnZELG9CQUFxQixxQ0FFdkIsQ0FDRTZGLFdBQVksTUFDWjBQLGlCQUFrQiwyQkFDbEJqUyxpQkFBa0IsWUFDbEJDLGdCQUFpQixZQUNqQnZELG9CQUFxQixzQ0FHekIsMkJBQTZCLENBQzNCLENBQ0U2RixXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCalMsaUJBQWtCLFlBQ2xCQyxnQkFBaUIsWUFDakJ2RCxvQkFBcUIscUNBRXZCLENBQ0U2RixXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCalMsaUJBQWtCLFlBQ2xCQyxnQkFBaUIsWUFDakJ2RCxvQkFBcUIscUNBRXZCLENBQ0U2RixXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCalMsaUJBQWtCLFlBQ2xCQyxnQkFBaUIsWUFDakJ2RCxvQkFBcUIscUNBRXZCLENBQ0U2RixXQUFZLE1BQ1owUCxpQkFBa0IsMkJBQ2xCalMsaUJBQWtCLGFBQ2xCQyxnQkFBaUIsWUFDakJ2RCxvQkFBcUIsdUNBR3pCLDJCQUE2QixDQUMzQixDQUNFNkYsV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQmpTLGlCQUFrQixZQUNsQkMsZ0JBQWlCLFlBQ2pCdkQsb0JBQXFCLHFDQUV2QixDQUNFNkYsV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQmpTLGlCQUFrQixZQUNsQkMsZ0JBQWlCLFlBQ2pCdkQsb0JBQXFCLHFDQUV2QixDQUNFNkYsV0FBWSxNQUNaMFAsaUJBQWtCLDJCQUNsQmpTLGlCQUFrQixZQUNsQkMsZ0JBQWlCLFlBQ2pCdkQsb0JBQXFCLHNDQUd6QiwyQkFBNkJzVixFQUFlLDJCQUE0QixFQUFHLElBQzNFLDJCQUE2QkEsRUFBZSwyQkFBNEIsR0FBSSxJQUM1RSwyQkFBNkJBLEVBQWUsMkJBQTRCLEdBQUksSUFDNUUsMkJBQTZCQSxFQUFlLDJCQUE0QixHQUFJLElBQzVFLDJCQUE2QkEsRUFBZSwyQkFBNEIsR0FBSSxLQUM1RSwyQkFBNkJBLEVBQWUsMkJBQTRCLElBQUssS0FDN0UsMkJBQTZCQSxFQUFlLDJCQUE0QixJQUFLLE8sZ3ZJQ3hUeEUsU0FBU1EsRUFBZ0J2WCxFQUFrQndYLEVBQTZDelcsR0FDckYsSUFDSjBXLEVBREk5WCxFQUFBLEVBQUFBLFNBRVIsSUFDRThYLEVBQWtCOVgsRUFBU2dCLGdCQUFrQnRKLEtBQUtTLE1BQU02SCxFQUFTZ0IsZ0JBQ2pFLE1BQU96SSxHQUNQdWYsRUFBa0IsS0FFcEIsSUFBSTlXLEVBQWlCOFcsR0FBbUJBLEVBQWdCLEdBV3hELE9BVks5VyxHQUFrQlgsRUFBS0wsU0FBU2lDLG9CQUNuQ2pCLEVBQWlCLENBQ2ZtQixPQUFRLENBQ040VixXQUFZLEVBQ1pDLFFBQVMzWCxFQUFLTCxTQUFTaUMsa0JBQ3ZCRyxNQUFPLFNBRVQ2VixXQUFZNVgsRUFBS0wsU0FBU2dDLG1CQUcxQjNCLEVBQUtSLGFBQXFCLHNCQUFJcVksUUFBUyxHQUFHLGdCQUFDLElBQU8sTSxrQkFDL0NsWCxFQUFpQixnQ0FDdEIsc0JBQUk5TyxVQUFVLHFCQUNaLHFCQUNFNEMsS0FBTWtNLEVBQWVtWCxRQUFVblgsRUFBZW1YLE9BQU9DLFVBQ3JEOVksUUFBUyxTQUFBZ0IsSUFDaUUsSUFBcEUsQ0FBQyxXQUFZLGFBQWFqTCxRQUFRMkwsRUFBZW1CLE9BQU9DLFNBRTVEOUIsRUFBR0MsaUJBQ0hELEVBQUdFLGtCQUNIWSxHQUFtQnlXLEVBQWtCeFgsS0FFdkNtRyxPQUFPLFNBQ1B6SCxNQUFPLFlBQW1CaUMsSUFDMUIsdUJBQUs5TyxVQUFXLFlBQXFCOE8sT0FHekMsc0JBQUk5TyxVQUFVLHFCQUNaLHVCQUFLQSxVQUFXLFlBQTJCOE8sSUFDeENBLEVBQWVtWCxRQUF3RCxpQkFBdkNuWCxFQUFlbVgsT0FBT0UsYUFDbERyWCxFQUFlbVgsT0FBT0UsYUFBYUMsVUFBUyxJQUFNLE9BR3ZELHNCQUFJSixRQUFTLElBR2QsU0FBU3BiLEVBQU9xRSxFQUEyQjFCLEdBTWhELE9BTGUsS0FDYkEsR0FDRzBCLEVBQVkxTixPQUFPLFNBQUMsRyxJQUFDWixFQUFBLEVBQUFBLEtBQU00TixFQUFBLEVBQUFBLFNBQzVCLE9BQUE1TixJQUFTNE0sRUFBVzVNLE1BQ3BCNE4sSUFBYWhCLEVBQVdnQixZQUl2QixTQUFlOFgsRUFBYWxZLEcsMEdBRW5CLE8sc0JBQUEsR0FBTSxJQUFJTyxpQkFBaUJsRixLQUFLNUQsTUFBTXVJLEVBQUtQLFVBQVcsTUFBTyxLLGNBQW5FL0gsRUFBTSxVQUNKQyxRQUFVLEssRUFDTixJQUFTLEssVUFBQ0QsRUFBSUMsUUFBUSxHQUFNRCxFQUFJRSxTQUR4QyxNLE9BQ0YsTUFBTSxZQUFJLElBQVMsVUFBYSxhLE9BRXJCLFNBQU1GLEVBQUl5Z0IsUSxjQUFqQkEsRUFBTyxTQUNiLElBQVNBLEVBQU1uWSxFQUFLSSxTQUFVSixFQUFLb1ksYSwrQkFFbkN2cUIsS0FBS04sU0FBUyxDQUFFRixNQUFPLGdDQUFrQyxFQUFJOE4sU0FBVyxLQUN4RXJOLFFBQVFULE1BQU0sRyw0QkFJWCxTQUFTZ3JCLEVBQWlCLEcsSUFBRXJZLEVBQUEsRUFBQUEsS0FDM0IsYUFBRXNZLEVBQUEsRUFBQUEsaUJBQWtCQyxFQUFBLEVBQUFBLGFBQ3BCblksRUFBV0osRUFBS0ksU0FBU25MLE9BQU8sRUFBRytLLEVBQUtJLFNBQVNvWSxZQUFZLE1BQ25FLE9BQ0UsdUJBQUszbUIsVUFBVSwyQkFDYix1QkFBS0EsVUFBVSxzQkFDYix1QkFBS0EsVUFBVSxZQUFZNG1CLElBQUtILEtBRWxDLHVCQUFLem1CLFVBQVUsc0JBQ2IsNEJBQU0scUJBQUdzVSxPQUFPLFNBQVMxUixLQUFNOGpCLEdBQWVuWSxRLGtLQzVFekNzWSxFQUFZLFNBQW1CcHFCLEdBQ3hDLG1CQUdJLFdBQVl2QixHQUFaLE1BQ0ksWUFBTUEsSUFBTSxLLE9BQ1osWUFBYyxJQUFJLElBQWEsTUFDL0IsRUFBSzRyQixTQUFXLENBQ2hCLEdBQU0sRUFDTixHQUFNLEdBRU4sTUFBU0MsT0FBTyxJQUFJQyxZLEVBUTVCLE9BbEJpQyxTQWE3QixZQUFBNXFCLE9BQUEsV0FDSSxPQUFPLGdCQUFDLElBQVksQ0FBQzJxQixPQUFRLElBQUlDLFdBQVlGLFNBQVU5cUIsS0FBSzhxQixTQUFTLElBQUlFLGFBQ3JFLGdCQUFDdnFCLEVBQVMsT0FBS1QsS0FBS2QsVUFHaEMsRUFsQkEsQ0FBaUMsZSxnQ0NSOUIsU0FBUytyQixFQUFzQnBoQixHQUNwQyxJQUFLQSxJQUFRQSxFQUFJb0ssT0FDZixPQUFPLEtBQ0YsT0FBUXBLLEVBQUlvSyxPQUFPQyxPQUN4QixJQUFLLFFBQ0gsTUFBTyxvQ0FDVCxJQUFLLFlBQ0gsTUFBTyx3Q0FDVCxJQUFLLFdBQ0gsTUFBTyx1Q0FDVCxJQUFLLFdBQ0gsTUFBTyx3Q0FJTixTQUFTZ1gsRUFBb0JyaEIsR0FDbEMsSUFBS0EsSUFBUUEsRUFBSW9LLE9BQVEsT0FBTyxLQUNoQyxPQUFRcEssRUFBSW9LLE9BQU9DLE9BQ2pCLElBQUssUUFDSCxPQUFPckssRUFBSWtnQixXQUNULDBDQUEwQ2xnQixFQUFJb0ssT0FBTzRWLFVBQVMsa0JBQzlDaGdCLEVBQUlrZ0IsV0FBVSxvQkFBb0JsZ0IsRUFBSW9LLE9BQU82VixRQUU3RGpnQixFQUFJb0ssT0FBTzZWLFFBQ2YsSUFBSyxZQUNILE1BQU8sbUVBQ1QsSUFBSyxXQUNILE1BQU8sMkVBQ1QsSUFBSyxXQUNILE1BQU8saUVBSU4sU0FBU3FCLEVBQTRCdGhCLEdBQzFDLElBQUtBLElBQVFBLEVBQUlvSyxPQUFRLE1BQU8sR0FFaEMsT0FBUXBLLEVBQUlvSyxPQUFPQyxPQUNqQixJQUFLLFFBQVMsTUFBTyw0QkFDckIsSUFBSyxZQUFhLE1BQU8sZ0NBQ3pCLElBQUssV0FBWSxNQUFPLCtCQUUxQixJQUFNa1gsRUFBU3ZoQixFQUFJb2dCLE9BQ25CLE9BQUttQixFQUdEQSxFQUFPakIsYUFBZSxFQUVqQiw0Q0FDTGlCLEVBQU9qQixhQUFlLEdBRWpCLDRDQUNMaUIsRUFBT2pCLGFBQWUsR0FDakIsNENBRUxpQixFQUFPakIsYUFBZSxHQUNqQiw0Q0FFTGlCLEVBQU9qQixhQUFlLEdBQ2pCLDRDQUVMaUIsRUFBT2pCLGFBQWUsR0FDakIsNENBRUxpQixFQUFPakIsYUFBZSxHQUNqQiw0Q0FFTGlCLEVBQU9qQixhQUFlLEtBQ2pCLDRDQUVMaUIsRUFBT2pCLGNBQWdCLEtBQ2xCLDRDQUVGLEdBN0JFLEdBM0NYLGlHLCt4V0NGQSw0Q0F3Q0ssSUFBSWtCLE1BQUssSUFBSUEsSUFBTSxJQUVULFFBQTRCLElBQ3BDLElBQU1BLEVBQXlCLElBQUlBLEssZ0NDM0MxQywyQ0FRYUMsRUFBaUIsU0FBQyxHLElBQUV6UixFQUFBLEVBQUFBLEtBQU1uTixFQUFBLEVBQUFBLE1BQU9vTixFQUFBLEVBQUFBLFdBQXdCLE9BQ3BFLHVCQUFLOVYsVUFBVSxvQkFDYix1QkFBS0EsVUFBVSx5Q0FDYix1QkFBS0EsVUFBVSx5REFDYix1QkFBS0EsVUFBVSx5REFDYix1QkFBS0EsVUFBVSxtQ0FDYix1QkFBS0EsVUFBVyx1Q0FBc0MsR0FBRzhWLElBQ3RERCxHQUVILHVCQUFLN1YsVUFBVyx1QkFBdUI4VixHQUNwQ3BOLFUsZ0NDbEJmLDJDQUVhNmUsRUFBaUIsV0FDNUIsOEJBQ0UxWixNQUFPLENBQUMyWixPQUFRLEVBQUdDLE9BQVEsRUFBR0MsUUFBUyxHQUN2QzFuQixVQUFVLHNCLHlEQ0xWMm5CLEVBQXdDLFdBQ3hDLFNBQVNBLEVBQXVCQyxFQUFZQyxHQUN4QzdyQixLQUFLNHJCLFdBQWFBLEVBQ2xCNXJCLEtBQUs2ckIsV0FBYUEsRUF1QnRCLE9BckJBRixFQUF1Qmx3QixVQUFVcXdCLGlCQUFtQixTQUFVL3dCLEVBQU15RSxHQUNoRSxJQUNRQSxFQUNBUSxLQUFLNHJCLFdBQVcsR0FBSXBzQixFQUFPUSxNQUN0QmpGLElBQVNpRixLQUFLK3JCLG1CQUNuQi9yQixLQUFLK3JCLGlCQUFtQmh4QixFQUN4QmlGLEtBQUs0ckIsV0FBVzd3QixFQUFNeUUsRUFBT1EsT0FHckMsTUFBTzJkLEdBQ0gsSUFDSTNkLEtBQUs0ckIsV0FBVyxHQUFJak8sRUFBSTNkLE1BRTVCLE1BQU9nc0IsR0FDSC9yQixRQUFRVCxNQUFNLDhDQUErQ3dzQixFQUFLLDZCQUE4QnJPLE1BSTVHZ08sRUFBdUJsd0IsVUFBVTRELFlBQWMsV0FDM0NXLEtBQUs2ckIsV0FBV3hzQixZQUFZVyxPQUV6QjJyQixFQTFCZ0MsRyxRQ0NwQyxTQUFTTSxFQUFrQnZlLEVBQU92TCxHQUNyQyxPQUFPLElBQU91TCxHQUFPd2UsY0FBYy9wQixHQUVoQyxTQUFTZ3FCLEVBQVdwbEIsRUFBT2hNLEdBQzlCLElBQUl3SyxFQU1ELFNBQTRCd0IsR0FDL0IsSUFBSXhCLEVBQVMsU0FBVXRDLEdBQUssT0FBTyxHQUNuQyxPQUFJOEQsRUFBTXlhLEtBQ0M0SyxFQUFJN21CLEVBQVEsU0FBVXRDLEdBQUssT0FBT0EsRUFBRW9wQixVQUFZdGxCLEVBQU15YSxPQUM3RHphLEVBQU15UixHQUNDNFQsRUFBSTdtQixFQUFRLFNBQVV0QyxHQUFLLE9BQU9BLEVBQUVvcEIsU0FBV3RsQixFQUFNeVIsS0FDNUR6UixFQUFNdWxCLElBQ0NGLEVBQUk3bUIsRUFBUSxTQUFVdEMsR0FBSyxPQUFPOEQsRUFBTXVsQixJQUFJcG1CLFNBQVNqRCxFQUFFa0IsTUFDOUQ0QyxFQUFNM0osS0FDQ2d2QixFQUFJN21CLEVBQVEsU0FBVXRDLEdBQUssT0FBT0EsRUFBRTdGLE9BQVMySixFQUFNM0osT0FDMUQySixFQUFNeVAsS0FDQzRWLEVBQUk3bUIsRUFBUSxTQUFVdEMsR0FBSyxPQUFPQSxFQUFFdVQsTUFBUSxHQUFHdFIsT0FBTzZCLEVBQU15UCxNQUFRLElBQUkxUSxLQUFLLFNBQVV5bUIsR0FBTyxPQUFPdHBCLEVBQUV1VCxLQUFLdFEsU0FBU3FtQixPQUV6SGhuQixFQW5CTWluQixDQUFtQnpsQixHQUNoQyxPQUFPaE0sRUFBS3dLLE9BQU9BLEdBRWhCLFNBQVM2bUIsRUFBSUssRUFBU0MsR0FDekIsT0FBTyxTQUFVenBCLEdBQUssT0FBT3dwQixFQUFReHBCLElBQU15cEIsRUFBUXpwQixJQWlCaEQsU0FBUzBwQixFQUFnQjF2QixHQUM1QixNQUFnQixXQUFUQSxFQUFFa1IsR0FFTixTQUFTeWUsRUFBUzN2QixHQUNyQixNQUFnQixpQkFBVEEsRUFBRWtSLElBQWtDLFVBQVRsUixFQUFFa1IsR0M1QnhDLElBQUksRUFBMkIsV0FDM0IsU0FBUzBlLEtBbURULE9BakRBQSxFQUFVQyxhQUFlLFNBQVVwZixFQUFPM0csRUFBT3BDLEVBQU11QixHQUVuRCxPQURvQjJtQixFQUFVRSxpQkFBaUJyZixFQUFPM0csRUFBT2IsR0FFeERsRCxJQUFJLFNBQVU4WixHQUFRLE9BQU9rUSxhQUFhdFAsUUFBUSxjQUFnQi9ZLEVBQU8sSUFBTW1ZLEtBQy9FdlgsT0FBTyxTQUFVMUgsR0FBUyxRQUFTQSxJQUNuQytELEtBQUssTUFBUSxVQUV0QmlyQixFQUFVSSxnQkFBa0IsU0FBVWxmLEVBQU1wSixHQUN4QyxJQUFLLElBQUl1b0IsRUFBSyxFQUFHanJCLEVBQUs0cUIsRUFBVU0sc0JBQXNCcGYsR0FBT21mLEVBQUtqckIsRUFBRzFHLE9BQVEyeEIsSUFBTSxDQUMvRSxJQUFJcFEsRUFBTzdhLEVBQUdpckIsR0FDZEYsYUFBYXZQLFFBQVEsY0FBZ0I5WSxFQUFPLElBQU1tWSxFQUFNLEdBQUtuYyxLQUFLQyxTQUcxRWlzQixFQUFVRSxpQkFBbUIsU0FBVXJmLEVBQU8zRyxFQUFPYixHQUNqRCxJQUFJcVQsRUFBZXhTLEVBQU13UyxhQUNyQjZULEVBQWdCbG5CLEVBQ2ZsRCxJQUFJLFNBQVViLEdBQVMsT0FBTyxJQUFrQnVMLEdBQU93ZSxjQUFjL3BCLEtBQ3JFb0QsT0FBTyxTQUFVbUksR0FBUyxRQUFTQSxJQUd4QyxPQUZJNkwsR0FDQTZULEVBQWN2eEIsS0FBSyxNQUFRNlIsR0FDeEIsQ0FBQ0EsRUFBTyxTQUFVM0csRUFBTTJILFVBQVVuSixPQUFPLFNBQVV0QyxHQUFLLFFBQVNBLElBQU1pQyxPQUFPa29CLEdBQWVwZixRQUV4RzZlLEVBQVVNLHNCQUF3QixTQUFVcGYsR0FDeEMsSUFBSXNmLEVBQWtCLEdBd0J0QixPQXZCQXRmLEVBQUt6TyxRQUFRLFNBQVU0RSxHQUNuQixPQUFRQSxFQUFJaUssSUFDUixJQUFLLE1BQ0wsSUFBSyxNQUNMLElBQUssU0FDTCxJQUFLLFNBQ0RrZixFQUFnQm5wQixFQUFJd0osUUFBUyxFQUM3QixNQUNKLElBQUssT0FDTCxJQUFLLFNBQ0wsSUFBSyxZQUNEMmYsRUFBZ0JucEIsRUFBSWtMLGNBQWUsRUFDbkNpZSxFQUFnQixPQUFTcEIsRUFBa0IvbkIsRUFBSWtMLFlBQWFsTCxFQUFJL0IsU0FBVSxFQUMxRSxNQUNKLElBQUssZUFDRGtyQixFQUFnQm5wQixFQUFJd0ssV0FBWSxFQUNoQyxNQUNKLElBQUssUUFDRDJlLEVBQWdCbnBCLEVBQUl3SyxXQUFZLEVBQ2hDMmUsRUFBZ0JucEIsRUFBSTZLLGdCQUFrQixXQUFZLEtBSXZEdlQsT0FBTytJLEtBQUs4b0IsSUFFaEJSLEVBcERtQixHLFFDRHZCLFNBQVNTLEVBQVcxb0IsRUFBSzJvQixHQUc1QixJQUZBLElBQUlocEIsRUFBTy9JLE9BQU8rSSxLQUFLZ3BCLEdBQ25CQyxFQUFZNW9CLEVBQ1Bzb0IsRUFBSyxFQUFHTyxFQUFTbHBCLEVBQU0yb0IsRUFBS08sRUFBT2x5QixPQUFRMnhCLElBQU0sQ0FDdEQsSUFBSS91QixFQUFNc3ZCLEVBQU9QLEdBQ2JNLElBQWM1b0IsSUFDZDRvQixFQUFZLElBQWlCLEdBQUk1b0IsSUFDckMsSUFBSThvQixFQUFNSCxFQUFNcHZCLEdBQ2hCLEdBQUl1dkIsR0FBc0IsaUJBQVJBLEVBQWtCLENBQ2hDLElBQUlDLEVBQW1CbnlCLE9BQU8rSSxLQUFLbXBCLEdBQzlCbm9CLE9BQU8sU0FBVXBILEdBQU8sT0FBT0EsRUFBSTJxQixXQUFXLE9BQ25ELEdBQUk2RSxFQUFpQnB5QixPQUFTLEVBQUcsQ0E0QzdCLElBM0NBLElBQUlxeUIsRUFBVSxTQUFVQyxHQUNwQixJQUFJQyxFQUFVSixFQUFJRyxHQUNsQixPQUFRQSxHQUNKLElBQUssU0FFREwsRUFBVU8sV0FBWSxFQUN0QixNQUVKLElBQUssT0FDRCxJQUFJQyxFQUFjRixFQUNsQixJQUFLL3FCLE1BQU1xWSxRQUFRNFMsR0FDZixNQUFNLElBQUlqdUIsTUFBTSx1Q0FFcEIsSUFBSWt1QixFQUFjVCxFQUFVcnZCLEdBS3hCOHZCLEVBSkNsckIsTUFBTXFZLFFBQVE2UyxHQUlEQSxFQUFZcnZCLFFBSFosR0FLbEI0dUIsRUFBVXJ2QixHQUFPOHZCLEVBQ2pCLElBQUssSUFBSWYsRUFBSyxFQUFHZ0IsRUFBZ0JGLEVBQWFkLEVBQUtnQixFQUFjM3lCLE9BQVEyeEIsSUFBTSxDQUMzRSxJQUFJaUIsRUFBSUQsRUFBY2hCLEdBQ2pCZSxFQUFZL25CLFNBQVNpb0IsSUFDdEJGLEVBQVlweUIsS0FBS3N5QixHQUd6QixNQUVKLElBQUssVUFDRCxJQUFJQyxFQUFtQk4sRUFDdkIsSUFBSy9xQixNQUFNcVksUUFBUWdULEdBQ2YsTUFBTSxJQUFJcnVCLE1BQU0sMENBRWhCa3VCLEVBQWNULEVBQVVydkIsR0FDdkI0RSxNQUFNcVksUUFBUTZTLEtBQ2ZBLEVBQWMsSUFFbEJULEVBQVVydkIsR0FBTzh2QixFQUFZMW9CLE9BQU8sU0FBVXpILEdBQUssT0FBUXN3QixFQUFpQmxvQixTQUFTcEksT0FLeEZtRSxFQUFLLEVBQUdvc0IsRUFBcUJWLEVBQWtCMXJCLEVBQUtvc0IsRUFBbUI5eUIsT0FBUTBHLElBQU0sQ0FFMUYyckIsRUFEU1MsRUFBbUJwc0IsSUFHaEMsVUFHUnVyQixFQUFVcnZCLEdBQU91dkIsRUFFckIsT0FBT0YsRUFJSixTQUFTYyxFQUFZQyxFQUFRQyxFQUFRdnNCLEdBS3hDLElBSkEsSUFBSXdzQixRQUEyQixJQUFQeHNCLEVBQWdCLENBQUV3c0Isa0JBQWtCLEdBQVV4c0IsR0FBSXdzQixpQkFFdEVscUIsRUFBTy9JLE9BQU8rSSxLQUFLaXFCLEdBQ25CRSxFQUFjLElBQWlCLEdBQUlILEdBQzlCckIsRUFBSyxFQUFHeUIsRUFBU3BxQixFQUFNMm9CLEVBQUt5QixFQUFPcHpCLE9BQVEyeEIsSUFBTSxDQUN0RCxJQUFJL3VCLEVBQU13d0IsRUFBT3pCLEdBQ2JRLEVBQU1jLEVBQU9yd0IsR0FDakIsR0FBSXV2QixHQUFzQixpQkFBUkEsRUFBa0IsQ0FDaEMsSUFBSUMsRUFBbUJueUIsT0FBTytJLEtBQUttcEIsR0FDOUJub0IsT0FBTyxTQUFVcEgsR0FBTyxPQUFPQSxFQUFJMnFCLFdBQVcsT0FDbkQsR0FBSTZFLEVBQWlCcHlCLE9BQVMsRUFBRyxDQW1FN0IsSUFsRUEsSUFBSXF6QixFQUFVLFNBQVVmLEdBQ3BCLElBQUlDLEVBQVVKLEVBQUlHLEdBQ2xCLE9BQVFBLEdBQ0osSUFBSyxTQUNHWSxTQUNPQyxFQUFZdndCLEdBS25CdXdCLEVBQVl2d0IsR0FBTyxDQUFFMHdCLE9BQVEsR0FFakMsTUFFSixJQUFLLE9BQ0QsSUFBSUMsRUFBZ0JoQixFQUNwQixJQUFLL3FCLE1BQU1xWSxRQUFRMFQsR0FDZixNQUFNLElBQUkvdUIsTUFBTSx1Q0FHcEJndkIsR0FESUEsRUFBaUJMLEVBQVl2d0IsSUFDQyxJQUFpQixHQUFJNHdCLEdBQWtCLEdBQ3pFTCxFQUFZdndCLEdBQU80d0IsRUFHbkIsSUFBSUMsRUFBb0JELEVBQWVFLFFBQ25DbHNCLE1BQU1xWSxRQUFRNFQsS0FDZEQsRUFBZUUsUUFDWEQsRUFBa0J6cEIsT0FBTyxTQUFVekgsR0FBSyxPQUFRZ3hCLEVBQWM1b0IsU0FBU3BJLEtBQ3JDLElBQWxDaXhCLEVBQWVFLFFBQVExekIsZUFFaEJ3ekIsRUFBZUUsU0FLOUJDLEdBRElBLEVBQWlCSCxFQUFlSSxNQUNGRCxFQUFlaHFCLE9BQU80cEIsR0FBaUJBLEVBQWNsd0IsUUFDdkZtd0IsRUFBZUksS0FBT0QsRUFDdEIsTUFFSixJQUFLLFVBQ0QsSUFJSUgsRUFKQUssRUFBbUJ0QixFQUN2QixJQUFLL3FCLE1BQU1xWSxRQUFRZ1UsR0FDZixNQUFNLElBQUlydkIsTUFBTSwwQ0FHcEJndkIsR0FESUEsRUFBaUJMLEVBQVl2d0IsSUFDQyxJQUFpQixHQUFJNHdCLEdBQWtCLEdBQ3pFTCxFQUFZdndCLEdBQU80d0IsRUFHbkIsSUFBSUcsRUFBaUJILEVBQWVFLFFBQ2hDbHNCLE1BQU1xWSxRQUFROFQsS0FDZEgsRUFBZUksS0FDWEQsRUFBZTNwQixPQUFPLFNBQVV6SCxHQUFLLE9BQVFzeEIsRUFBaUJscEIsU0FBU3BJLEtBQ3hDLElBQS9CaXhCLEVBQWVJLEtBQUs1ekIsZUFFYnd6QixFQUFlSSxNQUs5QkgsR0FESUEsRUFBb0JELEVBQWVFLFNBQ0NELEVBQWtCOXBCLE9BQU9rcUIsR0FBb0JBLEVBQWlCeHdCLFFBQ3RHbXdCLEVBQWVFLFFBQVVELElBSzVCOXNCLEVBQUssRUFBR210QixFQUFxQjFCLEVBQWtCenJCLEVBQUttdEIsRUFBbUI5ekIsT0FBUTJHLElBQU0sQ0FFMUYwc0IsRUFEU1MsRUFBbUJudEIsSUFHaEMsVUFHUndzQixFQUFZdndCLEdBQU91dkIsRUFFdkIsT0FBT2dCLEVDeEpYLElBQUksRUFBaUMsV0FDakMsU0FBU1ksRUFBZ0I1aEIsRUFBTzNHLEVBQU9wQyxFQUFNNHFCLEVBQU1DLEdBQy9DeHZCLEtBQUswTixNQUFRQSxFQUNiMU4sS0FBSytHLE1BQVFBLEVBQ2IvRyxLQUFLMkUsS0FBT0EsRUFDWjNFLEtBQUt1dkIsS0FBT0EsRUFDWnZ2QixLQUFLd3ZCLGNBQWdCQSxFQUNyQnh2QixLQUFLYixjQUFnQixHQUNyQmEsS0FBS2pGLEtBQU8sR0FDWmlGLEtBQUt5dkIsb0JBQXFCLEVBQzFCenZCLEtBQUswdkIsU0FBVSxFQUNmMXZCLEtBQUsydkIsY0FBZ0IsRUFDckIzdkIsS0FBSzR2QixhQUFlLEtBQ3BCNXZCLEtBQUtrRyxTQUFXYSxFQUFNaVMsUUFDTyxpQkFBbEJqUyxFQUFNaVMsUUFDVCxDQUFDalMsRUFBTWlTLFNBQ1BqUyxFQUFNaVMsUUFDVixHQStYUixPQTdYQXNXLEVBQWdCTyxTQUFXLFNBQVVuaUIsRUFBTzNHLEdBQ2pCQSxFQUFNOEcsaUJBQTdCLElBQStDaWlCLEVBQWtCLElBQWUvb0IsRUFBTyxDQUFDLHFCQUN4RixPQUFPMkcsRUFBUWxFLEtBQUtDLFVBQVVxbUIsSUFFbEN0MEIsT0FBTytCLGVBQWUreEIsRUFBZ0I3ekIsVUFBVyxXQUFZLENBQ3pEZ0MsSUFBSyxXQUNELE9BQU82eEIsRUFBZ0JPLFNBQVM3dkIsS0FBSzBOLE1BQU8xTixLQUFLK0csUUFFckR2SixZQUFZLEVBQ1oyTCxjQUFjLElBRWxCbW1CLEVBQWdCN3pCLFVBQVU4bEIsVUFBWSxTQUFVOWhCLEdBQzVDLE9BQU8sSUFBa0JPLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQVVqRixFQUNWLE9BQU8sSUFBb0JpRixLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFFRCxPQURBbkMsS0FBS2IsY0FBY3RELEtBQUs0RCxJQUNsQk8sS0FBS3l2QixvQkFBdUJ6dkIsS0FBSzB2QixRQUFpQixDQUFDLEVBQWEsSUFDdEUzMEIsRUFBT2lGLEtBQUsrdkIsNEJBQTRCL3ZCLEtBQUt3dkIsY0FBYy94QixPQUFPLEVBQU11QyxLQUFLakYsTUFDN0UwRSxFQUFhcXNCLGlCQUFpQi93QixFQUFNaUYsS0FBS1IsT0FDbEMsQ0FBQyxFQUFhLElBQ3pCLEtBQUssRUFFRCxPQURBekUsRUFBT2lGLEtBQUtnd0IsaUJBRVpod0IsS0FBS2pGLEtBQU9BLEVBQ1ppRixLQUFLUixNQUFRLEtBQ2JDLEVBQWFxc0IsaUJBQWlCL3dCLEVBQU1pRixLQUFLUixPQUNsQyxDQUFDLEVBQWEsSUFKSCxDQUFDLEVBQWEsR0FLcEMsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFhUSxLQUFLa00sUUFDbEMsS0FBSyxFQUNEakssRUFBR1EsT0FDSFIsRUFBR0UsTUFBUSxFQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsU0FLaENtdEIsRUFBZ0I3ekIsVUFBVXlRLEtBQU8sU0FBVStqQixHQUN2QyxPQUFPLElBQWtCandCLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQUlrd0IsRUFDQTNtQixFQUFRdkosS0FDWixPQUFPLElBQW9CQSxLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFLRCxPQUpJbkMsS0FBS3l2QiwyQkFFRXp2QixLQUFLK0csTUFBTThHLGlCQUVmb2lCLElBQVdqd0IsS0FBSzR2QixhQUFzQixDQUFDLEVBQWEsR0FDcEQsQ0FBQyxFQUFhNXZCLEtBQUs0dkIsY0FDOUIsS0FBSyxFQUdMLE1BQU8sQ0FBQyxFQUFjM3RCLEVBQUdRLFFBQ3pCLEtBQUssRUE2QkQsT0E1QkF3dEIsRUFBVUEsR0FBV2p3QixLQUFLdXZCLEtBQUtZLE9BQU9DLGlCQUFpQnZ5QixNQTRCaEQsQ0FBQyxFQTNCUnF5QixFQUFjbHdCLEtBQUs0dkIsYUFBZTV2QixLQUFLcXdCLE1BQU1KLEdBQVMzdUIsS0FBSyxTQUFVdkcsR0FDN0R3TyxFQUFNcW1CLGVBQWlCTSxJQUN2QjNtQixFQUFNeE8sS0FBT0EsRUFDYndPLEVBQU1vbUIsY0FBZ0I3dUIsS0FBS3d2QixJQUFJL21CLEVBQU1vbUIsY0FBZU0sTUFFekQ3bEIsTUFBTSxTQUFVNUssR0FDWCtKLEVBQU1xbUIsZUFBaUJNLElBRXZCM21CLEVBQU0vSixNQUFRQSxLQUVuQjhCLEtBQUssV0FDSixHQUFJaUksRUFBTXFtQixlQUFpQk0sRUFhdkIsT0FBTzNtQixFQUFNcW1CLGFBVmJybUIsRUFBTXFtQixhQUFlLEtBQ3JCcm1CLEVBQU1rbUIsb0JBQXFCLEVBQzNCbG1CLEVBQU1nbkIsa0JBQWtCaG5CLEVBQU1pbUIsY0FBYy94QixVQVl4RCxLQUFLLEVBRUQsT0FEQXdFLEVBQUdRLE9BQ0ksQ0FBQyxTQUs1QjZzQixFQUFnQjd6QixVQUFVNDBCLE1BQVEsU0FBVUosR0FDeEMsT0FBTyxJQUFrQmp3QixVQUFNLE9BQVEsRUFBUSxXQUMzQyxPQUFPLElBQW9CQSxLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFDRCxPQUFLbkMsS0FBS3d2QixjQUFjZ0IsYUFBYXh3QixLQUFLME4sTUFBTzFOLEtBQUsrRyxNQUFPL0csS0FBS2tHLFVBSTNELENBQUMsRUFBYWxHLEtBQUt1dkIsS0FBS1ksT0FBT00sd0JBQXdCUixJQUpzQixDQUFDLEVBQWEsR0FLdEcsS0FBSyxFQUlEaHVCLEVBQUdRLE9BQ0hSLEVBQUdFLE1BQVEsRUFDZixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWFuQyxLQUFLMHdCLGVBQ2xDLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBY3p1QixFQUFHUSxjQUtqRDZzQixFQUFnQjd6QixVQUFVNEQsWUFBYyxTQUFVSSxHQUM5Q08sS0FBS2IsY0FBZ0JhLEtBQUtiLGNBQWNvRyxPQUFPLFNBQVU1SSxHQUFLLE9BQU9BLElBQU04QyxLQUUvRTZ2QixFQUFnQjd6QixVQUFVazFCLGdCQUFrQixTQUFVQyxFQUFXWCxHQUM3RCxPQUFPLElBQWtCandCLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQUlrdEIsRUFBSTJELEVBQWE1ekIsRUFBR2xDLEVBQ3hCLE9BQU8sSUFBb0JpRixLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFDRCxJQUFLbkMsS0FBS2pGLEtBQU0sTUFBTyxDQUFDLEVBQWEsR0FDckNteUIsRUFBSyxFQUFHMkQsRUFBY0QsRUFDdEIzdUIsRUFBR0UsTUFBUSxFQUNmLEtBQUssRUFDRCxPQUFNK3FCLEVBQUsyRCxFQUFZdDFCLE9BRVIsa0JBRGYwQixFQUFJNHpCLEVBQVkzRCxJQUNSL2UsSUFBMEJsUixFQUFFeVIsV0FBYTFPLEtBQUsrRyxNQUFNMkgsU0FBbUIsQ0FBQyxFQUFhLEdBQ3RGLENBQUMsRUFBYTFPLEtBQUs4d0Isb0JBQW9CYixJQUhQLENBQUMsRUFBYSxHQUl6RCxLQUFLLEVBRUQsT0FEQWh1QixFQUFHUSxPQUNJLENBQUMsR0FDWixLQUFLLEVBQ0QsTUFBZSxVQUFUeEYsRUFBRWtSLElBQW9CbFIsRUFBRThSLGdCQUMxQjlSLEVBQUV5UixXQUFhMU8sS0FBSytHLE1BQU0ySCxVQUMxQnpSLEVBQUU4UixpQkFBbUIvTyxLQUFLK0csTUFBTTJILFNBQW1CLENBQUMsRUFBYSxHQUM5RCxDQUFDLEVBQWExTyxLQUFLOHdCLG9CQUFvQmIsSUFDbEQsS0FBSyxFQUVELE9BREFodUIsRUFBR1EsT0FDSSxDQUFDLEdBQ1osS0FBSyxFQUNELE1BQWUsV0FBVHhGLEVBQUVrUixLQUFxQmxSLEVBQUU0UixTQUFTMkgsTUFBUXhXLEtBQUsrRyxNQUFNeVAsTUFDdER2WixFQUFFNFIsU0FBU3pSLE1BQVE0QyxLQUFLK0csTUFBTTNKLE1BSzVCLENBQUMsRUFBYTRDLEtBQUs4d0Isb0JBQW9CYixJQUxLLENBQUMsRUFBYSxHQU1yRSxLQUFLLEVBTUQsT0FEQWh1QixFQUFHUSxPQUNJLENBQUMsR0FDWixLQUFLLEVBRUQsT0FEQXlxQixJQUNPLENBQUMsRUFBYSxHQUN6QixLQUFLLEVBQ0RueUIsRUFBT2lGLEtBQUsrdkIsNEJBQTRCYSxHQUFXLEVBQU81d0IsS0FBS2pGLE1BQy9EaUYsS0FBS2pGLEtBQU9BLEVBQ1prSCxFQUFHRSxNQUFRLEVBQ2YsS0FBSyxFQUFHLE1BQU8sQ0FBQyxTQUtoQ210QixFQUFnQjd6QixVQUFVcTFCLG9CQUFzQixTQUFVYixHQUN0RCxPQUFPLElBQWtCandCLFVBQU0sT0FBUSxFQUFRLFdBQzNDLE9BQU8sSUFBb0JBLEtBQU0sU0FBVWlDLEdBQ3ZDLE9BQVFBLEVBQUdFLE9BQ1AsS0FBSyxFQUNELE9BQW9DLElBQTlCbkMsS0FBS2IsY0FBYzVELE9BQXNCLENBQUMsRUFBYSxJQUM3RHlFLEtBQUswdkIsU0FBVSxFQUNSLENBQUMsRUFBYSxJQUN6QixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWExdkIsS0FBS2tNLEtBQUsrakIsSUFDdkMsS0FBSyxFQUNEaHVCLEVBQUdRLE9BQ0hSLEVBQUdFLE1BQVEsRUFDZixLQUFLLEVBQUcsTUFBTyxDQUFDLFNBS2hDbXRCLEVBQWdCN3pCLFVBQVU4MEIsa0JBQW9CLFNBQVVRLEdBQ3BELElBQUl4bkIsRUFBUXZKLEtBQ1osR0FBSUEsS0FBS2pGLE1BQVFpRixLQUFLeXZCLG1CQUFvQixDQUN0QyxJQUFJdUIsRUFBU2h4QixLQUFLK3ZCLDRCQUE0QmdCLEdBQXFCLEVBQU0vd0IsS0FBS2pGLE1BQzlFaUYsS0FBS2IsY0FBY0csUUFBUSxTQUFVM0MsR0FDakNBLEVBQUVtdkIsaUJBQWlCa0YsRUFBUXpuQixFQUFNL0osV0FJN0M4dkIsRUFBZ0I3ekIsVUFBVXUwQixhQUFlLFdBQ3JDLE9BQU9od0IsS0FBS3V2QixLQUFLMEIsU0FBU2pCLGFBQWFod0IsS0FBSzBOLE1BQU8xTixLQUFLK0csTUFBTy9HLEtBQUtrRyxXQUV4RW9wQixFQUFnQjd6QixVQUFVaTFCLFlBQWMsV0FDcEMsT0FBTyxJQUFrQjF3QixVQUFNLE9BQVEsRUFBUSxXQUUzQyxPQUFPLElBQW9CQSxLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYW5DLEtBQUt1dkIsS0FBSzJCLFlBQVl2akIsS0FBSzNOLEtBQUswTixNQUFPLElBQWlCLEdBQUkxTixLQUFLK0csU0FDOUYsS0FBSyxFQUVELE1BQU8sQ0FBQyxFQUREOUUsRUFBR1EsY0FNOUI2c0IsRUFBZ0I3ekIsVUFBVXMwQiw0QkFBOEIsU0FBVWEsRUFBV08sRUFBWXAyQixHQUNyRixJQUFJd08sRUFBUXZKLEtBSVosT0FIQTR3QixFQUFVdHhCLFFBQVEsU0FBVTh4QixHQUN4QnIyQixFQUFPd08sRUFBTThuQixxQkFBcUJ0MkIsRUFBTXEyQixFQUFVRCxLQUUvQ3AyQixHQUVYdTBCLEVBQWdCN3pCLFVBQVU0MUIscUJBQXVCLFNBQVV0MkIsRUFBTWtDLEVBQUdrMEIsR0FDaEUsR0FBSXhFLEVBQWdCMXZCLElBQU1BLEVBQUV5UixVQUFZMU8sS0FBSytHLE1BQU0ySCxTQUMvQyxPQUFPM1QsRUFDWCxJQUFlMlMsRUFBTjFOLEtBQWlCME4sTUFBT3hILEVBQXhCbEcsS0FBc0NrRyxTQUFVb3JCLEVBQWhEdHhCLEtBQWlFK0csTUFDdEV3cUIsRUFBWUQsRUFBWS9YLGFBQWUsR0FBR3JVLE9BQU9vc0IsRUFBWS9YLGNBQWdCLElBQU0sR0FDbkZpWSxFQUFnQkYsRUFBWTlhLEtBQU8sR0FBR3RSLE9BQU9vc0IsRUFBWTlhLE1BQVEsSUFBTSxHQUMzRSxPQUFRdlosRUFBRWtSLElBQ04sSUFBSyxTQUNELE9BQU8sWUFBWXBULEVBQU0sU0FBVTZKLEdBQy9CLEdBQUlBLEVBQUlULEtBQU9sSCxFQUFFa0gsR0FBSSxDQUVqQixJQUFJc3RCLEVBQWFuRSxFQUFXMW9CLEVBQUszSCxFQUFFNFIsVUFHbkMsT0FGSXNpQixJQUNBTSxFQUFXMWYsTUFBUSxZQUNoQjBmLEVBcUJYLE9BakJBdnJCLEVBQVM1RyxRQUFRLFNBQVU2QyxHQUN2QixJQUFJRixFQUNBeXZCLEVBQWU5c0IsRUFBSXpDLEdBQ3ZCLEdBQUl1dkIsRUFBYyxDQUNkLElBQUlDLEVBQWUsWUFBWUQsRUFBYyxTQUFVRSxHQUNuRCxHQUFJQSxFQUFRenRCLEtBQU9sSCxFQUFFa0gsR0FDakIsT0FBT3l0QixFQUNYLElBQUlDLEVBQWlCdkUsRUFBV3NFLEVBQVMzMEIsRUFBRTRSLFVBRzNDLE9BRklzaUIsSUFDQVUsRUFBZTlmLE1BQVEsWUFDcEI4ZixJQUVQRixJQUFpQkQsSUFDakI5c0IsRUFBTSxJQUFpQixHQUFJQSxJQUFNM0MsRUFBSyxJQUFPRSxHQUFTd3ZCLEVBQWMxdkIsUUFJekUyQyxJQUdmLElBQUssTUFDRCxHQUFJOEksSUFBVXpRLEVBQUV5USxPQUNSNGpCLEVBQVk5YSxLQUFNLENBQ2xCLElBQUlzYixFQUFnQixHQUFHNXNCLE9BQU9vc0IsRUFBWTlhLE1BQzFDLEdBQUl2WixFQUFFMkgsSUFBSTRSLE1BQVF2WixFQUFFMkgsSUFBSTRSLEtBQUsxUSxLQUFLLFNBQVV5bUIsR0FBTyxPQUFPdUYsRUFBYzVyQixTQUFTcW1CLEtBQzdFLE9BQU94eEIsRUFBS21LLE9BQU8sQ0FBQ2pJLEVBQUUySCxNQU1sQyxPQUFPN0osRUFDWCxJQUFLLGNBQ0QsR0FBSTJTLElBQVV6USxFQUFFeVEsUUFBNEMsSUFBbkN4SCxFQUFTaUIsUUFBUWxLLEVBQUU4MEIsV0FHeEMsT0FBTyxZQUFZaDNCLEVBQU0sU0FBVTZKLEdBQy9CLElBQUkzQyxFQUNKLEdBQUkyQyxFQUFJVCxLQUFPbEgsRUFBRWtILEdBQ2IsT0FBT1MsRUFDWCxJQUFJb3RCLEVBQWEsSUFBaUIsR0FBSS8wQixFQUFFKzBCLFlBR3hDLE9BRkliLElBQ0FhLEVBQVdqZ0IsTUFBUSxVQUNoQixJQUFpQixHQUFJbk4sSUFBTTNDLEVBQUssSUFBT2hGLEVBQUU4MEIsV0FBYW50QixFQUFJM0gsRUFBRTgwQixXQUFXN3NCLE9BQU8sQ0FBQzhzQixJQUFjL3ZCLE1BRzVHLEdBQUlxdkIsRUFBWS9YLGNBQ1JnWSxFQUFVcnJCLFNBQVNqSixFQUFFa0gsS0FJakJ1SixJQUFVdWUsRUFBa0JodkIsRUFBRXlRLE1BQU96USxFQUFFODBCLFdBQVksQ0FDbkQsSUFBS1QsRUFBWTlhLEtBQ2IsT0FBT3piLEVBQUttSyxPQUFPbEYsS0FBS2l5QixjQUFjaDFCLEVBQUUrMEIsYUFDNUMsR0FBSS8wQixFQUFFKzBCLFdBQVd4YixNQUFRZ2IsRUFBYzFyQixLQUFLLFNBQVV5bUIsR0FBTyxPQUFPdHZCLEVBQUUrMEIsV0FBV3hiLEtBQUt0USxTQUFTcW1CLEtBQzNGLE9BQU94eEIsRUFBS21LLE9BQU9sRixLQUFLaXlCLGNBQWNoMUIsRUFBRSswQixhQUt4RCxPQUFJVixFQUFZaEYsS0FBT2dGLEVBQVloRixJQUFJeG1CLEtBQUssU0FBVTNCLEdBQU0sT0FBT0EsSUFBT2xILEVBQUUrMEIsV0FBVzd0QixLQWtCNUVwSixFQUFLbUssT0FBT2xGLEtBQUtpeUIsY0FBY2gxQixFQUFFKzBCLGFBRXJDajNCLEVBQ1gsSUFBSyxpQkFDRCxPQUFJMlMsSUFBVXpRLEVBQUV5USxRQUE0QyxJQUFuQ3hILEVBQVNpQixRQUFRbEssRUFBRTgwQixXQUNqQyxZQUFZaDNCLEVBQU0sU0FBVTZKLEdBQy9CLElBQUkzQyxFQUNBeXZCLEVBQWU5c0IsRUFBSTNILEVBQUU4MEIsV0FDekIsT0FBS0wsRUFFRDlzQixFQUFJVCxLQUFPbEgsRUFBRWtILEdBQ05TLEVBQ0osSUFBaUIsR0FBSUEsSUFBTTNDLEVBQUssSUFBT2hGLEVBQUU4MEIsV0FBYVosRUFFekRPLEVBQWExdUIsSUFBSSxTQUFVN0YsR0FBSyxPQUFPQSxFQUFFZ0gsS0FBT2xILEVBQUUrMEIsV0FBVzd0QixHQUN6RGhILEVBQUksSUFBaUIsR0FBSUEsRUFBRyxDQUFFNFUsTUFBTyxlQUV6QzJmLEVBQWFuc0IsT0FBTyxTQUFVcEksR0FBSyxPQUFPQSxFQUFFZ0gsS0FBT2xILEVBQUUrMEIsV0FBVzd0QixLQUFRbEMsSUFSakUyQyxJQVdmMHNCLEVBQVkvWCxjQUNSZ1ksRUFBVXJyQixTQUFTakosRUFBRWtILElBQ2RndEIsRUFDSHAyQixFQUFLaUksSUFBSSxTQUFVN0YsR0FBSyxPQUFPQSxFQUFFZ0gsS0FBT2xILEVBQUUrMEIsV0FBVzd0QixHQUFLLElBQWlCLEdBQUloSCxFQUFHLENBQUU0VSxNQUFPLGFBQWdCNVUsSUFDM0dwQyxFQUFLd0ssT0FBTyxTQUFVcEksR0FBSyxPQUFPQSxFQUFFZ0gsS0FBT2xILEVBQUUrMEIsV0FBVzd0QixLQUU3RHBKLEVBQ1gsSUFBSyxTQUNELEdBQUkyUyxJQUFVelEsRUFBRXlRLE1BQ1osT0FBTzNTLEVBQUt3SyxPQUFPLFNBQVVwSSxHQUFLLE9BQU9BLEVBQUVnSCxLQUFPbEgsRUFBRWtILEtBRW5ELEdBQUltdEIsRUFBWXRZLFFBQVMsQ0FDMUIsSUFFSWtaLEVBRmlCaHNCLEVBQ2hCbEQsSUFBSSxTQUFVYixHQUFTLE1BQU8sQ0FBR0EsTUFBT0EsRUFBT3VMLE1BQU91ZSxFQUFrQnZlLEVBQU92TCxNQUN0RG9ELE9BQU8sU0FBVXRELEdBRTNDLE9BRFlBLEVBQUd5TCxRQUNFelEsRUFBRXlRLFFBRXZCLEdBQUl3a0IsRUFBUzMyQixPQUFTLEVBQ2xCLE9BQU8sWUFBWVIsRUFBTSxTQUFVNkosR0FjL0IsT0FiQXN0QixFQUFTNXlCLFFBQVEsU0FBVTJDLEdBQ3ZCLElBQ0lDLEVBREFDLEVBQVFGLEVBQUdFLE1BRVhnd0IsRUFBY3Z0QixFQUFJekMsR0FDbEJnd0IsSUFDQXZ0QixFQUFNLElBQWlCLEdBQUlBLElBQU0xQyxFQUFLLElBQU9DLEdBQVNndkIsRUFDbERnQixFQUFZbnZCLElBQUksU0FBVTdGLEdBQUssT0FBT0EsRUFBRWdILEtBQU9sSCxFQUFFa0gsR0FBSyxJQUFpQixHQUFJaEgsRUFBRyxDQUFFNFUsTUFBTyxhQUFnQjVVLElBQ3ZHZzFCLEVBQVk1c0IsT0FBTyxTQUFVdEQsR0FFekIsT0FEU0EsRUFBR2tDLEtBQ0VsSCxFQUFFa0gsS0FDaEJqQyxPQUdUMEMsSUFJbkIsT0FBTzdKLEVBQ1gsUUFDSSxPQUFPQSxJQUduQnUwQixFQUFnQjd6QixVQUFVdzJCLGNBQWdCLFNBQVVydEIsR0FDaEQsSUFBSXd0QixFQUFPLElBQWlCLEdBQUl4dEIsR0FFaEMsT0FEQTVFLEtBQUtrRyxTQUFTNUcsUUFBUSxTQUFVNkMsR0FBUyxPQUFPaXdCLEVBQUtqd0IsR0FBU2l3QixFQUFLandCLElBQVUsS0FDdEVpd0IsR0FFSjlDLEVBaFp5QixHQ0toQyxFQUFzQyxTQUFVbGlCLEdBRWhELFNBQVNpbEIsRUFBcUI5QyxFQUFNN2hCLEVBQU8zRyxHQUN2QyxJQUFJd0MsRUFBUTZELEVBQU96UixLQUFLcUUsS0FBTSxTQUFVVCxHQUNwQyxJQUFJRSxFQUFlLElBQUlrc0IsRUFBdUJwc0IsRUFBVWdLLEdBRXhELE9BREFBLEVBQU1nbUIsS0FBSzBCLFNBQVMxUCxVQUFVOWhCLEdBQ3ZCQSxLQUNMTyxLQUlOLE9BSEF1SixFQUFNZ21CLEtBQU9BLEVBQ2JobUIsRUFBTW1FLE1BQVFBLEVBQ2RuRSxFQUFNeEMsTUFBUUEsRUFDUHdDLEVBOExYLE9BeE1BLElBQWtCOG9CLEVBQXNCamxCLEdBWXhDNVIsT0FBTytCLGVBQWU4MEIsRUFBcUI1MkIsVUFBVyxXQUFZLENBQzlEZ0MsSUFBSyxXQUNELE9BQU8sRUFBZ0JveUIsU0FBUzd2QixLQUFLME4sTUFBTzFOLEtBQUsrRyxRQUVyRHZKLFlBQVksRUFDWjJMLGNBQWMsSUFFbEIzTixPQUFPK0IsZUFBZTgwQixFQUFxQjUyQixVQUFXLFdBQVksQ0FDOURnQyxJQUFLLFdBQ0QsT0FBT3VDLEtBQUtzeUIsWUFBY3R5QixLQUFLc3lCLFVBQVksR0FBR3B0QixPQUFPbEYsS0FBSytHLE1BQU1pUyxTQUFXLE1BRS9FeGIsWUFBWSxFQUNaMkwsY0FBYyxJQUVsQmtwQixFQUFxQjUyQixVQUFVODJCLFdBQWEsU0FBVXhyQixHQUNsRCxPQUFPLElBQUlzckIsRUFBcUJyeUIsS0FBS3V2QixLQUFNdnZCLEtBQUswTixNQUFPLElBQWlCLEdBQUkxTixLQUFLK0csTUFBT0EsS0FFNUZzckIsRUFBcUI1MkIsVUFBVSsyQixvQkFBc0IsU0FBVUMsRUFBV0MsR0FDdEUsSUFBSXp3QixFQUNKLE9BQU9qQyxLQUFLdXlCLGFBQVl0d0IsRUFBSyxJQUFPd3dCLElBQWN6eUIsS0FBSytHLE1BQU0wckIsSUFBYyxJQUFJdnRCLE9BQU93dEIsR0FBVXp3QixLQUVwR293QixFQUFxQjUyQixVQUFVazNCLFNBQVcsV0FFdEMsSUFEQSxJQUFJL2tCLEVBQVEsR0FDSHNmLEVBQUssRUFBR0EsRUFBSzdyQixVQUFVOUYsT0FBUTJ4QixJQUNwQ3RmLEVBQU1zZixHQUFNN3JCLFVBQVU2ckIsR0FFMUIsT0FBT2x0QixLQUFLd3lCLG9CQUFvQixRQUFTNWtCLElBRTdDeWtCLEVBQXFCNTJCLFVBQVVtM0IsTUFBUSxXQUNuQyxPQUFPNXlCLEtBQUt1eUIsV0FBVyxDQUFFSyxPQUFPLEtBRXBDUCxFQUFxQjUyQixVQUFVbzNCLFFBQVUsV0FDckMsT0FBTzd5QixLQUFLMnlCLFNBQVMsWUFFekJOLEVBQXFCNTJCLFVBQVVxM0IsZ0JBQWtCLFdBQzdDLE9BQU85eUIsS0FBSzJ5QixTQUFTLG9CQUV6Qk4sRUFBcUI1MkIsVUFBVXMzQixlQUFpQixXQUM1QyxPQUFPL3lCLEtBQUsyeUIsU0FBUyxtQkFFekJOLEVBQXFCNTJCLFVBQVV1M0IsdUJBQXlCLFdBQ3BELE9BQU9oekIsS0FBSzJ5QixTQUFTLDJCQUV6Qk4sRUFBcUI1MkIsVUFBVXczQixRQUFVLFNBQVV6UixFQUFNaEosR0FDckQsT0FBT3hZLEtBQUt1eUIsV0FBVyxDQUFFL1EsS0FBTUEsRUFBTWhKLEdBQUlBLEtBRTdDNlosRUFBcUI1MkIsVUFBVTJKLEtBQU8sU0FBVUEsR0FDNUMsT0FBT3BGLEtBQUt1eUIsV0FBVyxDQUFFbnRCLEtBQU1BLEtBRW5DaXRCLEVBQXFCNTJCLFVBQVU4ZCxhQUFlLFNBQVUrUyxHQUNwRCxHQUFtQixJQUFmQSxFQUFJL3dCLFFBQWdCK3dCLEVBQUl4bUIsS0FBSyxTQUFVM0IsR0FBTSxPQUFRQSxJQUNyRCxNQUFNLElBQUlwRSxNQUFNLG9EQUFzRHlKLEtBQUtDLFVBQVU2aUIsR0FBTyxLQUVoRyxPQURVdHNCLEtBQUt3eUIsb0JBQW9CLGVBQWdCbEcsSUFHdkQrRixFQUFxQjUyQixVQUFVeTNCLFdBQWEsU0FBVTVHLEdBQ2xELEdBQW1CLElBQWZBLEVBQUkvd0IsUUFBZ0Ird0IsRUFBSXhtQixLQUFLLFNBQVUzQixHQUFNLE9BQVFBLElBQ3JELE1BQU0sSUFBSXBFLE1BQU0sa0RBQW9EeUosS0FBS0MsVUFBVTZpQixHQUFPLEtBRTlGLE9BRFV0c0IsS0FBS3d5QixvQkFBb0IsYUFBY2xHLElBR3JEK0YsRUFBcUI1MkIsVUFBVTBJLEdBQUssU0FBVUEsR0FDMUMsSUFBSW9GLEVBQVF2SixLQUNaLE9BQU9BLEtBQUt1eUIsV0FBVyxDQUFFakcsSUFBSyxDQUFDbm9CLEtBQU84VSxPQUFPLENBQ3pDa2EsT0FBUSxXQUFjLE1BQU0sSUFBSXB6QixNQUFNLDRCQUE4QndKLEVBQU1tRSxNQUFRLFlBQWN2SixJQUNoR2l2QixPQUFRLFdBQWMsTUFBTSxJQUFJcnpCLE1BQU0sdUJBQXlCd0osRUFBTW1FLE1BQVEsWUFBY3ZKLE9BR25Ha3VCLEVBQXFCNTJCLFVBQVU2d0IsSUFBTSxTQUFVQSxHQUMzQyxPQUFPdHNCLEtBQUt1eUIsV0FBVyxDQUFFakcsSUFBS0EsS0FFbEMrRixFQUFxQjUyQixVQUFVMkIsS0FBTyxTQUFVQSxHQUM1QyxPQUFPNEMsS0FBS3V5QixXQUFXLENBQUVuMUIsS0FBTUEsS0FFbkNpMUIsRUFBcUI1MkIsVUFBVSthLEtBQU8sV0FFbEMsSUFEQSxJQUFJQSxFQUFPLEdBQ0YwVyxFQUFLLEVBQUdBLEVBQUs3ckIsVUFBVTlGLE9BQVEyeEIsSUFDcEMxVyxFQUFLMFcsR0FBTTdyQixVQUFVNnJCLEdBRXpCLE9BQU9sdEIsS0FBS3V5QixXQUFXLENBQUUvYixLQUFNQSxLQUVuQzZiLEVBQXFCNTJCLFVBQVVpVCxTQUFXLFNBQVVBLEdBQ2hELE9BQU8xTyxLQUFLdXlCLFdBQVcsQ0FBRTdqQixTQUFVQSxLQUV2QzJqQixFQUFxQjUyQixVQUFVdWQsUUFBVSxXQUVyQyxJQURBLElBQUkrRSxFQUFTLEdBQ0ptUCxFQUFLLEVBQUdBLEVBQUs3ckIsVUFBVTlGLE9BQVEyeEIsSUFDcENuUCxFQUFPbVAsR0FBTTdyQixVQUFVNnJCLEdBRTNCLE9BQU9sdEIsS0FBS3d5QixvQkFBb0IsVUFBV3pVLElBRS9Dc1UsRUFBcUI1MkIsVUFBVTQzQixlQUFpQixXQUM1QyxPQUFPcnpCLEtBQUt1eUIsV0FBVyxDQUFFZSxVQUFXLEVBQVV4RyxhQUFhOXNCLEtBQUswTixNQUFPMU4sS0FBSytHLE1BQU8vRyxLQUFLdXZCLEtBQUtnRSxVQUFXdnpCLEtBQUtrRyxhQUVqSG1zQixFQUFxQjUyQixVQUFVb1MsaUJBQW1CLFNBQVUybEIsR0FDeEQsSUFBSUMsRUFBSyxJQUFJLElBRWIsT0FEQUQsRUFBZ0JDLEdBQ1R6ekIsS0FBS3V5QixXQUFXLENBQUUxa0IsaUJBQWtCNGxCLEVBQUdsbEIsb0JBRWxEOGpCLEVBQXFCNTJCLFVBQVV3ZCxPQUFTLFNBQVV5YSxHQUM5QyxJQUFJbnFCLEVBQVF2SixLQUNSaUMsRUFBS3l4QixHQUFZLEdBQUlQLEVBQVNseEIsRUFBR2t4QixPQUFRQyxFQUFTbnhCLEVBQUdteEIsT0FDekQsT0FBT3B6QixLQUFLd1osVUFBVXhXLElBQUksU0FBVXFmLEdBQ2hDLEdBQXFCLElBQWpCQSxFQUFNOW1CLE9BQWMsQ0FDcEIsSUFBSTQzQixFQUdBLE1BQU0sSUFBSXB6QixNQUFNLGtCQUFvQndKLEVBQU1tRSxNQUFRLHFDQUF1Q2xFLEtBQUtDLFVBQVVGLEVBQU14QyxPQUFTLHdCQUZ2SG9zQixJQVdSLE9BUEk5USxFQUFNOW1CLE9BQVMsSUFFWDYzQixFQUNBQSxJQUVBbnpCLFFBQVFDLElBQUksa0JBQW9CcUosRUFBTW1FLE1BQVEscUNBQXVDbEUsS0FBS0MsVUFBVUYsRUFBTXhDLE9BQVMsUUFBVXNiLEVBQU05bUIsT0FBUyxnQkFFN0k4bUIsRUFBTSxNQU1yQmdRLEVBQXFCNTJCLFVBQVVtVCxPQUFTLFNBQVVoSyxFQUFLK3VCLEVBQVNDLFFBQzNDLElBQWJBLElBQXVCQSxFQUFXLEtBQ3RDNXpCLEtBQUt1dkIsS0FBS1ksT0FBTzBELE9BQU8sQ0FBQyxDQUNqQjFsQixHQUFJLFNBQ0pULE1BQU8xTixLQUFLME4sTUFDWmdCLFNBQVUxTyxLQUFLK0csTUFBTTJILFNBQ3JCdkssR0FBSVMsRUFBSVQsR0FDUjBLLFNBQVU4a0IsRUFDVkcsV0FBWWx2QixFQUFJeEgsT0FDaEJ3MkIsSUFFWnZCLEVBQXFCNTJCLFVBQVVzNEIsV0FBYSxTQUFVNXZCLEVBQUloQyxFQUFPNnZCLEdBQzdEaHlCLEtBQUt1dkIsS0FBS1ksT0FBTzBELE9BQU8sQ0FBQyxDQUNqQjFsQixHQUFJLGNBQ0pULE1BQU8xTixLQUFLME4sTUFDWmdCLFNBQVUxTyxLQUFLK0csTUFBTTJILFNBQ3JCdkssR0FBSUEsRUFDSjR0QixVQUFXNXZCLEVBQ1g2dkIsV0FBWUEsSUFDWixJQUVaSyxFQUFxQjUyQixVQUFVZ1QsSUFBTSxTQUFVN0osR0FDM0M1RSxLQUFLdXZCLEtBQUtZLE9BQU8wRCxPQUFPLENBQUMsQ0FDakIxbEIsR0FBSSxNQUNKaEssR0FBSVMsRUFBSVQsR0FDUnVKLE1BQU8xTixLQUFLME4sTUFDWjlJLElBQUtBLElBQ0wsSUFFWnl0QixFQUFxQjUyQixVQUFVdTRCLGNBQWdCLFNBQVU3dkIsRUFBSWhDLEVBQU82dkIsR0FDaEVoeUIsS0FBS3V2QixLQUFLWSxPQUFPMEQsT0FBTyxDQUFDLENBQ2pCMWxCLEdBQUksaUJBQ0pULE1BQU8xTixLQUFLME4sTUFDWmdCLFNBQVUxTyxLQUFLK0csTUFBTTJILFNBQ3JCdkssR0FBSUEsRUFDSjR0QixVQUFXNXZCLEVBQ1g2dkIsV0FBWUEsSUFDWixJQUVaSyxFQUFxQjUyQixVQUFVa1UsU0FBVyxTQUFVeEwsRUFBSWhDLEVBQU84eEIsR0FDM0QsSUFBS2owQixLQUFLK0csTUFBTTJILFNBQ1osTUFBTSxJQUFJM08sTUFBTSxnREFDcEJDLEtBQUt1dkIsS0FBS1ksT0FBTzBELE9BQU8sQ0FBQyxDQUNqQjFsQixHQUFJLFlBQ0pULE1BQU8xTixLQUFLME4sTUFDWmdCLFNBQVUxTyxLQUFLK0csTUFBTTJILFNBQ3JCdkssR0FBSUEsRUFDSjR0QixVQUFXNXZCLEVBQ1g4eEIsVUFBV0EsSUFDWCxJQUVaNUIsRUFBcUI1MkIsVUFBVStQLE9BQVMsV0FHcEMsSUFGQSxJQUFJakMsRUFBUXZKLEtBQ1Jzc0IsRUFBTSxHQUNEWSxFQUFLLEVBQUdBLEVBQUs3ckIsVUFBVTlGLE9BQVEyeEIsSUFDcENaLEVBQUlZLEdBQU03ckIsVUFBVTZyQixHQUV4Qmx0QixLQUFLdXZCLEtBQUtZLE9BQU8wRCxPQUFPdkgsRUFBSXRwQixJQUFJLFNBQVVtQixHQUFNLE1BQU8sQ0FDbkRnSyxHQUFJLFNBQ0pULE1BQU9uRSxFQUFNbUUsTUFDYnZKLEdBQUlBLEtBQ0EsSUFFWmt1QixFQUFxQjUyQixVQUFVNEQsWUFBYyxTQUFVSSxHQUNuRE8sS0FBS3V2QixLQUFLMEIsU0FBUzV4QixZQUFZSSxJQUU1QjR5QixFQXpNOEIsQyxNQTBNdkMsR0MvTUUsRUFBMEIsV0FDMUIsU0FBUzZCLEVBQVMxRSxHQUNkeHZCLEtBQUt3dkIsY0FBZ0JBLEVBQ3JCeHZCLEtBQUttMEIsUUFBVSxHQTRJbkIsT0ExSUFELEVBQVN6NEIsVUFBVWsxQixnQkFBa0IsU0FBVUMsRUFBV1gsR0FDdEQsT0FBTyxJQUFrQmp3QixVQUFNLE9BQVEsRUFBUSxXQUMzQyxPQUFPLElBQW9CQSxLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYXFCLFFBQVFDLElBQUl6RCxLQUFLbTBCLFFBQVFueEIsSUFBSSxTQUFVb2pCLEdBQUssT0FBT0EsRUFBRXVLLGdCQUFnQkMsRUFBV1gsT0FDN0csS0FBSyxFQUdELE9BRkFodUIsRUFBR1EsT0FDSHpDLEtBQUtvMEIsd0JBQ0UsQ0FBQyxTQUs1QkYsRUFBU3o0QixVQUFVMjRCLHNCQUF3QixXQUN2Q3AwQixLQUFLbTBCLFFBQVVuMEIsS0FBS20wQixRQUFRNXVCLE9BQU8sU0FBVTZnQixHQUN6QyxPQUFJQSxFQUFFc0osVUFDRXRKLEVBQUVpTyxnQkFDRkMsYUFBYWxPLEVBQUVpTyxlQUNmak8sRUFBRWlPLGNBQWdCLE9BRWYsTUFLbkJILEVBQVN6NEIsVUFBVTgwQixrQkFBb0IsV0FDbkMsSUFBSVEsRUFBc0Ivd0IsS0FBS3d2QixjQUFjL3hCLE1BQzdDdUMsS0FBS20wQixRQUFRNzBCLFFBQVEsU0FBVThtQixHQUMzQkEsRUFBRW1LLGtCQUFrQlEsTUFHNUJtRCxFQUFTejRCLFVBQVU4NEIsVUFBWSxTQUFVN21CLEVBQU8zRyxHQUM1QyxPQUFPL0csS0FBS20wQixRQUFRemdCLEtBQUssU0FBVTBTLEdBQUssT0FBT0EsRUFBRXlKLFdBQWEsRUFBZ0JBLFNBQVNuaUIsRUFBTzNHLE1BRWxHbXRCLEVBQVN6NEIsVUFBVXUwQixhQUFlLFNBQVV0aUIsRUFBTzNHLEVBQU9iLEdBR3RELElBQUkwcUIsRUFBWTV3QixLQUFLd3ZCLGNBQWMveEIsTUFFbkMsR0FBSXNKLEVBQU11bEIsS0FBNEIsSUFBckJ2bEIsRUFBTXVsQixJQUFJL3dCLFFBRW5CcTFCLEVBQVU5cUIsS0FBSyxTQUFVN0ksR0FBSyxNQUFnQixnQkFBVEEsRUFBRWtSLElBQXdCbFIsRUFBRSswQixXQUFXN3RCLEtBQU80QyxFQUFNdWxCLElBQUksS0FLN0YsTUFBTyxHQUtmLEdBQUl2bEIsRUFBTXdTLGNBQWdCeFMsRUFBTW1zQixXQUM1QixPQUFPLEtBQ1gsSUFBS25zQixFQUFNdWxCLElBQ1AsT0FBTyxLQXVDWCxJQXRDQSxJQUFJc0IsRUFBVSxTQUFVeEgsR0FDcEIsSUFBS0EsRUFBRXFKLG1CQUNILE1BQU8sV0FDWCxHQUFJckosRUFBRXJmLE1BQU0ySCxXQUFhM0gsRUFBTTJILFNBQzNCLE1BQU8sV0FDWCxHQUFJMFgsRUFBRXJmLE1BQU02RyxNQUNSLE1BQU8sV0FDWCxJQUFJNG1CLEVBQVlwTyxFQUFFbGdCLFNBQ2xCLEdBQUlzdUIsRUFBVWo1QixPQUFTLEtBQU93TCxFQUFNaVMsU0FBb0MsSUFBekJqUyxFQUFNaVMsUUFBUXpkLFFBQWUsQ0FFeEUsSUFBSTRHLEVBQVFxeUIsRUFBVTlnQixLQUFLLFNBQVUxVyxHQUFLLE9BQU8sSUFBa0JvcEIsRUFBRTFZLE9BQXNCLGNBQUUxUSxLQUFPMFEsSUFDcEcsR0FBSXZMLEVBQU8sQ0FFUCxJQURBLElBQUlzeUIsRUFBUSxHQUNIdkgsRUFBSyxFQUFHanJCLEVBQUtta0IsRUFBRXJyQixLQUFNbXlCLEVBQUtqckIsRUFBRzFHLE9BQVEyeEIsSUFBTSxDQUNoRCxJQUFJaFksRUFBU2pULEVBQUdpckIsR0FDRmYsRUFBV3BsQixFQUFPbU8sRUFBTy9TLElBQy9CN0MsUUFBUSxTQUFVNUIsR0FBSyxPQUFPKzJCLEVBQU0vMkIsRUFBRXlHLElBQU16RyxJQUV4RCxJQUFJZzNCLEVBQVdsNUIsT0FBTytJLEtBQUtrd0IsR0FBT3p4QixJQUFJLFNBQVVtQixHQUFNLE9BQU9zd0IsRUFBTXR3QixLQUVuRSxPQUFLNEMsRUFBTXVsQixJQUFJcUksTUFBTSxTQUFVeHdCLEdBQU0sT0FBT3V3QixFQUFTNXVCLEtBQUssU0FBVTdDLEdBQUssT0FBT0EsRUFBRWtCLEtBQU9BLE1BRWxGLENBQUV0RyxNQUFPNjJCLEdBREwsWUFJbkIsSUFBS3h1QixFQUFTeXVCLE1BQU0sU0FBVXh5QixHQUFTLE9BQU9xeUIsRUFBVXR1QixTQUFTL0QsS0FDN0QsTUFBTyxXQUlYLEdBQUlpa0IsRUFBRTFZLFFBQVVBLEVBQU8sQ0FDbkIsSUFBSWtuQixFQUFXekksRUFBV3BsQixFQUFPcWYsRUFBRXJyQixNQUVuQyxPQUFLZ00sRUFBTXVsQixJQUFJcUksTUFBTSxTQUFVeHdCLEdBQU0sT0FBT3l3QixFQUFTOXVCLEtBQUssU0FBVTdDLEdBQUssT0FBT0EsRUFBRWtCLEtBQU9BLE1BRWxGLENBQUV0RyxNQUFPKzJCLEdBREwsYUFJVjFILEVBQUssRUFBR2pyQixFQUFLakMsS0FBS20wQixRQUFTakgsRUFBS2pyQixFQUFHMUcsT0FBUTJ4QixJQUFNLENBQ3RELElBQ0kySCxFQUFVakgsRUFETjNyQixFQUFHaXJCLElBRVgsR0FBdUIsaUJBQVoySCxFQUNQLE9BQU9BLEVBQVFoM0IsUUFHM0JxMkIsRUFBU3o0QixVQUFVOGxCLFVBQVksU0FBVTloQixHQUNyQyxJQUFJd0MsRUFBS3hDLEVBQWFvc0IsV0FBWW5lLEVBQVF6TCxFQUFHeUwsTUFBTzNHLEVBQVE5RSxFQUFHOEUsTUFBT3dvQixFQUFPdHRCLEVBQUdzdEIsS0FDNUV1RixFQUFVOTBCLEtBQUt1MEIsVUFBVTdtQixFQUFPM0csR0FDL0IrdEIsRUFLR0EsRUFBUVQsZ0JBQ1JDLGFBQWFRLEVBQVFULGVBQ3JCUyxFQUFRVCxjQUFnQixPQU41QlMsRUFBVSxJQUFJLEVBQWdCcG5CLEVBQU8zRyxFQUFPd29CLEVBQUtnRSxVQUFXaEUsRUFBTXZ2QixLQUFLd3ZCLGVBQ3ZFeHZCLEtBQUttMEIsUUFBUXQ0QixLQUFLaTVCLElBUXRCQSxFQUFRdlQsVUFBVTloQixJQUV0QnkwQixFQUFTejRCLFVBQVU0RCxZQUFjLFNBQVVJLEdBQ3ZDLElBQUk4SixFQUFRdkosS0FDUmlDLEVBQUt4QyxFQUFhb3NCLFdBQVluZSxFQUFRekwsRUFBR3lMLE1BQU8zRyxFQUFROUUsRUFBRzhFLE1BQzNEK3RCLEdBRHlFN3lCLEVBQUdzdEIsS0FDbEV2dkIsS0FBS3UwQixVQUFVN21CLEVBQU8zRyxJQUNoQyt0QixJQUVBQSxFQUFRejFCLFlBQVlJLEdBR2lCLElBQWpDcTFCLEVBQVEzMUIsY0FBYzVELFNBRXRCdTVCLEVBQVFULGNBQWdCVSxXQUFXLFdBRU0sSUFBakNELEVBQVEzMUIsY0FBYzVELFNBRXRCZ08sRUFBTTRxQixRQUFVNXFCLEVBQU00cUIsUUFBUTV1QixPQUFPLFNBQVU2Z0IsR0FBSyxPQUFPQSxJQUFNME8sTUFFdEU5MEIsS0FBS20wQixRQUFRNTRCLE9BQVMsR0FDckIsSUFDQSxRQUlUMjRCLEVBL0lrQixHQ0R6QixFQUErQixXQUMvQixTQUFTYyxJQUNMaDFCLEtBQUtpMUIsTUFBUSxHQUNiajFCLEtBQUtrMUIsWUFBYyxHQTREdkIsT0ExREFGLEVBQWN2NUIsVUFBVWdULElBQU0sU0FBVW1pQixHQUNwQzV3QixLQUFLaTFCLE1BQVFELEVBQWNsbUIsTUFBTTlPLEtBQUtpMUIsTUFBT3JFLElBRWpEb0UsRUFBY3Y1QixVQUFVMDVCLGtCQUFvQixXQUN4Q24xQixLQUFLazFCLFlBQWNGLEVBQWNsbUIsTUFBTTlPLEtBQUtrMUIsWUFBYWwxQixLQUFLaTFCLE9BQzlEajFCLEtBQUtpMUIsTUFBUSxJQUVqQkQsRUFBY3Y1QixVQUFVMjVCLGlCQUFtQixXQUN2Q3AxQixLQUFLazFCLFlBQWMsSUFFdkJGLEVBQWN2NUIsVUFBVWdDLElBQU0sV0FDMUIsT0FBT3VDLEtBQUtrMUIsWUFBWWh3QixPQUFPbEYsS0FBS2kxQixRQUV4Q0QsRUFBY3Y1QixVQUFVKzBCLGFBQWUsU0FBVTlpQixFQUFPM0csRUFBT2IsR0FDM0QsSUFBSTBxQixFQUFZNXdCLEtBQUt2QyxNQUNyQixRQUFJbXpCLEVBQVU5cUIsS0FBSyxTQUFVN0ksR0FBSyxNQUFnQixVQUFUQSxFQUFFa1IsSUFBMkIsaUJBQVRsUixFQUFFa1IsT0FFM0RwSCxFQUFNdWxCLElBRUNzRSxFQUFVOXFCLEtBQUssU0FBVTdJLEdBQUssT0FBTzJ2QixFQUFTM3ZCLE1BQVEwdkIsRUFBZ0IxdkIsSUFBTUEsRUFBRXlSLFdBQWEzSCxFQUFNMkgsV0FDcEczSCxFQUFNdWxCLElBQUlwbUIsU0FBU2pKLEVBQUVrSCxNQUl0QnlzQixFQUFVOXFCLEtBQUssU0FBVTdJLEdBQzVCLE1BQWdCLFFBQVRBLEVBQUVrUixHQUNMbFIsRUFBRXlRLFFBQVVBLEVBQ0gsV0FBVHpRLEVBQUVrUixHQUNFbFIsRUFBRXlRLFFBQVVBLEdBQVV4SCxFQUFTSixLQUFLLFNBQVUzRCxHQUFTLE9BQU84cEIsRUFBa0J2ZSxFQUFPdkwsS0FBV2xGLEVBQUV5USxVQUNwR2tmLEVBQVMzdkIsSUFDTEEsRUFBRXlSLFVBQVkzSCxFQUFNMkgsV0FDZnpSLEVBQUV5USxRQUFVQSxHQUFtQixXQUFUelEsRUFBRWtSLElBQW9CLENBQUNULEdBQU94SSxPQUFPZ0IsRUFBU2xELElBQUksU0FBVWIsR0FBUyxPQUFPOHBCLEVBQWtCdmUsRUFBT3ZMLE1BQVkyRCxLQUFLLFNBQVU0SCxHQUFTLE9BQU91ZSxFQUFrQmh2QixFQUFFeVEsTUFBT3pRLEVBQUU4MEIsYUFBZXJrQixTQUczT3NuQixFQUFjbG1CLE1BQVEsU0FBVXVtQixFQUFRQyxHQW1CcEMsSUFsQkEsSUFBSUMsRUFBZ0JGLEVBQU96MkIsUUFDdkI0MkIsRUFBZ0JGLEVBQU8xMkIsUUFFdkI2MkIsRUFBTUosRUFBTzk1QixPQUNicXlCLEVBQVUsU0FBVXZ5QixHQUNwQixJQUFJNEIsRUFBSW80QixFQUFPaDZCLEdBQ2YsR0FBYSxXQUFUNEIsRUFBRWtSLEdBQWlCLENBQ25CLElBQUl1bkIsRUFBcUJGLEVBQWNHLFVBQVUsU0FBVUMsR0FDdkQsTUFBcUIsV0FBZEEsRUFBT3puQixJQUNWeW5CLEVBQU9sbkIsV0FBYXpSLEVBQUV5UixVQUN0QmtuQixFQUFPenhCLEtBQU9sSCxFQUFFa0gsS0FFcEJ1eEIsR0FBc0IsSUFDdEJILEVBQWNsNkIsR0FBSyxJQUFpQixHQUFJNEIsRUFBRyxDQUFFNFIsU0FBVXlmLEVBQVlyeEIsRUFBRTRSLFNBQVUybUIsRUFBY0UsR0FBb0I3bUIsWUFDakgybUIsRUFBYy80QixPQUFPaTVCLEVBQW9CLE1BSTVDcjZCLEVBQUksRUFBR0EsRUFBSW82QixJQUFPcDZCLEVBQ3ZCdXlCLEVBQVF2eUIsR0FFWixPQUFPazZCLEVBQWNyd0IsT0FBT3N3QixJQUV6QlIsRUEvRHVCLEcsUUNEM0IsU0FBU2EsRUFBdUJubkIsRUFBVW9uQixFQUFRbEYsRUFBV08sRUFBWWxmLEVBQWlCOGpCLEdBcUo3RixJQXBKQSxJQUFJbkksRUFBVSxTQUFVM3dCLEdBQ3BCLE9BQVFBLEVBQUVrUixJQUNOLElBQUssY0FJSTRuQixHQUF1Qjk0QixFQUFFeVIsV0FBYUEsSUFDdkNvbkIsRUFBUyxDQUFDLENBQ0Yvd0IsS0FBTSxNQUNOc0ssU0FBVXBTLEVBQUVrSCxHQUNab0wsU0FBVXRTLEVBQUUrMEIsV0FBVzd0QixHQUN2QmhDLE1BQU9sRixFQUFFODBCLFVBQ1QzaUIsWUFBYW5TLEVBQUV5USxNQUNmcUUsTUFBT29mLEVBQWEsU0FBVyxZQUMvQjlFLFNBQVUxckIsS0FBS0MsTUFDZmt6QixXQUFZNzJCLEVBQUUrMEIsV0FBVzUwQixLQUN6QjQ0QixZQUFhL2pCLElBQ2QvTSxPQUFPNHdCLElBRWxCLE1BQ0osSUFBSyxlQUlHNzRCLEVBQUV5UixXQUFhQSxJQUNmb25CLEVBQVMsSUFFYixNQUNKLElBQUssU0FLRCxNQUNKLElBQUssUUFJRCxHQUFJNzRCLEVBQUV5UixXQUFhQSxFQUNmb25CLEVBQVMsUUFFUixHQUFJNzRCLEVBQUU4UixpQkFBbUJMLElBR3JCeWlCLEVBQ0QsTUFBTyxDQUFFdHpCLE1BQU8sTUFFeEIsTUFDSixJQUFLLGlCQUlELEdBQUlrNEIsR0FBdUI5NEIsRUFBRXlSLFdBQWFBLEVBQ3RDLE1BQU8sV0FDWG9uQixFQUFTLENBQUMsQ0FDRi93QixLQUFNLFNBQ05zSyxTQUFVcFMsRUFBRWtILEdBQ1pvTCxTQUFVdFMsRUFBRSswQixXQUFXN3RCLEdBQ3ZCMnZCLFdBQVk3MkIsRUFBRSswQixXQUFXNTBCLEtBQ3pCK0UsTUFBT2xGLEVBQUU4MEIsVUFDVDNpQixZQUFhblMsRUFBRXlRLE1BQ2Zzb0IsWUFBYS9qQixFQUNib2EsU0FBVTFyQixLQUFLQyxNQUNmbVIsTUFBT29mLEVBQWEsU0FBVyxjQUNoQ2pzQixPQUFPNHdCLEdBQ2QsTUFDSixJQUFLLFlBSUQsR0FBSTc0QixFQUFFeVIsV0FBYUEsRUFDZixNQUFPLFdBT1AsSUFMSXVuQixFQUFNSCxFQUFPSCxVQUFVLFNBQVV4NEIsR0FDakMsT0FBbUIsUUFBWEEsRUFBRTRILE1BQTZCLFdBQVg1SCxFQUFFNEgsTUFBZ0MsY0FBWDVILEVBQUU0SCxPQUNqRDVILEVBQUVrUyxXQUFhcFMsRUFBRWtILElBQ2pCaEgsRUFBRW9TLFdBQWF0UyxFQUFFZzNCLGFBRWYsRUFDTixNQUFPLFdBRVgsR0FBSTlDLEVBQVksQ0FDWixJQUFJK0UsRUFBZ0JKLEVBQU9HLEdBRTNCSCxFQUFTQSxFQUFPbDNCLE1BQU0sRUFBR3EzQixHQUFLL3dCLE9BQU8sQ0FDakMsSUFBaUIsR0FBSWd4QixFQUFlLENBQUVua0IsTUFBT29mLEVBQWEsV0FBYSxlQUN4RTJFLEVBQU9sM0IsTUFBTXEzQixFQUFNLFNBSXRCSCxFQUFTQSxFQUFPbDNCLE1BQU0sRUFBR3EzQixHQUFLL3dCLE9BQU80d0IsRUFBT2wzQixNQUFNcTNCLEVBQU0sSUFHaEUsTUFDSixJQUFLLFNBSUQsR0FBSWg1QixFQUFFeVIsV0FBYUEsRUFDZixNQUFPLFdBRVAsSUFBSXVuQixFQUlKLElBSklBLEVBQU1ILEVBQU9ILFVBQVUsU0FBVXBJLEdBQ2pDLE1BQXNCLFdBQWZBLEVBQU14b0IsTUFDVHdvQixFQUFNaGUsV0FBYXRTLEVBQUVrSCxNQUVuQixJQUFNNHhCLEVBQ1pELEVBQVMsQ0FBQyxDQUNGL3dCLEtBQU0sU0FDTjJJLE1BQU96USxFQUFFeVEsTUFDVDZCLFNBQVV0UyxFQUFFa0gsR0FDWjJ2QixXQUFZNzJCLEVBQUU2MkIsV0FDZC80QixLQUFNa0MsRUFBRTRSLFNBQ1J3ZCxTQUFVMXJCLEtBQUtDLE1BQ2Z1MUIsYUFBYyxDQUFDbGtCLEdBQ2ZGLE1BQU9vZixFQUFhLFNBQVcsY0FDaENqc0IsT0FBTzR3QixPQUViLENBQ0QsSUFBSU0sRUFBbUJOLEVBQU9HLEdBQzFCRSxFQUFlQyxFQUFpQkQsYUFBYXYzQixRQUM1Q3UzQixFQUFhandCLFNBQVMrTCxJQUN2QmtrQixFQUFhdDZCLEtBQUtvVyxHQUV0QixJQUFJb2tCLEVBQVUvSCxFQUFZOEgsRUFBaUJyN0IsS0FBTWtDLEVBQUU0UixTQUFVLENBQUU0ZixrQkFBa0IsSUFPN0VxSCxFQU5DM0UsR0FBOEMsSUFBaEMzMUIsT0FBTytJLEtBQUs4eEIsR0FBUzk2QixPQU0zQixDQUNMLENBQ0l3SixLQUFNLFNBQ04ySSxNQUFPelEsRUFBRXlRLE1BQ1Q2QixTQUFVdFMsRUFBRWtILEdBQ1oydkIsV0FBWTcyQixFQUFFNjJCLFdBQ2QvNEIsS0FBTXM3QixFQUNOaEssU0FBVTFyQixLQUFLQyxNQUNmdTFCLGFBQWNBLEVBQ2Rwa0IsTUFBT29mLEVBQWEsV0FBYSxjQUV2Q2pzQixPQUFPNHdCLEVBQU9sM0IsTUFBTSxFQUFHcTNCLEdBQU1ILEVBQU9sM0IsTUFBTXEzQixFQUFNLElBZnpDSCxFQUFPbDNCLE1BQU0sRUFBR3EzQixHQUFLL3dCLE9BQU80d0IsRUFBT2wzQixNQUFNcTNCLEVBQU0sT0FzQnZFL0ksRUFBSyxFQUFHMkQsRUFBY0QsRUFBVzFELEVBQUsyRCxFQUFZdDFCLE9BQVEyeEIsSUFBTSxDQUNyRSxJQUNJMkgsRUFBVWpILEVBRE5pRCxFQUFZM0QsSUFFcEIsR0FBdUIsaUJBQVoySCxFQUNQLE9BQU9BLEVBQVFoM0IsTUFFdkIsT0FBT2k0QixFQzFKWCxJQUFJLEVBQTRCLFdBQzVCLFNBQVNRLEVBQVdwRixFQUFXcUMsRUFBU2dELEdBQ3BDdjJCLEtBQUtreEIsVUFBWUEsRUFDakJseEIsS0FBS3V6QixRQUFVQSxFQUNmdnpCLEtBQUt1MkIsbUJBQXFCQSxFQUMxQnYyQixLQUFLdzJCLE9BQVMsR0EyRWxCLE9BekVBRixFQUFXNzZCLFVBQVVnN0IsZUFBaUIsU0FBVTdGLEVBQVczdUIsR0FHdkQsSUFGQSxJQUFJa3ZCLFFBQXFCLElBQVBsdkIsRUFBZ0IsQ0FBRWt2QixZQUFZLEdBQVVsdkIsR0FBSWt2QixXQUVyRGpFLEVBQUssRUFBR2hyQixFQUFLMUcsT0FBTytJLEtBQUt2RSxLQUFLdzJCLFFBQVN0SixFQUFLaHJCLEVBQUczRyxPQUFRMnhCLElBQU0sQ0FDbEUsSUFBSTJDLEVBQVczdEIsRUFBR2dyQixHQUNkd0osRUFBYTEyQixLQUFLdzJCLE9BQU8zRyxHQUM3QixHQUFJNkcsRUFBVzc0QixNQUFPLENBSWxCLElBQUk4NEIsRUFBV2QsRUFBdUJhLEVBQVczdkIsTUFBTTJILFNBQVVnb0IsRUFBVzc0QixNQUFPK3lCLEVBQVdPLEVBQVlueEIsS0FBS3UyQix1QkFBd0JHLEVBQVczdkIsTUFBTXlQLE1BQ3ZJLE9BQWJtZ0IsSUFFS3hGLEdBR0R1RixFQUFXOXNCLFNBSWYrc0IsSUFBYUQsRUFBVzc0QixRQUN4QjY0QixFQUFXRSxnQkFBa0JELEVBQ3hCeEYsSUFDRHVGLEVBQVc3NEIsTUFBUTg0QixHQUN2QkQsRUFBV2pWLE9BQU9rVixPQUtsQ0wsRUFBVzc2QixVQUFVOGxCLFVBQVksU0FBVXhhLEVBQU94SCxHQUM5QyxJQUFJZ0ssRUFBUXZKLEtBQ1IwMkIsRUFBYTEyQixLQUFLdzJCLE9BQU96dkIsRUFBTTJILFNBQVczSCxFQUFNeVAsTUFDL0NrZ0IsSUFDREEsRUFBYSxJQUFJLEVBQWdCMTJCLEtBQUtreEIsWUFBYW5xQixHQUNuRC9HLEtBQUt3MkIsT0FBT3p2QixFQUFNMkgsU0FBVzNILEVBQU15UCxNQUFRa2dCLEdBRTNDQSxFQUFXRyxlQUNYdkMsYUFBYW9DLEVBQVdHLGNBQ3hCSCxFQUFXRyxhQUFlLE1BRTlCLElBQUlwM0IsRUFBZSxDQUNmSixZQUFhLFdBQ1RxM0IsRUFBV3ZWLFlBQWN1VixFQUFXdlYsWUFBWTViLE9BQU8sU0FBVXRELEdBRTdELE9BRFFBLEVBQUcxQyxXQUNFQSxJQUVxQixJQUFsQ20zQixFQUFXdlYsWUFBWTVsQixTQUN2Qm03QixFQUFXRyxhQUFlOUIsV0FBVyxXQUNLLElBQWxDMkIsRUFBV3ZWLFlBQVk1bEIsZUFDaEJnTyxFQUFNaXRCLE9BQU96dkIsRUFBTTJILFNBQVczSCxFQUFNeVAsT0FFaEQsUUFvQmYsT0FoQkFrZ0IsRUFBV3ZWLFlBQVl0bEIsS0FBSyxDQUFFMEQsU0FBVUEsRUFBVUUsYUFBY0EsSUFDNURpM0IsRUFBVzc0QixNQUVYMEIsRUFBU20zQixFQUFXRSxpQkFBbUJGLEVBQVc3NEIsTUFBTyxLQUFNNEIsR0FFMURpM0IsRUFBV0ksYUFLWEosRUFBV2wzQixNQUNoQkQsRUFBUyxLQUFNbTNCLEVBQVdsM0IsTUFBT0MsR0FHakNpM0IsRUFBVzlzQixTQUVSbkssR0FFSjYyQixFQWhGb0IsR0FtRjNCLEVBQWlDLFdBQ2pDLFNBQVNTLEVBQWdCL3FCLEVBQVFqRixHQUM3Qi9HLEtBQUtnM0IsaUJBQW1CLEVBQ3hCaDNCLEtBQUtnTSxPQUFTQSxFQUNkaE0sS0FBSytHLE1BQVFBLEVBQ2IvRyxLQUFLbkMsTUFBUSxLQUNibUMsS0FBS1IsTUFBUSxLQUNiUSxLQUFLNDJCLGdCQUFrQixLQUN2QjUyQixLQUFLbWhCLFlBQWMsR0FDbkJuaEIsS0FBSzgyQixZQUFhLEVBQ2xCOTJCLEtBQUs2MkIsYUFBZSxLQTREeEIsT0ExREFFLEVBQWdCdDdCLFVBQVVtTyxNQUFRLFdBQzlCLElBQUlMLEVBQVF2SixLQUNSZzNCLElBQXFCaDNCLEtBQUtnM0IsaUJBQzlCaDNCLEtBQUs4MkIsWUFBYSxFQUNsQjkyQixLQUFLaTNCLGtCQUFrQjMxQixLQUFLLFNBQVV6RCxHQUU5Qm01QixJQUFxQnp0QixFQUFNeXRCLG1CQUMzQnp0QixFQUFNdXRCLFlBQWEsRUFDbkJqNUIsRUFBTW1RLEtBQUssU0FBVXJLLEVBQUdvWCxHQUFLLE9BQU9BLEVBQUVzUixTQUFXMW9CLEVBQUUwb0IsV0FDbkQ5aUIsRUFBTTFMLE1BQVFBLEVBQ2QwTCxFQUFNcXRCLGdCQUFrQi80QixFQUN4QjBMLEVBQU1rWSxPQUFPNWpCLE1BRWxCdU0sTUFBTSxTQUFVNUssR0FFWHczQixJQUFxQnp0QixFQUFNeXRCLG1CQUMzQnp0QixFQUFNdXRCLFlBQWEsRUFDbkJ2dEIsRUFBTS9KLE1BQVFBLEVBQ2QrSixFQUFNMnRCLEtBQUsxM0IsT0FJdkJ1M0IsRUFBZ0J0N0IsVUFBVXc3QixnQkFBa0IsV0FDeEMsT0FBTyxJQUFrQmozQixVQUFNLE9BQVEsRUFBUSxXQUMzQyxJQUFJNkosRUFBSzVILEVBQUlDLEVBQ2IsT0FBTyxJQUFvQmxDLEtBQU0sU0FBVXlLLEdBQ3ZDLE9BQVFBLEVBQUd0SSxPQUNQLEtBQUssRUFDRCxJQUFLbkMsS0FBSytHLE1BQU0ySCxTQUNaLE1BQU0sSUFBSTNPLE1BQU0scUNBQ3BCLE1BQU8sQ0FBQyxFQUFhQyxLQUFLZ00sT0FBT3dCLEtBQUsvUCxJQUFJLFNBQVV1QyxLQUFLK0csUUFDN0QsS0FBSyxFQUVELE9BREE4QyxFQUFNWSxFQUFHaEksUUFDQ3FILFFBQVUsS0FBT0QsRUFBSUMsT0FBUyxLQUN4QzdILEVBQUssSUFBVTdELEtBQ2Y4RCxFQUFLLE1BQUMsRUFBUTJILEVBQUlDLFFBQ1gsQ0FBQyxFQUFhRCxFQUFJRSxTQUg0QixDQUFDLEVBQWEsR0FJdkUsS0FBSyxFQUFHLE1BQU0sSUFBSzlILEVBQUcvRixNQUFNLElBQVdnRyxFQUFHZ0QsT0FBTyxDQUFDdUYsRUFBR2hJLFdBQ3JELEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYW9ILEVBQUlHLFFBQ2pDLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBY1MsRUFBR2hJLGNBS2pEczBCLEVBQWdCdDdCLFVBQVVnbUIsT0FBUyxTQUFVNWpCLEdBQ3pDLElBQUssSUFBSXF2QixFQUFLLEVBQUdqckIsRUFBS2pDLEtBQUttaEIsWUFBYStMLEVBQUtqckIsRUFBRzFHLE9BQVEyeEIsSUFBTSxDQUMxRCxJQUFJaHJCLEVBQUtELEVBQUdpckIsSUFDWjN0QixFQUQ0QjJDLEVBQUczQyxVQUN0QjFCLEVBQU8sS0FEd0NxRSxFQUFHekMsZ0JBSW5FczNCLEVBQWdCdDdCLFVBQVV5N0IsS0FBTyxTQUFVMTNCLEdBQ3ZDLElBQUk0eUIsRUFBT3B5QixLQUFLbWhCLFlBQVl2aUIsUUFDNUJvQixLQUFLbWhCLFlBQWMsR0FDbkIsSUFBSyxJQUFJK0wsRUFBSyxFQUFHaUssRUFBUy9FLEVBQU1sRixFQUFLaUssRUFBTzU3QixPQUFRMnhCLElBQU0sQ0FDdEQsSUFBSWpyQixFQUFLazFCLEVBQU9qSyxJQUNoQjN0QixFQURnQzBDLEVBQUcxQyxVQUMxQixLQUFNQyxFQUQ2Q3lDLEVBQUd4QyxnQkFJaEVzM0IsRUF0RXlCLEdDL0VoQyxFQUFrQyxXQUNsQyxTQUFTSyxFQUFpQjVILEVBQWV5QixFQUFVQyxFQUFXcUMsRUFBU2dELEdBQ25FdjJCLEtBQUt3dkIsY0FBZ0JBLEVBQ3JCeHZCLEtBQUtpeEIsU0FBV0EsRUFDaEJqeEIsS0FBS2t4QixVQUFZQSxFQUNqQmx4QixLQUFLdXpCLFFBQVVBLEVBQ2Z2ekIsS0FBS3UyQixtQkFBcUJBLEVBQzFCdjJCLEtBQUtxM0IsV0FBYSxLQUNsQnIzQixLQUFLczNCLGlCQUFtQixLQUN4QnQzQixLQUFLdTNCLGVBQWlCLEVBQ3RCdjNCLEtBQUtvd0IsaUJBQW1CLElBQUksSUFBUSxHQUNwQ3B3QixLQUFLdzNCLGlCQUFtQixHQUN4QngzQixLQUFLeTNCLGlCQUFtQixHQUN4QnozQixLQUFLMDNCLFdBQWEsSUFBSSxFQUFXeEcsRUFBV3FDLEVBQVNnRCxHQXVNekQsT0FyTUEvNkIsT0FBTytCLGVBQWU2NUIsRUFBaUIzN0IsVUFBVyxXQUFZLENBQzFEZ0MsSUFBSyxXQUFjLFFBQVN1QyxLQUFLczNCLGtCQUNqQzk1QixZQUFZLEVBQ1oyTCxjQUFjLElBRWxCM04sT0FBTytCLGVBQWU2NUIsRUFBaUIzN0IsVUFBVyxXQUFZLENBQzFEZ0MsSUFBSyxXQUFjLE9BQU91QyxLQUFLd3ZCLGNBQWMveEIsTUFBTWxDLE9BQVMsR0FDNURpQyxZQUFZLEVBQ1oyTCxjQUFjLElBRWxCaXVCLEVBQWlCMzdCLFVBQVVtbEIsUUFBVSxTQUFVK1csR0FDM0MzM0IsS0FBS3czQixpQkFBaUIzN0IsS0FBSzg3QixJQUUvQlAsRUFBaUIzN0IsVUFBVW04QixjQUFnQixTQUFVRCxHQUNqRDMzQixLQUFLeTNCLGlCQUFpQjU3QixLQUFLODdCLElBRS9CUCxFQUFpQjM3QixVQUFVbzhCLElBQU0sU0FBVUYsR0FDdkMzM0IsS0FBS3czQixpQkFBbUJ4M0IsS0FBS3czQixpQkFBaUJqeUIsT0FBTyxTQUFVNUksR0FBSyxPQUFPQSxJQUFNZzdCLElBQ2pGMzNCLEtBQUt5M0IsaUJBQW1CejNCLEtBQUt5M0IsaUJBQWlCbHlCLE9BQU8sU0FBVTVJLEdBQUssT0FBT0EsSUFBTWc3QixLQUVyRlAsRUFBaUIzN0IsVUFBVTRsQixjQUFnQixTQUFVN2hCLEVBQU9zNEIsR0FDeEQsSUFBSXZ1QixFQUFRdkosS0FDWkEsS0FBS3czQixpQkFBaUJsNEIsUUFBUSxTQUFVcTRCLEdBQ3BDLElBQ0lBLEVBQVNuNEIsRUFBT3M0QixFQUFXdnVCLEdBRS9CLE1BQU84VSxRQUdmK1ksRUFBaUIzN0IsVUFBVXM4QixvQkFBc0IsV0FDN0MsSUFBSXh1QixFQUFRdkosS0FDWkEsS0FBS3kzQixpQkFBaUJuNEIsUUFBUSxTQUFVcTRCLEdBQ3BDLElBQ0lBLEVBQVNwdUIsR0FFYixNQUFPOFUsUUFHZitZLEVBQWlCMzdCLFVBQVVvNEIsT0FBUyxTQUFVakQsRUFBV2dELEdBQ3JENXpCLEtBQUt3dkIsY0FBYy9nQixJQUFJbWlCLEtBQ3JCNXdCLEtBQUt1M0IsZUFDUHYzQixLQUFLKzNCLHNCQUNMLzNCLEtBQUtpeEIsU0FBU1Ysb0JBQ2R2d0IsS0FBSzAzQixXQUFXakIsZUFBZXoyQixLQUFLd3ZCLGNBQWMveEIsTUFBTyxDQUFFMHpCLFlBQVksSUFDbEVueEIsS0FBS3MzQixtQkFDRnQzQixLQUFLcTNCLFlBQ0wvQyxhQUFhdDBCLEtBQUtxM0IsWUFDdEJyM0IsS0FBS3EzQixXQUFhdEMsV0FBVy8wQixLQUFLc00sS0FBS2xPLEtBQUs0QixNQUFPNHpCLEtBSzNEd0QsRUFBaUIzN0IsVUFBVXU4QixVQUFZLFdBQ25DLE9BQU9oNEIsS0FBS3NNLFFBRWhCOHFCLEVBQWlCMzdCLFVBQVVnMUIsd0JBQTBCLFNBQVVSLEdBQzNELE9BQU8sSUFBa0Jqd0IsVUFBTSxPQUFRLEVBQVEsV0FFM0MsT0FBTyxJQUFvQkEsS0FBTSxTQUFVaUMsR0FDdkMsT0FBUUEsRUFBR0UsT0FDUCxLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQWFuQyxLQUFLb3dCLGlCQUFpQmxrQixRQUNuRCxLQUFLLEVBRUQsT0FEbUJqSyxFQUFHUSxPQUNHd3RCLEdBQ3pCandCLEtBQUtzTSxPQUNFLENBQUMsRUFBYXRNLEtBQUtvd0IsaUJBQWlCN3FCLE9BQU8sU0FBVTZxQixHQUFvQixPQUFPQSxHQUFvQkgsSUFBWS9qQixTQUY3RSxDQUFDLEVBQWEsR0FHNUQsS0FBSyxFQUNEakssRUFBR1EsT0FDSFIsRUFBR0UsTUFBUSxFQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsU0FLaENpMUIsRUFBaUIzN0IsVUFBVTZRLEtBQU8sV0FDOUIsSUFBSS9DLEVBQVF2SixLQUdaLE9BRklBLEtBQUtxM0IsWUFDTC9DLGFBQWF0MEIsS0FBS3EzQixZQUNsQnIzQixLQUFLczNCLGlCQUNFdDNCLEtBQUtzM0IsaUJBQ1h0M0IsS0FBS2k0QixVQUVWajRCLEtBQUtxM0IsV0FBYSxLQUNsQnIzQixLQUFLczNCLGlCQUFtQnQzQixLQUFLazRCLFFBQzdCbDRCLEtBQUtzM0IsaUJBQWlCbHRCLE1BQU0sY0FBaUI5SSxLQUFLLFdBQWMsT0FBT2lJLEVBQU0rdEIsaUJBQW1CLE9BQ3pGdDNCLEtBQUtzM0Isa0JBSkQ5ekIsUUFBUWdCLFdBTXZCNHlCLEVBQWlCMzdCLFVBQVV5OEIsTUFBUSxXQUMvQixPQUFPLElBQWtCbDRCLFVBQU0sT0FBUSxFQUFRLFdBQzNDLElBQUk0d0IsRUFBV1gsRUFBUzFoQixFQUFrQmttQixFQUFPMEQsRUFBZUMsRUFDaEUsT0FBTyxJQUFvQnA0QixLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFDRG5DLEtBQUsrM0Isc0JBQ0xuSCxFQUFZNXdCLEtBQUt3dkIsY0FBYy94QixNQUMvQnd5QixFQUFVandCLEtBQUt1M0IsZUFDZnYzQixLQUFLd3ZCLGNBQWMyRixvQkFDbkI1bUIsRUFBbUJ2TyxLQUFLcTRCLGFBQWF6SCxHQUNyQzN1QixFQUFHRSxNQUFRLEVBQ2YsS0FBSyxFQUVELE9BREFGLEVBQUdnSyxLQUFLcFEsS0FBSyxDQUFDLEVBQUcsRUFBRyxHQUFJLEtBQ2pCLENBQUMsRUFBYW1FLEtBQUtreEIsWUFBWXBqQixNQUFNUyxJQUNoRCxLQUFLLEVBY0QsT0FiQWttQixFQUFReHlCLEVBQUdRLE9BQ1gwMUIsRUFBZ0IzOEIsT0FBTytJLEtBQUtrd0IsRUFBTTZELFVBQVV0MUIsSUFBSSxTQUFVbUIsR0FBTSxNQUFPLENBQ25FZ0ssR0FBSSxTQUNKVCxNQUFPLEtBQ1B2SixHQUFJQSxFQUNKMEssU0FBVSxDQUFFMHBCLE1BQU85RCxFQUFNNkQsU0FBU24wQixJQUNsQzJ2QixXQUFZLFFBR2hCLEVBQVU3RyxnQkFBZ0IxZSxFQUFrQnZPLEtBQUt1ekIsV0FFakR2ekIsS0FBS293QixpQkFBaUJsbUIsU0FBUytsQixHQUMvQmp3QixLQUFLMDNCLFdBQVdqQixlQUFlN0YsRUFBVyxDQUFFTyxZQUFZLElBQ2pELENBQUMsRUFBYW54QixLQUFLaXhCLFNBQVNOLGdCQUFnQixFQUFjN2hCLE1BQU04aEIsRUFBV3VILEdBQWdCbEksSUFDdEcsS0FBSyxFQU9ELE9BTkFodUIsRUFBR1EsT0FFSHpDLEtBQUt3dkIsY0FBYzRGLG1CQUNuQnAxQixLQUFLKzNCLHNCQUVMLzNCLEtBQUtpeEIsU0FBU1Ysb0JBQ1J2d0IsS0FBS3d2QixjQUFjL3hCLE1BQU1sQyxPQUFTLEVBRWpDLENBQUMsRUFBYXlFLEtBQUtrNEIsU0FGeUIsQ0FBQyxFQUFhLEdBR3JFLEtBQUssRUFFRGoyQixFQUFHUSxPQUNIUixFQUFHRSxNQUFRLEVBQ2YsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFhLElBQzdCLEtBQUssRUFHRCxPQUZBaTJCLEVBQVVuMkIsRUFBR1EsT0FDYnpDLEtBQUtvd0IsaUJBQWlCL08sY0FBYytXLEdBQzlCQSxHQUFXQSxFQUFRaDdCLE1BQVFnN0IsRUFBUWg3QixLQUFLMHJCLFdBQVcsVUFFekQ5b0IsS0FBS3FoQixjQUFjK1csR0FBUyxHQUM1QnA0QixLQUFLd3ZCLGNBQWM0RixtQkFDbkJwMUIsS0FBSyszQixzQkFDTC8zQixLQUFLaXhCLFNBQVNWLG9CQUNSdndCLEtBQUt3dkIsY0FBYy94QixNQUFNbEMsT0FBUyxFQUVqQyxDQUFDLEVBQWF5RSxLQUFLazRCLFNBRnlCLENBQUMsRUFBYSxJQU5VLENBQUMsRUFBYSxHQVM3RixLQUFLLEVBRURqMkIsRUFBR1EsT0FDSFIsRUFBR0UsTUFBUSxFQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYSxJQUM3QixLQUFLLEVBQ0RuQyxLQUFLcWhCLGNBQWMrVyxHQUFTLEdBQzVCbjJCLEVBQUdFLE1BQVEsR0FDZixLQUFLLEdBQUksTUFBTyxDQUFDLEVBQWEsSUFDOUIsS0FBSyxHQUVELE9BREFuQyxLQUFLKzNCLHNCQUNFLENBQUMsR0FDWixLQUFLLEdBQUksTUFBTyxDQUFDLFNBS2pDWCxFQUFpQjM3QixVQUFVNDhCLGFBQWUsU0FBVXpILEdBQ2hELElBQUk0SCxFQUFLLElBQUksSUFpQ2IsT0FoQ0E1SCxFQUFVdHhCLFFBQVEsU0FBVXJDLEdBQ3hCLE9BQVFBLEVBQUVrUixJQUNOLElBQUssU0FDRHFxQixFQUFHNXBCLE9BQU8zUixFQUFFeVEsTUFBT3pRLEVBQUVrSCxHQUFJbEgsRUFBRTRSLFNBQVU1UixFQUFFeVIsVUFDdkMsTUFDSixJQUFLLE1BQ0Q4cEIsRUFBRy9wQixJQUFJeFIsRUFBRXlRLE1BQU96USxFQUFFMkgsS0FDbEIsTUFDSixJQUFLLGNBQ0kzSCxFQUFFKzBCLFdBQVd1RyxPQUVkQyxFQUFHL3BCLElBQUksSUFBT3hSLEVBQUV5USxPQUFPd2UsY0FBY2p2QixFQUFFODBCLFdBQVk5MEIsRUFBRSswQixXQUFZLzBCLEVBQUV5UixVQUV2RThwQixFQUFHaHBCLE1BQU12UyxFQUFFeVEsTUFBT3pRLEVBQUVrSCxHQUFJbEgsRUFBRTgwQixVQUFXOTBCLEVBQUUrMEIsV0FBVzd0QixHQUFJbEgsRUFBRXlSLFVBQ3hELE1BQ0osSUFBSyxpQkFDRDhwQixFQUFHOW9CLFFBQVF6UyxFQUFFeVEsTUFBT3pRLEVBQUVrSCxHQUFJbEgsRUFBRTgwQixVQUFXOTBCLEVBQUUrMEIsV0FBVzd0QixHQUFJbEgsRUFBRXlSLFVBQzFELE1BQ0osSUFBSyxZQUNEOHBCLEVBQUc3b0IsU0FBUzFTLEVBQUV5USxNQUFPelEsRUFBRWtILEdBQUlsSCxFQUFFODBCLFVBQVc5MEIsRUFBRWczQixVQUFXaDNCLEVBQUV5UixVQUN2RCxNQUNKLElBQUssU0FDRDhwQixFQUFHaHRCLE9BQU92TyxFQUFFeVEsTUFBT3pRLEVBQUVrSCxJQUNyQixNQUNKLElBQUssZUFDRHEwQixFQUFHeHBCLFlBQVkvUixFQUFFeVIsVUFDakIsTUFDSixJQUFLLFFBQ0Q4cEIsRUFBRzFwQixNQUFNN1IsRUFBRXlSLFNBQVV6UixFQUFFOFIsbUJBSTVCeXBCLEVBQUdqcUIsa0JBRVA2b0IsRUFwTjBCLEdDTGpDLEVBQWlDLFNBQVVocUIsR0FFM0MsU0FBU3FyQixFQUFnQmYsRUFBWTN3QixHQUNqQyxJQUFJd0MsRUFBUTZELEVBQU96UixLQUFLcUUsS0FBTSxTQUFVVCxHQUFZLE9BQU9nSyxFQUFNbXVCLFdBQVduVyxVQUFVeGEsRUFBT3hILE1BQWlCUyxLQUc5RyxPQUZBdUosRUFBTW11QixXQUFhQSxFQUNuQm51QixFQUFNeEMsTUFBUUEsRUFDUHdDLEVBU1gsT0FkQSxJQUFrQmt2QixFQUFpQnJyQixHQU9uQ3FyQixFQUFnQmg5QixVQUFVK2EsS0FBTyxXQUU3QixJQURBLElBQUlBLEVBQU8sR0FDRjBXLEVBQUssRUFBR0EsRUFBSzdyQixVQUFVOUYsT0FBUTJ4QixJQUNwQzFXLEVBQUswVyxHQUFNN3JCLFVBQVU2ckIsR0FFekIsT0FBTyxJQUFJdUwsRUFBZ0J6NEIsS0FBSzAzQixXQUFZLElBQWlCLEdBQUkxM0IsS0FBSytHLE1BQU8sQ0FBRXlQLEtBQU1BLE1BRWxGaWlCLEVBZnlCLENBZ0JsQyxLQ1hFLEVBQWdDLFdBQ2hDLFNBQVNDLEVBQWV4SCxFQUFXcUMsRUFBU2dELEVBQW9Cb0MsRUFBcUJuSixFQUFleUIsRUFBVWQsRUFBUWtELEdBQ2xILElBQUk5cEIsRUFBUXZKLEtBQ1pBLEtBQUtreEIsVUFBWUEsRUFDakJseEIsS0FBS3V6QixRQUFVQSxFQUNmdnpCLEtBQUt1MkIsbUJBQXFCQSxFQUMxQnYyQixLQUFLMjRCLG9CQUFzQkEsRUFDM0IzNEIsS0FBS3d2QixjQUFnQkEsRUFDckJ4dkIsS0FBS2l4QixTQUFXQSxFQUNoQmp4QixLQUFLbXdCLE9BQVNBLEVBQ2Rud0IsS0FBS3F6QixlQUFpQkEsRUFDakJzRixJQUNEMzRCLEtBQUsyNEIsb0JBQXNCLElBQzFCbkosSUFDRHh2QixLQUFLd3ZCLGNBQWdCLElBQUksR0FDeEJ5QixJQUNEanhCLEtBQUtpeEIsU0FBVyxJQUFJLEVBQVNqeEIsS0FBS3d2QixnQkFDakNXLElBQ0Rud0IsS0FBS213QixPQUFTLElBQUksRUFBaUJud0IsS0FBS3d2QixjQUFleHZCLEtBQUtpeEIsU0FBVUMsRUFBV3FDLEVBQVNnRCxJQUM5Ri82QixPQUFPK0ksS0FBSyxLQUFRakYsUUFBUSxTQUFVb08sR0FDbEMsSUFBSW1lLEVBQWEsSUFBSSxFQUFxQnRpQixFQUFPbUUsRUFBT2lyQixHQUF1QixJQUMzRXRGLElBQ0F4SCxFQUFhQSxFQUFXd0gsa0JBRTVCOXBCLEVBQU1tRSxHQUFTbWUsSUFFbkI3ckIsS0FBSzgxQixPQUFTLElBQUksRUFBZ0I5MUIsS0FBS213QixPQUFPdUgsV0FBWSxDQUN0RGhwQixTQUFVMU8sS0FBSzI0QixvQkFBb0JqcUIsV0E0QzNDLE9BekNBZ3FCLEVBQWVqOUIsVUFBVWlTLE1BQVEsU0FBVWtyQixHQUN2QyxJQUFJL00sRUFBYSxJQUFJLEVBQXFCN3JCLEtBQU00NEIsRUFBVzU0QixLQUFLMjRCLHFCQUdoRSxPQUZJMzRCLEtBQUtxekIsaUJBQ0x4SCxFQUFhQSxFQUFXd0gsa0JBQ3JCeEgsR0FFWDZNLEVBQWVqOUIsVUFBVW85QixPQUFTLFNBQVVDLEVBQWN6RixHQUV0RCxPQURZLElBQUlxRixFQUFlMTRCLEtBQUtreEIsVUFBV2x4QixLQUFLdXpCLFFBQVN2ekIsS0FBS3UyQixtQkFBb0IsSUFBaUIsR0FBSXYyQixLQUFLMjRCLG9CQUFxQkcsR0FBZTk0QixLQUFLd3ZCLGNBQWV4dkIsS0FBS2l4QixTQUFVanhCLEtBQUttd0IsWUFBMkJyb0IsSUFBbkJ1ckIsRUFBK0JyekIsS0FBS3F6QixlQUFpQkEsSUFHN1BxRixFQUFlajlCLFVBQVVzOUIsT0FBUyxTQUFVcnFCLEdBQ3hDLE9BQU8xTyxLQUFLNjRCLE9BQU8sQ0FBRW5xQixTQUFVQSxLQUVuQ2dxQixFQUFlajlCLFVBQVUySixLQUFPLFNBQVVBLEdBQ3RDLE9BQU9wRixLQUFLNjRCLE9BQU8sQ0FBRXp6QixLQUFNQSxLQUUvQnN6QixFQUFlajlCLFVBQVV1OUIsY0FBZ0IsV0FDckMsT0FBT2g1QixLQUFLNjRCLE9BQU8sSUFBSSxJQUUzQkgsRUFBZWo5QixVQUFVdVQsWUFBYyxXQUNuQyxJQUFLaFAsS0FBSzI0QixvQkFBb0JqcUIsU0FDMUIsTUFBTSxJQUFJM08sTUFBTSw4QkFDcEJDLEtBQUttd0IsT0FBTzBELE9BQU8sQ0FBQyxDQUFFMWxCLEdBQUksZUFBZ0JPLFNBQVUxTyxLQUFLMjRCLG9CQUFvQmpxQixXQUFhLElBRTlGZ3FCLEVBQWVqOUIsVUFBVXFULE1BQVEsU0FBVUMsR0FDdkMsSUFBSy9PLEtBQUsyNEIsb0JBQW9CanFCLFNBQzFCLE1BQU0sSUFBSTNPLE1BQU0sbUNBQ3BCQyxLQUFLbXdCLE9BQU8wRCxPQUFPLENBQUMsQ0FBRTFsQixHQUFJLFFBQVNPLFNBQVUxTyxLQUFLMjRCLG9CQUFvQmpxQixTQUFVSyxlQUFnQkEsSUFBbUIsSUFFdkgycEIsRUFBZWo5QixVQUFVdzlCLFFBQVUsV0FDL0IsT0FBTyxJQUFrQmo1QixVQUFNLE9BQVEsRUFBUSxXQUMzQyxPQUFPLElBQW9CQSxLQUFNLFNBQVVpQyxHQUN2QyxPQUFRQSxFQUFHRSxPQUNQLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBYW5DLEtBQUttd0IsT0FBT00sd0JBQXdCendCLEtBQUttd0IsT0FBT29ILGlCQUM3RSxLQUFLLEVBRUQsT0FEQXQxQixFQUFHUSxPQUNJLENBQUMsU0FLckJpMkIsRUF2RXdCLEcsa0JDUG5DLGdJQU9PLElBQU1waUIsRUFBSyxJQUFJLEVBQ3BCLFdBQUksV0FBSTVELGtCQUNSLFdBQUksV0FBSTBELFlBQ04sSUFBSUEsWUFBWXBSLEtBQ2hCLElBQ0YsV0FBSSxXQUFJb1IsWUFDTixJQUFJQSxZQUFZckIsYUFBZSxJQUFJcUIsWUFBWXBSLEtBQy9DLEtBRVNrMEIsRUFBVyxZQUFZLElBQUlDLFdBQzNCQyxFQUFVLENBQ3JCQyxlQUFnQi9pQixFQUFHeUMsUUFBUTNiLEtBQUssWUFBWWkyQixpQkFBaUJwYSxTQUM3RCxlQUFrQixPQUFPM0MsRUFBR3lDLFFBQVEzYixLQUFLLElBQUlnWixZQUFZblIsUUFBUW91QixpQkFBaUJwYSxXQUV2RXFnQixFQUFrQixDQUM3QkMsWUFBQSxTQUFZdDBCLEVBQXVCME4sR0FDakMsT0FBTzFOLEVBQU9xZCxVQUFVLFNBQUFyZCxHQUN0QixPQUFBcVIsRUFBR2tqQixTQUNBamdCLGFBQWEsQ0FBQ3RVLEVBQU93MEIsbUJBQ3JCcjhCLEtBQUssU0FDTG9aLEtBQUs3RCxHQUNMa2dCLFVBQ0E3dkIsSUFBSSxTQUFDLEdBQVMsT0FBUixFQUFBbUIsS0FDTnFWLFVBQ0F4VyxJQUFJLFNBQUFzcEIsR0FBTyxPQUFBQSxFQUFJL3dCLE9BQVMsRUFBSSt3QixFQUFJLFFBQUt4a0IsT0FPNUM0eEIsb0JBQUEsU0FBb0J6MEIsRUFBdUIwTixHQUN6QyxPQUFPMkQsRUFBR3FqQixnQkFBZ0I5RyxVQUFVMXVCLEdBQUd3TyxHQUFVMlAsVUFBVSxXQUN6RCxPQUFBcmQsRUFBT3FkLFVBQVUsU0FBQXJkLEdBQ2pCLE9BQUFxUixFQUFHa2pCLFNBQ0FqZ0IsYUFBYSxDQUFDdFUsRUFBT3cwQixtQkFDckJyOEIsS0FBSyxTQUNMb1osS0FBSzdELEdBQ0xrZ0IsVUFDQWhsQixpQkFBaUIsU0FBQTRsQixHQUloQixJQUFNdHZCLEVBQUssY0FDWHN2QixFQUFHaGxCLElBQUksV0FBWSxDQUNqQnRLLEdBQUUsRUFDRnVCLElBQUssQ0FDSCxjQUNBLGNBQWNULEVBQU83SCxLQUFJLGVBRTNCQSxLQUFNLFFBQ053OEIsU0FBVTMwQixFQUFPZCxHQUNqQjAxQixhQUFjNTBCLEVBQU93MEIsaUJBQ3JCampCLEtBQU0sQ0FBQzdELEtBR1Q4Z0IsRUFBR2prQixNQUFNLFdBQVl2SyxFQUFPdzBCLGlCQUFrQixtQkFBb0J0MUIsS0FFbkU4VSxTQUNBalcsSUFBSSxTQUFDLEdBQVMsT0FBUixFQUFBbUIsVUFHYjIxQixvQkFBQSxTQUFvQm5uQixHQUNsQixPQUFPMkQsRUFBR3lqQixhQUFhdmpCLEtBQUs3RCxHQUFVa2dCLFVBQVUzdEIsT0FDOUNvUixFQUFHMGpCLGVBQWV4akIsS0FBSzdELEdBQVVrZ0IsV0FBVzN0QixPQUM1Q29SLEVBQUcyakIsV0FBV3pqQixLQUFLN0QsR0FBVWtnQixXQUFXM3RCLE9BQ3hDb1IsRUFBR00sTUFBTUosS0FBSzdELEdBQVVrZ0IsV0FDdkI3dkIsSUFBSSxTQUFBQyxHQUFLLE9BQUFBLEVBQUVrQixRLGlDQzFFbEIsdUJBSUEsSUFBSSsxQixZQUFjLE9BQ2xCLElBQUlDLFlBQWMsc0RBQ2xCLElBQUlDLFlBQWMsZ0VBQ2xCLElBQUlDLGNBQWdCLEdBQ3BCLElBQUlDLGNBQWdCLEdBQ3BCLElBQUlDLGtCQUFvQixHQUN4QixJQUFJcEIsVUFBWSxNQUNoQixJQUFJbk8sV0FBYSxJQUFJQSxZQUFjLEtBQ25DLElBQUl3UCxrQkFBb0IsSUFBSUEsbUJBQXFCLEtBQ2pELElBQUlDLGtCQUFvQixJQUFJQSxtQkFBcUJDLEVBQVFoWCxJQUFJK1csb0Isd0hDSHZERSxFQUEwQixDQUM5QixvREFDQSwyREFDQSxvREFDQSxpRUFFSUMsRUFBeUIsQ0FDN0Isb0RBQ0EsMkRBSUYsU0FBU0MsRUFBbUJuYyxFQUFtQnBYLEVBQXdCd3pCLEdBRXJFLElBQU12MEIsRUFBZSxZQUFpQmUsR0FDaEN5ekIsRUFBcUIsWUFBZ0J4MEIsRUFBYyxLQUNuRCx3QkFBQ3kwQixFQUFBLEtBQXVCQyxFQUFBLEtBQ3hCQyxFQUFpQixZQUFpQkQsR0FDeEMsT0FBT0QsRUFBd0IsWUFBb0IsT0FDOUNFLEVBQ0FILEVBQWtCLENBQ3JCRCxPQUFRQSxFQUFPbDVCLEtBQUssUUFJeEIsU0FBU3U1QixFQUFXQyxFQUF5QkMsR0FDM0MsT0FBT0QsRUFBa0IsSUFBTUMsRUFvQ2pDLFNBQVNDLEVBQXdCeHZCLEVBQWtCbkgsRUFBWW0yQixHQUM3RCxPQUFPLElBQUksSUFDVCxJQUNBLElBQ0FodkIsRUFBV25ILEVBQUtLLEtBQU93QixTQUFTQyxPQUNoQyxJQUFJNnpCLGNBQ0osSUFBSUMsa0JBQ0p6dUIsRUFBVSxDQUNSK0ksTUFBT2xRLEVBQUtLLEtBQUtnQixjQUNqQmIsTUFBT1IsRUFBS1EsTUFDWkYsT0FBUU4sRUFBS00sT0FDYnMyQixXQUFZNTJCLEVBQUs0MkIsV0FDakJULE9BQU0sSUFTWixJQTFDOEJNLEVBQ3RCenZCLEVBeUNGNnZCLEVBQW1CLElBQUlwbEIsYUFBZSxJQUFJQSxZQUFZcFIsS0FDNUQsR0FBSXcyQixFQUVGLEdBQUksSUFBSUMsZUFBZ0IsQ0FNdEIsSUFBTSxFQUFrQlosRUFDdEIsSUFBSVksZUFDSmoxQixTQUFTQyxPQUFRLENBQ2YsYUFDQSxRQUVKLElBQUl5QyxnQkF4REF5QyxFQUFVd3ZCLEVBRFlDLEVBeURnQixFQUFpQkksR0F2RHRELElBQUksSUFBd0JKLEVBQWlCLFNBQUFNLEdBQ2xELElBQU03eEIsRUFBTUwsS0FBS1MsTUFBTXl4QixHQUN2QixJQUFLN3hCLEVBQUk4eEIsR0FBSSxNQUFNLElBQUk1N0IsTUFBTThKLEVBQUlySyxPQUlqQyxPQUhJcUssRUFBSWxGLE1BakJaLFNBQXNCQSxFQUFZZ0gsR0FDaEMsSUFBSXlLLFlBQWN6UixFQUNsQjZZLGVBQWVDLFFBQVEsV0FBYTlSLEVBQVNuQyxLQUFLQyxVQUFVOUUsSUFnQnhEaTNCLENBQWEveEIsRUFBSWxGLEtBQU1nSCxHQUVsQixDQUFFVixNQUFPcEIsRUFBSW9CLE1BQU9GLFFBQVNwSyxLQUFLQyxNQUFRLFFBQ2hEK0ssSUFoQkwsU0FBc0JBLEdBQ3BCLElBQU1rd0IsRUFBb0JyZSxlQUFlRSxRQUFRLFdBQWEvUixHQUMxRGt3QixJQUNGLElBQUl6bEIsWUFBYzVNLEtBQUtTLE1BQU00eEIsSUE4RDdCQyxDQUFhWCxFQUFXLEVBQWlCSyxJQUV6QyxJQUFNLEVBQVMsQ0FDYixvREFDQSx5Q0FDQXQyQixPQUNBLElBQUlrUixZQUFZalIsTUFBTWUsU0FBUyxZQUMzQnkwQixFQUNBQyxHQUlBbUIsRUFBbUJsQixFQUN2QixJQUFJWSxlQUNKajFCLFNBQVNDLE9BQVEsR0FDbkIsSUFBSXUxQixvQkE3RFIsU0FBbUNaLEVBQXlCQyxHQUMxRCxJQUFNMXZCLEVBQVV3dkIsRUFBV0MsRUFBaUJDLEdBQzVDLE9BQU8sSUFBSSxJQUF3QkQsRUFBaUIsU0FBQU0sR0FDbEQsSUFBTTd4QixFQUFNTCxLQUFLUyxNQUFNeXhCLEdBQ3ZCLElBQUs3eEIsRUFBSTh4QixHQUFJLE1BQU0sSUFBSTU3QixNQUFNOEosRUFBSXJLLE9BQ2pDLE1BQU8sQ0FBRXlMLE1BQU9wQixFQUFJb0IsTUFBT0YsUUFBU3BLLEtBQUtDLE1BQVEsUUFDaEQrSyxHQXVEeUJzd0IsQ0FBMEJGLEVBQWtCUCxPQUNqRSxNQUFJLElBQUluQixlQUFpQixJQUFJQyxlQUFpQixJQUFJQyxtQkF1QnZELE1BQU0sSUFBSXg2QixNQUFNLGtEQWpCaEIsSUFBSW1KLGVBQWlCb3lCLEVBQXdCLElBQUlqQixjQUFlLElBQUlqa0IsWUFBYSxDQUMvRSxhQUNBLFFBR0ksRUFBUyxDQUNiLG9EQUNBLHlDQUNBbFIsT0FDQSxJQUFJa1IsWUFBWWpSLE1BQU1lLFNBQVMsWUFDM0J5MEIsRUFDQUMsR0FHTixJQUFJb0Isb0JBQXNCVixFQUF3QixJQUFJakIsY0FBZ0IsVUFBVyxJQUFJamtCLFlBQWEsR0M3SXRHLElBQUkxRCxpQkFBbUIsSUFBSSxJQUN6QixJQUFJeW5CLFlBQ0osSUFBSWp4QixnQixZQ0ROLElBQUlnekIsVUFBWSxJQUFJLElBQ2xCLElBQ0EsSUFBSTlCLFlBQ0osSUFBSWx4QixlQUNKLFdBQUksV0FBSWtOLFlBQVlwUiIsImZpbGUiOiJrZWRhcHB0ZWFjaGVydmlldy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDU6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBfbmFtZV9cIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBfbmFtZV9cIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzMwMiwwXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwiaW1wb3J0IHsgRmliZXIsIEZpYmVyQ29udGV4dCwgU3Vic2NyaXB0aW9uIH0gZnJvbSBcImtlZGJhY2tlbmQvb2JzZXJ2YWJsZVwiO1xuaW1wb3J0IFJlYWN0LCB7IFN1c3BlbnNlLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5jb25zdCBGaWJlckNvbnRleHRSZWFjdCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8RmliZXIgfCBudWxsPihudWxsKTtcblxuRmliZXJDb250ZXh0LmFkZFByb3ZpZGVyKCgpPT5cbiAgLy8gSGVyZSB3ZSBhY3R1YWxsIGRvIHVzZUhvb2soRmliZXJDb250ZXh0KSBidXQgd2l0aG91dCBsb2dnaW5nIHRvIGludGVybmFsIGRlYnVnIGxvZ3NcbiAgLy8gTm9ybWFsbHksIHJlYWN0IGhvb2tzIGFyZSBzZW5zaXRpdmUgaW4gd2hpY2ggb3JkZXIgdGhleSBhcmUgY2FsbGVkICh1c2VTdGF0ZSgpLCBldGMpXG4gIC8vIGJ1dCB1c2VDb250ZXh0KCkgaXMgbm90IHNlbnNpdGl2ZSBhYm91dCB0aGF0IGF0IGFsbC5cbiAgLy8gU3RpbGwsIHRoZSBkZWJ1ZyB2ZXJzaW9uIG9mIHJlYWN0IHdpbGwgbG9nIGNhbGxzIHRvIHVzZUhvb2soKSBhbmQgdGhyb3cgaWYgYSByZW5kZXJcbiAgLy8gZG9lc24ndCB1c2UgdGhlIHNhbWUgbnVtYmVyIG9mIGhvb2tzIGV2ZXJ5IHRpbWUuIFRoaXMgY2hlY2sgc2hvdWxkIG5vdCBhcHBseVxuICAvLyB0byB1c2VIb29rKCkgc2luY2UgaXQgaXMgbm90IHNlbnNpdGl2ZSB0byB0aGUgb3JkZXIgaW4gd2hpY2ggaXQgd2FzIGNhbGxlZC5cbiAgLy8gQW5kIHdlIG5lZWQgdG8gYmUgYWJsZSB0byBjYWxsIGl0IGZyb20gd2l0aGluIGNvbnRpdGlvbmFsIGV4cHJlc3Npb25zIC8gc3RhdGVtZW50cyxcbiAgLy8gc28gd2UgbXVzdCBieXBhc3MgdGhpcyBkZWJ1ZyBsb2dnaW5nIGhlcmUgYnkgYWNjZXNzaW5nIHRoZSBfY3VycmVudFZhbHVlIGRpcmVjdGx5LlxuICAoRmliZXJDb250ZXh0UmVhY3QgYXMgYW55KS5fY3VycmVudFZhbHVlKTsgXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGZhbGxiYWNrPzogTm9uTnVsbGFibGU8UmVhY3ROb2RlPnxudWxsO1xuICBlcnJvckZhbGxiYWNrPzogTm9uTnVsbGFibGU8UmVhY3ROb2RlPnxudWxsO1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGNsYXNzIE9ic2VydmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIHtjb3VudGVyOiBudW1iZXIsIGVycm9yOiBudWxsIHwgRXJyb3IsIGluZm8/OiBzdHJpbmd9PiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY291bnRlcjogMCxcbiAgICAgIGVycm9yOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yOiBhbnksIGluZm86IGFueSkge1xuICAgIGlmICghZXJyb3IgfHwgIWVycm9yLm5hbWUpIGVycm9yID0gbmV3IEVycm9yKCcnK2Vycm9yKTtcbiAgICB0aGlzLnNldFN0YXRlKHtlcnJvciwgaW5mb30pO1xuICAgIGNvbnNvbGUubG9nKGVycm9yLCBpbmZvKTtcbiAgfVxuXG4gIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgb3V0ZXJTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbiA9IHtcbiAgICB1bnN1YnNjcmliZTogKCk9PiB7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzID0+IHMudW5zdWJzY3JpYmUoKSk7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICB9XG4gIH1cblxuICBvYnNlcnZlciA9ICh2YWx1ZTogYW55LCBlcnJvcjogYW55LCBzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbikgPT4ge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7ZXJyb3J9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSgoe2NvdW50ZXJ9KSA9PiAoe2NvdW50ZXI6IGNvdW50ZXIgKyAxLCBlcnJvcn0pKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5vdXRlclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5lcnJvckZhbGxiYWNrIHx8IDxwPntMYEt1bmRlIGludGUgbGFkZGEgaW5uZWjDpWxsZXRgfTwvcD47XG4gICAgfVxuICAgIHRoaXMub3V0ZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICByZXR1cm4gPFN1c3BlbnNlIGZhbGxiYWNrPXt0aGlzLnByb3BzLmZhbGxiYWNrIHx8IG51bGx9PlxuICAgICAgPEZpYmVyQ29udGV4dFJlYWN0LlByb3ZpZGVyIHZhbHVlPXt0aGlzfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L0ZpYmVyQ29udGV4dFJlYWN0LlByb3ZpZGVyPlxuICAgIDwvU3VzcGVuc2U+O1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVVSUQoKSB7XG4gICAgLy8gRGVjZW50IHNvbHV0aW9uIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0XG4gICAgdmFyIGQgPSBEYXRlLm5vdygpO1xuICAgIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICB2YXIgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcbiAgICAgICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTtcbiAgICAgICAgcmV0dXJuIChjID09PSAneCcgPyByIDogKHIgJiAweDcgfCAweDgpKS50b1N0cmluZygxNik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHV1aWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gYXZvaWRTaW11bHRhbm91c0NhbGxzKG1ldGhvZCkge1xuICAgIHZhciBvbmdvaW5nUHJvbWlzZSA9IG51bGw7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFvbmdvaW5nUHJvbWlzZSkge1xuICAgICAgICAgICAgb25nb2luZ1Byb21pc2UgPSBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBvbmdvaW5nUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvbmdvaW5nUHJvbWlzZTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbElkKHJlYWxtKSB7XG4gICAgdmFyIHByZWZpeCA9ICdlYzk2YjNiZS00NWZjLTQxZDMtYjY5ZS0nO1xuICAgIHZhciBwYWQgPSBbJzUwJywgJzA4JywgJ2UxJywgJzQwJywgJ2U0JywgJ2U3J107XG4gICAgaWYgKHJlYWxtLmxlbmd0aCA+IDYpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvbyBsb25nIHJlYWxtXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVhbG0ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGhleCA9IHJlYWxtLmNoYXJDb2RlQXQoaSkudG9TdHJpbmcoMTYpO1xuICAgICAgICBwYWRbaV0gPSBoZXgubGVuZ3RoID09PSAyID9cbiAgICAgICAgICAgIGhleCA6XG4gICAgICAgICAgICAnMCcgKyBoZXg7XG4gICAgfVxuICAgIHJldHVybiBwcmVmaXggKyBwYWQuam9pbignJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVByZWRlc3RpbmF0ZWRJZChpbnB1dCkge1xuICAgIHJldHVybiB0c2xpYl8xLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW5jb2RlciwgZGF0YSwgZGlnZXN0LCBfYSwgaTtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBlbmNvZGVyLmVuY29kZShpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIF9hID0gVWludDhBcnJheS5iaW5kO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIGRhdGEpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGRpZ2VzdCA9IG5ldyAoX2EuYXBwbHkoVWludDhBcnJheSwgW3ZvaWQgMCwgX2Iuc2VudCgpXSkpKCk7XG4gICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuaWJibGUgPSBkaWdlc3RbaSsrXSAlIDE2IHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2FzaGVkTmliYmxlID0gYyA9PT0gJ3gnID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmliYmxlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmliYmxlICYgMHg3IHwgMHg4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3YXNoZWROaWJibGUudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbGVEaWdlc3QoaW5wdXQpIHtcbiAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVuY29kZXIsIGlucHV0Qnl0ZXMsIGRpZ2VzdEJ5dGVzLCBfYTtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0Qnl0ZXMgPSBlbmNvZGVyLmVuY29kZShpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIF9hID0gVWludDhBcnJheS5iaW5kO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIGlucHV0Qnl0ZXMpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGRpZ2VzdEJ5dGVzID0gbmV3IChfYS5hcHBseShVaW50OEFycmF5LCBbdm9pZCAwLCBfYi5zZW50KCksIDAsIDE2XSkpKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBidWYyaGV4KGRpZ2VzdEJ5dGVzKV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxudmFyIHNpbXBsZURpZ2VzdENhY2hlID0ge307XG5leHBvcnQgZnVuY3Rpb24gc2ltcGxlRGlnZXN0U3VzcGVuc2UoaW5wdXRzKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBpbnB1dHMubWFwKGZ1bmN0aW9uIChpbnB1dCkgeyByZXR1cm4gc2ltcGxlRGlnZXN0Q2FjaGVbaW5wdXRdOyB9KTtcbiAgICB2YXIgdW5yZXNvbHZlZElucHV0cyA9IFtdO1xuICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzdWx0LCBpbmRleCkge1xuICAgICAgICBpZiAoIXJlc3VsdClcbiAgICAgICAgICAgIHVucmVzb2x2ZWRJbnB1dHMucHVzaChpbnB1dHNbaW5kZXhdKTtcbiAgICB9KTtcbiAgICBpZiAodW5yZXNvbHZlZElucHV0cy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIHRocm93IFByb21pc2UuYWxsKHVucmVzb2x2ZWRJbnB1dHMubWFwKGZ1bmN0aW9uIChpbnB1dCkgeyByZXR1cm4gc2ltcGxlRGlnZXN0KGlucHV0KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIHNpbXBsZURpZ2VzdENhY2hlW2lucHV0XSA9IHJlc3VsdDsgfSk7IH0pKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWYyaGV4KGJ1ZmZlcikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYnVmZmVyLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4gKCcwMCcgKyB4LnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpOyB9KS5qb2luKCcnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBcnJheShhLCBtYXBwZXIpIHtcbiAgICB2YXIgcmV0dmFsID0gYTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIHZhciB0ID0gYVtpXTtcbiAgICAgICAgdmFyIG1hcHBlZCA9IG1hcHBlcih0KTtcbiAgICAgICAgaWYgKG1hcHBlZCAhPT0gdCkge1xuICAgICAgICAgICAgaWYgKHJldHZhbCA9PT0gYSlcbiAgICAgICAgICAgICAgICByZXR2YWwgPSBhLnNsaWNlKCk7XG4gICAgICAgICAgICByZXR2YWxbaV0gPSBtYXBwZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldHZhbDtcbn1cbi8qXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXJyYXk8VD4oYTogVFtdLCBtYXBwZXI6ICh0OiBUKSA9PiBUIHwgZmFsc2UpOiBUW10ge1xuICBsZXQgcmV0dmFsID0gYTtcbiAgbGV0IGogPSAwO1xuICBmb3IgKGxldCBpPTAsbD1hLmxlbmd0aDsgaTxsOyArK2ksICsraikge1xuICAgIGNvbnN0IHQgPSBhW2ldO1xuICAgIGNvbnN0IG1hcHBlZCA9IG1hcHBlcih0KTtcbiAgICBpZiAobWFwcGVkID09PSBmYWxzZSkge1xuICAgICAgLy8gTWFwcGVyIHdhbnRzIHRvIGRlbGV0ZSB0aGlzIGRvYy5cbiAgICAgIGlmIChyZXR2YWwgPT09IGEpIHJldHZhbCA9IGEuc2xpY2UoKTtcbiAgICAgIHJldHZhbC5zcGxpY2UoaiwgMSk7XG4gICAgICAtLWo7IC8vIGNvbXBlbnNhdGUgZm9yICsralxuICAgIH0gZWxzZSBpZiAobWFwcGVkICE9PSB0KSB7XG4gICAgICBpZiAocmV0dmFsID09PSBhKSByZXR2YWwgPSBhLnNsaWNlKCk7XG4gICAgICByZXR2YWxbal0gPSBtYXBwZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXR2YWw7XG59XG4qLyBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGNvbnN0IFNwaW5uZXIgPSAoe2xhYmVsPVwiXCJ9OntsYWJlbD86c3RyaW5nfSkgPT4gPHNwYW4+PGkgY2xhc3NOYW1lPVwiZmEgZmEtc3Bpbm5lciBmYS1zcGluXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiZuYnNwO3tsYWJlbH08L3NwYW4+O1xuIiwidmFyIG1hcCA9IHtcblx0XCIuL2VuLVNHXCI6IDg1LFxuXHRcIi4vZW4tU0cuanNcIjogODUsXG5cdFwiLi9lbi1hdVwiOiA4Nixcblx0XCIuL2VuLWF1LmpzXCI6IDg2LFxuXHRcIi4vZW4tY2FcIjogODcsXG5cdFwiLi9lbi1jYS5qc1wiOiA4Nyxcblx0XCIuL2VuLWdiXCI6IDg4LFxuXHRcIi4vZW4tZ2IuanNcIjogODgsXG5cdFwiLi9lbi1pZVwiOiA4OSxcblx0XCIuL2VuLWllLmpzXCI6IDg5LFxuXHRcIi4vZW4taWxcIjogOTAsXG5cdFwiLi9lbi1pbC5qc1wiOiA5MCxcblx0XCIuL2VuLW56XCI6IDkxLFxuXHRcIi4vZW4tbnouanNcIjogOTEsXG5cdFwiLi9zdlwiOiA5Mixcblx0XCIuL3N2LmpzXCI6IDkyXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMTM3OyIsImltcG9ydCB7IEFjY2Vzc0NsYWltLCBEb2N1bWVudEFjY2VzcywgaGFzQWNjZXNzIGFzIF9oYXNBY2Nlc3MsIEFjY2Vzc1JpZ2h0IH0gZnJvbSAna2VkYmFja2VuZC9jbGllbnQnO1xuaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tICdrZWRiYWNrZW5kL21vZGVscyc7XG5pbXBvcnQgZ2V0VXNlckNsYWltcyBmcm9tICcuL2dldC11c2VyLWNsYWltcyc7XG5pbXBvcnQgeyBwYXJzZVF1ZXJ5U3RyaW5nLCBnZW5lcmF0ZVF1ZXJ5U3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL3F1ZXJ5LXN0cmluZ1wiO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL2NvbnRyYWN0cy9rZWQtbW9kZWxzJztcbmV4cG9ydCB7IGdldFVzZXJDbGFpbXMgfTtcblxuZXhwb3J0IGNvbnN0IElNUEVSU09OQVRJT05fUVVFUllfUEFSQU1TID0gW1xuICBcInVzZXJcIixcbiAgXCJyb2xlXCIsXG4gIFwic2Nob29sXCIsXG4gIFwiZGVidWdcIixcbiAgXCJ0ZXN0VmVyc2lvblwiLFxuICBcInRlc3R2ZXJzaW9uXCIsXG4gIFwiZmVhdHVyZXNcIixcbiAgXCJzY2hvb2xUeXBlXCIsXG4gIFwic2Nob29sdHlwZVwiXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0FjY2Vzcyh1c2VyOiBVc2VyLCBkb2M6IERvY3VtZW50LCByZXF1ZXN0ZWRSaWdodDogQWNjZXNzUmlnaHQpIHtcbiAgdmFyIGNsYWltcyA9IGdldFVzZXJDbGFpbXModXNlcik7XG4gIGlmIChyZXF1ZXN0ZWRSaWdodCAhPT0gJ1InICYmIHVzZXIudHV0b3JGb3IpIHtcbiAgICBjbGFpbXMgPSBjbGFpbXMuZmlsdGVyKGNsYWltID0+IGNsYWltLnR5cGUgIT09ICdlbWFpbCcpO1xuICB9XG4gIHZhciByZXN1bHQgPSBfaGFzQWNjZXNzKERvY3VtZW50QWNjZXNzLmZyb21TdHJpbmdBcnJheShkb2MuYWNsIHx8IFtdKSwgY2xhaW1zLCByZXF1ZXN0ZWRSaWdodCk7XG4gIC8vY29uc29sZS5sb2coYEhhcyAke3JlcXVlc3RlZFJpZ2h0fSBhY2Nlc3MgdG8gJHtkb2MubmFtZX0vJHtkb2MuaWR9OiAke3Jlc3VsdH1gKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1JlYWRBY2Nlc3ModXNlcjogVXNlciwgZG9jOiBEb2N1bWVudCkge1xuICByZXR1cm4gaGFzQWNjZXNzKHVzZXIsIGRvYywgJ1InKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1dyaXRlQWNjZXNzKHVzZXI6IFVzZXIsIGRvYzogRG9jdW1lbnQpIHtcbiAgcmV0dXJuIGhhc0FjY2Vzcyh1c2VyLCBkb2MsICdXJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNTaGFyZUFjY2Vzcyh1c2VyOiBVc2VyLCBkb2M6IERvY3VtZW50KSB7XG4gIHJldHVybiBoYXNBY2Nlc3ModXNlciwgZG9jLCAnUycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUZWFjaGVyQXRTY2hvb2wodXNlcjogVXNlciwgc2Nob29sOiBzdHJpbmcpIHtcbiAgY29uc3QgaXNUZWFjaGVyID0gdXNlci5yb2xlcy5zb21lKHJvbGUgPT4gcm9sZSA9PT0gJ0VNUExPWUVFJyB8fCByb2xlID09PSAnQURNSU4nKTtcbiAgY29uc3QgYmVsb25nc1RvU2Nob29sID0gKHNjaG9vbHx8XCJcIikudG9Mb3dlckNhc2UoKSA9PT0gdXNlci5zY2hvb2wudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIChpc1RlYWNoZXIgJiYgYmVsb25nc1RvU2Nob29sKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWRtaW5PclRlYWNoZXJBdFNjaG9vbCh1c2VyOiBVc2VyLCBzY2hvb2w6IHN0cmluZykge1xuICByZXR1cm4gdXNlci5yb2xlcy5pbmNsdWRlcyhcIkFETUlOXCIpIHx8IGlzVGVhY2hlckF0U2Nob29sKHVzZXIsIHNjaG9vbCk7XG59XG5cbmV4cG9ydCBjb25zdCBpbXBlcnNvbmF0aW9uRW52ID0ge1xuICBhY3RBcyAob3B0aW9uczoge3JvbGUsIHNjaG9vbCwgdXJsP30pIHtcbiAgICBjb25zdCB7cm9sZSwgc2Nob29sLCB1cmx9ID0gb3B0aW9ucztcbiAgICBjb25zdCBjdXJyZW50UXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nKGxvY2F0aW9uLnNlYXJjaCk7XG4gICAgY29uc3QgbmV3UXVlcnkgPSB7Li4uY3VycmVudFF1ZXJ5LCByb2xlLCBzY2hvb2x9O1xuICAgIGNvbnN0IG5ld1F1ZXJ5U3RyaW5nID0gZ2VuZXJhdGVRdWVyeVN0cmluZyhuZXdRdWVyeSk7XG4gICAgaWYgKHVybCkge1xuICAgICAgbG9jYXRpb24uaHJlZiA9IGAke3VybH0ke25ld1F1ZXJ5U3RyaW5nfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSBcIiNcIjtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9IG5ld1F1ZXJ5U3RyaW5nO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWN0QXMob3B0aW9uczoge3JvbGUsIHNjaG9vbCwgdXJsP30pIHtcbiAgaW1wZXJzb25hdGlvbkVudi5hY3RBcyhvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByZXNlcnZlSW1wZXJzb25hdGlvblF1ZXJ5ICh1cmw6IHN0cmluZywgcXVlcnk6IHtbbmFtZTogc3RyaW5nXSA6IHN0cmluZ30pIHtcbiAgY29uc3QgY3VycmVudFF1ZXJ5ID0gcGFyc2VRdWVyeVN0cmluZyhsb2NhdGlvbi5zZWFyY2gpO1xuICBjb25zdCBwcmVzZXJ2ZWRRdWVyeSA9IHt9O1xuICBmb3IgKGNvbnN0IHBhcmFtIG9mIElNUEVSU09OQVRJT05fUVVFUllfUEFSQU1TKSB7XG4gICAgaWYgKGN1cnJlbnRRdWVyeVtwYXJhbV0pIHByZXNlcnZlZFF1ZXJ5W3BhcmFtXSA9IGN1cnJlbnRRdWVyeVtwYXJhbV07XG4gIH1cbiAgY29uc3QgbmV3UXVlcnlTdHJpbmcgPSBnZW5lcmF0ZVF1ZXJ5U3RyaW5nKHsuLi5wcmVzZXJ2ZWRRdWVyeSwgLi4ucXVlcnl9KTtcbiAgY29uc3QgcEhhc2ggPSB1cmwuaW5kZXhPZignIycpO1xuICByZXR1cm4gcEhhc2ggPj0gMCA/XG4gICAgYCR7dXJsLnN1YnN0cigwLHBIYXNoKX0ke25ld1F1ZXJ5U3RyaW5nfSR7dXJsLnN1YnN0cihwSGFzaCl9YCA6XG4gICAgYCR7dXJsfSR7bmV3UXVlcnlTdHJpbmd9YDtcbn1cbiIsImltcG9ydCB7IFVzZXIgfSBmcm9tIFwiLi4vY29udHJhY3RzL2tlZC1tb2RlbHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VXNlckNsYWltcyAodXNlcjogVXNlcikge1xuICByZXR1cm4gW3tcbiAgICB0eXBlOiBcImVtYWlsXCIsXG4gICAgdmFsdWU6IHVzZXIubWFpbFxuICB9LHtcbiAgICB0eXBlOiBcInNjaG9vbFwiLFxuICAgIHZhbHVlOiB1c2VyLnNjaG9vbFxuICB9XS5jb25jYXQodXNlci5yb2xlcy5tYXAocm9sZSA9PiAoe1xuICAgIHR5cGU6IFwicm9sZVwiLFxuICAgIHZhbHVlOiByb2xlXG4gIH0pKSkuY29uY2F0KHVzZXIucm9sZXMubWFwKHJvbGUgPT4gKHtcbiAgICB0eXBlOiBcInNjaG9vbFJvbGVcIixcbiAgICB2YWx1ZTogdXNlci5zY2hvb2wgKyBcIi9cIiArIHJvbGVcbiAgfSkpKTtcbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgUGFyc2VRdWVyeVN0cmluZ09wdGlvbnMge1xuICB0b0xvd2VyPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcobG9jYXRpb25TZWFyY2g6IHN0cmluZywgb3B0aW9ucz86IFBhcnNlUXVlcnlTdHJpbmdPcHRpb25zKTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSB7XG4gIGNvbnN0IHt0b0xvd2VyfSA9IChvcHRpb25zIHx8wqB7fSkgYXMgUGFyc2VRdWVyeVN0cmluZ09wdGlvbnM7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBpZiAobG9jYXRpb25TZWFyY2ggJiYgbG9jYXRpb25TZWFyY2gubGVuZ3RoID4gMSlcbiAgICBsb2NhdGlvblNlYXJjaC5zdWJzdHIoMSlcbiAgICAgIC5zcGxpdCgnJicpXG4gICAgICAubWFwKHBhcnQgPT4gcGFydC5zcGxpdCgnPScpLm1hcChzID0+IGRlY29kZVVSSUNvbXBvbmVudChzLnRyaW0oKSkpKVxuICAgICAgLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gcmVzdWx0W3RvTG93ZXIgPyBrZXkudG9Mb3dlckNhc2UoKSA6IGtleV0gPSB2YWx1ZSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGVuY29kZVBhcmFtcyhwYXJhbXM6IHtba2V5OiBzdHJpbmddOnN0cmluZ30pIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHBhcmFtcykuZmlsdGVyKGtleSA9PiBwYXJhbXNba2V5XSAhPT0gdW5kZWZpbmVkKS5tYXAoa2V5ID0+IGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba2V5XSl9YCkuam9pbignJicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVRdWVyeVN0cmluZyhwYXJhbXM6IHtba2V5OiBzdHJpbmddOnN0cmluZ30pIHtcbiAgcmV0dXJuIFwiP1wiICsgZW5jb2RlUGFyYW1zKHBhcmFtcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUhhc2hRdWVyeVN0cmluZyhsb2NhdGlvbkhhc2g6IHN0cmluZywgb3B0aW9ucz86IFBhcnNlUXVlcnlTdHJpbmdPcHRpb25zKSB7XG4gIHJldHVybiBwYXJzZVF1ZXJ5U3RyaW5nKGxvY2F0aW9uSGFzaCwgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUhhc2hRdWVyeVN0cmluZyhwYXJhbXM6IHtba2V5OiBzdHJpbmddOnN0cmluZ30pIHtcbiAgcmV0dXJuIFwiI1wiICsgZW5jb2RlUGFyYW1zKHBhcmFtcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdFVybEFuZFF1ZXJ5ICh1cmxXaXRoUG9zc2libGVRdWVyeTogc3RyaW5nKSB7XG4gIGNvbnN0IHBRdWVyeSA9IHVybFdpdGhQb3NzaWJsZVF1ZXJ5LmluZGV4T2YoJz8nKTtcbiAgcmV0dXJuIHBRdWVyeSA+PSAwID9cbiAgICBbdXJsV2l0aFBvc3NpYmxlUXVlcnkuc3Vic3RyKDAsIHBRdWVyeSksIHVybFdpdGhQb3NzaWJsZVF1ZXJ5LnN1YnN0cihwUXVlcnkpXSA6XG4gICAgW3VybFdpdGhQb3NzaWJsZVF1ZXJ5LCBcIlwiXTtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBjb25zdCBMYW5ndWFnZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtpbnRsOiBudWxsfSk7IiwiLypcbmRlY2xhcmUgdmFyIEJ1ZmZlcjsgLy8gbm9kZSBidWlsdC1pblxuXG5cbmZ1bmN0aW9uIGJhc2ljQXV0aEhlYWRlcih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICByZXR1cm4gXCJCYXNpYyBcIiArIG5ldyBCdWZmZXIodXNlcm5hbWUgKyBcIjpcIiArIHBhc3N3b3JkKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbn1cbiovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9lbWl0dGVyJztcbnZhciBSZXN0Q2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc3RDbGllbnQoaXNvbW9ycGhpYywgYmFzZVVybCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmlzb21vcnBoaWMgPSBpc29tb3JwaGljO1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLm51bU91dHN0YW5kaW5nT3BlcmF0aW9ucyA9IDA7XG4gICAgICAgIHRoaXMuY2FjaGUgPSB7fTsgLy8sIHRpbWVvdXQ6IG51bWJlcn19O1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBuZXcgRW1pdHRlcih0aGlzKTtcbiAgICAgICAgdGhpcy5mZXRjaE9wdGlvbnMgPSB7IG1vZGU6ICdjb3JzJyB9O1xuICAgICAgICB0aGlzLmF1dGhIZWFkZXIgPSBvcHRpb25zLmJlYXJlciA/XG4gICAgICAgICAgICBcIkJlYXJlciBcIiArIG9wdGlvbnMuYmVhcmVyIDpcbiAgICAgICAgICAgIG9wdGlvbnMudXNlcm5hbWUgP1xuICAgICAgICAgICAgICAgIFwiQmFzaWMgXCIgKyBpc29tb3JwaGljLmJ0b2Eob3B0aW9ucy51c2VybmFtZSArIFwiOlwiICsgKG9wdGlvbnMucGFzc3dvcmQgfHwgXCJcIikpIDpcbiAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICB0aGlzLmJlYXJlclByb3ZpZGVyID0gb3B0aW9ucy5iZWFyZXJQcm92aWRlciB8fCBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdENsaWVudC5wcm90b3R5cGUsIFwic3RhdHVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBSZXN0Q2xpZW50LnByb3RvdHlwZS5zdXNwZW5zZUZldGNoID0gZnVuY3Rpb24gKHBhdGgsIG1ldGhvZCwgaGVhZGVycywgcXVlcnksIGZldGNoT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIga2V5ID0gbWV0aG9kICsgXCIgXCIgKyBwYXRoICsgXCIgXCIgKyBKU09OLnN0cmluZ2lmeShoZWFkZXJzKSArIFwiIFwiICsgSlNPTi5zdHJpbmdpZnkocXVlcnkpICsgXCIgXCIgKyBKU09OLnN0cmluZ2lmeShmZXRjaE9wdGlvbnMpO1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLmNhY2hlW2tleV07XG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgLy8gRW50cnkgZm91bmQuIElzIGl0IHN0aWxsIGJlaW5nIGZldGNoZWQ/XG4gICAgICAgICAgICBpZiAoJ3Byb21pc2UnIGluIGVudHJ5KVxuICAgICAgICAgICAgICAgIHRocm93IGVudHJ5LnByb21pc2U7IC8vIFN0aWxsIGJlaW5nIGZldGNoZWQuIE11bHRpcGxlIHBhcmFsbGVsbCBmZXRjaGVzIHNob3VsZCB3b3JrIG9uIHNhbWUgcHJvbWlzZSFcbiAgICAgICAgICAgIC8vIFByb21pc2UgaGFzIHJlc29sdmVkLiBSZXR1cm4gcmVzdWx0LlxuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSB0aGUgZmlyc3QgdG8gZG8gdGhpcyByZXF1ZXN0LiBTdGFydCBkb2luZyBpdDpcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5mZXRjaChwYXRoLCBtZXRob2QsIGhlYWRlcnMsIHF1ZXJ5LCBmZXRjaE9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1cywgdGV4dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IHJlcy5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLnRleHQoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0ZXh0OyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pOyB9KTtcbiAgICAgICAgICAgIC8vIEltbWVkaWF0ZWx5IHB1dCB0aGUgcHJvbWlzZSBpbiB0aGUgY2FjaGUuIE11bHRpcGxlIHBhcmFsbGVsbCBmZXRjaGVzIHNob3VsZCB3b3JrIG9uIHRoZSBzYW1lIHByb21pc2UhXG4gICAgICAgICAgICB0aGlzLmNhY2hlW2tleV0gPSB7IHByb21pc2U6IHByb21pc2UgfTtcbiAgICAgICAgICAgIC8vIFN1c3BlbmQgdW50aWwgcHJvbWlzZSBpcyByZXNvbHZlZC4gQXQgdGhhdCB0aW1lLCB0aGUgY2FjaGUgd2lsbCBjb250YWluIGFuIGFuc3dlciFcbiAgICAgICAgICAgIHRocm93IHByb21pc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlc3RDbGllbnQucHJvdG90eXBlLmZldGNoID0gZnVuY3Rpb24gKHBhdGgsIG1ldGhvZCwgaGVhZGVycywgcXVlcnksIGZldGNoT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICArK3RoaXMubnVtT3V0c3RhbmRpbmdPcGVyYXRpb25zO1xuICAgICAgICB0aGlzLl9zdGF0dXMuZGlzcGF0Y2godGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9mZXRjaChwYXRoLCBtZXRob2QsIGhlYWRlcnMsIHF1ZXJ5LCBmZXRjaE9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAtLV90aGlzLm51bU91dHN0YW5kaW5nT3BlcmF0aW9ucztcbiAgICAgICAgICAgIF90aGlzLl9zdGF0dXMuZGlzcGF0Y2goX3RoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgLS1fdGhpcy5udW1PdXRzdGFuZGluZ09wZXJhdGlvbnM7XG4gICAgICAgICAgICBfdGhpcy5fc3RhdHVzLmRpc3BhdGNoKF90aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlc3RDbGllbnQucHJvdG90eXBlLl9mZXRjaCA9IGZ1bmN0aW9uIChwYXRoLCBtZXRob2QsIGhlYWRlcnMsIHF1ZXJ5LCBmZXRjaE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcXVlcnlTdHIsIF9hLCBhdXRoSGVhZGVyLCB0b2tlbkluZm8sIGJlYXJlclByb3ZpZGVyLCBfYiwgX2MsIHVybCwgcmVzLCB3d3dhdXRoLCBfZDtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2UubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZldGNoT3B0aW9ucyAmJiBmZXRjaE9wdGlvbnMuY2FjaGUgPT09ICduby1jYWNoZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBiYWNrLWJ1dHRvbiBub3QgcmVzcGVjdGluZyBjYWNoZSBjb250cm9sIGluIENocm9tZS9PcGVyYS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgYSBxdWVyeSBwYXJhbWV0ZXIgdG8gZm9yY2UgYSBjYWNoZSBlbnRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0gdHNsaWJfMS5fX2Fzc2lnbih7fSwgcXVlcnksIHsgbm9jYWNoZTogY3JlYXRlVVVJRCgpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlTdHIgPSBxdWVyeSAmJiBPYmplY3Qua2V5cyhxdWVyeSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHF1ZXJ5W2tleV0gIT09IHVuZGVmaW5lZDsgfSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIj1cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcywgYXV0aEhlYWRlciA9IF9hLmF1dGhIZWFkZXIsIHRva2VuSW5mbyA9IF9hLnRva2VuSW5mbywgYmVhcmVyUHJvdmlkZXIgPSBfYS5iZWFyZXJQcm92aWRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCFhdXRoSGVhZGVyICYmICF0b2tlbkluZm8gJiYgYmVhcmVyUHJvdmlkZXIpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGJlYXJlclByb3ZpZGVyLmdldEJlYXJlcigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudG9rZW5JbmZvID0gdG9rZW5JbmZvID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2UubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRva2VuSW5mbykgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0b2tlbkluZm8uZXhwaXJlcyA8IERhdGUubm93KCkpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVG9rZW4gZXhwaXJlZC4gUmVmcmVzaCBpdDpcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBiZWFyZXJQcm92aWRlci5yZWZyZXNoQmVhcmVyKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy50b2tlbkluZm8gPSB0b2tlbkluZm8gPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhIZWFkZXIgPSBcIkJlYXJlciBcIiArIHRva2VuSW5mby50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLmxhYmVsID0gNTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW4gb25lIHdheSBvciBhbm90aGVyLCB3ZSd2ZSBjb25jbHVkZWQgYW4gQXV0aG9yaXphdGlvbiBoZWFkZXIgdG8gdXNlOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBhdXRoSGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gdGhpcy5iYXNlVXJsICsgcGF0aCArIChxdWVyeVN0ciA/IFwiP1wiICsgcXVlcnlTdHIgOiBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaXNvbW9ycGhpYy5mZXRjaCh1cmwsIHRzbGliXzEuX19hc3NpZ24oe30sIHRoaXMuZmV0Y2hPcHRpb25zLCB7IGhlYWRlcnM6IGhlYWRlcnMsIG1ldGhvZDogbWV0aG9kIH0sIGZldGNoT3B0aW9ucykpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyA9PSA0MDEgJiYgdGhpcy5iZWFyZXJQcm92aWRlcikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3d3YXV0aCA9IHJlcy5oZWFkZXJzLmdldChcInd3dy1hdXRoZW50aWNhdGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdvdCBcIiArIHJlcy5zdGF0dXMgKyBcIiBmcm9tIFwiICsgKHRoaXMuYmFzZVVybCArIHBhdGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHd3d2F1dGggJiYgL0JlYXJlci9pLnRlc3Qod3d3YXV0aCkpKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYmVhcmVyUHJvdmlkZXIucmVmcmVzaEJlYXJlcigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2QudG9rZW5JbmZvID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5BdXRob3JpemF0aW9uID0gXCJCZWFyZXIgXCIgKyB0aGlzLnRva2VuSW5mby50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaXNvbW9ycGhpYy5mZXRjaCh1cmwsIHRzbGliXzEuX19hc3NpZ24oe30sIHRoaXMuZmV0Y2hPcHRpb25zLCB7IGhlYWRlcnM6IGhlYWRlcnMsIG1ldGhvZDogbWV0aG9kIH0sIGZldGNoT3B0aW9ucykpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2UubGFiZWwgPSA5O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHJldHVybiBbMiAvKnJldHVybiovLCByZXNdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlc3RDbGllbnQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwYXRoLCBxdWVyeSwgZmV0Y2hPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoKHBhdGgsIFwiR0VUXCIsIHsgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb247IHRleHQvcGxhaW5cIiB9LCBxdWVyeSwgZmV0Y2hPcHRpb25zKTtcbiAgICB9O1xuICAgIFJlc3RDbGllbnQucHJvdG90eXBlLnN1c3BlbnNlR2V0ID0gZnVuY3Rpb24gKHBhdGgsIHF1ZXJ5LCBmZXRjaE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VzcGVuc2VGZXRjaChwYXRoLCBcIkdFVFwiLCB7IEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uOyB0ZXh0L3BsYWluXCIgfSwgcXVlcnksIGZldGNoT3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZXN0Q2xpZW50LnByb3RvdHlwZS5wb3N0ID0gZnVuY3Rpb24gKHBhdGgsIGRhdGEsIGZldGNoT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaChwYXRoLCBcIlBPU1RcIiwge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICBcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LCBudWxsLCB0c2xpYl8xLl9fYXNzaWduKHt9LCBmZXRjaE9wdGlvbnMsIHsgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSkgfSkpO1xuICAgIH07XG4gICAgUmVzdENsaWVudC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHBhdGgsIHF1ZXJ5LCBib2R5LCBmZXRjaE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2gocGF0aCwgXCJERUxFVEVcIiwgeyBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvbjsgdGV4dC9wbGFpblwiIH0sIHF1ZXJ5LCB0c2xpYl8xLl9fYXNzaWduKHt9LCBmZXRjaE9wdGlvbnMsIHsgYm9keTogYm9keSB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzdENsaWVudDtcbn0oKSk7XG5leHBvcnQgeyBSZXN0Q2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN0Y2xpZW50LmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBSZXN0Q2xpZW50IH0gZnJvbSAnLi9yZXN0Y2xpZW50JztcbmltcG9ydCB7IGF2b2lkU2ltdWx0YW5vdXNDYWxscyB9IGZyb20gJy4vdXRpbHMnO1xudmFyIEtlZEJlYXJlclByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEtlZEJlYXJlclByb3ZpZGVyKGlzb21vcnBoaWMsIHN0b3JhZ2UsIHRva2VuSWQsIGNsaWVudElkLCBjbGllbnRTZWNyZXQsIHRva2VuVXJsLCB0b2tlblF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuaXNvbW9ycGhpYyA9IGlzb21vcnBoaWM7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgICAgIHRoaXMudG9rZW5JZCA9IHRva2VuSWQ7XG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBjbGllbnRJZDtcbiAgICAgICAgdGhpcy5jbGllbnRTZWNyZXQgPSBjbGllbnRTZWNyZXQ7XG4gICAgICAgIHRoaXMudG9rZW5VcmwgPSB0b2tlblVybDtcbiAgICAgICAgdGhpcy50b2tlblF1ZXJ5ID0gdG9rZW5RdWVyeTtcbiAgICAgICAgdGhpcy50b2tlbkluZm8gPSB7IHRva2VuOiBudWxsLCBleHBpcmVzOiAwIH07XG4gICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IFJlc3RDbGllbnQoaXNvbW9ycGhpYywgXCJcIiwge1xuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICBwYXNzd29yZDogdGhpcy5jbGllbnRTZWNyZXRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0QmVhcmVyID0gYXZvaWRTaW11bHRhbm91c0NhbGxzKHRoaXMuZ2V0QmVhcmVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnJlZnJlc2hCZWFyZXIgPSBhdm9pZFNpbXVsdGFub3VzQ2FsbHModGhpcy5yZWZyZXNoQmVhcmVyLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBLZWRCZWFyZXJQcm92aWRlci5wcm90b3R5cGUuZ2V0QmVhcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgdG9rZW4sIGV4cGlyZXMsIF9iLCBlXzE7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcy50b2tlbkluZm8sIHRva2VuID0gX2EudG9rZW4sIGV4cGlyZXMgPSBfYS5leHBpcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuICYmIGV4cGlyZXMgPj0gRGF0ZS5ub3coKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy50b2tlbkluZm9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy50cnlzLnB1c2goWzEsIDQsICwgNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zdG9yYWdlLmxvYWQodGhpcy5jbGllbnRJZCArIFwiL1wiICsgdGhpcy50b2tlbklkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRva2VuSW5mbyA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRva2VuSW5mby50b2tlbiAmJiB0aGlzLnRva2VuSW5mby5leHBpcmVzID49IERhdGUubm93KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMudG9rZW5JbmZvXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVmcmVzaEJlYXJlcigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMudG9rZW5JbmZvXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZWZyZXNoQmVhcmVyKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy50b2tlbkluZm9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBLZWRCZWFyZXJQcm92aWRlci5wcm90b3R5cGUucmVmcmVzaEJlYXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzLCByZXRyaWVzLCBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJpZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXRyaWVzIDwgNikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZXRyaWV2aW5nIHRva2VuIGZvciBcIiArIHRoaXMudG9rZW5JZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNsaWVudC5nZXQodGhpcy50b2tlblVybCwgdGhpcy50b2tlblF1ZXJ5LCB7IGNhY2hlOiAncmVsb2FkJyB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJHb3QgXCIgKyByZXMuc3RhdHVzICsgXCIgXCIgKyByZXMuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLnRleHQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRva2VuSW5mbyA9IChfYi50b2tlbiA9IF9jLnNlbnQoKSwgX2IuZXhwaXJlcyA9IERhdGUubm93KCkgKyA1OSAqIDYwICogMTAwMCwgX2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJHb3QgdG9rZW4gZm9yIFwiICsgdGhpcy50b2tlbklkICsgXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkodGhpcy50b2tlbkluZm8pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zYXZlKHRoaXMuY2xpZW50SWQgKyBcIi9cIiArIHRoaXMudG9rZW5JZCwgdGhpcy50b2tlbkluZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMudG9rZW5JbmZvXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgKytyZXRyaWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHJldHJpZXZlIHRva2VuIGZvciBcIiArIEpTT04uc3RyaW5naWZ5KHRoaXMudG9rZW5JZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBLZWRCZWFyZXJQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgeyBLZWRCZWFyZXJQcm92aWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VkLWJlYXJlci1wcm92aWRlci5qcy5tYXAiLCJ2YXIgRG9jdW1lbnRBY2Nlc3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRG9jdW1lbnRBY2Nlc3MoYWNjZXNzQ2xhaW1UeXBlLCBhY2Nlc3NDbGFpbVZhbHVlLCByaWdodCkge1xuICAgICAgICB0aGlzLmFjY2Vzc0NsYWltVHlwZSA9IGFjY2Vzc0NsYWltVHlwZTtcbiAgICAgICAgdGhpcy5hY2Nlc3NDbGFpbVZhbHVlID0gYWNjZXNzQ2xhaW1WYWx1ZTtcbiAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgIH1cbiAgICBEb2N1bWVudEFjY2Vzcy5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKGFjKSB7XG4gICAgICAgIGlmICghYWMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIHNwbGl0ID0gYWMuc3BsaXQoJzonKTtcbiAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA8IDMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFjY2VzcyBzdHJpbmc6IFwiICsgYWMpO1xuICAgICAgICB2YXIgY2xhaW1UeXBlID0gRG9jdW1lbnRBY2Nlc3MudW5lc2NhcGUoc3BsaXRbMF0pO1xuICAgICAgICB2YXIgY2xhaW1WYWx1ZSA9IERvY3VtZW50QWNjZXNzLnVuZXNjYXBlKHNwbGl0WzFdKTtcbiAgICAgICAgdmFyIHJpZ2h0ID0gc3BsaXRbMl07XG4gICAgICAgIGlmIChyaWdodCAhPT0gJ1InICYmIHJpZ2h0ICE9PSAnVycgJiYgcmlnaHQgIT09ICdTJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYWNjZXNzIHN0cmluZzogXCIgKyBhYyk7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRBY2Nlc3MoY2xhaW1UeXBlLCBjbGFpbVZhbHVlLCByaWdodCk7XG4gICAgfTtcbiAgICBEb2N1bWVudEFjY2Vzcy5lc2NhcGUgPSBmdW5jdGlvbiAoYWNjZXNzQ29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiBhY2Nlc3NDb21wb25lbnQucmVwbGFjZSgvXFwlL2csIFwiJTI1XCIpLnJlcGxhY2UoL1xcOi9nLCBcIiUzQVwiKTtcbiAgICB9O1xuICAgIERvY3VtZW50QWNjZXNzLnVuZXNjYXBlID0gZnVuY3Rpb24gKGFjY2Vzc0NvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gYWNjZXNzQ29tcG9uZW50LnJlcGxhY2UoL1xcJTNBL2csIFwiOlwiKS5yZXBsYWNlKC9cXCUyNS9nLCBcIiVcIik7XG4gICAgfTtcbiAgICBEb2N1bWVudEFjY2Vzcy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEb2N1bWVudEFjY2Vzcy5lc2NhcGUodGhpcy5hY2Nlc3NDbGFpbVR5cGUpICsgXCI6XCIgK1xuICAgICAgICAgICAgRG9jdW1lbnRBY2Nlc3MuZXNjYXBlKHRoaXMuYWNjZXNzQ2xhaW1WYWx1ZSkgKyBcIjpcIiArXG4gICAgICAgICAgICB0aGlzLnJpZ2h0O1xuICAgIH07XG4gICAgRG9jdW1lbnRBY2Nlc3MuZnJvbVN0cmluZ0FycmF5ID0gZnVuY3Rpb24gKGFjbCkge1xuICAgICAgICByZXR1cm4gYWNsXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChhYykgeyByZXR1cm4gRG9jdW1lbnRBY2Nlc3MuZnJvbVN0cmluZyhhYyk7IH0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhYykgeyByZXR1cm4gYWM7IH0pO1xuICAgIH07XG4gICAgRG9jdW1lbnRBY2Nlc3MudG9TdHJpbmdBcnJheSA9IGZ1bmN0aW9uIChhY2wpIHtcbiAgICAgICAgcmV0dXJuIGFjbC5tYXAoZnVuY3Rpb24gKGFjKSB7IHJldHVybiBhYy50b1N0cmluZygpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBEb2N1bWVudEFjY2Vzcztcbn0oKSk7XG5leHBvcnQgeyBEb2N1bWVudEFjY2VzcyB9O1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0FjY2VzcyhhY2wsIHVzZXJDbGFpbXMsIHJlcXVlc3RlZFJpZ2h0KSB7XG4gICAgaWYgKHVzZXJDbGFpbXMuc29tZShmdW5jdGlvbiAoY2xhaW0pIHsgcmV0dXJuIGNsYWltLnR5cGUgPT09ICdyb2xlJyAmJiBjbGFpbS52YWx1ZSA9PT0gXCJBRE1JTlwiOyB9KSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGFjbC5zb21lKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiB1c2VyQ2xhaW1zLnNvbWUoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHJldHVybiBhLmFjY2Vzc0NsYWltVHlwZSA9PT0gYy50eXBlICYmXG4gICAgICAgICAgICAgICAgYS5hY2Nlc3NDbGFpbVZhbHVlID09PSBjLnZhbHVlICYmICgoYS5yaWdodCA9PT0gJ1InICYmIHJlcXVlc3RlZFJpZ2h0ID09PSAnUicpIHx8XG4gICAgICAgICAgICAgICAgKGEucmlnaHQgPT09ICdXJyAmJiBbJ1InLCAnVyddLmluZGV4T2YocmVxdWVzdGVkUmlnaHQpID49IDApIHx8XG4gICAgICAgICAgICAgICAgKGEucmlnaHQgPT09ICdTJykpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFjY2Vzcy1jb250cm9sLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG52YXIgSHR0cEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEh0dHBFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBIdHRwRXJyb3IoY29kZSwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBcIkhUVFBcIiArIGNvZGUgKyBcIiBcIiArIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiaHR0cFwiICsgY29kZTtcbiAgICAgICAgX3RoaXMubWVzc2FnZSA9IFwiSFRUUFwiICsgY29kZSArIFwiIFwiICsgbWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gSHR0cEVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0IHsgSHR0cEVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwLWVycm9yLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBSZXN0Q2xpZW50IH0gZnJvbSAnLi9yZXN0Y2xpZW50JztcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMnO1xuZXhwb3J0IHsgS2VkQmVhcmVyUHJvdmlkZXIgfSBmcm9tICcuL2tlZC1iZWFyZXItcHJvdmlkZXInO1xuZXhwb3J0ICogZnJvbSAnLi9hY2Nlc3MtY29udHJvbCc7XG5leHBvcnQgeyBSZXN0Q2xpZW50IH07XG5pbXBvcnQgeyBIdHRwRXJyb3IgfSBmcm9tICcuL2h0dHAtZXJyb3InO1xuZXhwb3J0IHsgSHR0cEVycm9yIH07XG5leHBvcnQgKiBmcm9tICcuL3Jlc3RjbGllbnQnO1xuO1xuLy8gfCAnb3RoZXJGbGFnJyB8ICd0aGlyZEZsYWcnOy4uLlxudmFyIEtlZEJhY2tlbmRDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gS2VkQmFja2VuZENsaWVudChpc29tb3JwaGljLCBiZWFyZXJQcm92aWRlciwgYmFzZVVybCkge1xuICAgICAgICB0aGlzLmh0dHAgPSBuZXcgUmVzdENsaWVudChpc29tb3JwaGljLCBiYXNlVXJsLCB7IGJlYXJlclByb3ZpZGVyOiBiZWFyZXJQcm92aWRlciB9KTtcbiAgICB9XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUuZ2V0TXlDbGFpbXMgPSBmdW5jdGlvbiAodGFibGUsIGZldGNoT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXMsIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmh0dHAuZ2V0KFwibWUvY2xhaW1zL1wiICsgKHRhYmxlIHx8IFwiXCIpLCBudWxsLCBmZXRjaE9wdGlvbnMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyAhPSAyMDApKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gSHR0cEVycm9yLmJpbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IFt2b2lkIDAsIHJlcy5zdGF0dXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLnRleHQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogdGhyb3cgbmV3IChfYS5hcHBseShIdHRwRXJyb3IsIF9iLmNvbmNhdChbX2Muc2VudCgpXSkpKSgpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcy5qc29uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCBfYy5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0YWJsZSwgaWQsIG9wdGlvbnMsIGZldGNoT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXMsIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmh0dHAuZ2V0KHRhYmxlICsgXCIvXCIgKyBpZCwgb3B0aW9ucywgZmV0Y2hPcHRpb25zKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlcy5zdGF0dXMgIT0gMjAwKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IEh0dHBFcnJvci5iaW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSBbdm9pZCAwLCByZXMuc3RhdHVzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcy50ZXh0KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHRocm93IG5ldyAoX2EuYXBwbHkoSHR0cEVycm9yLCBfYi5jb25jYXQoW19jLnNlbnQoKV0pKSkoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzQgLyp5aWVsZCovLCByZXMuanNvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Muc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ2xpZW50LnByb3RvdHlwZS5saXN0ID0gZnVuY3Rpb24gKHRhYmxlLCBvcHRpb25zLCBmZXRjaE9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcXVlcnksIHJlcywgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IHRzbGliXzEuX19hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKCd1c2VTUCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkuZmxhZ3MgPSAocXVlcnkuZmxhZ3MgfHwgW10pLmNvbmNhdChbJ3VzZVNQJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5tdXRhdGlvbnNPbkVtcHR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Lm11dGF0aW9uc09uRW1wdHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLm11dGF0aW9uc09uRW1wdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5odHRwLmdldChcIlwiICsgdGFibGUsIHF1ZXJ5LCBmZXRjaE9wdGlvbnMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyAhPSAyMDApKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gSHR0cEVycm9yLmJpbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IFt2b2lkIDAsIHJlcy5zdGF0dXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLnRleHQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogdGhyb3cgbmV3IChfYS5hcHBseShIdHRwRXJyb3IsIF9iLmNvbmNhdChbX2Muc2VudCgpXSkpKSgpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcy5qc29uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCBfYy5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlLmJhdGNoID0gZnVuY3Rpb24gKHJlcXMsIGZldGNoT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXMsIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVvcmRlciBvcGVyYXRpb25zIHNvIHRoYXQgJ2FkZCdzIGNvbWUgZmlyc3QgYW5kICdkZWxldGUncyBjb21lIGxhc3Q6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXFzID0gcmVxcy5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKHJlcTEsIHJlcTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxMS5vcCA9PT0gJ2FkZCcgPyAtMSA6IHJlcTIub3AgPT09ICdhZGQnID8gMSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcTEub3AgPT09ICdkZWxldGUnID8gMSA6IHJlcTIub3AgPT09ICdkZWxldGUnID8gLTEgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmh0dHAucG9zdChcImJhdGNoXCIsIHJlcXMsIGZldGNoT3B0aW9ucyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzICE9IDIwMCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBIdHRwRXJyb3IuYmluZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gW3ZvaWQgMCwgcmVzLnN0YXR1c107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXMudGV4dCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiB0aHJvdyBuZXcgKF9hLmFwcGx5KEh0dHBFcnJvciwgX2IuY29uY2F0KFtfYy5zZW50KCldKSkpKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLmpzb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9jLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUuZG8gPSBmdW5jdGlvbiAoc2NvcGVGbikge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBydW5uZXI7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5lciA9IG5ldyBCYXRjaFJ1bm5lcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVGbihydW5uZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5iYXRjaChydW5uZXIubXV0YXRpb25SZXF1ZXN0cyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlLmRlbGV0ZVJlYWxtID0gZnVuY3Rpb24gKHJlYWxtKSB7XG4gICAgICAgIHJldHVybiB0c2xpYl8xLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcywgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaHR0cC5kZWxldGUoXCJyZWFsbXMvXCIgKyByZWFsbSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzICE9IDIwMCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBIdHRwRXJyb3IuYmluZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gW3ZvaWQgMCwgcmVzLnN0YXR1c107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXMudGV4dCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiB0aHJvdyBuZXcgKF9hLmFwcGx5KEh0dHBFcnJvciwgX2IuY29uY2F0KFtfYy5zZW50KCldKSkpKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLmpzb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9jLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRhYmxlLCBkb2MsIGJyYW5jaElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmFkZCh0YWJsZSwgZG9jKTsgfSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ2xpZW50LnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiAodGFibGUsIGRvYykge1xuICAgICAgICByZXR1cm4gdGhpcy5kbyhmdW5jdGlvbiAocikgeyByZXR1cm4gci5wdXQodGFibGUsIGRvYyk7IH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHRhYmxlLCBpZCwgZGVsdGFEb2MsIGJyYW5jaElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnVwZGF0ZSh0YWJsZSwgaWQsIGRlbHRhRG9jLCBicmFuY2hJZCk7IH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiAoYnJhbmNoSWQsIHRhcmdldEJyYW5jaElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLm1lcmdlKGJyYW5jaElkLCB0YXJnZXRCcmFuY2hJZCk7IH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUuY2xlYXJCcmFuY2ggPSBmdW5jdGlvbiAoYnJhbmNoSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG8oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuY2xlYXJCcmFuY2goYnJhbmNoSWQpOyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG8oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZGVsZXRlKHRhYmxlLCBpZCk7IH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUuc2hhcmUgPSBmdW5jdGlvbiAodGFibGUsIGlkLCBhY2wpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG8oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuc2hhcmUodGFibGUsIGlkLCBhY2wpOyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlLnVuc2hhcmUgPSBmdW5jdGlvbiAodGFibGUsIGlkLCBhY2wpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG8oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIudW5zaGFyZSh0YWJsZSwgaWQsIGFjbCk7IH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uIChzb3VyY2VUYWJsZSwgc291cmNlSWQsIHRhcmdldFRhYmxlLCB0YXJnZXRJZCwgbGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG8oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIubGluayhzb3VyY2VUYWJsZSwgc291cmNlSWQsIHRhcmdldFRhYmxlLCB0YXJnZXRJZCwgbGFiZWwpOyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlLmxpbmsyID0gZnVuY3Rpb24gKHNvdXJjZVRhYmxlLCBzb3VyY2VJZCwgdGFyZ2V0SWQsIGxhYmVsLCBicmFuY2hJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kbyhmdW5jdGlvbiAocikgeyByZXR1cm4gci5saW5rMihzb3VyY2VUYWJsZSwgc291cmNlSWQsIGxhYmVsLCB0YXJnZXRJZCwgYnJhbmNoSWQpOyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlLnVubGluayA9IGZ1bmN0aW9uIChzb3VyY2VUYWJsZSwgc291cmNlSWQsIHRhcmdldFRhYmxlLCB0YXJnZXRJZCwgbGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG8oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIudW5saW5rKHNvdXJjZVRhYmxlLCBzb3VyY2VJZCwgdGFyZ2V0VGFibGUsIHRhcmdldElkLCBsYWJlbCk7IH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENsaWVudC5wcm90b3R5cGUudW5saW5rMiA9IGZ1bmN0aW9uIChzb3VyY2VUYWJsZSwgc291cmNlSWQsIHRhcmdldElkLCBsYWJlbCwgYnJhbmNoSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG8oZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIudW5saW5rMihzb3VyY2VUYWJsZSwgc291cmNlSWQsIGxhYmVsLCB0YXJnZXRJZCwgYnJhbmNoSWQpOyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlLnVuZG9MaW5rID0gZnVuY3Rpb24gKHNvdXJjZVRhYmxlLCBzb3VyY2VJZCwgdGFyZ2V0SWQsIGxhYmVsLCBicmFuY2hJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kbyhmdW5jdGlvbiAocikgeyByZXR1cm4gci51bmRvTGluayhzb3VyY2VUYWJsZSwgc291cmNlSWQsIGxhYmVsLCB0YXJnZXRJZCwgYnJhbmNoSWQpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBLZWRCYWNrZW5kQ2xpZW50O1xufSgpKTtcbmV4cG9ydCB7IEtlZEJhY2tlbmRDbGllbnQgfTtcbnZhciBCYXRjaFJ1bm5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFJ1bm5lcigpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvblJlcXVlc3RzID0gW107XG4gICAgfVxuICAgIEJhdGNoUnVubmVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGFibGUsIGRvYywgYnJhbmNoSWQpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvblJlcXVlc3RzLnB1c2goeyBvcDogJ2FkZCcsIHRhYmxlOiB0YWJsZSwgZG9jOiBkb2MsIGJyYW5jaElkOiBicmFuY2hJZCB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBCYXRjaFJ1bm5lci5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gKHRhYmxlLCBkb2MpIHtcbiAgICAgICAgZG9jID0gdHNsaWJfMS5fX2Fzc2lnbih7fSwgZG9jKTtcbiAgICAgICAgZGVsZXRlIGRvYy5hY2w7IC8vIEZvcmJpZGRlbiB0byBzZW5kIGFjbCB3aXRoIHB1dCgpIGNhbGxzLlxuICAgICAgICB0aGlzLm11dGF0aW9uUmVxdWVzdHMucHVzaCh7IG9wOiAncHV0JywgdGFibGU6IHRhYmxlLCBkb2M6IGRvYyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBCYXRjaFJ1bm5lci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHRhYmxlLCBpZCwgZGVsdGFEb2MsIGJyYW5jaElkKSB7XG4gICAgICAgIGRlbHRhRG9jID0gdHNsaWJfMS5fX2Fzc2lnbih7fSwgZGVsdGFEb2MpO1xuICAgICAgICB0aGlzLm11dGF0aW9uUmVxdWVzdHMucHVzaCh7IG9wOiAndXBkYXRlJywgdGFibGU6IHRhYmxlLCBpZDogaWQsIGRlbHRhRG9jOiBkZWx0YURvYywgYnJhbmNoSWQ6IGJyYW5jaElkIH0pO1xuICAgIH07XG4gICAgQmF0Y2hSdW5uZXIucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKGJyYW5jaElkLCB0YXJnZXRCcmFuY2hJZCkge1xuICAgICAgICB0aGlzLm11dGF0aW9uUmVxdWVzdHMucHVzaCh7IG9wOiAnbWVyZ2UnLCBicmFuY2hJZDogYnJhbmNoSWQsIHRhcmdldEJyYW5jaElkOiB0YXJnZXRCcmFuY2hJZCB9KTtcbiAgICB9O1xuICAgIEJhdGNoUnVubmVyLnByb3RvdHlwZS5jbGVhckJyYW5jaCA9IGZ1bmN0aW9uIChicmFuY2hJZCkge1xuICAgICAgICB0aGlzLm11dGF0aW9uUmVxdWVzdHMucHVzaCh7IG9wOiAnY2xlYXItYnJhbmNoJywgYnJhbmNoSWQ6IGJyYW5jaElkIH0pO1xuICAgIH07XG4gICAgQmF0Y2hSdW5uZXIucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgaWQpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvblJlcXVlc3RzLnB1c2goeyBvcDogJ2RlbGV0ZScsIHRhYmxlOiB0YWJsZSwgaWQ6IGlkIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEJhdGNoUnVubmVyLnByb3RvdHlwZS5zaGFyZSA9IGZ1bmN0aW9uICh0YWJsZSwgaWQsIGFjbCkge1xuICAgICAgICB0aGlzLm11dGF0aW9uUmVxdWVzdHMucHVzaCh7IG9wOiAnc2hhcmUnLCB0YWJsZTogdGFibGUsIGlkOiBpZCwgYWNsOiBhY2wgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQmF0Y2hSdW5uZXIucHJvdG90eXBlLnVuc2hhcmUgPSBmdW5jdGlvbiAodGFibGUsIGlkLCBhY2wpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvblJlcXVlc3RzLnB1c2goeyBvcDogJ3Vuc2hhcmUnLCB0YWJsZTogdGFibGUsIGlkOiBpZCwgYWNsOiBhY2wgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQmF0Y2hSdW5uZXIucHJvdG90eXBlLmxpbmsgPSBmdW5jdGlvbiAoc291cmNlVGFibGUsIHNvdXJjZUlkLCB0YXJnZXRUYWJsZSwgdGFyZ2V0SWQsIGxhYmVsKSB7XG4gICAgICAgIHRoaXMubXV0YXRpb25SZXF1ZXN0cy5wdXNoKHsgb3A6ICdsaW5rJywgc291cmNlVGFibGU6IHNvdXJjZVRhYmxlLCBzb3VyY2VJZDogc291cmNlSWQsIHRhcmdldFRhYmxlOiB0YXJnZXRUYWJsZSwgdGFyZ2V0SWQ6IHRhcmdldElkLCBsYWJlbDogbGFiZWwgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQmF0Y2hSdW5uZXIucHJvdG90eXBlLmxpbmsyID0gZnVuY3Rpb24gKHNvdXJjZVRhYmxlLCBzb3VyY2VJZCwgbGFiZWwsIHRhcmdldElkLCBicmFuY2hJZCkge1xuICAgICAgICB0aGlzLm11dGF0aW9uUmVxdWVzdHMucHVzaCh7IG9wOiAnbGluaycsIHNvdXJjZVRhYmxlOiBzb3VyY2VUYWJsZSwgc291cmNlSWQ6IHNvdXJjZUlkLCB0YXJnZXRJZDogdGFyZ2V0SWQsIGxhYmVsOiBsYWJlbCwgYnJhbmNoSWQ6IGJyYW5jaElkIH0pO1xuICAgIH07XG4gICAgQmF0Y2hSdW5uZXIucHJvdG90eXBlLnVubGluayA9IGZ1bmN0aW9uIChzb3VyY2VUYWJsZSwgc291cmNlSWQsIHRhcmdldFRhYmxlLCB0YXJnZXRJZCwgbGFiZWwpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvblJlcXVlc3RzLnB1c2goeyBvcDogJ3VubGluaycsIHNvdXJjZVRhYmxlOiBzb3VyY2VUYWJsZSwgc291cmNlSWQ6IHNvdXJjZUlkLCB0YXJnZXRUYWJsZTogdGFyZ2V0VGFibGUsIHRhcmdldElkOiB0YXJnZXRJZCwgbGFiZWw6IGxhYmVsIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEJhdGNoUnVubmVyLnByb3RvdHlwZS51bmxpbmsyID0gZnVuY3Rpb24gKHNvdXJjZVRhYmxlLCBzb3VyY2VJZCwgbGFiZWwsIHRhcmdldElkLCBicmFuY2hJZCkge1xuICAgICAgICB0aGlzLm11dGF0aW9uUmVxdWVzdHMucHVzaCh7IG9wOiAndW5saW5rJywgc291cmNlVGFibGU6IHNvdXJjZVRhYmxlLCBzb3VyY2VJZDogc291cmNlSWQsIHRhcmdldElkOiB0YXJnZXRJZCwgbGFiZWw6IGxhYmVsLCBicmFuY2hJZDogYnJhbmNoSWQgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQmF0Y2hSdW5uZXIucHJvdG90eXBlLnVuZG9MaW5rID0gZnVuY3Rpb24gKHNvdXJjZVRhYmxlLCBzb3VyY2VJZCwgbGFiZWwsIHRhcmdldElkLCBicmFuY2hJZCkge1xuICAgICAgICB0aGlzLm11dGF0aW9uUmVxdWVzdHMucHVzaCh7IG9wOiAndW5kby1saW5rJywgc291cmNlVGFibGU6IHNvdXJjZVRhYmxlLCBzb3VyY2VJZDogc291cmNlSWQsIHRhcmdldElkOiB0YXJnZXRJZCwgbGFiZWw6IGxhYmVsLCBicmFuY2hJZDogYnJhbmNoSWQgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmF0Y2hSdW5uZXI7XG59KCkpO1xuZXhwb3J0IHsgQmF0Y2hSdW5uZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgICBudW1iZXJPZlRhc2tzOiBudW1iZXI7XG4gICAgY29tcGxldGVkTnVtYmVyT2ZUYXNrczogbnVtYmVyO1xuICAgIG1heGltdW1UYXNrc0Rpc3BsYXllZD86IG51bWJlcjtcbiAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XG4gICAgcHJvZ3Jlc3NDb2xvcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEdvYWxQcm9ncmVzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcz4ge1xuICAgIHB1YmxpYyBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBudW1iZXJvZlRhc2tzOiAwLFxuICAgICAgICBjb21wbGV0ZWROdW1iZXJPZlRhc2tzOiAwLFxuICAgICAgICBtYXhpbXVtVGFza3NEaXNwbGF5ZWQ6IDEwLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwibGlnaHRncmV5XCIsXG4gICAgICAgIHByb2dyZXNzQ29sb3I6IFwiIzNkYmNhMlwiLFxuICAgIH07XG5cbiAgICBjcmVhdGVQcm9ncmVzcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBudW1iZXJPZlRhc2tzLCBjb21wbGV0ZWROdW1iZXJPZlRhc2tzLCBtYXhpbXVtVGFza3NEaXNwbGF5ZWQsIGJhY2tncm91bmRDb2xvciwgcHJvZ3Jlc3NDb2xvciB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgbGV0IHByb2dyZXNzID0gW107XG4gICAgICAgIGlmKG51bWJlck9mVGFza3MgPiBtYXhpbXVtVGFza3NEaXNwbGF5ZWQpe1xuICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwcm9ncmVzcy1vdmVydmlld1wiPiB7Y29tcGxldGVkTnVtYmVyT2ZUYXNrc30gLyB7bnVtYmVyT2ZUYXNrc30gPC9kaXY+O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgdGFza05vID0gMTsgdGFza05vIDw9IG51bWJlck9mVGFza3M7IHRhc2tObysrKSB7XG4gICAgICAgICAgICBwcm9ncmVzcy5wdXNoKFxuICAgICAgICAgICAgPHN2ZyBrZXk9e3Rhc2tOb30+XG4gICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzc05hbWU9XCJjaXJjbGUtY2hhcnQtYmFja2dyb3VuZFwiIGZpbGw9e3Rhc2tObyA+IGNvbXBsZXRlZE51bWJlck9mVGFza3MgPyBiYWNrZ3JvdW5kQ29sb3IgOiBwcm9ncmVzc0NvbG9yfSBjeD1cIjhcIiBjeT1cIjhcIiByPVwiOFwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2dyZXNzO1xuICAgIH1cblxuICAgIHJlbmRlcigpeyAgXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImdvYWxzLXByb2dyZXNzXCI+e3RoaXMuY3JlYXRlUHJvZ3Jlc3MoKX08L2Rpdj5cbiAgICB9XG59IiwiLyogUkVGQUNUT1I6IE1vdmUgdGhpcyBjb21wb25lbnQgb3V0c2lkZSBjb3Vyc2VidWlsZGVyIVxuICAgVGhpcyBpcyBhIGdlbmVyYWwtcHVycG9zZSBjb21wb25lbnRcbiovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdvYWxQcm9ncmVzcyB9IGZyb20gJy4uL2NoYXJ0cy9nb2FsLXByb2dyZXNzJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdGl0bGU6IHN0cmluZyB8IEpTWC5FbGVtZW50O1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGhlYWRlckNsYXNzTmFtZT86IHN0cmluZztcbiAgY29udGVudENsYXNzTmFtZT86IHN0cmluZztcbiAgaGVhZGVyT3Blbj86IGJvb2xlYW47XG4gIGluYWN0aXZhdGVkPzogYm9vbGVhbjtcbiAgaW5hY3RpdmF0ZWRSZW5kZXI/OiAnY2hpbGRyZW4nIHwgJ3RpdGxlQW5kQ2hpbGRyZW4nO1xuICBvbk9wZW5DbG9zZT86IChiZWNhbWVPcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBkaXNwbGF5UHJvZ3Jlc3M/OiBib29sZWFuO1xuICBwcm9ncmVzc0RhdGE/OiB7Y29tcGxldGVkTnVtYmVyT2ZUYXNrczogbnVtYmVyLCBudW1iZXJPZlRhc2tzOiBudW1iZXJ9O1xuICBjaGlsZHJlbjtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgaGVhZGVyT3BlbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIE9wZW5DbG9zZUJveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcyxTdGF0ZT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhlYWRlck9wZW46IHByb3BzLmhlYWRlck9wZW4gfHwgZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAobmV4dFByb3BzOiBQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMuaGVhZGVyT3BlbiAhPT0gdGhpcy5wcm9wcy5oZWFkZXJPcGVuKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtoZWFkZXJPcGVuOiBuZXh0UHJvcHMuaGVhZGVyT3Blbn0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRpdGxlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCBoZWFkZXJDbGFzc05hbWUsIGNvbnRlbnRDbGFzc05hbWUsIGRpc3BsYXlQcm9ncmVzcywgcHJvZ3Jlc3NEYXRhLFxuICAgICAgaW5hY3RpdmF0ZWQsIGluYWN0aXZhdGVkUmVuZGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgaGVhZGVyT3BlbiB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGlmIChpbmFjdGl2YXRlZCkgcmV0dXJuIGluYWN0aXZhdGVkUmVuZGVyID09PSAndGl0bGVBbmRDaGlsZHJlbicgPyA8PlxuICAgICAgPD57dGl0bGV9PC8+XG4gICAgICA8PntjaGlsZHJlbn08Lz5cbiAgICA8Lz4gOiA8PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvPjtcblxuICAgIC8vdmFyIGN1cnJlbnRQcm9ncmVzc0RhdGEgPSAvL3Byb2dyZXNzRGF0YSgpO1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17KGNsYXNzTmFtZXx8JycpICsgXCIgb3BlbkNsb3NlXCIgKyAoaGVhZGVyT3BlbiA/IFwiIG9wZW5cIiA6IFwiXCIpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtcIm9wZW5IZWFkZXJcIiArIChoZWFkZXJDbGFzc05hbWUgPyBcIiBcIiArIGhlYWRlckNsYXNzTmFtZSA6IFwiXCIpfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMucHJvcHMub25PcGVuQ2xvc2UpIHRoaXMucHJvcHMub25PcGVuQ2xvc2UoIXRoaXMuc3RhdGUuaGVhZGVyT3Blbik7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhlYWRlck9wZW46ICF0aGlzLnN0YXRlLmhlYWRlck9wZW4gfSk7XG4gICAgICAgIH19ID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcGVuSGVhZGVyQ29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdj57dGl0bGV9PC9kaXY+XG4gICAgICAgICAge2Rpc3BsYXlQcm9ncmVzcyAmJiA8R29hbFByb2dyZXNzIHsuLi5wcm9ncmVzc0RhdGF9Lz59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17XCJvcGVuQ29udGVudFwiICsgKGNvbnRlbnRDbGFzc05hbWUgPyBcIiBcIiArIGNvbnRlbnRDbGFzc05hbWUgOiBcIlwiKX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgRHJpdmVGaWxlTGlzdGluZywgZG93bmxvYWRGaWxlLCBnZXRVcmt1bmRTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3Vyc2Utdmlld2VyL2NvdXJzZS1wYWdlL3Rhc2stYXNzaWdubWVudHMtdXRpbHMnO1xuaW1wb3J0IHsgQXNzaWdubWVudCB9IGZyb20gJ2tlZGJhY2tlbmQvbW9kZWxzJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uLy4uL2dsb2JhbHMvS0VELmVudic7XG5pbXBvcnQgeyBIdHRwRXJyb3IgfSBmcm9tICdrZWRiYWNrZW5kL2NsaWVudCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWF4TGVuZ3RoIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICAgIGFzc2lnbm1lbnQ6IEFzc2lnbm1lbnQ7XG4gICAgc2hvdWxkR2V0VXJrdW5kU3RhdHVzOiBib29sZWFuO1xufVxuXG5cbmV4cG9ydCBjb25zdCBUYXNrQXNzaWdubWVudCA9ICgoeyBhc3NpZ25tZW50LCBzaG91bGRHZXRVcmt1bmRTdGF0dXMgfTogUHJvcHMpID0+IHtcbiAgICBjb25zdCBbYXNzaWdubWVudHNXaXRoU3RhdHVzLCBzZXRBc3NpZ25tZW50U3RhdHVzXSA9IHVzZVN0YXRlKGFzc2lnbm1lbnQpO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVmcmVzaEFzc2lnbm1lbnQoYXNzaWdubWVudDogQXNzaWdubWVudCkge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBlbnYua2VkQmFja2VuZENsaWVudC5odHRwO1xuICAgICAgICBjb25zdCB7IGNvdXJzZUlkLCB0YXNrSWQsIHNjaG9vbCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyB1c2VyLCBmaWxlbmFtZSB9ID0gYXNzaWdubWVudDtcbiAgICAgICAgYXdhaXQgc2V0QXNzaWdubWVudFN0YXR1cyh7IC4uLmFzc2lnbm1lbnQsIGlzUmVmcmVzaGluZzogdHJ1ZSB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcSA9IGF3YWl0IGNsaWVudC5nZXQoYGFzc2lnbm1lbnRzL3Vya3VuZC8ke3NjaG9vbH0vJHtjb3Vyc2VJZH0vJHt0YXNrSWR9LyR7dXNlcn0vJHtmaWxlbmFtZX1gKTtcbiAgICAgICAgICAgIGlmIChyZXEuc3RhdHVzID49IDQwMCkgdGhyb3cgbmV3IEh0dHBFcnJvcihyZXEuc3RhdHVzLCBhd2FpdCByZXEudGV4dCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc0pzb24gPSBhd2FpdCByZXEudGV4dCgpO1xuICAgICAgICAgICAgYXdhaXQgc2V0QXNzaWdubWVudFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgLi4uYXNzaWdubWVudCwgaXNSZWZyZXNoaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAuLi5hc3NpZ25tZW50Lm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICB1cmt1bmRSZXNwb25zZTogcmVzSnNvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBhd2FpdCBzZXRBc3NpZ25tZW50U3RhdHVzKHsgLi4uYXNzaWdubWVudCwgaXNSZWZyZXNoaW5nOiBmYWxzZSwgcmVmcmVzaEVycm9yOiBlIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHNob3VsZEdldFVya3VuZFN0YXR1cykge1xuICAgICAgICAgICAgc2V0QXNzaWdubWVudFN0YXR1cyh7IC4uLmFzc2lnbm1lbnQsIGlzUmVmcmVzaGluZzogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtzaG91bGRHZXRVcmt1bmRTdGF0dXMsIGFzc2lnbm1lbnRdKVxuXG4gICAgcmV0dXJuIDx0ciBrZXk9e2Fzc2lnbm1lbnRzV2l0aFN0YXR1cy5tZWRpYUxpbmt9IHN0eWxlPXthc3NpZ25tZW50c1dpdGhTdGF0dXMubWV0YWRhdGEuJG1ldGEgPyB7IG9wYWNpdHk6IDAuNSB9IDoge319PlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8YSBocmVmPXtgbWFpbHRvOiR7YXNzaWdubWVudHNXaXRoU3RhdHVzLnVzZXJ9YH0+XG4gICAgICAgICAgICAgICAge2Fzc2lnbm1lbnRzV2l0aFN0YXR1cy5tZXRhZGF0YS51c2VyRGlzcGxheU5hbWUgfHwgYXNzaWdubWVudHNXaXRoU3RhdHVzLnVzZXJ9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZD5cbiAgICAgICAgICAgIHthc3NpZ25tZW50c1dpdGhTdGF0dXMubWV0YWRhdGEuZHJpdmVGaWxlSWQgP1xuICAgICAgICAgICAgICAgIC8vIFRoZSBmaWxlIGNhbiBiZSBlZGl0ZWQgb24gZHJpdmUuIExpbmsgdG8gZWRpdGluZyBpdC5cbiAgICAgICAgICAgICAgICA8RHJpdmVGaWxlTGlzdGluZyBmaWxlPXthc3NpZ25tZW50c1dpdGhTdGF0dXN9IC8+IDpcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2V2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkRmlsZShhc3NpZ25tZW50c1dpdGhTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB9fT57bWF4TGVuZ3RoKGFzc2lnbm1lbnRzV2l0aFN0YXR1cy5maWxlbmFtZSwgMzIpfTwvYT5cbiAgICAgICAgICAgIH1cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkIGNsYXNzTmFtZT1cImFzc2lnbm1lbnQtZGF0ZS1jb2xcIj57bW9tZW50KGFzc2lnbm1lbnRzV2l0aFN0YXR1cy51cGxvYWREYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKX08L3RkPlxuICAgICAgICB7Z2V0VXJrdW5kU3RhdHVzKGFzc2lnbm1lbnRzV2l0aFN0YXR1cywgcmVmcmVzaEFzc2lnbm1lbnQsIHNob3VsZEdldFVya3VuZFN0YXR1cyl9XG4gICAgPC90cj5cbn0pIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQXNzaWdubWVudCwgVXJrdW5kUmVzcG9uc2UgfSBmcm9tIFwia2VkYmFja2VuZC9tb2RlbHNcIjtcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IFRhc2tBc3NpZ25tZW50IH0gZnJvbSAnLi90YXNrLWFzc2lnbm1lbnQnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vdXRpbGl0eS1jb21wb25lbnRzL0xhbmd1YWdlQ29udGV4dCc7XG5pbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQXNzaWdubWVudHNDb250ZXh0IH0gZnJvbSAnLic7XG5pbXBvcnQgeyBtb2NrVHVpdGlvblN0dWRlbnRzIH0gZnJvbSAnLi4vLi4vLi4vYXBpcy9tb2NrL21vY2stY2xhc3Nyb29tLWRhdGEnO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJztcblxuaW50ZXJmYWNlIFByb3Bze1xuICAgIGFzc2lnbm1lbnRzOiBBc3NpZ25tZW50W107XG4gICAgY2hlY2tXaXRoVXJrdW5kOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgQ291cnNlVGFza0Fzc2lnbm1lbnRzID0gKCh7IGFzc2lnbm1lbnRzLCBjaGVja1dpdGhVcmt1bmQgfTogUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGludGwgfSA9IHVzZUNvbnRleHQoTGFuZ3VhZ2VDb250ZXh0KTtcbiAgICBjb25zdCB7IGZpbHRlclN0dWR5R3JvdXBzIH0gPSBSZWFjdC51c2VDb250ZXh0KEFzc2lnbm1lbnRzQ29udGV4dCk7XG5cbiAgICBjb25zdCByZWZyZXNoYWJsZUFzc2lnbWVudHMgPSBPYmplY3QuYXNzaWduKFtdLCBhc3NpZ25tZW50cykgYXMgYW55O1xuICAgIGxldCBzdHVkeUdyb3VwcyA9IGZpbHRlclN0dWR5R3JvdXBzLmxlbmd0aCA+IDAgJiYgT2JqZWN0LmtleXMobW9ja1R1aXRpb25TdHVkZW50cykuZmlsdGVyKGdyID0+IGZpbHRlclN0dWR5R3JvdXBzLmluY2x1ZGVzKGdyKSkubWFwKHN0ID0+IG1vY2tUdWl0aW9uU3R1ZGVudHNbc3RdKTtcbiAgICBsZXQgZmlsdGVyZWRBc3NpZ25tZW50cyA9IGZpbHRlclN0dWR5R3JvdXBzLmxlbmd0aCA+IDAgPyByZWZyZXNoYWJsZUFzc2lnbWVudHMuZmlsdGVyKHIgPT4gZmxhdHRlbihzdHVkeUdyb3VwcykuZmluZChzZz0+IHNnLnN0dWRlbnRFbWFpbEFkZHJlc3MgPT09IHIudXNlcikpIDogcmVmcmVzaGFibGVBc3NpZ21lbnRzO1xuICAgIC8vZGV0ZXJtaW5lIHdoaWNoIGFzc2lnbm1lbnRzIHNob3VsZCBnZXQgZGF0YSBmcm9tIHVya3VuZFxuICAgIGNoZWNrV2l0aFVya3VuZCAmJiBmaWx0ZXJlZEFzc2lnbm1lbnRzLmxlbmd0aCA+IDAgJiYgZmlsdGVyZWRBc3NpZ25tZW50cy5mb3JFYWNoKGEgPT4ge1xuICAgICAgICBhLnNob3VsZFJlZnJlc2ggPSBmYWxzZTtcbiAgICAgICAgaWYgKGEubWV0YWRhdGEgJiZcbiAgICAgICAgICAgIGEubWV0YWRhdGEudXJrdW5kRXh0ZXJuYWxJZCAmJiBcbiAgICAgICAgICAgIGEubWV0YWRhdGEudXJrdW5kRXh0ZXJuYWxJZC5sZW5ndGggPiAwICYmLy8gTXVzdCBoYXZlIG1ldGFkYXRhLnVya3VuZEV4dGVybmFsSWQgT3RoZXJ3aXNlIG5vdCBwb3NzaWJsZSB0byByZWZyZXNoXG4gICAgICAgICAgICAhYS5tZXRhZGF0YS51cmt1bmRVcGxvYWRFcnJvciAmJiAoIC8vIE5vdCBwb3NzaWJsZSB0byByZWZyZXNoIGlmIHVwbG9hZCBoYXMgZmFpbGVkXG4gICAgICAgICAgICAgICAgIWEubWV0YWRhdGEudXJrdW5kTGFzdFBvbGwgfHwgLy8gTmV2ZXIgY2hlY2tlZCBzdGF0dXMgeWV0XG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICBbJ0FjY2VwdGVkJywgJ1N1Ym1pdHRlZCddLmluZGV4T2YoKEpTT04ucGFyc2UoYS5tZXRhZGF0YS51cmt1bmRSZXNwb25zZSlbMF0gYXMgVXJrdW5kUmVzcG9uc2UpLlN0YXR1cy5TdGF0ZSkgPj0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBwYXJzZUludChhLm1ldGFkYXRhLnVya3VuZExhc3RQb2xsKSA8IG1vbWVudCgpLmFkZCgtMTUsIFwic2Vjb25kc1wiKS50b0RhdGUoKS5nZXRUaW1lKCkpKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGEuc2hvdWxkUmVmcmVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiBmaWx0ZXJlZEFzc2lnbm1lbnRzLmxlbmd0aCA+IDAgPyA8dGFibGUgY2xhc3NOYW1lPVwidGFzay1hc3NpZ25tZW50cy10YWJsZVwiPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRoPntpbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOlwidGVhY2hlclZpZXcuYXNzaWdubWVudFN0dWRlbnROYW1lXCIsIGRlZmF1bHRNZXNzYWdlOlwiRWxldlwifSl9PC90aD5cbiAgICAgICAgICAgICAgICA8dGg+e2ludGwuZm9ybWF0TWVzc2FnZSh7aWQ6XCJ0ZWFjaGVyVmlldy5hc3NpZ25tZW50RmlsZU5hbWVcIiwgZGVmYXVsdE1lc3NhZ2U6XCJGaWxuYW1uXCJ9KX08L3RoPlxuICAgICAgICAgICAgICAgIDx0aD57aW50bC5mb3JtYXRNZXNzYWdlKHtpZDpcInRlYWNoZXJWaWV3LmFzc2lnbm1lbnRTdWJtaXR0ZWRBdFwiLCBkZWZhdWx0TWVzc2FnZTpcIklubGFtbmF0XCJ9KX08L3RoPlxuICAgICAgICAgICAgICAgIDx0aD57aW50bC5mb3JtYXRNZXNzYWdlKHtpZDpcInRlYWNoZXJWaWV3LmFzc2lnbm1lbnRSZXBvcnRcIiwgZGVmYXVsdE1lc3NhZ2U6XCJSYXBwb3J0XCJ9KX08L3RoPlxuICAgICAgICAgICAgICAgIDx0aD57aW50bC5mb3JtYXRNZXNzYWdlKHtpZDpcInRlYWNoZXJWaWV3LmFzc2lnbm1lbnRHcmFkZVwiLCBkZWZhdWx0TWVzc2FnZTpcIk5pdmFcIn0pfTwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7ZmlsdGVyZWRBc3NpZ25tZW50cy5tYXAoYXNzaWdubWVudCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxUYXNrQXNzaWdubWVudCBrZXk9e2Fzc2lnbm1lbnQudXBsb2FkRGF0ZX0gYXNzaWdubWVudD17YXNzaWdubWVudH0gc2hvdWxkR2V0VXJrdW5kU3RhdHVzID0ge2Fzc2lnbm1lbnQuc2hvdWxkUmVmcmVzaH0gLz5cbiAgICAgICAgICAgIH0pfVxuXG4gICAgICAgIDwvdGJvZHk+XG4gICAgPC90YWJsZT5cbiAgICAgICAgOlxuICAgICAgICA8ZGl2PntpbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOlwidGVhY2hlclZpZXcubm9UYXNrQXNzaWdubWVudHNcIiwgZGVmYXVsdE1lc3NhZ2U6XCJJbmdhIHVwcGRyYWcgdXBwbGFkZGFkZSBmw7ZyIGRlbm5hIHVwcGdpZnRcIn0pfTwvZGl2PlxuICBcbn0pIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMYW5ndWFnZUNvbnRleHQgfSBmcm9tICcuLi8uLi91dGlsaXR5LWNvbXBvbmVudHMvTGFuZ3VhZ2VDb250ZXh0JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgICBub3RTdWJtaXR0ZWRVc2VyczogeyBkaXNwbGF5TmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nIH1bXTtcbn1cblxuXG5leHBvcnQgY29uc3QgQ291cnNlVGFza05vdEhhbmRlZFVzZXJMaXN0ID0gKCh7IG5vdFN1Ym1pdHRlZFVzZXJzIH06IFByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBpbnRsIH0gPSB1c2VDb250ZXh0KExhbmd1YWdlQ29udGV4dCk7XG4gICAgY29uc3Qgbm90U3VibWl0dGVkTGVuZ3RoID0gbm90U3VibWl0dGVkVXNlcnMgJiYgbm90U3VibWl0dGVkVXNlcnMubGVuZ3RoO1xuICAgIGNvbnN0IFtzZWxlY3RlZFVzZXJzLCBzZWxlY3RVc2VyXSA9IHVzZVN0YXRlKFtdKTtcblxuICAgIHJldHVybiAhbm90U3VibWl0dGVkVXNlcnMgfHwgbm90U3VibWl0dGVkVXNlcnMubGVuZ3RoID09PSAwID8gbnVsbCA6IDxkaXYgY2xhc3NOYW1lPVwibm90LXN1Ym1pdHRlZC11c2VycyB0YXNrQ29udGFpbmVyXCI+XG4gICAgICAgIDxoND57aW50bC5mb3JtYXRNZXNzYWdlKHtpZDpcInRlYWNoZXJWaWV3Lm5vdFN1Ym1pdHRlZEFzc2lnbm1lbnRzXCIsIGRlZmF1bHRNZXNzYWdlOiBcIkVqIGzDpG1uYXQgaW5cIn0pfTwvaDQ+XG4gICAgICAgIHtub3RTdWJtaXR0ZWRVc2Vycy5tYXAoKG5zLCBpbmRleCkgPT5cbiAgICAgICAgICAgIDxkaXYga2V5PXtcIm5vdEhhbmRlZEluX1wiICsgaW5kZXh9IGNsYXNzTmFtZT17XCJhbGlnbi1ob3Jpem9udGFsIHN0dWRlbnQtcm93XCIgKyAobm90U3VibWl0dGVkTGVuZ3RoID09PSBpbmRleCArIDEgPyBcIiBsYXN0XCIgOiBcIlwiKX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3Jpem9udGFsSXRlbSB0b3AgcHVsbC1yaWdodFwiIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VXNlcihzZWxlY3RlZFVzZXJzLmluZGV4T2YobnMuZW1haWwpID4gLTEgPyBzZWxlY3RlZFVzZXJzLmZpbHRlcih1ID0+IHUgIT0gbnMuZW1haWwpIDogWy4uLnNlbGVjdGVkVXNlcnMsIG5zLmVtYWlsXSlcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1wiY2hlY2tCb3hcIiArIChzZWxlY3RlZFVzZXJzLmluZGV4T2YobnMuZW1haWwpID4gLTEgPyBcIiBjaGVja2VkXCIgOiBcIlwiKX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3Jpem9udGFsSXRlbSB0b3BcIj57bnMuZGlzcGxheU5hbWV9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGlnbi1ob3Jpem9udGFsIHJlbWluZC1hc3NpZ25tZW50XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvcml6b250YWxJdGVtIHRvcCBwdWxsLXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG5cIj57aW50bC5mb3JtYXRNZXNzYWdlKHtpZDpcInRlYWNoZXJWaWV3LnJlbWluZEJ0blwiLCBkZWZhdWx0TWVzc2FnZTogXCJQw6VtaW5uXCJ9KX08L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbn0pIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDb3Vyc2UsIFNlZW5TdHVkZW50QXNzaWdubWVudCB9IGZyb20gJ2tlZGJhY2tlbmQvbW9kZWxzJztcbmltcG9ydCB7IFN0YXRlQ29udGV4dCB9IGZyb20gJy4uL2RpZ2VzdC12aWV3JztcbmltcG9ydCB7IExhenlDb250ZW50IH0gZnJvbSAnLi4vLi4vdXRpbGl0eS1jb21wb25lbnRzL2xhenktY29udGVudCc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gICAgY291cnNlOiBDb3Vyc2U7XG4gICAgbW9kdWxlSWQ/OiBzdHJpbmc7XG4gICAgdGFza0lkPzogc3RyaW5nO1xuICAgIGVudGl0eTogJ2NvdXJzZScgfCAnbW9kdWxlJyB8ICd0YXNrJztcbiAgICBub3RpZmljYXRpb25kaWdlc3RzOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogYW55W10gfSB9O1xufVxuXG5leHBvcnQgY29uc3QgTm90aWZpY2F0aW9uSWNvbiA9ICgoeyBjb3Vyc2UsIGVudGl0eSwgbW9kdWxlSWQsIHRhc2tJZCwgbm90aWZpY2F0aW9uZGlnZXN0cyB9OiBQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgc2VlbkRpZ2VzdHNPYnNlcnZhYmxlOiBzZWVuRGlnZXN0c09ic2VyYWJsZSB9ID0gUmVhY3QudXNlQ29udGV4dChTdGF0ZUNvbnRleHQpO1xuICAgIHJldHVybiA8TGF6eUNvbnRlbnQ+XG4gICAgICAgIHtzZWVuRGlnZXN0c09ic2VyYWJsZS5tYXAoc2VlbkRpZ2VzdHMgPT4ge1xuICAgICAgICAgICAgbGV0IG5vdGlmaWNhdGlvbnM6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBsZXQgY291cnNlTm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbmRpZ2VzdHNbY291cnNlLmlkXTtcbiAgICAgICAgICAgIGlmIChjb3Vyc2VOb3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudGl0eSA9PT0gJ2NvdXJzZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY291cnNlLm1vZHVsZXMuZm9yRWFjaChjbW9kID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNtb2QudGFza0lkcy5mb3JFYWNoKGNvdXJzZVRhc2sgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMgKz0gZ2V0VGFza05vdGlmaWNhdGlvbnMoY291cnNlTm90aWZpY2F0aW9uc1tjb3Vyc2VUYXNrXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW50aXR5ID09PSAnbW9kdWxlJykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE1vZHVsZSA9IGNvdXJzZS5tb2R1bGVzLmZpbmQobSA9PiBtLmlkID09IG1vZHVsZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1vZHVsZSAmJiBjdXJyZW50TW9kdWxlLnRhc2tJZHMuZm9yRWFjaChjb3Vyc2VUYXNrID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMgKz0gZ2V0VGFza05vdGlmaWNhdGlvbnMoY291cnNlTm90aWZpY2F0aW9uc1tjb3Vyc2VUYXNrXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRpdHkgPT09ICd0YXNrJykge1xuICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zICs9IGdldFRhc2tOb3RpZmljYXRpb25zKGNvdXJzZU5vdGlmaWNhdGlvbnNbdGFza0lkXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRUYXNrTm90aWZpY2F0aW9ucyh0YXNrQXNzaWdubWVudHM6IGFueVtdKSB7XG4gICAgICAgICAgICAgICAgaWYodGFza0Fzc2lnbm1lbnRzKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhc2tBc3NpZ25tZW50cy5maWx0ZXIodD0+ICFzZWVuRGlnZXN0cy5maW5kKGQgPT4gZC5kaWdlc3QgPT09IHQuZGlnZXN0KSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbnMgPiAwICYmIDxkaXYgY2xhc3NOYW1lPVwibm90aWZpY2F0aW9uLWljb25cIj57bm90aWZpY2F0aW9uc308L2Rpdj5cblxuICAgICAgICB9KX1cbiAgICA8L0xhenlDb250ZW50Pjtcbn0pO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVGFzaywgQXNzaWdubWVudCwgQ291cnNlIH0gZnJvbSAna2VkYmFja2VuZC9tb2RlbHMnO1xuaW1wb3J0IHsgT3BlbkNsb3NlQm94IH0gZnJvbSAnLi4vLi4vdXRpbGl0eS1jb21wb25lbnRzL29wZW4tY2xvc2UtYm94JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IENvdXJzZVRhc2tBc3NpZ25tZW50cyB9IGZyb20gJy4vY291cnNlLXRhc2tzLWFzc2lnbm1lbnRzJztcbmltcG9ydCB7IENvdXJzZVRhc2tOb3RIYW5kZWRVc2VyTGlzdCB9IGZyb20gJy4vY291cnNlLXRhc2stbm90LWhhbmRlZC11c2Vycyc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25JY29uIH0gZnJvbSAnLi4vc2hhcmVkL25vdGlmaWNhdGlvbi1pY29uJztcbmltcG9ydCB7IGNyZWF0ZVVVSUQsIHNpbXBsZURpZ2VzdCB9IGZyb20gJ2tlZGJhY2tlbmQvY2xpZW50JztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vLi4vLi4vZ2xvYmFscy9kYic7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi8uLi9nbG9iYWxzL0tFRC5lbnYnO1xuaW1wb3J0IHsgU3RhdGVDb250ZXh0IH0gZnJvbSAnLi4vZGlnZXN0LXZpZXcnO1xuaW1wb3J0IHsgT2JzZXJ2ZSB9IGZyb20gJy4uLy4uL3V0aWxpdHktY29tcG9uZW50cy9vYnNlcnZlJztcblxuaW50ZXJmYWNlIFByb3Bze1xuICAgIHRhc2s6IFRhc2s7XG4gICAgYXNzaWdubWVudHM6IEFzc2lnbm1lbnRbXTtcbiAgICBub3RTdWJtaXR0ZWRVc2Vyczoge2Rpc3BsYXlOYW1lOnN0cmluZywgZW1haWw6IHN0cmluZ31bXTtcbn1cblxuZXhwb3J0IGNvbnN0IENvdXJzZVRhc2sgPSAoKHsgdGFzaywgYXNzaWdubWVudHMsIG5vdFN1Ym1pdHRlZFVzZXJzIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHtub3RpZmljYXRpb25kaWdlc3RzLCAgc2VsZWN0ZWRDb3Vyc2UsIHNlZW5EaWdlc3RzT2JzZXJ2YWJsZX0gPSBSZWFjdC51c2VDb250ZXh0KFN0YXRlQ29udGV4dCk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gb25UYXNrT3BlbmVkKGlzT3BlbmVkKSB7XG4gICAgaWYgKGlzT3BlbmVkICYmIG5vdGlmaWNhdGlvbmRpZ2VzdHNbc2VsZWN0ZWRDb3Vyc2UuaWRdW3Rhc2suaWRdKSB7XG4gICAgICBjb25zdCB0YWdzRGlnZXN0ID0gYXdhaXQgc2ltcGxlRGlnZXN0KGVudi5jdXJyZW50VXNlci5tYWlsICsgc2VsZWN0ZWRDb3Vyc2UuaWQpO1xuICAgICAgY29uc3Qgc2VlbkRpZ2VzdHMgPSBhd2FpdCBzZWVuRGlnZXN0c09ic2VydmFibGUubG9hZCgpO1xuICAgICAgYXNzaWdubWVudHMuZm9yRWFjaChhc3luYyAoYXNzaWdubWVudCkgPT4ge1xuICAgICAgICBjb25zdCBhc3NpZ25tZW50RGlnZXN0ID0gYXdhaXQgc2ltcGxlRGlnZXN0KFxuICAgICAgICAgIGFzc2lnbm1lbnQudXNlciArIC8vKHN0dWRlbidzIGVtYWlsIGFkZHJlc3MpXG4gICAgICAgICAgYXNzaWdubWVudC5jb3Vyc2VJZCArXG4gICAgICAgICAgYXNzaWdubWVudC50YXNrSWQgK1xuICAgICAgICAgIGFzc2lnbm1lbnQudXBsb2FkRGF0ZSArXG4gICAgICAgICAgKGFzc2lnbm1lbnQubWV0YWRhdGEuZHJpdmVGaWxlSWQgfHwgXCJcIikpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCEoc2VlbkRpZ2VzdHMgJiYgc2VlbkRpZ2VzdHMuZmluZChhID0+IGEuZGlnZXN0ID09PSBhc3NpZ25tZW50RGlnZXN0KSkpIHtcbiAgICAgICAgICBkYi5zZWVuU3R1ZGVudEFzc2lnbm1lbnRzLmFkZCh7XG4gICAgICAgICAgICBpZDogY3JlYXRlVVVJRCgpLFxuICAgICAgICAgICAgdGFnczogW3RhZ3NEaWdlc3RdLFxuICAgICAgICAgICAgZGlnZXN0OiBhc3NpZ25tZW50RGlnZXN0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiA8T3BlbkNsb3NlQm94XG4gICAgb25PcGVuQ2xvc2U9eyhiZWNhbWVPcGVuKSA9PiBvblRhc2tPcGVuZWQoYmVjYW1lT3Blbil9XG4gICAgY2xhc3NOYW1lPVwidGFzay1jb250YWluZXJcIlxuICAgIHRpdGxlPXs8ZGl2IGNsYXNzTmFtZT1cIm5vdGlmaWNhdGlvbi1jb250YWluZXJcIj5cbiAgICAgIDxzcGFuPnt0YXNrLm5hbWV9PC9zcGFuPlxuICAgICAgPE5vdGlmaWNhdGlvbkljb24gY291cnNlPXtzZWxlY3RlZENvdXJzZX0gZW50aXR5PXsndGFzayd9IHRhc2tJZD17dGFzay5pZH0gbm90aWZpY2F0aW9uZGlnZXN0cz17bm90aWZpY2F0aW9uZGlnZXN0c30gLz5cbiAgICA8L2Rpdj59XG4gICAgaGVhZGVyT3Blbj17ZmFsc2V9PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwia2VkX2JveGVkXCI+XG4gICAgICA8Q291cnNlVGFza0Fzc2lnbm1lbnRzIGFzc2lnbm1lbnRzPXthc3NpZ25tZW50c30gY2hlY2tXaXRoVXJrdW5kPXt0YXNrLnNlbmRUb1Vya3VuZH0vPlxuICAgICAgPGJyIC8+XG4gICAgICA8Q291cnNlVGFza05vdEhhbmRlZFVzZXJMaXN0IG5vdFN1Ym1pdHRlZFVzZXJzPXtub3RTdWJtaXR0ZWRVc2Vyc30gLz5cbiAgICA8L2Rpdj5cbiAgPC9PcGVuQ2xvc2VCb3g+XG59KSIsImltcG9ydCB7IENvdXJzZU1vZHVsZSwgVGFzaywgQ291cnNlLCBBc3NpZ25tZW50IH0gZnJvbSAna2VkYmFja2VuZC9tb2RlbHMnO1xuaW1wb3J0IHsgT3BlbkNsb3NlQm94IH0gZnJvbSAnLi4vLi4vdXRpbGl0eS1jb21wb25lbnRzL29wZW4tY2xvc2UtYm94JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENvdXJzZVRhc2sgfSBmcm9tICcuL2NvdXJzZS10YXNrJztcbmltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb21wYXJlUHJvcHMgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBtb2NrVHVpdGlvblN0dWRlbnRzIH0gZnJvbSAnLi4vLi4vLi4vYXBpcy9tb2NrL21vY2stY2xhc3Nyb29tLWRhdGEnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vdXRpbGl0eS1jb21wb25lbnRzL0xhbmd1YWdlQ29udGV4dCc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25JY29uIH0gZnJvbSAnLi4vc2hhcmVkL25vdGlmaWNhdGlvbi1pY29uJztcbmltcG9ydCB7IFN0YXRlQ29udGV4dCB9IGZyb20gJy4uL2RpZ2VzdC12aWV3JztcbmltcG9ydCB7IEFzc2lnbm1lbnRzQ29udGV4dCB9IGZyb20gJy4nO1xuaW1wb3J0IHsgT2JzZXJ2ZSB9IGZyb20gJy4uLy4uL3V0aWxpdHktY29tcG9uZW50cy9vYnNlcnZlJztcblxuaW50ZXJmYWNlIFByb3Bze1xuICAgIG1vZHVsZTogQ291cnNlTW9kdWxlO1xuICAgIHRhc2tzOiBUYXNrW107XG59XG5cblxuZXhwb3J0IGNvbnN0IENvdXJzZU1vZHVsZVZpZXcgPSAoKHsgbW9kdWxlLCB0YXNrcyB9OiBQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgaW50bCB9ID0gdXNlQ29udGV4dChMYW5ndWFnZUNvbnRleHQpO1xuICAgIGNvbnN0IHtub3RpZmljYXRpb25kaWdlc3RzLCBzZWxlY3RlZENvdXJzZX0gPSB1c2VDb250ZXh0KFN0YXRlQ29udGV4dCk7XG4gICAgY29uc3QgeyBmaWx0ZXJTdHVkeUdyb3VwcyB9ID0gdXNlQ29udGV4dChBc3NpZ25tZW50c0NvbnRleHQpO1xuXG4gICAgbGV0IGdldE5vdFN1Ym1pdHRlZFVzZXJzID0gZnVuY3Rpb24odGFza0Fzc2lnbm1lbnRzOiBBc3NpZ25tZW50W10pIHsgXG4gICAgICB2YXIgdGFza05vdFN1Ym1pdHRlZFVzZXJzIDoge2Rpc3BsYXlOYW1lOnN0cmluZywgZW1haWw6IHN0cmluZ31bXSA9IFtdO1xuICAgICAgLy8gZ2V0IHN0dWRlbnRzIGZyb20gdGhlIGNvdXJzZSBzdHVkeSBncm91cHMgd2hvIGhhdmUndCB1cGxvYWRlZCB0aGVpciBhc3NpZ25tZW50c1xuICAgICAgbGV0IHN0dWR5R3JvdXBzID0gZmlsdGVyU3R1ZHlHcm91cHMubGVuZ3RoID4gMCA/IHNlbGVjdGVkQ291cnNlLnN0dWR5R3JvdXBzLmZpbHRlcihzZyA9PiBmaWx0ZXJTdHVkeUdyb3Vwcy5pbmNsdWRlcyhzZykpIDogc2VsZWN0ZWRDb3Vyc2Uuc3R1ZHlHcm91cHM7XG4gICAgICBzdHVkeUdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgICAgdmFyIHVzZXJzID0gbW9ja1R1aXRpb25TdHVkZW50c1tncm91cF0uZmlsdGVyKGNzID0+ICF0YXNrQXNzaWdubWVudHMuZmluZChmID0+IGYudXNlciA9PT0gY3Muc3R1ZGVudEVtYWlsQWRkcmVzcykpXG4gICAgICAgIC5tYXAobnMgPT4ge3JldHVybiB7IGRpc3BsYXlOYW1lOiBgJHtucy5zdHVkZW50Rmlyc3ROYW1lfSAke25zLnN0dWRlbnRMYXN0TmFtZX1gLCBlbWFpbDogbnMuc3R1ZGVudEVtYWlsQWRkcmVzc319KTtcbiAgICAgICAgaWYodXNlcnMpe1xuICAgICAgICAgIHRhc2tOb3RTdWJtaXR0ZWRVc2Vycy5wdXNoKC4uLnVzZXJzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vc29ydCBieSBsYXN0bmFtZSAtIGZpcnN0bmFtZVxuICAgICAgcmV0dXJuIHRhc2tOb3RTdWJtaXR0ZWRVc2Vycy5tYXAocyA9PiB7XG4gICAgICAgIGNvbnN0IFtmaXJzdE5hbWUsIC4uLnJlc3RdID0gcy5kaXNwbGF5TmFtZS5zcGxpdCgnICcpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnMsXG4gICAgICAgICAgZmlyc3ROYW1lLFxuICAgICAgICAgIGxhc3ROYW1lOiByZXN0LmpvaW4oJyAnKVxuICAgICAgICB9O1xuICAgICAgfSkuc29ydChjb21wYXJlUHJvcHMoW1wibGFzdE5hbWVcIiwgXCJmaXJzdE5hbWVcIl0pKTtcbiAgICB9XG5cbiAgICBsZXQgY291cnNlTm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbmRpZ2VzdHNbc2VsZWN0ZWRDb3Vyc2UuaWRdO1xuXG4gICAgcmV0dXJuIHRhc2tzICYmIHRhc2tzLmxlbmd0aCA+IDAgJiZcbiAgICAgIDw+XG4gICAgICAgIDxPcGVuQ2xvc2VCb3ggXG4gICAgICAgICB0aXRsZT17XG4gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vdGlmaWNhdGlvbi1jb250YWluZXJcIj5cbiAgICAgICAgPHNwYW4+e21vZHVsZS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgPE5vdGlmaWNhdGlvbkljb24gY291cnNlPXtzZWxlY3RlZENvdXJzZX0gZW50aXR5PXsnbW9kdWxlJ30gbW9kdWxlSWQ9e21vZHVsZS5pZH0gbm90aWZpY2F0aW9uZGlnZXN0cz17bm90aWZpY2F0aW9uZGlnZXN0c30vPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH0gXG4gICAgICAgIGhlYWRlck9wZW49e2ZhbHNlfT5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb3Vyc2VOb3RpZmljYXRpb25zICYmIE9iamVjdC5rZXlzKGNvdXJzZU5vdGlmaWNhdGlvbnMpLmxlbmd0aCA+IDAgPyA8ZGl2PlxuICAgICAgICAgICAgICB7dGFza3MubWFwKHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0YXNrQXNzaWdubWVudHMgPSBjb3Vyc2VOb3RpZmljYXRpb25zW3Rhc2suaWRdID8gY291cnNlTm90aWZpY2F0aW9uc1t0YXNrLmlkXS5tYXAodD0+IHQuYXNzaWdubWVudCkgOiBbXTtcbiAgICAgICAgICAgICAgICBsZXQgbm90U3VibWl0dGVkVXNlcnMgPSBzZWxlY3RlZENvdXJzZS5zdHVkeUdyb3VwcyAmJiBzZWxlY3RlZENvdXJzZS5zdHVkeUdyb3Vwcy5sZW5ndGggPiAwICYmIGdldE5vdFN1Ym1pdHRlZFVzZXJzKHRhc2tBc3NpZ25tZW50cyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZGlzcGxheVRhc2sgPSBub3RTdWJtaXR0ZWRVc2VycyAmJiBub3RTdWJtaXR0ZWRVc2Vycy5sZW5ndGggPiAwIHx8IHRhc2tBc3NpZ25tZW50cyAmJiB0YXNrQXNzaWdubWVudHMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGxheVRhc2sgJiZcbiAgICAgICAgICAgICAgICAgIDxDb3Vyc2VUYXNrIGtleT17dGFzay5pZH1cbiAgICAgICAgICAgICAgICAgICAgdGFzaz17dGFza31cbiAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudHM9e3Rhc2tBc3NpZ25tZW50c31cbiAgICAgICAgICAgICAgICAgICAgbm90U3VibWl0dGVkVXNlcnM9e25vdFN1Ym1pdHRlZFVzZXJzfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+IDogXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICB7aW50bC5mb3JtYXRNZXNzYWdlKHtpZDogXCJ0ZWFjaGVyVmlldy5ub1VwbG9hZGVkQXNzaWdubWVudHNGb3JNb2R1bGVcIiwgZGVmYXVsdE1lc3NhZ2U6IFwiTm8gYXNzaWdubWVudHMgaGF2ZSBiZWVuIHVwbG9hZGVkIGZvciB0aGlzIG1vZHVsZVwifSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvT3BlbkNsb3NlQm94PiAgICBcbiAgICAgIDwvPlxufSkiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDb3Vyc2VNb2R1bGVWaWV3IH0gZnJvbSAnLi9jb3Vyc2UtbW9kdWxlJztcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlLCBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGFuZ3VhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vdXRpbGl0eS1jb21wb25lbnRzL0xhbmd1YWdlQ29udGV4dCc7XG5pbXBvcnQgeyBTdGF0ZUNvbnRleHQgfSBmcm9tICcuLi9kaWdlc3Qtdmlldyc7XG5pbXBvcnQgU2VsZWN0IGZyb20gJ3JlYWN0LXNlbGVjdCc7XG5cbmV4cG9ydCBjb25zdCBBc3NpZ25tZW50c0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtmaWx0ZXJTdHVkeUdyb3VwczogW119KTtcblxuZXhwb3J0IGNvbnN0IEFzc2lnbm1lbnRzVmlldyA9ICgoKSA9PiB7XG4gICAgY29uc3QgeyBpbnRsIH0gPSB1c2VDb250ZXh0KExhbmd1YWdlQ29udGV4dCk7XG4gICAgY29uc3QgW3NlbGVjdGVkU3R1ZHlHcm91cHMsIHNldEZpbHRlclN0dWR5R3JvdXBdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IHsgdGFza3MsIHNlbGVjdGVkQ291cnNlIH0gPSB1c2VDb250ZXh0KFN0YXRlQ29udGV4dCk7XG5cbiAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRpb25NZXNzYWdlID0gXCJIw6RyIGxpc3RhcyBzYW10bGlnYSBpbmzDpG1uaW5nc3VwcGdpZnRlciBpIGRpbi9kaW5hIGt1cnNlciBkdSBoYW5kbGVkZXIuXCJcbiAgICAgICAgKyBcIktsaWNrYSB0aWxsIGjDtmdlciBmw7ZyIGF0dCB2w6RsamEga3Vycy4gS3Vyc2VucyB1cHBnaWZ0ZXIgc3lucyBuZWRhbi4gRHUga2FuIMO2cHBuYS9kw7ZsamEgdmFyamUgbW9kdWwuXCI7XG5cbiAgICByZXR1cm4gPD4ge3NlbGVjdGVkQ291cnNlID9cbiAgICAgICAgPEFzc2lnbm1lbnRzQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e2ZpbHRlclN0dWR5R3JvdXBzOiBzZWxlY3RlZFN0dWR5R3JvdXBzfX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3Ytcm93IHN2LWxheW91dCBzdi1za2lwLXNwYWNlclwiPlxuICAgICAgICAgICAgPGgyPntpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogXCJ0ZWFjaGVyVmlldy5hc3NpZ25tZW50c1ZpZXdUaXRsZVwiLCBkZWZhdWx0TWVzc2FnZTogXCJJbmzDpG1uaW5nc3VwcGdpZnRlclwiIH0pfTwvaDI+XG4gICAgICAgICAgICA8cD57aW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IFwidGVhY2hlclZpZXcuYXNzaWdubWVudHNWaWV3RGVzY3JpcHRpb25cIiwgZGVmYXVsdE1lc3NhZ2U6IHsgZGVmYXVsdERlc2NyaXB0aW9uTWVzc2FnZSB9IH0pfTwvcD5cbiAgICAgICAgICAgIDxoMz57c2VsZWN0ZWRDb3Vyc2UubmFtZX0te3NlbGVjdGVkQ291cnNlLmRlc2NyaXB0aW9ufTwvaDM+XG4gICAgICAgICAgICB7c2VsZWN0ZWRDb3Vyc2Uuc3R1ZHlHcm91cHMgJiYgc2VsZWN0ZWRDb3Vyc2Uuc3R1ZHlHcm91cHMubGVuZ3RoID4gMCAmJiBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3Ytcm93IHN2LWxheW91dCBzdi1za2lwLXNwYWNlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9yaXpvbnRhbEl0ZW0gdG9wIHB1bGwtcmlnaHQgc3R1ZHktZ3JvdXAtZmlsdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTXVsdGk9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtzZWxlY3RlZENvdXJzZS5zdHVkeUdyb3Vwcy5tYXAoc2cgPT4gKHsgbGFiZWw6IHNnLCB2YWx1ZTogc2cgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkU3R1ZHlHcm91cHMubWFwKGdyb3VwID0+ICh7IGxhYmVsOiBncm91cCwgdmFsdWU6IGdyb3VwIH0pKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogXCJ0ZWFjaGVyVmlldy5maWx0ZXJCeVN0dWR5Z3JvdXBzUGxhY2Vob2xkZXJcIiwgZGVmYXVsdE1lc3NhZ2U6IFwiVsOkbGogc3R1ZGllZ3J1cHBcIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsob3B0aW9uczogQXJyYXk8eyBsYWJlbDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIH0+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyU3R1ZHlHcm91cChvcHRpb25zLm1hcCgoeyB2YWx1ZSB9KSA9PiB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAge3NlbGVjdGVkQ291cnNlLm1vZHVsZXMubWFwKG1vZHVsZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlVGFza3MgPSB0YXNrcy5maWx0ZXIodCA9PiBtb2R1bGUudGFza0lkcy5maW5kKHRJZCA9PiB0SWQgPT09IHQuaWQpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlVGFza3MubGVuZ3RoID4gMCA/IDxDb3Vyc2VNb2R1bGVWaWV3IHRhc2tzPXttb2R1bGVUYXNrc30ga2V5PXttb2R1bGUuaWR9IG1vZHVsZT17bW9kdWxlfSAvPiA6IG51bGw7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQXNzaWdubWVudHNDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICA6IG51bGx9PC8+XG59KTsiLCJpbXBvcnQgeyBSb3V0ZUNvbXBvbmVudFByb3BzLCB3aXRoUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBMYW5ndWFnZUNvbnRleHQgfSBmcm9tICcuLi8uLi91dGlsaXR5LWNvbXBvbmVudHMvTGFuZ3VhZ2VDb250ZXh0JztcbmltcG9ydCB7IHByZXNlcnZlSW1wZXJzb25hdGlvblF1ZXJ5IH0gZnJvbSAnLi4vLi4vLi4vYWNjZXNzLWNvbnRyb2wnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uSWNvbiB9IGZyb20gJy4uL3NoYXJlZC9ub3RpZmljYXRpb24taWNvbic7XG5pbXBvcnQgeyBTdGF0ZUNvbnRleHQgfSBmcm9tICcuLi9kaWdlc3Qtdmlldyc7XG5pbXBvcnQgeyBPYnNlcnZlIH0gZnJvbSAnLi4vLi4vdXRpbGl0eS1jb21wb25lbnRzL29ic2VydmUnO1xuaW1wb3J0IHsgTGF6eUNvbnRlbnQgfSBmcm9tICcuLi8uLi91dGlsaXR5LWNvbXBvbmVudHMvbGF6eS1jb250ZW50JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgICBjb3Vyc2VCdWlsZGVyVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBDb3Vyc2VzVmlldyA9ICgoeyBjb3Vyc2VCdWlsZGVyVXJsIH06IFByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBpbnRsIH0gPSB1c2VDb250ZXh0KExhbmd1YWdlQ29udGV4dCk7XG4gICAgY29uc3Qge25vdGlmaWNhdGlvbmRpZ2VzdHMsIHRlYWNoZXJDb3Vyc2VzLCBzZWxlY3RlZENvdXJzZX0gPSB1c2VDb250ZXh0KFN0YXRlQ29udGV4dCk7XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJzdi1odG1sLXBvcnRsZXQgc3YtcG9ydGxldCBzdi1za2lwLXNwYWNlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImtlZF9ib3hlZFwiPlxuICAgICAgICAgICAgPGgzPntpbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogXCJ0ZWFjaGVyVmlldy5jb3Vyc2VzVmlld1RpdGxlXCIsIGRlZmF1bHRNZXNzYWdlOiBcIk1pbmEga3Vyc2VyLyB1cHBnaWZ0ZXJcIiB9KX08L2gzPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YXNrQ29udGFpbmVyIG9kZC1ldmVuXCI+XG4gICAgICAgICAgICAgICAge3RlYWNoZXJDb3Vyc2VzLm1hcCgoY291cnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8ZGl2IGtleT17Y291cnNlLmlkICsgY291cnNlLmNvZGV9IGNsYXNzTmFtZT1cImFsaWduLWhvcml6b250YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlYWNoZXJTY2hvb2xDb3Vyc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3Jpem9udGFsSXRlbSB0b3AgcHVsbC1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj17YCR7cHJlc2VydmVJbXBlcnNvbmF0aW9uUXVlcnkoY291cnNlQnVpbGRlclVybCwge30pfSMvY291cnNlcy8ke2NvdXJzZS5pZH0vZWRpdGB9IGNsYXNzTmFtZT1cImVkaXRJdGVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9yaXpvbnRhbEl0ZW0gdG9wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vdGlmaWNhdGlvbi1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBrZXk9e1wibGlua0NvdXJzZV9cIiArIGNvdXJzZS5pZH0gY2xhc3NOYW1lPXtzZWxlY3RlZENvdXJzZSAmJiBzZWxlY3RlZENvdXJzZS5pZCA9PT0gY291cnNlLmlkID8gXCJzZWxlY3RlZFwiIDogXCJcIn0gdG89e2Avb3ZlcnZpZXcvY291cnNlLyR7Y291cnNlLmlkfS9hc3NpZ25tZW50c2B9Pntjb3Vyc2UubmFtZX0gLSB7Y291cnNlLmRlc2NyaXB0aW9ufTwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Tm90aWZpY2F0aW9uSWNvbiBrZXk9e1wibm90aWZpY3Rpb25hX1wiICsgY291cnNlLmlkfSBub3RpZmljYXRpb25kaWdlc3RzPXtub3RpZmljYXRpb25kaWdlc3RzfSBlbnRpdHk9eydjb3Vyc2UnfSBjb3Vyc2U9e2NvdXJzZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxufSk7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUm91dGVDb21wb25lbnRQcm9wcywgd2l0aFJvdXRlciB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIjtcbmltcG9ydCB7IFR3b0NvbHVtbnNQYWdlIH0gZnJvbSAnLi4vY291cnNlLWJ1aWxkZXIta3MvY29tbW9uL3R3by1jb2x1bW5zLXBhZ2UnO1xuaW1wb3J0IHsgQXNzaWdubWVudHNWaWV3IH0gZnJvbSAnLi9hc3NpZ25tZW50cy12aWV3JztcbmltcG9ydCB7IENvdXJzZXNWaWV3IH0gZnJvbSAnLi9jb3Vyc2VzLXZpZXcnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi8uLi9nbG9iYWxzL2RiJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2dsb2JhbHMvS0VELmVudic7XG5pbXBvcnQgeyBDb3Vyc2UsIFNlZW5TdHVkZW50QXNzaWdubWVudCwgVGFzayB9IGZyb20gJ2tlZGJhY2tlbmQvbW9kZWxzJztcbmltcG9ydCB7IEh0dHBFcnJvciwgc2ltcGxlRGlnZXN0LCBzaW1wbGVEaWdlc3RTdXNwZW5zZX0gZnJvbSAna2VkYmFja2VuZC9jbGllbnQnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXBhcmVQcm9wcywgc2hvd0Vycm9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgT2JzZXJ2ZSB9IGZyb20gJy4uL3V0aWxpdHktY29tcG9uZW50cy9vYnNlcnZlJztcbmltcG9ydCB7IEVtaXR0ZXIsIFZhbHVlIH0gZnJvbSAna2VkYmFja2VuZC9vYnNlcnZhYmxlJztcblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgUm91dGVDb21wb25lbnRQcm9wczxhbnk+IHtcbiAgICBjb3Vyc2VCdWlsZGVyVXJsOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIENvbnRleHQge1xuICAgIG5vdGlmaWNhdGlvbmRpZ2VzdHM6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9IH07XG4gICAgc2VsZWN0ZWRDb3Vyc2U6IENvdXJzZTtcbiAgICB0ZWFjaGVyQ291cnNlczogQ291cnNlW107XG4gICAgc2VlbkRpZ2VzdHNPYnNlcnZhYmxlOiBWYWx1ZTxTZWVuU3R1ZGVudEFzc2lnbm1lbnRbXT47XG4gICAgc2Nob29sOiBzdHJpbmc7XG4gICAgdGFza3M6IFRhc2tbXTtcbn1cblxubGV0IGNvbnRleHRJbml0aWFsVmFsdWUgOiBDb250ZXh0ID0ge25vdGlmaWNhdGlvbmRpZ2VzdHM6IHt9LCBzZWxlY3RlZENvdXJzZTogbnVsbCwgdGVhY2hlckNvdXJzZXM6IFtdLCBzZWVuRGlnZXN0c09ic2VydmFibGUgOiBuZXcgRW1pdHRlcjxTZWVuU3R1ZGVudEFzc2lnbm1lbnRbXT4oW10pLCBzY2hvb2w6IFwiXCIsIHRhc2tzOiBbXX07XG5leHBvcnQgY29uc3QgU3RhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dChjb250ZXh0SW5pdGlhbFZhbHVlKTtcblxuXG5leHBvcnQgY29uc3QgRGlnZXN0VmlldyA9IHdpdGhSb3V0ZXIoKCh7IG1hdGNoLCBjb3Vyc2VCdWlsZGVyVXJsIH06IFByb3BzKSA9PiB7XG4gICAgdmFyIGNvdXJzZUlkID0gbWF0Y2ggPyBtYXRjaC5wYXJhbXMuY291cnNlSWQgOiBudWxsO1xuICAgIHZhciBjb3Vyc2VJZCA9IGNvdXJzZUlkID8gY291cnNlSWQgOiBudWxsO1xuICAgIHZhciBteUNvdXJzZXMgOiBDb3Vyc2VbXSA9IFtdO1xuICAgIC8vY29uc3QgW25vdGlmaWNhdGlvbmRpZ2VzdHMsIHNldEFzc2lnbm1lbnRzXSA9IHVzZVN0YXRlKHthc3NpZ25tZW50cyA6IHt9LCBkaWdlc3RJZHM6IFtdfSk7XG5cblxuICAgIGNvbnN0IHNjaG9vbCA9IGRiLnNjaG9vbHMudGFncyhcImd5bW5hc2l1bVwiKS5uYW1lKGVudi5jdXJyZW50VXNlci5zY2hvb2wpLmluY2x1ZGUoXCJjb3Vyc2VzXCIpLnNpbmdsZSgpLnJlYWQoKTtcblxuICAgIGxldCBzY2hvb2xDb3Vyc2VzID0gc2Nob29sID8gc2Nob29sLmNvdXJzZXMgOiBbXTtcbiAgICBpZiAoc2Nob29sQ291cnNlcykge1xuICAgICAgICBjb25zdCBtZSA9IGVudi5jdXJyZW50VXNlci5tYWlsO1xuXG4gICAgICAgIHNjaG9vbENvdXJzZXMuZm9yRWFjaCgoY291cnNlOiBDb3Vyc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChjb3Vyc2UubW9kdWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdXJzZS5hY3RpdmF0ZWRCeSAmJiBjb3Vyc2UuYWN0aXZhdGVkQnkudXJsID09IG1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG15Q291cnNlcy5wdXNoKGNvdXJzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3Vyc2UucmVzcG9uc2libGVUZWFjaGVycy5maWx0ZXIodCA9PiB0LnVybCA9PSBtZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBteUNvdXJzZXMucHVzaChjb3Vyc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbXlDb3Vyc2VzID0gbXlDb3Vyc2VzLnNvcnQoY29tcGFyZVByb3BzKFtcIm5hbWVcIiwgXCJkYXRlVGltZVwiXSkpO1xuICAgIGNvbnN0IHRhc2tzID0gbXlDb3Vyc2VzID8gZGIudGFza3MuaGFzRWRnZXNGcm9tKG15Q291cnNlcy5tYXAoYyA9PiBjLmlkKSkudG9WYWx1ZSgpLnJlYWQoKSA6IFtdO1xuICAgIGNvbnN0IHRhc2tBc3NpZ25tZW50cyA9IHRhc2tzLmZpbHRlcih0YXNrID0+IHRhc2suYXNzaWdubWVudCA9PT0gdHJ1ZSk7XG5cbiAgICBjb25zdCBzY2hvb2xOYW1lID0gc2Nob29sLm5hbWU7XG4gICAgY29uc3QgY291cnNlSWRzID0gbXlDb3Vyc2VzLm1hcChmdW5jdGlvbiAoZSkge3JldHVybiBlLmlkO30pLmpvaW4oJywnKTtcbiAgICBjb25zdCBzZWxlY3RlZENvdXJzZSA9IG15Q291cnNlcy5maW5kKGMgPT4gYy5pZCA9PT0gY291cnNlSWQpO1xuXG4gICAgY29uc3QgcmVzID0gZW52LmtlZEJhY2tlbmRDbGllbnQuaHR0cC5zdXNwZW5zZUdldChcImFzc2lnbm1lbnRzL25vdGlmaWNhdGlvbmRpZ2VzdHNcIiwgeyBzY2hvb2w6IHNjaG9vbE5hbWUsIGNvdXJzZUlkcyB9KTtcbiAgICBpZiAocmVzLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IocmVzLnN0YXR1cywgcmVzLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IGFzc2lnbm1lbnRzID0gcmVzLmpzb24oKSBhcyB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogYW55W10gfSB9O1xuICAgIGNvbnN0IGRpZ2VzdEFycmF5ID0gc2ltcGxlRGlnZXN0U3VzcGVuc2UobXlDb3Vyc2VzLm1hcChjb3Vyc2UgPT4gZW52LmN1cnJlbnRVc2VyLm1haWwgKyBjb3Vyc2UuaWQpKTtcblxuICAgIGNvbnN0IHNlZW5EaWdlc3RzT2JzZXJ2YWJsZSA9IGRpZ2VzdEFycmF5Lmxlbmd0aCA+IDAgP1xuICAgICAgICBkYi5zZWVuU3R1ZGVudEFzc2lnbm1lbnRzLnRhZ3MoLi4uZGlnZXN0QXJyYXkpLnRvVmFsdWUoKSA6XG4gICAgICAgIG5ldyBFbWl0dGVyPFNlZW5TdHVkZW50QXNzaWdubWVudFtdPihbXSk7XG5cbiAgICBsZXQgY29udGV4dFZhbHVlID0ge1xuICAgICAgICBub3RpZmljYXRpb25kaWdlc3RzOiBhc3NpZ25tZW50cyxcbiAgICAgICAgc2VsZWN0ZWRDb3Vyc2UsIFxuICAgICAgICB0ZWFjaGVyQ291cnNlcyA6IG15Q291cnNlcyxcbiAgICAgICAgc2VlbkRpZ2VzdHNPYnNlcnZhYmxlLFxuICAgICAgICBzY2hvb2w6IHNjaG9vbE5hbWUsXG4gICAgICAgIHRhc2tzOiB0YXNrQXNzaWdubWVudHNcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICA8U3RhdGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWV9PjxUd29Db2x1bW5zUGFnZVxuICAgIGxlZnQ9ezxBc3NpZ25tZW50c1ZpZXcga2V5PXtzZWxlY3RlZENvdXJzZSA/IHNlbGVjdGVkQ291cnNlLmlkIDogXCJcIn0vPn1cbiAgICByaWdodD17PENvdXJzZXNWaWV3IGNvdXJzZUJ1aWxkZXJVcmw9e2NvdXJzZUJ1aWxkZXJVcmx9Lz59XG4gICAgcmlnaHRXaWR0aD17NX0gLz48L1N0YXRlQ29udGV4dC5Qcm92aWRlcj5cbn0pKTtcblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEhhc2hSb3V0ZXIgYXMgUm91dGVyLCBSb3V0ZSwgUmVkaXJlY3R9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgT2JzZXJ2ZSB9IGZyb20gJy4uL3V0aWxpdHktY29tcG9uZW50cy9vYnNlcnZlJztcbmltcG9ydCB7IEVsbGlwc2lzTG9hZGVyIH0gZnJvbSAnLi4vY291cnNlLWJ1aWxkZXIvc3ViLWNvbXBvbmVudHMvZWxsaXBzaXMtbG9hZGVyJztcbmltcG9ydCB7IERpZ2VzdFZpZXcgfSBmcm9tICcuL2RpZ2VzdC12aWV3JztcbmltcG9ydCB7IHNldHVwSW50bCB9IGZyb20gJy4uL3V0aWxpdHktY29tcG9uZW50cy9TZXR1cExhbmd1YWdlSW50bCc7XG5pbXBvcnQgeyBpbmplY3RJbnRsIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gICAgY291cnNlQnVpbGRlclVybDogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBUZWFjaGVyVmlld0FwcCA9ICh7Y291cnNlQnVpbGRlclVybH06IFByb3BzKSA9PiB7ICAgIFxuICAgIHJldHVybiA8Um91dGVyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlYWNoZXItdmlld1wiPlxuICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvXCIgZXhhY3QgcmVuZGVyPXsoKSA9PiA8UmVkaXJlY3QgdG89e2Avb3ZlcnZpZXdgfSAvPn0gLz5cbiAgICAgICAgICAgIDxSb3V0ZSBleGFjdD17ZmFsc2V9IHBhdGg9XCIvb3ZlcnZpZXcvY291cnNlLzpjb3Vyc2VJZC9hc3NpZ25tZW50c1wiPlxuICAgICAgICAgICAgICAgIDxPYnNlcnZlIGZhbGxiYWNrPXs8RWxsaXBzaXNMb2FkZXIgLz59PlxuICAgICAgICAgICAgICAgICAgICA8RGlnZXN0VmlldyBjb3Vyc2VCdWlsZGVyVXJsID17Y291cnNlQnVpbGRlclVybH0vPlxuICAgICAgICAgICAgICAgIDwvT2JzZXJ2ZT5cbiAgICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvUm91dGVyPlxufTtcblxuIiwiXG5leHBvcnQgZnVuY3Rpb24gY2FwaXRhbGl6ZUZpcnN0IChzdHIpIHtcbiAgICBmb3IgKGxldCBpPTAsIGw9c3RyLmxlbmd0aDsgaTxsOyArK2kpIHtcbiAgICAgICAgaWYgKHN0ci5jaGFyQ29kZUF0KGkpIDwgMHgyMDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cigwLCBpKSArIHN0cltpXS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cihpICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChvYmosIGV4dGVuc2lvbikge1xuICAgIGlmICh0eXBlb2YgZXh0ZW5zaW9uICE9PSAnb2JqZWN0JykgcmV0dXJuIG9iajtcbiAgICBPYmplY3Qua2V5cyhleHRlbnNpb24pLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgb2JqW2tleV0gPSBleHRlbnNpb25ba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmU8VCxFPiAob2JqIDogVCwgZXh0ZW5zaW9uPzogRSkge1xuICAgIGxldCBjbG9uZSA9IHt9O1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xvbmUsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkpO1xuICAgIH0pO1xuICAgIGlmIChleHRlbnNpb24pIGV4dGVuZChjbG9uZSwgZXh0ZW5zaW9uKTtcbiAgICByZXR1cm4gY2xvbmUgYXMgKFQgJiBFKTtcbn1cblxuY29uc3QgY29uY2F0ID0gW10uY29uY2F0O1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW48VD4gKGEgOiAoVCB8IFRbXSlbXSkge1xuICAgIHJldHVybiBjb25jYXQuYXBwbHkoW10sIGEpIGFzIFRbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVQcm9wPFQ+KHByb3A6a2V5b2YgVCkge1xuICAgIHJldHVybiAoYTogVCxiOiBUKSA9PiB7XG4gICAgICAgIGNvbnN0IGFQcm9wID0gYVtwcm9wXSwgYlByb3AgPSBiW3Byb3BdO1xuICAgICAgICByZXR1cm4gYVByb3AgPiBiUHJvcCA/IDEgOiBhUHJvcCA8IGJQcm9wID8gLTEgOiAwO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVQcm9wcyhcbiAgICBwcm9wczogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgbG9jYWxlcz86IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIG9wdGlvbnM/OiBJbnRsLkNvbGxhdG9yT3B0aW9ucyk6IChhOiBhbnksIGI6IGFueSkgPT4gbnVtYmVyXG57XG4gICAgcHJvcHMgPSBBcnJheS5pc0FycmF5KHByb3BzKSA/IHByb3BzIDogW3Byb3BzXTtcblxuICAgIGNvbnN0IGxvY2FsZUNvbXBhcmUgPSAoYSxiKSA9PlxuICAgICAgICB0eXBlb2YgYSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgYS5sb2NhbGVDb21wYXJlKGIsIGxvY2FsZXMsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xuXG4gICAgZnVuY3Rpb24gY21wUGFydCAoYSxiLGZpcnN0UGFydDogc3RyaW5nLHJlc3Q6IHN0cmluZ1tdKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0QSA9IGFbZmlyc3RQYXJ0XTtcbiAgICAgICAgY29uc3QgZmlyc3RCID0gYltmaXJzdFBhcnRdO1xuICAgICAgICBpZiAoZmlyc3RBID09PSBmaXJzdEIpIHJldHVybiAwO1xuICAgICAgICBpZiAoZmlyc3RBID09IG51bGwpIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGZpcnN0QiA9PSBudWxsKSByZXR1cm4gMTtcbiAgICAgICAgcmV0dXJuIHJlc3QubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgIGxvY2FsZUNvbXBhcmUoZmlyc3RBLCBmaXJzdEIpIDpcbiAgICAgICAgICAgIGNtcFBhcnQoZmlyc3RBLCBmaXJzdEIsIHJlc3RbMF0sIHJlc3Quc2xpY2UoMSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wc1xuICAgICAgICAubWFwKHByb3AgPT4gcHJvcC5zcGxpdCgnLicpKVxuICAgICAgICAubWFwKChbZmlyc3RQYXJ0LCAuLi5yZXN0XSkgPT4gKGEsYikgPT4gY21wUGFydChhLGIsIGZpcnN0UGFydCwgcmVzdCkpXG4gICAgICAgIC5yZWR1Y2UoKGNtcDEsIGNtcDIpID0+XG4gICAgICAgICAgICAoYSxiKSA9PiBjbXAxKGEsYikgfHwgY21wMihhLGIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEwodGV4dCwgLi4uYXJncykge1xuICAgIGxldCBmaXJzdCA9IHRleHRbMF07XG4gICAgcmV0dXJuIGJ1aWxkTWVzc2FnZSh0ZXh0LCBhcmdzKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRNZXNzYWdlICh0ZXh0LCBhcmdzKSB7XG4gICAgbGV0IHJ2ID0gdGV4dFswXTtcbiAgICBmb3IgKGxldCBpPTEsIGw9dGV4dC5sZW5ndGg7IGk8bDsgKytpKSB7XG4gICAgICAgIHJ2ICs9IGFyZ3NbaS0xXSArIHRleHRbaV07XG4gICAgfVxuICAgIHJldHVybiBydjtcbn1cblxuZXhwb3J0IGNsYXNzIFRDPFQ+IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZTogVCkge1xuICAgICAgICBleHRlbmQodGhpcywgdGVtcGxhdGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVUaW1lUmV2aXZlciAoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBhO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGEgPSAvXFwvRGF0ZVxcKChcXGQqKVxcKVxcLy8uZXhlYyh2YWx1ZSk7XG4gICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoK2FbMV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLy9sZXQgaW5mb1NlcmlhbCA9IDE7XG5leHBvcnQgZnVuY3Rpb24gc2hvd0luZm8gKG1zZykge1xuICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnaW5mbycsIHsgJ2RldGFpbCc6IG1zZyB9KTtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93RXJyb3IgKGVyck1zZzogc3RyaW5nIHwgRXJyb3IpIHtcbiAgICBjb25zdCBtc2cgPSB0eXBlb2YgZXJyTXNnID09PSAnc3RyaW5nJyA/IGVyck1zZyA6IGVyck1zZy5tZXNzYWdlO1xuICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnY3VzdG9tZXJyb3InLCB7ICdkZXRhaWwnOiBtc2cgfSk7XG4gICAgY29uc29sZS5lcnJvcihlcnJNc2cpO1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1heExlbmd0aChzdHI6IHN0cmluZywgbWF4TGVuOiBudW1iZXIpIHtcbiAgICByZXR1cm4gc3RyLmxlbmd0aCA+IG1heExlbiA/XG4gICAgICAgIHN0ci5zdWJzdHIoMCwgbWF4TGVuIC0gMykgKyBcIi4uLlwiIDpcbiAgICAgICAgc3RyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlUb0xvb2t1cDxUPihhOiBUW10sIGtleUFjY2Vzc29yOiAoaXRlbTogVCkgPT4gc3RyaW5nIHwgbnVtYmVyKSB7XG4gICAgY29uc3QgcmVzdWx0IDoge1trZXk6IHN0cmluZ10gOiBUW119ID0ge307XG4gICAgZm9yIChsZXQgaT0wLCBsPWEubGVuZ3RoOyBpPGw7ICsraSkge1xuICAgICAgICBjb25zdCBpdGVtID0gYVtpXTtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5QWNjZXNzb3IoaXRlbSk7XG4gICAgICAgIGxldCBhcnJheSA9IHJlc3VsdFtrZXldO1xuICAgICAgICBpZiAoYXJyYXkpIGFycmF5LnB1c2goaXRlbSk7XG4gICAgICAgIGVsc2UgcmVzdWx0W2tleV0gPSBbaXRlbV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVRvTWFwPFQ+KGE6IFRbXSwga2V5QWNjZXNzb3I6IChpdGVtOiBUKSA9PiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICBjb25zdCByZXN1bHQgOiB7W2tleTogc3RyaW5nXSA6IFR9ID0ge307XG4gICAgZm9yIChsZXQgaT0wLCBsPWEubGVuZ3RoOyBpPGw7ICsraSkge1xuICAgICAgICBjb25zdCBpdGVtID0gYVtpXTtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5QWNjZXNzb3IoaXRlbSk7XG4gICAgICAgIHJlc3VsdFtrZXldID0gaXRlbTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZXJyeVBpY2tQcm9wczxUPiAob2JqOiBULCBwcm9wc1RvUGljazogc3RyaW5nW10pOiBQYXJ0aWFsPFQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHBhcmFtIG9mIHByb3BzVG9QaWNrKSB7XG4gICAgICBpZiAocGFyYW0gaW4gb2JqKSByZXN1bHRbcGFyYW1dID0gb2JqW3BhcmFtXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCBhcyBQYXJ0aWFsPFQ+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3Q8VD4gKGE6IFRbXSwga2V5QWNjZXNzb3I/OiAoaXRlbTogVCkgPT4gYW55KSB7XG4gICAgY29uc3QgbWFwID0gYXJyYXlUb01hcChhLCBrZXlBY2Nlc3NvciB8fCAoeCA9PiB4KSk7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkubWFwKGtleSA9PiBtYXBba2V5XSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaGFsbG93RXF1YWxzKGE6IGFueSwgYjogYW55KSB7XG4gICAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICAgIGlmICghYSB8fCAhYikgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgYSAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIGIgIT09ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3Qga2V5c0EgPSBPYmplY3Qua2V5cyhhKTtcbiAgICBjb25zdCBrZXlzQiA9IE9iamVjdC5rZXlzKGIpO1xuICAgIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGk9MCwgbD1rZXlzQS5sZW5ndGg7IGk8bDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNBW2ldO1xuICAgICAgICBpZiAoa2V5c0JbaV0gIT09IGtleSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4iLCJ2YXIgQmVhcmVyU3RvcmFnZVNlc3Npb25TdG9yYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJlYXJlclN0b3JhZ2VTZXNzaW9uU3RvcmFnZSgpIHtcbiAgICB9XG4gICAgQmVhcmVyU3RvcmFnZVNlc3Npb25TdG9yYWdlLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKGlkLCB0b2tlbkluZm8pIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImJlYXJlci1cIiArIGlkLCBKU09OLnN0cmluZ2lmeSh0b2tlbkluZm8pKTtcbiAgICB9O1xuICAgIEJlYXJlclN0b3JhZ2VTZXNzaW9uU3RvcmFnZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGpzb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiYmVhcmVyLVwiICsgaWQpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShqc29uID8gSlNPTi5wYXJzZShqc29uKSA6IHsgdG9rZW46IG51bGwsIGV4cGlyZXM6IDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgdG9rZW46IG51bGwsIGV4cGlyZXM6IDAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCZWFyZXJTdG9yYWdlU2Vzc2lvblN0b3JhZ2U7XG59KCkpO1xuZXhwb3J0IHsgQmVhcmVyU3RvcmFnZVNlc3Npb25TdG9yYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iZWFyZXItc3RvcmFnZS1zZXNzaW9uc3RvcmFnZS5qcy5tYXAiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtaWdyYXRlVGFzayh0YXNrKSB7XG4gICAgaWYgKCF0YXNrLnJlc291cmNlcylcbiAgICAgICAgdGFzay5yZXNvdXJjZXMgPSBbXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pZ3JhdGUtdGFzay5qcy5tYXAiLCJpbXBvcnQgbWlncmF0ZUNvdXJzZSBmcm9tICcuL21pZ3JhdGUtY291cnNlJztcbmltcG9ydCBtaWdyYXRlVGFzayBmcm9tICcuL21pZ3JhdGUtdGFzayc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtaWdyYXRlKGRvYywgdGFibGUsIGdyYXBocykge1xuICAgIHN3aXRjaCAodGFibGUpIHtcbiAgICAgICAgY2FzZSBcImNvdXJzZXNcIjpcbiAgICAgICAgICAgIG1pZ3JhdGVDb3Vyc2UoZG9jLCBncmFwaHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0YXNrc1wiOlxuICAgICAgICAgICAgbWlncmF0ZVRhc2soZG9jKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pZ3JhdGUuanMubWFwIiwiaW1wb3J0IG1pZ3JhdGVUYXNrIGZyb20gJy4vbWlncmF0ZS10YXNrJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1pZ3JhdGVDb3Vyc2UoY291cnNlLCBncmFwaHMpIHtcbiAgICBpZiAoIWNvdXJzZS5tb2R1bGVzKVxuICAgICAgICBjb3Vyc2UubW9kdWxlcyA9IFtdO1xuICAgIGNvdXJzZS5tb2R1bGVzLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgICAgICBpZiAoIW1vZHVsZS5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIG1vZHVsZS5yZXNvdXJjZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1vZHVsZS50YXNrSWRzKSB7XG4gICAgICAgICAgICBtb2R1bGUudGFza0lkcyA9IFtdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFjb3Vyc2UucmVzcG9uc2libGVUZWFjaGVycykge1xuICAgICAgICBjb3Vyc2UucmVzcG9uc2libGVUZWFjaGVycyA9IFtdO1xuICAgIH1cbiAgICAvLyBFYXJsaWVyIHdyb25nIHNwZWxsaW5nIG9mIHJlc291cmNlc1xuICAgIGlmICgncmVzb3Vyc2VzJyBpbiBjb3Vyc2UgJiYgISgncmVzb3VyY2VzJyBpbiBjb3Vyc2UpKSB7XG4gICAgICAgIGNvdXJzZS5yZXNvdXJjZXMgPSBjb3Vyc2UucmVzb3Vyc2VzO1xuICAgICAgICBkZWxldGUgY291cnNlLnJlc291cnNlcztcbiAgICB9XG4gICAgaWYgKCFjb3Vyc2UucmVzb3VyY2VzKSB7XG4gICAgICAgIGNvdXJzZS5yZXNvdXJjZXMgPSBbXTtcbiAgICB9XG4gICAgaWYgKGdyYXBocykge1xuICAgICAgICBncmFwaHMuZm9yRWFjaChmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgICAgICAgIHN3aXRjaCAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0YXNrcyc6XG4gICAgICAgICAgICAgICAgICAgIGNvdXJzZS50YXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrKSB7IHJldHVybiBtaWdyYXRlVGFzayh0YXNrKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taWdyYXRlLWNvdXJzZS5qcy5tYXAiLCJpbXBvcnQgbWlncmF0ZSBmcm9tICcuL21pZ3JhdGUnO1xuZXhwb3J0IHZhciBLZWRNb2RlbE1pZ3JhdG9yTWl4aW4gPSBmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgaWYgKGNsaWVudC5fX21pZ3JhdG9yX21peGVkX2luKVxuICAgICAgICByZXR1cm47XG4gICAgY2xpZW50Ll9fbWlncmF0b3JfbWl4ZWRfaW4gPSB0cnVlO1xuICAgIHZhciBnZXQgPSBjbGllbnQuZ2V0O1xuICAgIHZhciBsaXN0ID0gY2xpZW50Lmxpc3Q7XG4gICAgY2xpZW50LmdldCA9IGZ1bmN0aW9uICh0YWJsZSwgaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGluY2x1ZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuaW5jbHVkZTtcbiAgICAgICAgcmV0dXJuIGdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgbWlncmF0ZShyZXN1bHQsIHRhYmxlLCBpbmNsdWRlICYmIGluY2x1ZGUudG9TdHJpbmcoKS5zcGxpdCgnLCcpKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY2xpZW50Lmxpc3QgPSBmdW5jdGlvbiAodGFibGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGluY2x1ZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuaW5jbHVkZTtcbiAgICAgICAgcmV0dXJuIGxpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsgcmV0dXJuIG1pZ3JhdGUoZG9jLCB0YWJsZSwgaW5jbHVkZSAmJiBpbmNsdWRlLnRvU3RyaW5nKCkuc3BsaXQoJywnKSk7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gY2xpZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsInZhciByZWRpckhhc2ggPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwicmVkaXItaGFzaFwiKTtcbmlmIChyZWRpckhhc2gpXG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIF9hID0gSlNPTi5wYXJzZShyZWRpckhhc2gpLCB0aW1lID0gX2EudGltZSwgaGFzaCA9IF9hLmhhc2g7XG4gICAgICAgIGlmICh0aW1lICYmIHRpbWUgPiBEYXRlLm5vdygpIC0gNjAwMDApIHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJyZWRpci1oYXNoXCIpO1xuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKF8pIHsgfVxuZXhwb3J0IGZ1bmN0aW9uIHJlbWVtYmVySGFzaExvY2F0aW9uKCkge1xuICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJyZWRpci1oYXNoXCIsIEpTT04uc3RyaW5naWZ5KHsgdGltZTogRGF0ZS5ub3coKSwgaGFzaDogbG9jYXRpb24uaGFzaCB9KSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYXNoLXJlc3RvcmVyLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBLZWRCYWNrZW5kQ2xpZW50LCBIdHRwRXJyb3IgfSBmcm9tICcuLi9rZWQtYmFja2VuZC1jbGllbnQnO1xuaW1wb3J0IHsgQmVhcmVyU3RvcmFnZVNlc3Npb25TdG9yYWdlIH0gZnJvbSBcIi4vYmVhcmVyLXN0b3JhZ2Utc2Vzc2lvbnN0b3JhZ2VcIjtcbmltcG9ydCB7IGF2b2lkU2ltdWx0YW5vdXNDYWxscyB9IGZyb20gJy4uL2tlZC1iYWNrZW5kLWNsaWVudC91dGlscyc7XG5pbXBvcnQgeyBLZWRNb2RlbE1pZ3JhdG9yTWl4aW4gfSBmcm9tICcuLi9rZWQtbW9kZWwtbWlncmF0b3InO1xuaW1wb3J0ICcuL2hhc2gtcmVzdG9yZXInO1xuaW1wb3J0IHsgcmVtZW1iZXJIYXNoTG9jYXRpb24gfSBmcm9tICcuL2hhc2gtcmVzdG9yZXInO1xuS2VkTW9kZWxNaWdyYXRvck1peGluKEtlZEJhY2tlbmRDbGllbnQucHJvdG90eXBlKTtcbmV4cG9ydCB2YXIgc3RvcmFnZSA9IG5ldyBCZWFyZXJTdG9yYWdlU2Vzc2lvblN0b3JhZ2UoKTtcbnZhciB0aW1lT2ZQYWdlTG9hZCA9IERhdGUubm93KCk7XG52YXIgV2ViU2VydmVyQmVhcmVyUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2ViU2VydmVyQmVhcmVyUHJvdmlkZXIodG9rZW5QYXRoLCB0b2tlblJlc3BvbnNlTWFwcGVyLCB0b2tlbklkKSB7XG4gICAgICAgIHRoaXMudG9rZW5QYXRoID0gdG9rZW5QYXRoO1xuICAgICAgICB0aGlzLnRva2VuUmVzcG9uc2VNYXBwZXIgPSB0b2tlblJlc3BvbnNlTWFwcGVyO1xuICAgICAgICB0aGlzLnRva2VuSWQgPSB0b2tlbklkO1xuICAgICAgICB0aGlzLnRva2VuSW5mbyA9IHsgdG9rZW46IG51bGwsIGV4cGlyZXM6IDAgfTtcbiAgICAgICAgdGhpcy5nZXRCZWFyZXIgPSBhdm9pZFNpbXVsdGFub3VzQ2FsbHModGhpcy5nZXRCZWFyZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucmVmcmVzaEJlYXJlciA9IGF2b2lkU2ltdWx0YW5vdXNDYWxscyh0aGlzLnJlZnJlc2hCZWFyZXIuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIFdlYlNlcnZlckJlYXJlclByb3ZpZGVyLnByb3RvdHlwZS5nZXRCZWFyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0c2xpYl8xLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLnRva2VuSW5mby50b2tlbikgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudG9rZW5JZCkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdG9yYWdlLmxvYWQodGhpcy50b2tlbklkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRva2VuSW5mbyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy50b2tlbkluZm8uZXhwaXJlcyA8IERhdGUubm93KCkpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVmcmVzaEJlYXJlcigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnRva2VuSW5mb107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgV2ViU2VydmVyQmVhcmVyUHJvdmlkZXIucHJvdG90eXBlLnJlZnJlc2hCZWFyZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0c2xpYl8xLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcywgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2UpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9lLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2godGhpcy50b2tlblBhdGgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogXCJ0ZXh0L3BsYWluOyBhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogJ21hbnVhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6ICduby1jYWNoZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMzAyIHx8ICghcmVzLnN0YXR1cyAmJiByZXMudHlwZSA9PT0gXCJvcGFxdWVyZWRpcmVjdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgc2Vzc2lvbiB0aW1lZCBvdXQgYW5kIHNlcnZlciB3YW50cyB0byByZWRpcmVjdCBlbnRpcmUgcGFnZSB0byBsb2dpbiBwYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGltZSB0byByZWxvYWQgY3VycmVudCBwYWdlIHRvIGZvcmNlIGEgcmVkaXJlY3Qgb2YgdGhlIGVudGlyZSBwYWdlIGluc3RlYWQgZm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ganVzdCByZWRpcmVjdGluZyB0byAvYXBpL3Rva2VuIG9yIHdoYXRldmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGltZU9mUGFnZUxvYWQgPiA2MDAwMCkgeyAvLyBwcm9oaWJpdCBlbmRsZXNzIGxvb3Agb2YgcmVsb2FkaW5nIHNlbGYuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FudHNSZWRpcmVjdCA9IHRydWU7IC8vIFNvIHRoYXQgbGlzdGVuZXJzIHRvIG9uYmVmb3JldW5sb2FkIGNvdWxkIHNob3cgYWx0ZXJuYXRlIG1lc3NhZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVkaXJlY3Qgd2FudGVkLiBSZWxvYWQgcGFnZS5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWVtYmVySGFzaExvY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoMzAyLCBcIlJlZGlyZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyAhPSAyMDApKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gRXJyb3IuYmluZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gXCJIVFRQXCIgKyByZXMuc3RhdHVzICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXMudGV4dCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiB0aHJvdyBuZXcgKF9hLmFwcGx5KEVycm9yLCBbdm9pZCAwLCBfYiArIChfZS5zZW50KCkpXSkpKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gdGhpcy50b2tlblJlc3BvbnNlTWFwcGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLnRleHQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRva2VuSW5mbyA9IF9kLmFwcGx5KHRoaXMsIFtfZS5zZW50KCldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2F2ZSh0aGlzLnRva2VuSWQsIHRoaXMudG9rZW5JbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnRva2VuSW5mb107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFdlYlNlcnZlckJlYXJlclByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydCB7IFdlYlNlcnZlckJlYXJlclByb3ZpZGVyIH07XG5leHBvcnQgdmFyIGlzb21vcnBoaWMgPSB7IGZldGNoOiBmZXRjaC5iaW5kKHNlbGYpLCBidG9hOiBidG9hLmJpbmQoc2VsZikgfTtcbnZhciBLZWRCYWNrZW5kQ2xpZW50V2ViID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEtlZEJhY2tlbmRDbGllbnRXZWIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gS2VkQmFja2VuZENsaWVudFdlYihhcGlCYXNlVXJsLCBwcm92aWRlck9yVG9rZW5QYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBiZWFyZXJQcm92aWRlciA9IHR5cGVvZiBwcm92aWRlck9yVG9rZW5QYXRoICE9PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICBwcm92aWRlck9yVG9rZW5QYXRoIDpcbiAgICAgICAgICAgIG5ldyBXZWJTZXJ2ZXJCZWFyZXJQcm92aWRlcihwcm92aWRlck9yVG9rZW5QYXRoLCAob3B0aW9ucyAmJiBvcHRpb25zLnRva2VuUmVzcG9uc2VNYXBwZXIpIHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHsgdG9rZW46IHgsIGV4cGlyZXM6IERhdGUubm93KCkgKyA1OSAqIDYwICogNjAgfSk7IH0pLCBvcHRpb25zICYmIG9wdGlvbnMudG9rZW5JZCk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaXNvbW9ycGhpYywgYmVhcmVyUHJvdmlkZXIsIGFwaUJhc2VVcmwpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEtlZEJhY2tlbmRDbGllbnRXZWI7XG59KEtlZEJhY2tlbmRDbGllbnQpKTtcbmV4cG9ydCB7IEtlZEJhY2tlbmRDbGllbnRXZWIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImV4cG9ydCAqIGZyb20gJy4vanMvZGlzdC9qcy9rZWQtYmFja2VuZC1jbGllbnQtd2ViJzsiLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBUZXJtLCBBY2FkZW1pY1llYXIgfSBmcm9tICcuLi9jb250cmFjdHMva2VkLW1vZGVscyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Nob29sTW9tZW50IHtcbiAgYWNhZGVtaWNZZWFyOiBBY2FkZW1pY1llYXI7XG4gIHRlcm06IFRlcm07XG4gIHdlZWs/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdEFuZExhc3RXZWVrT2ZUZXJtKHRlcm06IFRlcm0pIHtcbiAgcmV0dXJuIHRlcm0gPT09ICdBVCcgP1xuICAgIFszMiwgNTFdIDpcbiAgICBbMSwgMjVdO1xufVxuXG4vL05vdCB1c2VkIGFueW1vcmVcbi8vIGV4cG9ydCBmdW5jdGlvbiBnZXRUZXJtU3RhcnRBbmRFbmQobm93OiBtb21lbnQuTW9tZW50KSA6IG1vbWVudC5Nb21lbnRbXSB7XG4vLyAgICAgcmV0dXJuIG5vdy5tb250aCgpID49IDYgPyAvLyA2ID0gSnVseSBpbiBKUyBEYXRlcyBhbmQgaW4gbW9tZW50IGFzIHdlbGwhXG4vLyAgICAgW21vbWVudChuZXcgRGF0ZShub3cueWVhcigpLCA3LCAxKSksIG1vbWVudChuZXcgRGF0ZShub3cueWVhcigpLCAxMSwgMzEpKV0gOiAvLyBhdWcxIC0gZGVjMzFcbi8vICAgICBbbW9tZW50KG5ldyBEYXRlKG5vdy55ZWFyKCksIDAsIDEpKSwgbW9tZW50KG5ldyBEYXRlKG5vdy55ZWFyKCksIDYsIDMxKSldOyAvLyBqYW4xIC0ganVseTMxXG4vLyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXJtU3RhckVuZERhdGUoZGF0ZTogRGF0ZSwgaXNGaXJzdFRlcm06IGJvb2xlYW4pOiBtb21lbnQuTW9tZW50W10ge1xuICB2YXIgYWRkWWVhciA9IGRhdGUuZ2V0TW9udGgoKSA+PSA3O1xuICB2YXIgdGVybVllYXIgPSBudWxsO1xuXG4gIGlmIChhZGRZZWFyKSB7XG4gICAgdGVybVllYXIgPSBpc0ZpcnN0VGVybSA/IGRhdGUuZ2V0RnVsbFllYXIoKSA6IGRhdGUuZ2V0RnVsbFllYXIoKSArIDE7XG4gIH0gZWxzZSB7XG4gICAgdGVybVllYXIgPSBpc0ZpcnN0VGVybSA/IGRhdGUuZ2V0RnVsbFllYXIoKSAtIDEgOiBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gIH1cblxuICB2YXIgdGVybVllYXJNb21lbnQgPSBtb21lbnQodGVybVllYXIudG9TdHJpbmcoKSwgXCJZWVlZXCIpO1xuXG4gIGlmICh0ZXJtWWVhck1vbWVudC53ZWVrKCkgIT0gMSkge1xuICAgIHRlcm1ZZWFyTW9tZW50ID0gdGVybVllYXJNb21lbnQuY2xvbmUoKS5hZGQoMSwgJ3dlZWsnKTtcbiAgfVxuXG4gIHJldHVybiBpc0ZpcnN0VGVybSA/IFttb21lbnQodGVybVllYXJNb21lbnQuY2xvbmUoKSkud2VlaygzMikuc3RhcnRPZignd2VlaycpLCBtb21lbnQodGVybVllYXJNb21lbnQuY2xvbmUoKSkud2Vlayg1MSkuZW5kT2YoJ3dlZWsnKV0gOlxuICAgIFttb21lbnQodGVybVllYXJNb21lbnQuY2xvbmUoKSksIG1vbWVudCh0ZXJtWWVhck1vbWVudC5jbG9uZSgpKS53ZWVrKDI1KS5lbmRPZignd2VlaycpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjaG9vbE1vbWVudChtOiBtb21lbnQuTW9tZW50KTogU2Nob29sTW9tZW50IHtcbiAgY29uc3QgdGhpc1llYXIgPSBtLnllYXIoKTtcbiAgY29uc3QgaXNBdXR1bW4gPSBtLm1vbnRoKCkgPj0gNjsgLy8gZGV0ZXJtaW5lIFxuICBjb25zdCBbYXV0dW1uWWVhciwgc3ByaW5nWWVhcl0gPSBpc0F1dHVtbiA/XG4gICAgW3RoaXNZZWFyLCB0aGlzWWVhciArIDFdIDpcbiAgICBbdGhpc1llYXIgLSAxLCB0aGlzWWVhcl07XG4gIGNvbnN0IGFjYWRlbWljWWVhciA9ICcnICsgYXV0dW1uWWVhciArICcvJyArIHNwcmluZ1llYXI7XG4gIGNvbnN0IHRlcm0gPSBpc0F1dHVtbiA/ICdBVCcgOiAnU1QnO1xuICBjb25zdCB3ZWVrID0gbS53ZWVrKCk7XG4gIHJldHVybiB7IGFjYWRlbWljWWVhciwgdGVybSwgd2VlayB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkWWVhcihhWWVhcjogQWNhZGVtaWNZZWFyLCBudW1ZZWFyc1RvQWRkOiBudW1iZXIpOiBBY2FkZW1pY1llYXIge1xuICByZXR1cm4gYVllYXIuc3BsaXQoJy8nKVxuICAgIC5tYXAoeWVhclN0ciA9PiBwYXJzZUludCh5ZWFyU3RyKSArIG51bVllYXJzVG9BZGQpXG4gICAgLm1hcCh5ZWFyID0+ICcnICsgeWVhcilcbiAgICAuam9pbignLycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV4dEFjYWRlbWljWWVhcihhWWVhcjogQWNhZGVtaWNZZWFyKTogQWNhZGVtaWNZZWFyIHtcbiAgcmV0dXJuIGFkZFllYXIoYVllYXIsIDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJldkFjYWRlbWljWWVhcihhWWVhcjogQWNhZGVtaWNZZWFyKTogQWNhZGVtaWNZZWFyIHtcbiAgcmV0dXJuIGFkZFllYXIoYVllYXIsIC0xKTtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdrZWRiYWNrZW5kL29ic2VydmFibGUnO1xuaW1wb3J0IHsgTGl2ZVF1ZXJ5VmlldyB9IGZyb20gJy4vbGl2ZS1xdWVyeS12aWV3JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgY2hpbGRyZW46IE9ic2VydmFibGU8SlNYLkVsZW1lbnQ+O1xuICBzcGlubmVyPzogSlNYLkVsZW1lbnQ7XG4gIG5vRXJyb3I/OiBib29sZWFuO1xuICBvbkVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gSlNYLkVsZW1lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXp5Q29udGVudCh7Y2hpbGRyZW4sIHNwaW5uZXIsIG9uRXJyb3IsIG5vRXJyb3J9OiBQcm9wcykge1xuICByZXR1cm4gPExpdmVRdWVyeVZpZXdcbiAgICBwcm9wcz17Y2hpbGRyZW59XG4gICAgc3Bpbm5lcj17c3Bpbm5lcn1cbiAgICBub0Vycm9yPXtub0Vycm9yfVxuICAgIG9uRXJyb3I9e29uRXJyb3J9XG4gICAgZm49e29ic2VydmFibGUgPT4gb2JzZXJ2YWJsZX0gLz47XG59XG4iLCJcbmV4cG9ydCBjb25zdCBLRURfTkFNRVNQQUNFID0gXCJLRURcIjtcblxuZGVjbGFyZSB2YXIgS0VEOiBhbnk7XG5cbnZhciByZXN1bHQgPSB0eXBlb2YgS0VEID09PSAndW5kZWZpbmVkJyA/IHt9IDogS0VEO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEtFRCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3dbS0VEX05BTUVTUEFDRV0gPSByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc3VsdDtcbiIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL3ZhbHVlXCI7XG52YXIgRW1pdHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhFbWl0dGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVtaXR0ZXIoaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc3Vic2NyaWJlcnMgPSBfdGhpcy5zdWJzY3JpYmVycy5maWx0ZXIoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gX2FbMF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzICE9PSBvYnNlcnZlcjtcbiAgICAgICAgICAgICAgICB9KTsgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmVycy5wdXNoKFtvYnNlcnZlciwgc3Vic2NyaXB0aW9uXSk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZXJyb3IpXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIobnVsbCwgX3RoaXMuZXJyb3IsIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIoX3RoaXMudmFsdWUsIHVuZGVmaW5lZCwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZXJzID0gW107XG4gICAgICAgIF90aGlzLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEVtaXR0ZXIucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2goKTtcbiAgICB9O1xuICAgIEVtaXR0ZXIucHJvdG90eXBlLmRpc3BhdGNoRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLl9kaXNwYXRjaCgpO1xuICAgIH07XG4gICAgRW1pdHRlci5wcm90b3R5cGUuX2Rpc3BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBfYVswXSwgc3Vic2NyaXB0aW9uID0gX2FbMV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyKF90aGlzLnZhbHVlLCBfdGhpcy5lcnJvciwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlcihudWxsLCBlcnIsIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEVtaXR0ZXI7XG59KFZhbHVlKSk7XG5leHBvcnQgeyBFbWl0dGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbWl0dGVyLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4vb2JzZXJ2YWJsZVwiO1xuaW1wb3J0IHsgaW5pdE1hcE1ldGhvZCB9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gXCIuL2NvbGxlY3Rpb25cIjtcbmltcG9ydCB7IEZpYmVyQ29udGV4dCB9IGZyb20gJy4vZmliZXItY29udGV4dCc7XG52YXIgVmFsdWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVmFsdWUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmFsdWUoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBzdWJzY3JpYmUpIHx8IHRoaXM7XG4gICAgfVxuICAgIFZhbHVlLmZyb20gPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBpZiAoeC5zdWJzY3JpYmUpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlKGZ1bmN0aW9uIChzKSB7IHJldHVybiB4LnN1YnNjcmliZShzKTsgfSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZhbHVlLmZyb20oKSBjYW4gb25seSB0YWtlIG9ic2VydmFibGVzXCIpO1xuICAgIH07XG4gICAgVmFsdWUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXNvbHZlZCA9IGZhbHNlLCByZXN1bHQsIGVyciwgbm90aWZ5O1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlLCBlcnJvciwgc3Vic2NpcHRpb24pIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgZXJyID0gZXJyb3I7XG4gICAgICAgICAgICBpZiAoZXJyb3IgJiYgbm90aWZ5KVxuICAgICAgICAgICAgICAgIG5vdGlmeShudWxsLCBlcnJvciwgc3Vic2NpcHRpb24pO1xuICAgICAgICAgICAgZWxzZSBpZiAobm90aWZ5KVxuICAgICAgICAgICAgICAgIG5vdGlmeSh2YWx1ZSwgbnVsbCwgc3Vic2NpcHRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEZpYmVyID0gRmliZXJDb250ZXh0LmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRGaWJlcikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgRmliZXIgQ29udGV4dFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IGN1cnJlbnRGaWJlci5zdWJzY3JpcHRpb25zLCBvYnNlcnZlciA9IGN1cnJlbnRGaWJlci5vYnNlcnZlcjtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgbm90aWZ5ID0gb2JzZXJ2ZXI7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIG5vdGlmeSA9IGZ1bmN0aW9uICh2YWx1ZSwgZXJyb3IsIHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYWx1ZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUsIGVycm9yLCBzdWJzY2lwdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYWx1ZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgVmFsdWUoZnVuY3Rpb24gKG9ic2VydmVyKSB7IHJldHVybiBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlLCBlcnJvciwgc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIobnVsbCwgZXJyb3IsIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBlbHNlIGlmIChmbih2YWx1ZSkpXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIodmFsdWUsIGVycm9yLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICB9KTsgfSk7XG4gICAgfTtcbiAgICBWYWx1ZS5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByZWZpeCwgeCk7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYWx1ZS5wcm90b3R5cGUudG9Db2xsZWN0aW9uID0gZnVuY3Rpb24gKG1hcHBlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb24oZnVuY3Rpb24gKHMpIHsgcmV0dXJuIF90aGlzLm1hcChtYXBwZXIpLnN1YnNjcmliZShzKTsgfSk7XG4gICAgfTtcbiAgICBWYWx1ZS5wcm90b3R5cGUuY29tYmluZUxhdGVzdCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtudWxsLCBudWxsXTtcbiAgICAgICAgICAgIHZhciBteVN1YnNjcmlwdGlvbiwgb3RoZXJTdWJzY3JpcHRpb247XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0ge1xuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG15U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG15U3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uIChpdGVtcywgZXJyb3IsIHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcihudWxsLCBlcnJvciwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWVzWzBdID0gaXRlbXM7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1sxXSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIodmFsdWVzLCBudWxsLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvdGhlclN1YnNjcmlwdGlvbiA9IG90aGVyLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUsIGVycm9yLCBzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIobnVsbCwgZXJyb3IsIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlc1sxXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbMF0gIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyKHZhbHVlcywgbnVsbCwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYWx1ZS5wcm90b3R5cGUuc3dpdGNoTWFwID0gZnVuY3Rpb24gKG1hcHBlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgdmFyIG1hcHBlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByZXR1cm5lZFN1YnNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcHBlZFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGVkU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBwZWRTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoaXRlbSwgZXJyb3IsIHMpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBzO1xuICAgICAgICAgICAgICAgIGlmIChtYXBwZWRTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwcGVkU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1hcHBlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIobnVsbCwgZXJyb3IsIHJldHVybmVkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlT3JWYWx1ZSA9IG1hcHBlcihpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYnNlcnZhYmxlT3JWYWx1ZSAmJiB0eXBlb2Ygb2JzZXJ2YWJsZU9yVmFsdWUuc3Vic2NyaWJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGVkU3Vic2NyaXB0aW9uID0gb2JzZXJ2YWJsZU9yVmFsdWUuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSwgZXJyb3IsIHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGVkU3Vic2NyaXB0aW9uID0gcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIodmFsdWUsIGVycm9yLCByZXR1cm5lZFN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcihvYnNlcnZhYmxlT3JWYWx1ZSwgbnVsbCwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyKG51bGwsIGVycm9yLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuZWRTdWJzY3JpcHRpb247XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFZhbHVlO1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBWYWx1ZSB9O1xuVmFsdWUucHJvdG90eXBlLm1hcCA9IGluaXRNYXBNZXRob2QoVmFsdWUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsdWUuanMubWFwIiwidmFyIE9ic2VydmFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLy9zdGF0aWMgZ2V0IFtTeW1ib2wuc3BlY2llc10oKSB7IHJldHVybiB0aGlzOyB9XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShfc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IF9zdWJzY3JpYmU7XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShmdW5jdGlvbiAoaXRlbXMsIGVycm9yLCBzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlcihpdGVtcywgZXJyb3IsIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIobnVsbCwgZXJyLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIobnVsbCwgZXJyb3IsIHsgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHsgfSB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgJy4uLy4uL2dsb2JhbC1zZXR0ZXJzL3NldC1hbGwnO1xuaW1wb3J0IGVudiBmcm9tICcuLi8uLi9nbG9iYWxzL0tFRC5lbnYnO1xuaW1wb3J0IGNmZyBmcm9tICcuLi8uLi9nbG9iYWxzL0tFRC5jZmcnO1xuY29uc3QgYmVhcmVyUHJvbWlzZSA9IGVudi5iZWFyZXJQcm92aWRlci5nZXRCZWFyZXIoKTsgLy8gU3RhcnQgZ2V0dGluZyBiZWFyZXIgYXMgc29vbiBhcyBwb3NzaWJsZS5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRlYWNoZXJWaWV3QXBwIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy90ZWFjaGVyLXZpZXcnO1xuaW1wb3J0IHsgc2hvd0Vycm9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IHsgU3Bpbm5lciB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY291cnNlLWJ1aWxkZXIvc3ViLWNvbXBvbmVudHMvc3Bpbm5lcic7XG5pbXBvcnQgeyBMYW5ndWFnZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3V0aWxpdHktY29tcG9uZW50cy9MYW5ndWFnZUNvbnRleHQnO1xuaW1wb3J0IHsgSW5qZWN0ZWRJbnRsUHJvcHMsIGluamVjdEludGwgfSBmcm9tICdyZWFjdC1pbnRsJztcbmltcG9ydCB7IHNldHVwSW50bCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdXRpbGl0eS1jb21wb25lbnRzL1NldHVwTGFuZ3VhZ2VJbnRsJztcblxuXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBJbmplY3RlZEludGxQcm9wc3tcbn1cbiAgXG4gIGludGVyZmFjZSBTdGF0ZSB7XG4gICAgaXNUb2tlbkxvYWRlZDogYm9vbGVhbjtcbiAgfVxuICBcblxuY2xhc3MgX0tFREFwcFRlYWNoZXJWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLFN0YXRlPiB7XG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBpc1Rva2VuTG9hZGVkOiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICBiZWFyZXJQcm9taXNlLnRoZW4oKCk9PntcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1Rva2VuTG9hZGVkOiB0cnVlfSk7XG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgc2hvd0Vycm9yKGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtpbnRsfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmlzVG9rZW5Mb2FkZWQgP1xuICAgICAgICAgIDxMYW5ndWFnZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgaW50bCB9fT5cbiAgICAgICAgICAgIDxUZWFjaGVyVmlld0FwcCBjb3Vyc2VCdWlsZGVyVXJsPXtjZmcuS0VEX0NPVVJTRV9CVUlMREVSX1VSTH0vPlxuICAgICAgICAgIDwvTGFuZ3VhZ2VDb250ZXh0LlByb3ZpZGVyPiA6XG4gICAgICAgICAgPHA+PFNwaW5uZXIgLz5WLmcuIHbDpG50YS4uLiBhdXRlbnRpY2VyYXIuLi48L3A+XG4gICAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBLRURBcHBUZWFjaGVyVmlldyA9IHNldHVwSW50bChpbmplY3RJbnRsKF9LRURBcHBUZWFjaGVyVmlldykpOyIsImltcG9ydCBLRUQgZnJvbSAnLi4vLi4vZ2xvYmFscy9LRUQnO1xuaW1wb3J0IHtLRURBcHBUZWFjaGVyVmlld30gZnJvbSAnLi9hcHAudGVhY2hlcnZpZXcuY2xpZW50JztcblxuLy8gQWRkIEtFREFwcFRlYWNoZXJWaWV3IHRvIHRoZSBzZXQgb2YgY29tcG9uZW50cyBpbiBLRUQuY29tcG9uZW50c1xuS0VELmNvbXBvbmVudHMgPSB7Li4uS0VELmNvbXBvbmVudHMsIEtFREFwcFRlYWNoZXJWaWV3fTtcbiIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcIi4vb2JzZXJ2YWJsZVwiO1xuaW1wb3J0IHsgaW5pdE1hcE1ldGhvZCB9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi92YWx1ZVwiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCIuL2VtaXR0ZXJcIjtcbnZhciBDb2xsZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbGxlY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbihzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHN1YnNjcmliZSkgfHwgdGhpcztcbiAgICB9XG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuX21hcCA9IGZ1bmN0aW9uIChtYXBwZXIpIHtcbiAgICAgICAgdGhyb3cgXCJtaXhlZGluXCI7XG4gICAgfTtcbiAgICBDb2xsZWN0aW9uLmZyb20gPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBpZiAoeC5zdWJzY3JpYmUpXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb24oZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHguc3Vic2NyaWJlKHMpOyB9KTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICAgICAgICAgIHZhciBlbWl0dGVyXzEgPSBuZXcgRW1pdHRlcih4KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvbihmdW5jdGlvbiAocykgeyByZXR1cm4gZW1pdHRlcl8xLnN1YnNjcmliZShzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT2JzZXJ2YWJsZUNvbGxlY3Rpb24uZnJvbSgpIGNhbiBvbmx5IHRha2UgYXJyYXlzIG9yIG9ic2VydmFibGVzXCIpO1xuICAgIH07XG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKG1hcHBlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwKGZ1bmN0aW9uIChpdGVtcykgeyByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBtYXBwZXIoaXRlbSk7IH0pOyB9KTtcbiAgICB9O1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmZsYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAoZnVuY3Rpb24gKGl0ZW1zKSB7IHJldHVybiBbXS5jb25jYXQuYXBwbHkoW10sIGl0ZW1zKTsgfSk7XG4gICAgfTtcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAoZnVuY3Rpb24gKGl0ZW1zKSB7IHJldHVybiBpdGVtcy5maWx0ZXIoZmlsdGVyKTsgfSk7XG4gICAgfTtcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIENvbGxlY3Rpb24uZnJvbSh0aGlzLnRvVmFsdWUoKS5jb21iaW5lTGF0ZXN0KG90aGVyKS5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgbWUgPSBfYVswXSwgb3RoZXIgPSBfYVsxXTtcbiAgICAgICAgICAgIHJldHVybiBtZS5jb25jYXQob3RoZXIpO1xuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5vcmRlckJ5ID0gZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZSgpLm1hcChmdW5jdGlvbiAoYXJyYXkpIHsgcmV0dXJuIGFycmF5LnNsaWNlKCkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgdmFyIGFQcm9wID0gYSAmJiBhW3Byb3BdO1xuICAgICAgICAgICAgdmFyIGJQcm9wID0gYiAmJiBiW3Byb3BdO1xuICAgICAgICAgICAgcmV0dXJuIGFQcm9wID4gYlByb3AgPyAxIDogYVByb3AgPCBiUHJvcCA/IC0xIDogMDtcbiAgICAgICAgfSk7IH0pLnRvQ29sbGVjdGlvbihmdW5jdGlvbiAoeCkgeyByZXR1cm4geDsgfSk7XG4gICAgfTtcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS50b1ZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlKGZ1bmN0aW9uIChzKSB7IHJldHVybiBfdGhpcy5zdWJzY3JpYmUocyk7IH0pO1xuICAgIH07XG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ3JvdXBCeSA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoKS5tYXAoZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgICAgICB2YXIgcnYgPSB7fTtcbiAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHJ2W2l0ZW1bcHJvcF1dIHx8IChydltpdGVtW3Byb3BdXSA9IFtdKTtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZSgpLm1hcChmdW5jdGlvbiAoYXJyKSB7IHJldHVybiBhcnJbMF07IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIENvbGxlY3Rpb247XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IENvbGxlY3Rpb24gfTtcbkNvbGxlY3Rpb24ucHJvdG90eXBlLl9tYXAgPSBpbml0TWFwTWV0aG9kKENvbGxlY3Rpb24pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGVjdGlvbi5qcy5tYXAiLCJleHBvcnQgKiBmcm9tICcuL2pzL2Rpc3QvanMvb2JzZXJ2YWJsZSc7XG4iLCJleHBvcnQgKiBmcm9tICcuL29ic2VydmFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi92YWx1ZSc7XG5leHBvcnQgKiBmcm9tICcuL2NvbGxlY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9lbWl0dGVyJztcbmV4cG9ydCAqIGZyb20gJy4vZmliZXItY29udGV4dCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcbmV4cG9ydCBjb25zdCBLRURfTkFNRVNQQUNFID0gXCJLRURcIjtcblxuZGVjbGFyZSB2YXIgS0VEOiBhbnk7XG5cbnZhciByZXN1bHQgPSB0eXBlb2YgS0VEID09PSAndW5kZWZpbmVkJyA/IHt9IDogS0VEO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEtFRCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3dbS0VEX05BTUVTUEFDRV0gPSByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc3VsdDtcbiIsImltcG9ydCB7VXNlciwgTGVhcm5pbmdNb2R1bGVUYXNrc30gZnJvbSAnLi4vY29udHJhY3RzL2tlZC1tb2RlbHMnO1xuaW1wb3J0IHsgS2VkQmFja2VuZENsaWVudCwgQmVhcmVyUHJvdmlkZXIgfSBmcm9tICdrZWRiYWNrZW5kL2NsaWVudCc7XG5pbXBvcnQge1VzZXJUYXNrfSBmcm9tICdrZWRiYWNrZW5kL21vZGVscyc7XG5pbXBvcnQge0tlZFJlcG99IGZyb20gJy4uL3JlcG9zL2tlZC1yZXBvJztcbmltcG9ydCB7RWRzQ2xpZW50fSBmcm9tICcuLi9hcGlzL2Vkc2NsaWVudCc7XG5pbXBvcnQgS0VEIGZyb20gJy4va2VkJztcbmltcG9ydCB7IEtTVGVybVBsYW5uZXJSZXBvIH0gZnJvbSAnLi4vcmVwb3Mva3MtdGVybXBsYW5uZXItcmVwbyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW52IHtcbiAgICBjdXJyZW50VXNlcj86IFVzZXI7XG4gICAgbGVhcm5pbmdNb2R1bGVUYXNrcz86IExlYXJuaW5nTW9kdWxlVGFza3M7XG4gICAgYmVhcmVyUHJvdmlkZXI/OiBCZWFyZXJQcm92aWRlcjtcbiAgICBnb29nbGVUb2tlblByb3ZpZGVyPzogQmVhcmVyUHJvdmlkZXI7XG4gICAga2VkQmFja2VuZENsaWVudD86IEtlZEJhY2tlbmRDbGllbnQ7XG4gICAgZWRzQ2xpZW50PzogRWRzQ2xpZW50O1xuICAgIHVzZXJUYXNrc1JlcG8/O1xuICAgIGhpZGRlbkNvdXJzZXNSZXBvPztcbiAgICB3ZWVrTm90ZXNSZXBvPztcbiAgICBrZ1Rlcm1QbGFubmVyUmVwbz87XG4gICAga3NUZXJtUGxhbm5lclJlcG8/OiBLU1Rlcm1QbGFubmVyUmVwb1xuICAgIHR1dG9yZWQ6IGJvb2xlYW47XG4gICAgZXJyb3I/OiBFcnJvcjtcbn1cblxuaWYgKCFLRUQuZW52KSBLRUQuZW52ID0ge307XG5cbmV4cG9ydCBkZWZhdWx0IEtFRC5lbnYgYXMgRW52O1xuZXhwb3J0IGNvbnN0IGVudjogRW52ID0gS0VELmVudjtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tICcuLi9jb3Vyc2UtYnVpbGRlci9zdWItY29tcG9uZW50cy9zcGlubmVyJztcbmltcG9ydCB7IHNoYWxsb3dFcXVhbHMgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJzY3JpcHRpb24gfSBmcm9tICdrZWRiYWNrZW5kL29ic2VydmFibGUnO1xuXG5pbnRlcmZhY2UgT3B0aW9ucyB7XG4gIHNwaW5uZXI/OiBKU1guRWxlbWVudDtcbiAgb25FcnJvcj86IChlcnJvcjogRXJyb3IpID0+IEpTWC5FbGVtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGl2ZVF1ZXJ5VmlldzxUUHJvcHM+KFxuICBmbjogKHByb3BzOiBUUHJvcHMpID0+IE9ic2VydmFibGU8SlNYLkVsZW1lbnQ+LFxuICBvcHRpb25zPzogT3B0aW9ucyk6IChwcm9wczogVFByb3BzKSA9PiBKU1guRWxlbWVudFxue1xuICByZXR1cm4gKHByb3BzOiBUUHJvcHMpPT57XG4gICAgcmV0dXJuIDxMaXZlUXVlcnlWaWV3IHByb3BzPXtwcm9wc30gZm49e2ZufSB7Li4ub3B0aW9uc30gLz47XG4gIH1cbn1cblxuaW50ZXJmYWNlIFByb3BzPFRQcm9wcz4ge1xuICBwcm9wczogVFByb3BzO1xuICBzcGlubmVyPzogSlNYLkVsZW1lbnQ7XG4gIG5vRXJyb3I/OiBib29sZWFuO1xuICBvbkVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gSlNYLkVsZW1lbnQ7XG4gIGZuOiAocHJvcHM6IFRQcm9wcykgPT4gT2JzZXJ2YWJsZTxKU1guRWxlbWVudD47XG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIHJlc3VsdDogSlNYLkVsZW1lbnQ7XG4gIGVycm9yPzogRXJyb3I7XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIExpdmVRdWVyeVZpZXc8VFByb3BzPiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wczxUUHJvcHM+LCBTdGF0ZT4ge1xuICBwcml2YXRlIHN1YnNjcmlwdGlvbj86IFN1YnNjcmlwdGlvbjtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHM8VFByb3BzPikge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgcmVzdWx0OiBudWxsLFxuICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOiBQcm9wczxUUHJvcHM+LCBuZXh0U3RhdGU6IFN0YXRlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuc3RhdGUuZXJyb3IgIT09IG5leHRTdGF0ZS5lcnJvciB8fFxuICAgICAgdGhpcy5zdGF0ZS5pc0xvYWRpbmcgIT09IG5leHRTdGF0ZS5pc0xvYWRpbmcgfHxcbiAgICAgIHRoaXMuc3RhdGUucmVzdWx0ICE9PSBuZXh0U3RhdGUucmVzdWx0IHx8XG4gICAgICAhc2hhbGxvd0VxdWFscyhuZXh0UHJvcHMucHJvcHMsIHRoaXMucHJvcHMucHJvcHMpXG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzPFRQcm9wcz4pIHtcbiAgICBpZiAoIXNoYWxsb3dFcXVhbHMocHJldlByb3BzLnByb3BzLCB0aGlzLnByb3BzLnByb3BzKSkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICBzdWJzY3JpYmUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aXNMb2FkaW5nOiB0cnVlfSBhcyBhbnkpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gdGhpcy5wcm9wcy5mbih0aGlzLnByb3BzLnByb3BzKS5zdWJzY3JpYmUoKHJlc3VsdCwgZXJyb3IpID0+IHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcmVzdWx0LFxuICAgICAgZXJyb3IsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfSkpO1xuICB9XG5cbiAgdW5zdWJzY3JpYmUoKSB7XG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uKSB7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIFxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge3Jlc3VsdCwgZXJyb3IsIGlzTG9hZGluZ30gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHtzcGlubmVyLCBvbkVycm9yLCBub0Vycm9yfSA9IHRoaXMucHJvcHM7XG4gICAgLy9pZiAoIWlzTG9hZGluZyAmJiAhcmVzdWx0KSBkZWJ1Z2dlcjtcbiAgICByZXR1cm4gZXJyb3IgP1xuICAgICAgbm9FcnJvciA/IFwiXCIgOiBvbkVycm9yID8gb25FcnJvcihlcnJvcikgOiA8cD5FcnJvcjoge2Vycm9yLm1lc3NhZ2V9PC9wPiA6XG4gICAgICBpc0xvYWRpbmcgP1xuICAgICAgICBzcGlubmVyID8gc3Bpbm5lciA6IFwiXCIgOlxuICAgICAgICByZXN1bHQgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiByZXN1bHQ7XG4gIH1cbn0iLCJ2YXIgc3RhY2sgPSBbXTtcbnZhciBjdXJyZW50RmliZXIgPSBudWxsO1xudmFyIHByb3ZpZGVycyA9IFtmdW5jdGlvbiAoKSB7IHJldHVybiBjdXJyZW50RmliZXI7IH1dO1xuZnVuY3Rpb24gcHVzaEZpYmVyKGZpYmVyKSB7XG4gICAgc3RhY2sucHVzaChjdXJyZW50RmliZXIpO1xuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyO1xufVxuZnVuY3Rpb24gcG9wRmliZXIoKSB7XG4gICAgY3VycmVudEZpYmVyID0gc3RhY2sucG9wKCk7XG59XG5leHBvcnQgdmFyIEZpYmVyQ29udGV4dCA9IHtcbiAgICBnZXQgY3VycmVudCgpIHsgcmV0dXJuIGN1cnJlbnRGaWJlcjsgfSxcbiAgICAvKnJ1bjogZnVuY3Rpb24gcmVydW48Uj4oZmliZXI6IEZpYmVyLCBmbjogKCk9PlIpOiBSIHwgUHJvbWlzZTxSPiB7XG4gICAgICBwdXNoRmliZXIoZmliZXIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmbigpKTtcbiAgICAgIH0gY2F0Y2ggKHApIHtcbiAgICAgICAgaWYgKHAgJiYgdHlwZW9mIHAudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBwLnRoZW4oKCk9PnJlcnVuKGZpYmVyLCBmbikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChwKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcG9wRmliZXIoKTtcbiAgICAgIH1cbiAgICB9LCovXG4gICAgYWRkUHJvdmlkZXI6IGZ1bmN0aW9uIChnZXRDdXJyZW50RmliZXIpIHtcbiAgICAgICAgcHJvdmlkZXJzLnB1c2goZ2V0Q3VycmVudEZpYmVyKTtcbiAgICAgICAgc2V0Q3VycmVudEdldHRlckZyb21Qcm92aWRlcnMoKTtcbiAgICB9LFxuICAgIHJlbW92ZVByb3ZpZGVyOiBmdW5jdGlvbiAoZ2V0Q3VycmVudEZpYmVyKSB7XG4gICAgICAgIHByb3ZpZGVycyA9IHByb3ZpZGVycy5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAgIT09IGdldEN1cnJlbnRGaWJlcjsgfSk7XG4gICAgICAgIHNldEN1cnJlbnRHZXR0ZXJGcm9tUHJvdmlkZXJzKCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHNldEN1cnJlbnRHZXR0ZXJGcm9tUHJvdmlkZXJzKCkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWJlckNvbnRleHQsIFwiY3VycmVudFwiLCB7XG4gICAgICAgIGdldDogcHJvdmlkZXJzLnJlZHVjZShmdW5jdGlvbiAocCwgYykgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gcCgpIHx8IGMoKTsgfTsgfSksXG4gICAgICAgIHNldDogZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJVc2UgRmliZXJDb250ZXh0LnB1c2goKSB0byBjaGFuZ2UgY3VycmVudCBmaWJlclwiKTsgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmliZXItY29udGV4dC5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gaW5pdE1hcE1ldGhvZChjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtYXBwZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBjdG9yKGZ1bmN0aW9uIChvYnNlcnZlcikgeyByZXR1cm4gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSwgZXJyb3IsIHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgIG9ic2VydmVyKG51bGwsIGVycm9yLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyKG1hcHBlcih2YWx1ZSksIGVycm9yLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyKG51bGwsIGVyciwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0pOyB9KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcCIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IFNjaG9vbE1vbWVudCwgZ2V0U2Nob29sTW9tZW50LCBhZGRZZWFyIH0gZnJvbSAnLi9zY2hvb2wtbW9tZW50JztcbmltcG9ydCB7IEFjYWRlbWljWWVhciwgVGVybSB9IGZyb20gJy4uL2NvbnRyYWN0cy9rZWQtbW9kZWxzJztcbmltcG9ydCB7SW5qZWN0ZWRJbnRsfSBmcm9tICdyZWFjdC1pbnRsJztcblxudHlwZSBNb21lbnQgPSBtb21lbnQuTW9tZW50O1xuXG5mdW5jdGlvbiBpc1NjaG9vbE1vbWVudChvYmo6IERhdGUgfCBTY2hvb2xNb21lbnQpOiBvYmogaXMgU2Nob29sTW9tZW50IHtcbiAgcmV0dXJuICdhY2FkZW1pY1llYXInIGluIG9iajtcbn1cblxuZXhwb3J0IGNsYXNzIFNjaG9vbFRlcm0ge1xuICBhY2FkZW1pY1llYXI6IEFjYWRlbWljWWVhcjtcbiAgdGVybTogVGVybTtcblxuICBjb25zdHJ1Y3RvcihkYXRlT3JTY2hvb2xNb21lbnQ6IERhdGUgfCBTY2hvb2xNb21lbnQpIHtcbiAgICBjb25zdCBzY2hvb2xNb21lbnQgPSBpc1NjaG9vbE1vbWVudChkYXRlT3JTY2hvb2xNb21lbnQpID9cbiAgICAgIGRhdGVPclNjaG9vbE1vbWVudCA6IGdldFNjaG9vbE1vbWVudChtb21lbnQoZGF0ZU9yU2Nob29sTW9tZW50KSk7XG4gICAgdGhpcy5hY2FkZW1pY1llYXIgPSBzY2hvb2xNb21lbnQuYWNhZGVtaWNZZWFyO1xuICAgIHRoaXMudGVybSA9IHNjaG9vbE1vbWVudC50ZXJtO1xuICB9XG5cbiAgZ2V0IHllYXIoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuYWNhZGVtaWNZZWFyXG4gICAgICAgIC5zcGxpdCgnLycpW3RoaXMudGVybSA9PT0gJ0FUJyA/IDAgOiAxXSk7XG4gIH1cblxuICBuZXh0VGVybSgpIHtcbiAgICByZXR1cm4gbmV3IFNjaG9vbFRlcm0odGhpcy50ZXJtID09PSAnQVQnID9cbiAgICAgIHtcbiAgICAgICAgdGVybTogJ1NUJyxcbiAgICAgICAgYWNhZGVtaWNZZWFyOiB0aGlzLmFjYWRlbWljWWVhclxuICAgICAgfSA6XG4gICAgICB7XG4gICAgICAgIHRlcm06ICdBVCcsXG4gICAgICAgIGFjYWRlbWljWWVhcjogYWRkWWVhcih0aGlzLmFjYWRlbWljWWVhciwgMSlcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJldlRlcm0oKSB7XG4gICAgcmV0dXJuIG5ldyBTY2hvb2xUZXJtKHRoaXMudGVybSA9PT0gJ0FUJyA/XG4gICAgICB7XG4gICAgICAgIHRlcm06ICdTVCcsXG4gICAgICAgIGFjYWRlbWljWWVhcjogYWRkWWVhcih0aGlzLmFjYWRlbWljWWVhciwgLTEpXG4gICAgICB9IDpcbiAgICAgIHtcbiAgICAgICAgdGVybTogJ0FUJyxcbiAgICAgICAgYWNhZGVtaWNZZWFyOiB0aGlzLmFjYWRlbWljWWVhclxuICAgICAgfSk7XG4gICAgXG4gIH1cblxuICB0b0xvY2FsZVN0cmluZyhpbnRsOiBJbmplY3RlZEludGwsIHNob3J0WWVhcj86IGJvb2xlYW4pIHtcbiAgICBsZXQgeWVhciA9IHRoaXMudGVybSA9PT0gJ0FUJyA/XG4gICAgICB0aGlzLmFjYWRlbWljWWVhci5zcGxpdCgnLycpWzBdOlxuICAgICAgdGhpcy5hY2FkZW1pY1llYXIuc3BsaXQoJy8nKVsxXTtcblxuICAgIGlmIChzaG9ydFllYXIpXG4gICAgICB5ZWFyID0geWVhci5zdWJzdHIoMik7XG5cbiAgICByZXR1cm4gdGhpcy50ZXJtID09PSAnQVQnID8gaW50bC5mb3JtYXRNZXNzYWdlKHtpZDondGVybXBsYW5uZXIuc2Vjb25kVGVybScsIGRlZmF1bHRNZXNzYWdlOidIVCB7eWVhcn0nfSwge3llYXI6IHllYXJ9KSA6IFxuICAgIGludGwuZm9ybWF0TWVzc2FnZSh7aWQ6J3Rlcm1wbGFubmVyLmZpcnN0VGVybScsIGRlZmF1bHRNZXNzYWdlOidWVCB7eWVhcn0nfSwge3llYXI6IHllYXJ9KTtcbiAgfVxufVxuIiwiY29uc3QgREVGQVVMVF9DQUNIRV9FWFBJUkFUSU9OID0gMzAgKiA2MCAqIDEwMDA7IC8vIDMwIG1pbnV0ZXMuXG5cbnR5cGUgUHJvbWlzZVJldHVybmluZ01ldGhvZE5hbWVzPEFQST4gPSB7XG4gIFtNRVRIT0QgaW4ga2V5b2YgQVBJXTogQVBJW01FVEhPRF0gZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IFByb21pc2U8YW55PiA/IE1FVEhPRCA6IG5ldmVyXG59XG5cbnR5cGUgQ29udmVydE1ldGhvZFRvU3VzcGVuc2U8Rj4gPSBGIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEEpID0+IFByb21pc2U8aW5mZXIgUj4gP1xuICAoLi4uYXJnczogQSkgPT4gUiA6XG4gIEY7XG5cbmV4cG9ydCB0eXBlIFN1c3BlbnNlQmFzZWRBUEk8QVBJPiA9IHtcbiAgW01FVEhPRCBpbiBrZXlvZiBQcm9taXNlUmV0dXJuaW5nTWV0aG9kTmFtZXM8QVBJPl06IENvbnZlcnRNZXRob2RUb1N1c3BlbnNlPEFQSVtNRVRIT0RdPlxufVxuXG50eXBlIE9wdGlvbnMgPSB7XG4gIGlzQXBpTWV0aG9kPzogKHByb3A6IHN0cmluZyk9PmJvb2xlYW4sXG4gIGNhY2hlRXhwaXJhdGlvbj86IG51bWJlclxufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogT3B0aW9ucyA9IHtcbiAgaXNBcGlNZXRob2Q6IGYgPT4gdHlwZW9mIGYgPT09ICdmdW5jdGlvbicsXG4gIGNhY2hlRXhwaXJhdGlvbjogREVGQVVMVF9DQUNIRV9FWFBJUkFUSU9OXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVN1c3BlbnNlQXBpPEFQST4oYXBpOiBBUEksIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucyk6IFN1c3BlbnNlQmFzZWRBUEk8QVBJPlxue1xuICBvcHRpb25zID0gey4uLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zfTtcbiAgY29uc3Qge2lzQXBpTWV0aG9kLCBjYWNoZUV4cGlyYXRpb259ID0gb3B0aW9ucztcblxuICBjb25zdCBydjogU3VzcGVuc2VCYXNlZEFQSTxBUEk+ID0gT2JqZWN0LmNyZWF0ZShhcGkgYXMgYW55KSBhcyBTdXNwZW5zZUJhc2VkQVBJPEFQST47XG4gIGNvbnN0IGNhY2hlOiB7W2tleTogc3RyaW5nXToge3RpbWVvdXQ6IG51bWJlciwgdmFsdWU/OiBhbnksIGVycm9yPzogYW55LCBwcm9taXNlPzogUHJvbWlzZTxhbnk+fX0gPSB7fTtcblxuICAvLyBXYWxrIHRoZSBpbnN0YW5jZSArIHByb3RvdHlwZSBjaGFpbiB0byBnZW5lcmF0ZSBzdXNwZW5zZSB2ZXJzaW9uIG9mIGVhY2ggcHJvbWlzZSByZXR1cm5pbmcgbWV0aG9kXG4gIGZvciAobGV0IHByb3RvID0gYXBpOyBwcm90byAmJiBwcm90byAhPT0gT2JqZWN0LnByb3RvdHlwZTsgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pKSB7XG4gICAgc3VzcGVuZGlmeShwcm90byk7XG4gIH1cblxuICBmdW5jdGlvbiBzdXNwZW5kaWZ5KHByb3RvKSB7XG4gICAgT2JqZWN0LmtleXMocHJvdG8pLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICBpZiAoIXJ2Lmhhc093blByb3BlcnR5KHByb3ApICYmIGlzQXBpTWV0aG9kKHByb3ApKSB7XG4gICAgICAgIHJ2W3Byb3BdID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBKU09OLnN0cmluZ2lmeShbcHJvcCwgLi4uYXJnc10pO1xuICAgICAgICAgIGNvbnN0IGNhY2hlZEVudHJ5ID0gY2FjaGVba2V5XTtcbiAgICAgICAgICBpZiAoY2FjaGVkRW50cnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGNhY2hlZEVudHJ5LnByb21pc2UpIHRocm93IGNhY2hlZEVudHJ5LnByb21pc2U7XG4gICAgICAgICAgICBpZiAoY2FjaGVkRW50cnkuZXJyb3IpIHRocm93IGNhY2hlZEVudHJ5LmVycm9yO1xuICAgICAgICAgICAgaWYgKGNhY2hlZEVudHJ5LnRpbWVvdXQgPiBEYXRlLm5vdygpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWNoZWRFbnRyeS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBwcm90b1twcm9wXS5hcHBseShhcGksIGFyZ3MpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgY2FjaGVba2V5XSA9IHt0aW1lb3V0OiBEYXRlLm5vdygpICsgY2FjaGVFeHBpcmF0aW9uLCB2YWx1ZTogcmVzdWx0fTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgY2FjaGVba2V5XSA9IHt0aW1lb3V0OiBEYXRlLm5vdygpICsgY2FjaGVFeHBpcmF0aW9uLCBlcnJvcn07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB7dGltZW91dDogRGF0ZS5ub3coKSArIGNhY2hlRXhwaXJhdGlvbiwgcHJvbWlzZX07XG4gICAgICAgICAgICB0aHJvdyBwcm9taXNlO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IudGhlbikgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0ge3RpbWVvdXQ6IERhdGUubm93KCkgKyBjYWNoZUV4cGlyYXRpb24sIGVycm9yfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gYXMgYW55O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJ2O1xufVxuIiwiaW1wb3J0IHsgRURTQ291cnNlLCBFRFNBc3Nlc3NtZW50LCBFRFNTdHVkeVBsYW4sIEVEU1N0dWRlbnRGdXR1cmVBYmlsaXR5LCBFRFNTdHVkZW50LCBFRFNUdWl0aW9uR3JvdXAsIEVEU1R1aXRpb25TdHVkZW50LCBFRFNUZWFjaGVyLCBNb2NrRURTQWNhZGVtaWNZZWFyLCBNb2NrRURTRGF0ZVJhbmdlIH0gZnJvbSAnLi4vY29udHJhY3RzL2Vkcyc7XG5pbXBvcnQgeyBSZXN0Q2xpZW50IH0gZnJvbSAna2VkYmFja2VuZC9jbGllbnQnO1xuaW1wb3J0IHsgSXNvbW9ycGhpY0VudiwgQmVhcmVyUHJvdmlkZXIsIEh0dHBFcnJvciB9IGZyb20gJ2tlZGJhY2tlbmQvY2xpZW50JztcbmltcG9ydCB7IFNjaG9vbE1vbWVudCwgZ2V0VGVybVN0YXJFbmREYXRlIH0gZnJvbSAnLi4vdXRpbHMvc2Nob29sLW1vbWVudCc7XG5pbXBvcnQgeyBTY2hvb2xUZXJtIH0gZnJvbSAnLi4vdXRpbHMvc2Nob29sLXRlcm0nO1xuaW1wb3J0IHsgZGF0ZVRpbWVSZXZpdmVyLCBMIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xuaW1wb3J0IG1vY2tKc29uRmlsZSBmcm9tICcuL21vY2svbW9jay1lZHMtZGF0YS5qc29uJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IFN1c3BlbnNlQmFzZWRBUEksIG1ha2VTdXNwZW5zZUFwaSB9IGZyb20gJy4uL3V0aWxzL21ha2Utc3VzcGVuc2UtYXBpJztcblxuZXhwb3J0IGNsYXNzIEVkc0NsaWVudCB7XG4gIGh0dHA6IFJlc3RDbGllbnQ7XG4gIHVzZXJFbWFpbEdldHRlcjogKCk9PnN0cmluZztcbiAgc3VzcGVuc2U6IFN1c3BlbnNlQmFzZWRBUEk8RWRzQ2xpZW50PjtcblxuICBjb25zdHJ1Y3RvciAoXG4gICAgaXNvbW9ycGhpYzogSXNvbW9ycGhpY0VudixcbiAgICBiYXNlVXJsOiBzdHJpbmcsXG4gICAgYmVhcmVyUHJvdmlkZXI6IEJlYXJlclByb3ZpZGVyLFxuICAgIHVzZXJFbWFpbEdldHRlcjogKCk9PnN0cmluZ1xuICApIHtcbiAgICB0aGlzLmh0dHAgPSBuZXcgUmVzdENsaWVudCAoaXNvbW9ycGhpYywgYmFzZVVybCwge2JlYXJlclByb3ZpZGVyfSk7XG4gICAgdGhpcy51c2VyRW1haWxHZXR0ZXIgPSB1c2VyRW1haWxHZXR0ZXI7XG4gICAgY29uc3QgaXNBcGlNZXRob2QgPSBtID0+XG4gICAgICB0eXBlb2YgdGhpc1ttXSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgbSAhPT0gJ2NvbnN0cnVjdG9yJyAmJiAvLyBTaW5jZSBtYWtlU3VzcGVuc2VBcGkoKSB3YWxrcyBwcm90b3R5cGUgY2hhaW5cbiAgICAgIG0gIT09ICdwcml2YXRpemluZ0NhY2hlQnVzdCcgJiZcbiAgICAgIG0gIT09ICd1c2VyRW1haWxHZXR0ZXInIC8vIExpc3Qgbm9uLUFQSSBtZXRob2RzIGhlcmUuLi5cbiAgICAgIDtcblxuICAgIE9iamVjdC5rZXlzKEVkc0NsaWVudC5wcm90b3R5cGUpLmZvckVhY2gobWV0aG9kID0+IHtcbiAgICAgIGlmIChpc0FwaU1ldGhvZChtZXRob2QpKSB7XG4gICAgICAgIHRoaXNbbWV0aG9kXSA9IGF2b2lkU2ltdWx0YW5vdXNDYWxscyh0aGlzW21ldGhvZF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc3VzcGVuc2UgPSBtYWtlU3VzcGVuc2VBcGkodGhpcywge2lzQXBpTWV0aG9kfSk7XG4gIH1cblxuICBwcml2YXRlIHByaXZhdGl6aW5nQ2FjaGVCdXN0KCkge1xuICAgIHJldHVybiB7dXNlcjogdGhpcy51c2VyRW1haWxHZXR0ZXIoKX07XG4gIH1cblxuLyoqXG4gICAqIFJldHJpZXZlIGFjdGl2ZSBjb3Vyc2VzIGZvciBjdXJyZW50IGxvZ2dlZCBpbiBzdHVkZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY291cnNlQ29kZSBTaG9ydC1uYW1lIG9mIHRoZSBjb3Vyc2UuIE9wdGlvbmFsLlxuICAgKi9cbiAgYXN5bmMgZ2V0QWN0aXZlQ291cnNlcyhxOiB7Y291cnNlQ29kZT86IHN0cmluZywgcGVyaW9kTmFtZTogc3RyaW5nfSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBxdWVyeTphbnkgPSB0aGlzLnByaXZhdGl6aW5nQ2FjaGVCdXN0KCk7XG4gICAgICBpZiAocSkge1xuICAgICAgICBpZiAocS5jb3Vyc2VDb2RlKSBxdWVyeS5Db3Vyc2VDb2RlID0gcS5jb3Vyc2VDb2RlO1xuICAgICAgICBpZiAocS5wZXJpb2ROYW1lKSBxdWVyeS5QZXJpb2ROYW1lID0gcS5wZXJpb2ROYW1lO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5odHRwLmdldChcInN0dWRlbnRhY3RpdmVjb3Vyc2VzXCIsIHF1ZXJ5KTtcbiAgICAgIGlmIChyZXMuc3RhdHVzICE9IDIwMCkgdGhyb3cgbmV3IEh0dHBFcnJvcihyZXMuc3RhdHVzLCBhd2FpdCByZXMudGV4dCgpKTtcbiAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgcmV0dXJuIGpzb24uY291cnNlcyBhcyBFRFNDb3Vyc2VbXTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZyb20gRURTOiBcIiArIGV4KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihMYEt1bmRlIHR5dsOkcnIgaW50ZSBsYWRkYSB0ZXJtaW5zbcOlbCBlbGxlciBhdmtsYXJhZGUgc3RlZyBmcsOlbiBFRFMuIEbDtnJzw7ZrIGlnZW4gc2VuYXJlLi4uYCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGxhdGVzdCBhc3Nlc3NtZW50cyBmb3IgY3VycmVudCBsb2dnZWQgaW4gdXNlci5cbiAgICogXG4gICAqIEBwYXJhbSBsaW1pdCBPcHRpb25hbCBsaW1pdFxuICAgKi9cbiAgYXN5bmMgZ2V0TGF0ZXN0QXNzZXNzbWVudHMobGltaXQ/OiBudW1iZXIpIHtcbiAgICBjb25zdCBxdWVyeTphbnkgPSB0aGlzLnByaXZhdGl6aW5nQ2FjaGVCdXN0KCk7XG4gICAgaWYgKCFpc05hTihsaW1pdCkpIHF1ZXJ5LkNvdW50ID0gbGltaXQ7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5odHRwLmdldChcInN0dWRlbnRhc3Nlc3NtZW50c1wiLCBxdWVyeSk7XG4gICAgaWYgKHJlcy5zdGF0dXMgIT0gMjAwKSB0aHJvdyBuZXcgSHR0cEVycm9yKHJlcy5zdGF0dXMsIGF3YWl0IHJlcy50ZXh0KCkpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgIHJldHVybiBqc29uLmFzc2Vzc21lbnRzIGFzIEVEU0Fzc2Vzc21lbnRbXTsgICAgXG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgc3R1ZHlwbGFucyBmb3IgY3VycmVudCBsb2dnZWQtaW4gdXNlclxuICAgKi9cbiAgYXN5bmMgZ2V0U3R1ZGVudEdvYWxzKCkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuaHR0cC5nZXQoXCJzdHVkZW50Z29hbHNcIiwgdGhpcy5wcml2YXRpemluZ0NhY2hlQnVzdCgpKTtcbiAgICBpZiAocmVzLnN0YXR1cyAhPSAyMDApIHRocm93IG5ldyBIdHRwRXJyb3IocmVzLnN0YXR1cywgYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIGpzb24uc3R1ZGVudEdvYWxzIGFzIEVEU1N0dWR5UGxhbltdOyAgICBcbiAgfVxuXG4gIGFzeW5jIGdldFN0dWRlbnRGdXR1cmVBYmlsaXRpZXMoKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5odHRwLmdldChcInN0dWRlbnRGdXR1cmVBYmlsaXRpZXNcIiwgdGhpcy5wcml2YXRpemluZ0NhY2hlQnVzdCgpKTtcbiAgICBpZiAocmVzLnN0YXR1cyAhPSAyMDApIHRocm93IG5ldyBIdHRwRXJyb3IocmVzLnN0YXR1cywgYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIGpzb24uc3R1ZGVudEZ1dHVyZUFiaWxpdGllcyBhcyBFRFNTdHVkZW50RnV0dXJlQWJpbGl0eVtdO1xuICB9XG5cbiAgYXN5bmMgZ2V0VGVhY2hlclR1dG9yU3R1ZGVudHMoKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5odHRwLmdldChcInRlYWNoZXJ0dXRvcnN0dWRlbnRzXCIsIHRoaXMucHJpdmF0aXppbmdDYWNoZUJ1c3QoKSk7XG4gICAgaWYgKHJlcy5zdGF0dXMgIT0gMjAwKSB0aHJvdyBuZXcgSHR0cEVycm9yKHJlcy5zdGF0dXMsIGF3YWl0IHJlcy50ZXh0KCkpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgIHJldHVybiBqc29uLnN0dWRlbnRzIGFzIEVEU1N0dWRlbnRbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXRTY2hvb2xUdWl0aW9uR3JvdXBzKClcbiAgICogXG4gICAqIFJldHVybiB0dWl0aW9uZ3JvdXBzIGZvciBzY2hvb2xcbiAgICogXG4gICAqIEBwYXJhbSBzY2hvb2xOYW1lIC0gbmFtZSBvZiBzY2hvb2xcbiAgICogQHBhcmFtIGNvdXJzZUNvZGUgLSBTa29sdmVya2V0cyBjb2RlIGZvciBjb3Vyc2VcbiAgICovXG4gIGFzeW5jIGdldFNjaG9vbFR1aXRpb25Hcm91cHMocToge3NjaG9vbE5hbWU6IHN0cmluZywgY291cnNlQ29kZTogc3RyaW5nfSkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuaHR0cC5nZXQoXCJTY2hvb2xUdWl0aW9uR3JvdXBzXCIsIHsuLi50aGlzLnByaXZhdGl6aW5nQ2FjaGVCdXN0KCksIC4uLnF9KTtcbiAgICBpZiAocmVzLnN0YXR1cyAhPSAyMDApIHRocm93IG5ldyBIdHRwRXJyb3IocmVzLnN0YXR1cywgYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIGpzb24uc2Nob29sVHVpdGlvbkdyb3VwcyBhcyBFRFNUdWl0aW9uR3JvdXBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXRUdWl0aW9uR3JvdXBTdHVkZW50cygpXG4gICAqIFxuICAgKiBSZXR1cm4gbmFtZSBhbmQgbWFpbGFkcmVzc2VzIGZvciB0dXRpdGlvbmdyb3VwcyBpbiBzY2hvb2xzXG4gICAqIFxuICAgKiBAcGFyYW0gc2Nob29sTmFtZSAtIG5hbWUgb2Ygc2Nob29sXG4gICAqIEBwYXJhbSB0dWl0aW9uR3JvdXBOYW1lIC0gdHVpdGlvbiBncnVvcCBuYW1lIGluIEVEU1xuICAgKi9cbiAgYXN5bmMgZ2V0VHVpdGlvbkdyb3VwU3R1ZGVudHMocToge3NjaG9vbE5hbWU6IHN0cmluZywgdHVpdGlvbkdyb3VwTmFtZTogc3RyaW5nfSkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuaHR0cC5nZXQoXCJUdWl0aW9uR3JvdXBTdHVkZW50c1wiLCB7Li4udGhpcy5wcml2YXRpemluZ0NhY2hlQnVzdCgpLCAuLi5xfSk7XG4gICAgaWYgKHJlcy5zdGF0dXMgIT0gMjAwKSB0aHJvdyBuZXcgSHR0cEVycm9yKHJlcy5zdGF0dXMsIGF3YWl0IHJlcy50ZXh0KCkpO1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgIHJldHVybiBqc29uLnR1aXRpb25Hcm91cFN0dWRlbnRzIGFzIEVEU1R1aXRpb25TdHVkZW50W107XG4gIH1cblxuICAvKipcbiAgICogZ2V0U2Nob29sVGVhY2hlcnMoKVxuICAgKiBcbiAgICogUmV0dXJuIG5hbWUgYW5kIG1haWxhZHJlc3NlcyBmb3IgdHV0aXRpb25ncm91cHMgaW4gc2Nob29sc1xuICAgKiBcbiAgICogQHBhcmFtIHNjaG9vbE5hbWUgLSBuYW1lIG9mIHNjaG9vbFxuICAgKi9cbiAgYXN5bmMgZ2V0U2Nob29sVGVhY2hlcnMocToge3NjaG9vbE5hbWU6IHN0cmluZ30pIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmh0dHAuZ2V0KFwiU2Nob29sVGVhY2hlcnNcIiwgey4uLnRoaXMucHJpdmF0aXppbmdDYWNoZUJ1c3QoKSwgLi4ucX0pO1xuICAgIGlmIChyZXMuc3RhdHVzICE9IDIwMCkgdGhyb3cgbmV3IEh0dHBFcnJvcihyZXMuc3RhdHVzLCBhd2FpdCByZXMudGV4dCgpKTtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4ganNvbi5zY2hvb2xUZWFjaGVycyBhcyBFRFNUZWFjaGVyW107XG4gIH1cbiAgLy8gd2UgYXNzdW1lIHRoYXQgdGhlIEVEUyB3aWxsIHJldHVybiB0aGUgY3VycmVudCBhY2FkZW1pYyB5ZWFyIGRhdGVzIGRldGVybWluZWQgYnkgdGhlIGN1cnJlbnQgZGF0ZVxuICBhc3luYyBnZXRBY2FkZW1pY1llYXJUZXJtcyhzY2hvb2xMb2NhbGU6IHN0cmluZywgZGF0ZTogRGF0ZSkge1xuICAgIC8vIG1vY2sgZGF0YVxuICAgIHN3aXRjaCAoc2Nob29sTG9jYWxlKSB7XG4gICAgICBjYXNlICdlbl9zaW4nOlxuICAgICAgcmV0dXJuIG1vY2tKc29uRmlsZS5Tb3V0aEluZGlhLmZpbHRlcihmID0+IG1vbWVudChkYXRlKS5pc1NhbWVPckFmdGVyKGYuZmlyc3RUZXJtLnN0YXJ0RGF0ZSkgJiYgbW9tZW50KGRhdGUpLmlzU2FtZU9yQmVmb3JlKGYuc2Vjb25kVGVybS5lbmREYXRlKSlbMF0gYXMgTW9ja0VEU0FjYWRlbWljWWVhcjtcbiAgICAgIGNhc2UgJ2VuX25pbic6XG4gICAgICByZXR1cm4gbW9ja0pzb25GaWxlLk5vcnRoSW5kaWEuZmlsdGVyKGYgPT4gbW9tZW50KGRhdGUpLmlzU2FtZU9yQWZ0ZXIoZi5maXJzdFRlcm0uc3RhcnREYXRlKSAmJiBtb21lbnQoZGF0ZSkuaXNTYW1lT3JCZWZvcmUoZi5zZWNvbmRUZXJtLmVuZERhdGUpKVswXSBhcyBNb2NrRURTQWNhZGVtaWNZZWFyO1xuICAgICAgY2FzZSAnc3YnOlxuICAgICAge1xuICAgICAgdmFyIGhvbGlkYXlzID0gW10gYXMgTW9ja0VEU0RhdGVSYW5nZVtdO1xuICAgICAgdmFyIGZpcnN0VGVybU1vbWVudCA9IGdldFRlcm1TdGFyRW5kRGF0ZShkYXRlLCB0cnVlKTtcbiAgICAgIHZhciBzZWNvbmRUZXJtTW9tZW50ID0gZ2V0VGVybVN0YXJFbmREYXRlKGRhdGUsIGZhbHNlKTtcblxuICAgICAgdmFyIHN0YXJ0Rmlyc3RUZXJtRGF0ZSA9IGZpcnN0VGVybU1vbWVudFswXTtcbiAgICAgIHZhciBzdGFydFNlY29uZFRlcm1EYXRlID0gc2Vjb25kVGVybU1vbWVudFswXTtcbiAgICAgIHZhciBlbmRGaXJzdFRlcm1EYXRlID0gZmlyc3RUZXJtTW9tZW50WzFdO1xuICAgICAgdmFyIGVuZFNlY29uZFRlcm1EYXRlID0gc2Vjb25kVGVybU1vbWVudFsxXTtcblxuICAgICAgY29uc3QgZmlyc3RUZXJtID0ge3N0YXJ0RGF0ZTogbmV3IERhdGUoc3RhcnRGaXJzdFRlcm1EYXRlLnllYXIoKSwgc3RhcnRGaXJzdFRlcm1EYXRlLm1vbnRoKCksIHN0YXJ0Rmlyc3RUZXJtRGF0ZS5kYXRlKCkpLnRvRGF0ZVN0cmluZygpLCBlbmREYXRlOiBuZXcgRGF0ZShzdGFydEZpcnN0VGVybURhdGUueWVhcigpLCBlbmRGaXJzdFRlcm1EYXRlLm1vbnRoKCksIGVuZEZpcnN0VGVybURhdGUuZGF0ZSgpKS50b0RhdGVTdHJpbmcoKX07XG4gICAgICBjb25zdCBzZWNvbmRUZXJtID0ge3N0YXJ0RGF0ZTogbmV3IERhdGUoc3RhcnRTZWNvbmRUZXJtRGF0ZS55ZWFyKCksIHN0YXJ0U2Vjb25kVGVybURhdGUubW9udGgoKSwgc3RhcnRTZWNvbmRUZXJtRGF0ZS5kYXRlKCkpLnRvRGF0ZVN0cmluZygpLCBlbmREYXRlOiBuZXcgRGF0ZShzdGFydFNlY29uZFRlcm1EYXRlLnllYXIoKSwgZW5kU2Vjb25kVGVybURhdGUubW9udGgoKSwgZW5kU2Vjb25kVGVybURhdGUuZGF0ZSgpKS50b0RhdGVTdHJpbmcoKX07XG4gICAgICByZXR1cm4ge2ZpcnN0VGVybSwgc2Vjb25kVGVybSwgaG9saWRheXN9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cblxuZXhwb3J0IGNsYXNzIEVEU1BlcmlvZCB7XG4gIHBlcmlvZDogc3RyaW5nO1xuICB0ZXJtOiAnQVQnIHwgJ1NUJztcbiAgeWVhcjogbnVtYmVyO1xuICBjb25zdHJ1Y3RvciAocGVyaW9kU3RyaW5nT3JTY2hvb2xUZXJtOiBzdHJpbmcgfCBTY2hvb2xNb21lbnQpIHtcbiAgICBpZiAodHlwZW9mIHBlcmlvZFN0cmluZ09yU2Nob29sVGVybSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMucGVyaW9kID0gcGVyaW9kU3RyaW5nT3JTY2hvb2xUZXJtO1xuICAgICAgdGhpcy50ZXJtID0gdGhpcy5wZXJpb2Quc3RhcnRzV2l0aCgnSFQnKSA/ICdBVCcgOiAnU1QnO1xuICAgICAgdGhpcy55ZWFyID0gcGFyc2VJbnQodGhpcy5wZXJpb2Quc3Vic3RyKDIpKTtcbiAgICAgIGlmIChpc05hTih0aGlzLnllYXIpKSB0aHJvdyBuZXcgRXJyb3IgKGBJbnZhbGlkIHBlcmlvZDogJHt0aGlzLnBlcmlvZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2Nob29sVGVybSA9IG5ldyBTY2hvb2xUZXJtKHBlcmlvZFN0cmluZ09yU2Nob29sVGVybSk7XG4gICAgICB0aGlzLnBlcmlvZCA9IChzY2hvb2xUZXJtLnRlcm0gPT09ICdBVCcgPyBcIkhUXCIgOiBcIlZUXCIpICsgc2Nob29sVGVybS55ZWFyO1xuICAgICAgdGhpcy50ZXJtID0gc2Nob29sVGVybS50ZXJtO1xuICAgICAgdGhpcy55ZWFyID0gc2Nob29sVGVybS55ZWFyO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzY2hvb2xUZXJtICgpIDogU2Nob29sVGVybSB7XG4gICAgcmV0dXJuIG5ldyBTY2hvb2xUZXJtKHtcbiAgICAgIGFjYWRlbWljWWVhcjogdGhpcy50ZXJtID09PSAnQVQnID9cbiAgICAgICAgYCR7dGhpcy55ZWFyfS8ke3RoaXMueWVhciArIDF9YCA6XG4gICAgICAgIGAke3RoaXMueWVhci0xfS8ke3RoaXMueWVhcn1gLFxuICAgICAgdGVybTogdGhpcy50ZXJtXG4gICAgfSk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5wZXJpb2Q7XG4gIH1cblxuICB2YWx1ZU9mKCkge1xuICAgIHJldHVybiB0aGlzLnllYXIgKyBcIjpcIiArICh0aGlzLnRlcm0gPT09ICdTVCcgPyBcIjFcIiA6IFwiMlwiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKc29uRGF0ZV9vbGQgKGpzb25EYXRlU3RyOiBzdHJpbmcpIDogRGF0ZSB7XG4gIGNvbnN0IGRhdGUgPSBkYXRlVGltZVJldml2ZXIoXCJcIiwganNvbkRhdGVTdHIpO1xuICBpZiAoIShkYXRlIGluc3RhbmNlb2YgRGF0ZSkpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSlNPTiBkYXRlIHN0cmluZzogXCIgKyBqc29uRGF0ZVN0cik7XG4gIHJldHVybiBkYXRlO1xufVxuXG5mdW5jdGlvbiBhdm9pZFNpbXVsdGFub3VzQ2FsbHM8VCxBPihtZXRob2Q6ICguLi5hcmdzOkFbXSk9PlByb21pc2U8VD4pIDogKC4uLmFyZ3M6QVtdKT0+UHJvbWlzZTxUPiB7XG4gIGxldCBvbmdvaW5nUHJvbWlzZXM6IHtbYXJnc0pzb246IHN0cmluZ106IFByb21pc2U8VD59ID0ge307XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBhcmdzSnNvbiA9IEpTT04uc3RyaW5naWZ5KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgaWYgKCFvbmdvaW5nUHJvbWlzZXNbYXJnc0pzb25dKSB7XG4gICAgICBvbmdvaW5nUHJvbWlzZXNbYXJnc0pzb25dID0gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykudGhlbihyZXN1bHQ9PntcbiAgICAgICAgZGVsZXRlIG9uZ29pbmdQcm9taXNlc1thcmdzSnNvbl07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG9uZ29pbmdQcm9taXNlc1thcmdzSnNvbl07XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3RET007IiwiZXhwb3J0ICogZnJvbSAnLi9qcy9kaXN0L2pzL2tlZC1iYWNrZW5kLWNsaWVudCc7IiwiaW1wb3J0IHsgRURTVGVhY2hlciwgRURTVHVpdGlvbkdyb3VwIH0gZnJvbSAnLi4vLi4vY29udHJhY3RzL2Vkcyc7XG5cblxuY29uc3QgY3JlYXRlU3R1ZGVudHMgPSAoZ3JvdXAsIG4sIG0pID0+IHtcbiAgY29uc3Qgc3R1ZGVudHMgPSBbXTtcbiAgZm9yICh2YXIgaT1uOyBpIDw9IG07IGkrKykge1xuICAgIHN0dWRlbnRzLnB1c2goe1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiBncm91cCxcbiAgICAgIHN0dWRlbnRGaXJzdE5hbWU6ICdTdHVkZW50ICcgKyBpLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50JyArIGkgKyAnLmNsYXNzcm9vbUBrZWRzY2hvb2xzLmNvbSdcblxuICAgIH0pO1xuICB9XG4gIHJldHVybiBzdHVkZW50cztcbn1cblxuZXhwb3J0IGNvbnN0IG1vY2tUZWFjaGVyczogRURTVGVhY2hlcltdID0gW1xuICB7XG4gICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgdGVhY2hlckZpcnN0TmFtZTogJ1RlYWNoZXIgMScsXG4gICAgdGVhY2hlckxhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICB0ZWFjaGVyRW1haWxBZGRyZXNzOiAndGVhY2hlcjEuY2xhc3Nyb29tQGtlZHNjaG9vbHMuY29tJ1xuICB9LFxuICB7XG4gICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgdGVhY2hlckZpcnN0TmFtZTogJ1RlYWNoZXIgMicsXG4gICAgdGVhY2hlckxhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICB0ZWFjaGVyRW1haWxBZGRyZXNzOiAndGVhY2hlcjIuY2xhc3Nyb29tQGtlZHNjaG9vbHMuY29tJ1xuICB9LFxuICB7XG4gICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgdGVhY2hlckZpcnN0TmFtZTogJ1RlYWNoZXIgMycsXG4gICAgdGVhY2hlckxhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICB0ZWFjaGVyRW1haWxBZGRyZXNzOiAndGVhY2hlcjMuY2xhc3Nyb29tQGtlZHNjaG9vbHMuY29tJ1xuICB9LFxuICB7XG4gICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgdGVhY2hlckZpcnN0TmFtZTogJ0NhcmwnLFxuICAgIHRlYWNoZXJMYXN0TmFtZTogJ0hvbG1iZXJnJyxcbiAgICB0ZWFjaGVyRW1haWxBZGRyZXNzOiAnY2FybEBrZWRzY2hvb2xzLmNvbSdcbiAgfSxcbiAge1xuICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgIHRlYWNoZXJGaXJzdE5hbWU6ICdEYXZpZCcsXG4gICAgdGVhY2hlckxhc3ROYW1lOiAnRmFobGFuZGVyJyxcbiAgICB0ZWFjaGVyRW1haWxBZGRyZXNzOiAnZGF2aWQuZmFobGFuZGVyQGtlZHNjaG9vbHMuY29tJ1xuICB9LFxuICB7XG4gICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgdGVhY2hlckZpcnN0TmFtZTogJ0FuZHJlaScsXG4gICAgdGVhY2hlckxhc3ROYW1lOiAnU3BhdGFyZWx1JyxcbiAgICB0ZWFjaGVyRW1haWxBZGRyZXNzOiAnYW5kcmVpLnNwYXRhcmVsdUB2ZW1lbmRvLnNlJ1xuICB9XG5dO1xuXG5leHBvcnQgY29uc3QgbW9ja1R1aXRpb25Hcm91cHMgPSB7XG4gICdESlVTw4RMMDEnOiBbXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnREpVUjFfR1IxICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBjb3Vyc2VDb2RlOiAnREpVU8OETDAxJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnREpVUjFfR1IyICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBjb3Vyc2VDb2RlOiAnREpVU8OETDAxJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnREpVUjFfR1IzICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBjb3Vyc2VDb2RlOiAnREpVU8OETDAxJ1xuICAgIH1cbiAgXSxcbiAgJ0RKVURKSTAnOltcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdESlVESl9HcjEgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIGNvdXJzZUNvZGU6ICdESlVESkkwJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnREpVREpfR3IyICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBjb3Vyc2VDb2RlOiAnREpVREpJMCdcbiAgICB9LCAgXSxcbiAgJ0tFTUtFTTAxJzogW1xuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ0tFTTFfR3IxICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBjb3Vyc2VDb2RlOiAnS0VNS0VNMDEnXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdLRU0xX0dyMiAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgY291cnNlQ29kZTogJ0tFTUtFTTAxJ1xuICAgIH1cbiAgXSxcbiAgXCJNQVRNQVQwM2JcIjogW1xuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ01BVDNiX0dyMSAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgY291cnNlQ29kZTogJ01BVE1BVDAzYidcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ01BVDNiX0dyMiAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgY291cnNlQ29kZTogJ01BVE1BVDAzYidcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ01BVDNiX0dyMyAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgY291cnNlQ29kZTogJ01BVE1BVDAzYidcbiAgICB9XG4gIF0sXG4gICdCSU9CSU8wMSc6IFtcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdCSU8xX0dyMSAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgY291cnNlQ29kZTogJ0JJT0JJTzAxJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnQklPMV9HcjIgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIGNvdXJzZUNvZGU6ICdCSU9CSU8wMSdcbiAgICB9XG4gIF0sXG4gICdTVkVTVkUwMyc6IFtcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdTVkUzX0dyMSAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgY291cnNlQ29kZTogJ1NWRVNWRTAzJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnU1ZFM19HcjIgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIGNvdXJzZUNvZGU6ICdTVkVTVkUwMydcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ1NWRTNfR3IzICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBjb3Vyc2VDb2RlOiAnU1ZFU1ZFMDMnXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdTVkUzX0dyNCAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgY291cnNlQ29kZTogJ1NWRVNWRTAzJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnU1ZFM19HcjUgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIGNvdXJzZUNvZGU6ICdTVkVTVkUwMydcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ1NWRTNfR3I2ICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBjb3Vyc2VDb2RlOiAnU1ZFU1ZFMDMnXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdTVkUzX0dyNyAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgY291cnNlQ29kZTogJ1NWRVNWRTAzJ1xuICAgIH1cbiAgXVxufVxuXG5leHBvcnQgY29uc3QgbW9ja1R1aXRpb25TdHVkZW50cyA9IHtcbiAgJ0RKVVIxX0dSMSAoMTgwODE2LTE5MDYxNCknIDogY3JlYXRlU3R1ZGVudHMoJ0RKVVIxX0dSMSAoMTgwODE2LTE5MDYxNCknICwgMSwgMTIpLFxuICAnREpVUjFfR1IyICgxODA4MTYtMTkwNjE0KScgOiBjcmVhdGVTdHVkZW50cygnREpVUjFfR1IyICgxODA4MTYtMTkwNjE0KScgLCAxMywgMjQpLFxuICAnREpVUjFfR1IzICgxODA4MTYtMTkwNjE0KScgOiBbXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnREpVREpfR3IyICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBzdHVkZW50Rmlyc3ROYW1lOiAnU3R1ZGVudDInLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50Mi5jbGFzc3Jvb21Aa2Vkc2Nob29scy5jb20nXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdESlVESl9HcjIgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIHN0dWRlbnRGaXJzdE5hbWU6ICdDYXJsJyxcbiAgICAgIHN0dWRlbnRMYXN0TmFtZTogJ0hvbG1iZXJnJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdjYXJsQGtlZHNjaG9vbHMuY29tJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnREpVREpfR3IyICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBzdHVkZW50Rmlyc3ROYW1lOiAnQW5kcmVpJyxcbiAgICAgIHN0dWRlbnRMYXN0TmFtZTogJ1NwYXRhcmVsdScsXG4gICAgICBzdHVkZW50RW1haWxBZGRyZXNzOiAnYW5kcmVpLnNwYXRhcmVsdUB2ZW1lbmRvLnNlJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnREpVREpfR3IyICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBzdHVkZW50Rmlyc3ROYW1lOiAnU3R1ZGVudDMnLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50My5jbGFzc3Jvb21Aa2Vkc2Nob29scy5jb20nXG4gICAgfSwgLi4uY3JlYXRlU3R1ZGVudHMoJ0RKVVIxX0dSMyAoMTgwODE2LTE5MDYxNCknICwgMjMsIDM0KVxuICBdLFxuICBcbiAgJ01BVDNiX0dyMSAoMTgwODE2LTE5MDYxNCknIDogY3JlYXRlU3R1ZGVudHMoJ01BVDNiX0dyMSAoMTgwODE2LTE5MDYxNCknLCAzLCAyMyksXG4gICdNQVQzYl9HcjIgKDE4MDgxNi0xOTA2MTQpJyA6IGNyZWF0ZVN0dWRlbnRzKCdNQVQzYl9HcjIgKDE4MDgxNi0xOTA2MTQpJywgMjQsIDQ5KSxcbiAgJ01BVDNiX0dyMyAoMTgwODE2LTE5MDYxNCknIDogY3JlYXRlU3R1ZGVudHMoJ01BVDNiX0dyMyAoMTgwODE2LTE5MDYxNCknLCA1MCwgNzIpLFxuICBcbiAgJ0lEUjFfR3IxICgxODA4MTYtMTkwNjE0KScgOiBjcmVhdGVTdHVkZW50cygnSURSMV9HcjEgKDE4MDgxNi0xOTA2MTQpJyAsIDEsIDEyKSxcbiAgJ0lEUjFfR3IyICgxODA4MTYtMTkwNjE0KScgOiBjcmVhdGVTdHVkZW50cygnSURSMV9HcjIgKDE4MDgxNi0xOTA2MTQpJyAsIDEzLCAyMiksXG4gICdJRFIxX0dyMyAoMTgwODE2LTE5MDYxNCknIDogY3JlYXRlU3R1ZGVudHMoJ0lEUjFfR3IzICgxODA4MTYtMTkwNjE0KScgLCAyMywgMzQpLFxuICBcbiAgJ0tFTTFfR3IxICgxODA4MTYtMTkwNjE0KScgOiBbXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnS0VNMV9HcjEgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIHN0dWRlbnRGaXJzdE5hbWU6ICdTdHVkZW50IDInLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50Mi5jbGFzc3Jvb21Aa2Vkc2Nob29scy5jb20nXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdLRU0xX0dyMSAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgc3R1ZGVudEZpcnN0TmFtZTogJ1N0dWRlbnQgMycsXG4gICAgICBzdHVkZW50TGFzdE5hbWU6ICdDbGFzc3Jvb20nLFxuICAgICAgc3R1ZGVudEVtYWlsQWRkcmVzczogJ3N0dWRlbnQzLmNsYXNzcm9vbUBrZWRzY2hvb2xzLmNvbSdcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ0tFTTFfR3IxICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBzdHVkZW50Rmlyc3ROYW1lOiAnU3R1ZGVudCA4JyxcbiAgICAgIHN0dWRlbnRMYXN0TmFtZTogJ0NsYXNzcm9vbScsXG4gICAgICBzdHVkZW50RW1haWxBZGRyZXNzOiAnc3R1ZGVudDguY2xhc3Nyb29tQGtlZHNjaG9vbHMuY29tJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnS0VNMV9HcjEgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIHN0dWRlbnRGaXJzdE5hbWU6ICdTdHVkZW50IDknLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50OS5jbGFzc3Jvb21Aa2Vkc2Nob29scy5jb20nXG4gICAgfVxuICBdLFxuICAnS0VNMV9HcjIgKDE4MDgxNi0xOTA2MTQpJyA6IFtcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdLRU0xX0dyMiAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgc3R1ZGVudEZpcnN0TmFtZTogJ1N0dWRlbnQgMScsXG4gICAgICBzdHVkZW50TGFzdE5hbWU6ICdDbGFzc3Jvb20nLFxuICAgICAgc3R1ZGVudEVtYWlsQWRkcmVzczogJ3N0dWRlbnQxLmNsYXNzcm9vbUBrZWRzY2hvb2xzLmNvbSdcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ0tFTTFfR3IyICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBzdHVkZW50Rmlyc3ROYW1lOiAnU3R1ZGVudCA1JyxcbiAgICAgIHN0dWRlbnRMYXN0TmFtZTogJ0NsYXNzcm9vbScsXG4gICAgICBzdHVkZW50RW1haWxBZGRyZXNzOiAnc3R1ZGVudDUuY2xhc3Nyb29tQGtlZHNjaG9vbHMuY29tJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnS0VNMV9HcjIgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIHN0dWRlbnRGaXJzdE5hbWU6ICdTdHVkZW50IDYnLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50Ni5jbGFzc3Jvb21Aa2Vkc2Nob29scy5jb20nXG4gICAgfVxuICBdLFxuICAnQklPMV9HcjEgKDE4MDgxNi0xOTA2MTQpJyA6IFtcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdCSU8xX0dyMSAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgc3R1ZGVudEZpcnN0TmFtZTogJ1N0dWRlbnQgMScsXG4gICAgICBzdHVkZW50TGFzdE5hbWU6ICdDbGFzc3Jvb20nLFxuICAgICAgc3R1ZGVudEVtYWlsQWRkcmVzczogJ3N0dWRlbnQxLmNsYXNzcm9vbUBrZWRzY2hvb2xzLmNvbSdcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ0JJTzFfR3IxICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBzdHVkZW50Rmlyc3ROYW1lOiAnU3R1ZGVudCA0JyxcbiAgICAgIHN0dWRlbnRMYXN0TmFtZTogJ0NsYXNzcm9vbScsXG4gICAgICBzdHVkZW50RW1haWxBZGRyZXNzOiAnc3R1ZGVudDQuY2xhc3Nyb29tQGtlZHNjaG9vbHMuY29tJ1xuICAgIH0sXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnQklPMV9HcjEgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIHN0dWRlbnRGaXJzdE5hbWU6ICdTdHVkZW50IDYnLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50Ni5jbGFzc3Jvb21Aa2Vkc2Nob29scy5jb20nXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdCSU8xX0dyMSAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgc3R1ZGVudEZpcnN0TmFtZTogJ1N0dWRlbnQgMTAnLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50MTAuY2xhc3Nyb29tQGtlZHNjaG9vbHMuY29tJ1xuICAgIH1cbiAgXSxcbiAgJ0JJTzFfR3IyICgxODA4MTYtMTkwNjE0KScgOiBbXG4gICAge1xuICAgICAgc2Nob29sTmFtZTogJ0tFRCcsXG4gICAgICB0dWl0aW9uR3JvdXBOYW1lOiAnQklPMV9HcjIgKDE4MDgxNi0xOTA2MTQpJyxcbiAgICAgIHN0dWRlbnRGaXJzdE5hbWU6ICdTdHVkZW50IDInLFxuICAgICAgc3R1ZGVudExhc3ROYW1lOiAnQ2xhc3Nyb29tJyxcbiAgICAgIHN0dWRlbnRFbWFpbEFkZHJlc3M6ICdzdHVkZW50Mi5jbGFzc3Jvb21Aa2Vkc2Nob29scy5jb20nXG4gICAgfSxcbiAgICB7XG4gICAgICBzY2hvb2xOYW1lOiAnS0VEJyxcbiAgICAgIHR1aXRpb25Hcm91cE5hbWU6ICdCSU8xX0dyMiAoMTgwODE2LTE5MDYxNCknLFxuICAgICAgc3R1ZGVudEZpcnN0TmFtZTogJ1N0dWRlbnQgNycsXG4gICAgICBzdHVkZW50TGFzdE5hbWU6ICdDbGFzc3Jvb20nLFxuICAgICAgc3R1ZGVudEVtYWlsQWRkcmVzczogJ3N0dWRlbnQ3LmNsYXNzcm9vbUBrZWRzY2hvb2xzLmNvbSdcbiAgICB9LFxuICAgIHtcbiAgICAgIHNjaG9vbE5hbWU6ICdLRUQnLFxuICAgICAgdHVpdGlvbkdyb3VwTmFtZTogJ0JJTzFfR3IyICgxODA4MTYtMTkwNjE0KScsXG4gICAgICBzdHVkZW50Rmlyc3ROYW1lOiAnU3R1ZGVudCA4JyxcbiAgICAgIHN0dWRlbnRMYXN0TmFtZTogJ0NsYXNzcm9vbScsXG4gICAgICBzdHVkZW50RW1haWxBZGRyZXNzOiAnc3R1ZGVudDguY2xhc3Nyb29tQGtlZHNjaG9vbHMuY29tJ1xuICAgIH0sXG4gIF0sXG4gICdTVkUzX0dyMSAoMTgwODE2LTE5MDYxNCknIDogY3JlYXRlU3R1ZGVudHMoJ1NWRTNfR3IxICgxODA4MTYtMTkwNjE0KScsIDEsIDIxKSxcbiAgJ1NWRTNfR3IyICgxODA4MTYtMTkwNjE0KScgOiBjcmVhdGVTdHVkZW50cygnU1ZFM19HcjIgKDE4MDgxNi0xOTA2MTQpJywgMjIsIDQ0KSxcbiAgJ1NWRTNfR3IzICgxODA4MTYtMTkwNjE0KScgOiBjcmVhdGVTdHVkZW50cygnU1ZFM19HcjMgKDE4MDgxNi0xOTA2MTQpJywgNDUsIDYxKSxcbiAgJ1NWRTNfR3I0ICgxODA4MTYtMTkwNjE0KScgOiBjcmVhdGVTdHVkZW50cygnU1ZFM19HcjQgKDE4MDgxNi0xOTA2MTQpJywgNjIsIDc4KSxcbiAgJ1NWRTNfR3I1ICgxODA4MTYtMTkwNjE0KScgOiBjcmVhdGVTdHVkZW50cygnU1ZFM19HcjUgKDE4MDgxNi0xOTA2MTQpJywgODMsIDEwNyksXG4gICdTVkUzX0dyNiAoMTgwODE2LTE5MDYxNCknIDogY3JlYXRlU3R1ZGVudHMoJ1NWRTNfR3I2ICgxODA4MTYtMTkwNjE0KScsIDEwOCwgMTI0KSxcbiAgJ1NWRTNfR3I3ICgxODA4MTYtMTkwNjE0KScgOiBjcmVhdGVTdHVkZW50cygnU1ZFM19HcjcgKDE4MDgxNi0xOTA2MTQpJywgMTI1LCAxNTApXG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBBc3NpZ25tZW50LCBVcmt1bmRSZXNwb25zZSB9IGZyb20gJ2tlZGJhY2tlbmQvbW9kZWxzJztcbmltcG9ydCB7IEh0dHBFcnJvciB9IGZyb20gJ2tlZGJhY2tlbmQvY2xpZW50JztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uLy4uL2dsb2JhbHMvS0VELmVudic7XG5pbXBvcnQgZG93bmxvYWQgZnJvbSAnZG93bmxvYWRqcyc7XG5pbXBvcnQgeyBTcGlubmVyIH0gZnJvbSAnLi4vLi4vY291cnNlLWJ1aWxkZXIvc3ViLWNvbXBvbmVudHMvc3Bpbm5lcic7XG5pbXBvcnQgeyBnZXRVcmt1bmRIb3ZlclRleHQsIGdldFVya3VuZFN0YXR1c0NsYXNzLCBnZXRVcmt1bmRTaWduaWZpY2FuY2VDbGFzcyB9IGZyb20gJy4vdXJrdW5kLXV0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVya3VuZFN0YXR1cyhmaWxlOiBBc3NpZ25tZW50LCByZWZyZXNoQXNzaWdubWVudDogKGZpbGU6QXNzaWdubWVudCk9PiB2b2lkLCBjaGVja1dpdGhVcmt1bmQ6IGJvb2xlYW4pIHtcbiAgY29uc3QgeyBtZXRhZGF0YSB9ID0gZmlsZTtcbiAgdmFyIHVya3VuZFJlc3BvbnNlczogVXJrdW5kUmVzcG9uc2VbXTtcbiAgdHJ5IHtcbiAgICB1cmt1bmRSZXNwb25zZXMgPSBtZXRhZGF0YS51cmt1bmRSZXNwb25zZSAmJiBKU09OLnBhcnNlKG1ldGFkYXRhLnVya3VuZFJlc3BvbnNlKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdXJrdW5kUmVzcG9uc2VzID0gbnVsbDtcbiAgfVxuICBsZXQgdXJrdW5kUmVzcG9uc2UgPSB1cmt1bmRSZXNwb25zZXMgJiYgdXJrdW5kUmVzcG9uc2VzWzBdO1xuICBpZiAoIXVya3VuZFJlc3BvbnNlICYmIGZpbGUubWV0YWRhdGEudXJrdW5kVXBsb2FkRXJyb3IpIHtcbiAgICB1cmt1bmRSZXNwb25zZSA9IHtcbiAgICAgIFN0YXR1czoge1xuICAgICAgICBFcnJvckNvZGU6IC0xLFxuICAgICAgICBNZXNzYWdlOiBmaWxlLm1ldGFkYXRhLnVya3VuZFVwbG9hZEVycm9yLFxuICAgICAgICBTdGF0ZTogJ0Vycm9yJ1xuICAgICAgfSxcbiAgICAgIEV4dGVybmFsSWQ6IGZpbGUubWV0YWRhdGEudXJrdW5kRXh0ZXJuYWxJZFxuICAgIH0gYXMgVXJrdW5kUmVzcG9uc2U7XG4gIH1cbiAgaWYgKGZpbGUuaXNSZWZyZXNoaW5nKSByZXR1cm4gPHRkIGNvbFNwYW49ezJ9PjxTcGlubmVyIC8+IFVwcGRhdGVyYXIuLi48L3RkPlxuICByZXR1cm4gdXJrdW5kUmVzcG9uc2UgPyA8PlxuICAgIDx0ZCBjbGFzc05hbWU9XCJ1cmt1bmQtc3RhdHVzLWNvbFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17dXJrdW5kUmVzcG9uc2UuUmVwb3J0ICYmIHVya3VuZFJlc3BvbnNlLlJlcG9ydC5SZXBvcnRVcmx9XG4gICAgICAgIG9uQ2xpY2s9e2V2ID0+IHtcbiAgICAgICAgICBpZiAoWydBY2NlcHRlZCcsICdTdWJtaXR0ZWQnXS5pbmRleE9mKHVya3VuZFJlc3BvbnNlLlN0YXR1cy5TdGF0ZSkgPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuOyAvLyBGb2xsb3cgSFJFRiBpbnN0ZWFkLlxuICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgY2hlY2tXaXRoVXJrdW5kICYmIHJlZnJlc2hBc3NpZ25tZW50KGZpbGUpO1xuICAgICAgICB9fVxuICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICB0aXRsZT17Z2V0VXJrdW5kSG92ZXJUZXh0KHVya3VuZFJlc3BvbnNlKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRVcmt1bmRTdGF0dXNDbGFzcyh1cmt1bmRSZXNwb25zZSl9IC8+XG4gICAgICA8L2E+XG4gICAgPC90ZD5cbiAgICA8dGQgY2xhc3NOYW1lPVwidXJrdW5kLXN0YXR1cy1jb2xcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRVcmt1bmRTaWduaWZpY2FuY2VDbGFzcyh1cmt1bmRSZXNwb25zZSl9PlxuICAgICAgICB7dXJrdW5kUmVzcG9uc2UuUmVwb3J0ICYmIHR5cGVvZiB1cmt1bmRSZXNwb25zZS5SZXBvcnQuU2lnbmlmaWNhbmNlID09PSAnbnVtYmVyJyA/XG4gICAgICAgICAgYCR7dXJrdW5kUmVzcG9uc2UuUmVwb3J0LlNpZ25pZmljYW5jZS50b0ZpeGVkKCl9JWAgOiAnICd9XG4gICAgICA8L2Rpdj5cbiAgICA8L3RkPlxuICA8Lz4gOiA8dGQgY29sU3Bhbj17Mn0gLz5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShhc3NpZ25tZW50czogQXNzaWdubWVudFtdLCBhc3NpZ25tZW50OiBBc3NpZ25tZW50KTogQXNzaWdubWVudFtdIHtcbiAgY29uc3QgcmV0dmFsID0gW1xuICAgIGFzc2lnbm1lbnQsXG4gICAgLi4uYXNzaWdubWVudHMuZmlsdGVyKCh7dXNlciwgZmlsZW5hbWV9KSA9PlxuICAgICAgdXNlciAhPT0gYXNzaWdubWVudC51c2VyIHx8XG4gICAgICBmaWxlbmFtZSAhPT0gYXNzaWdubWVudC5maWxlbmFtZSldO1xuICByZXR1cm4gcmV0dmFsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRGaWxlKGZpbGU6IEFzc2lnbm1lbnQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBlbnYua2VkQmFja2VuZENsaWVudC5odHRwLmZldGNoKGZpbGUubWVkaWFMaW5rLCAnZ2V0Jywge30pO1xuICAgIGlmIChyZXMuc3RhdHVzID49IDQwMCkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcihyZXMuc3RhdHVzLCBhd2FpdCByZXMudGV4dCgpKTtcbiAgICB9XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlcy5ibG9iKCk7XG4gICAgZG93bmxvYWQoYmxvYiwgZmlsZS5maWxlbmFtZSwgZmlsZS5jb250ZW50VHlwZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogXCJLdW5kZSBpbnRlIGxhZGRhIG5lZCBmaWxlbi4gXCIgKyAoZXJyLm1lc3NhZ2UgfHwgZXJyKSB9KTtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERyaXZlRmlsZUxpc3RpbmcoeyBmaWxlIH06IHsgZmlsZTogQXNzaWdubWVudCB9KSB7XG4gIGNvbnN0IHsgZHJpdmVGaWxlSWNvblVybCwgZHJpdmVGaWxlVXJsIH0gPSBmaWxlLm1ldGFkYXRhO1xuICBjb25zdCBmaWxlbmFtZSA9IGZpbGUuZmlsZW5hbWUuc3Vic3RyKDAsIGZpbGUuZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKSk7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhbGlnbi1ob3Jpem9udGFsIHNwYWNlZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3Jpem9udGFsSXRlbSB0b3BcIj5cbiAgICAgICAgPGltZyBjbGFzc05hbWU9XCJmaWxlLWljb25cIiBzcmM9e2RyaXZlRmlsZUljb25Vcmx9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9yaXpvbnRhbEl0ZW0gdG9wXCI+XG4gICAgICAgIDxzcGFuPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9e2RyaXZlRmlsZVVybH0+e2ZpbGVuYW1lfTwvYT48L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCJpbXBvcnQge0ludGxQcm92aWRlciwgYWRkTG9jYWxlRGF0YX0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgbG9jYWxlX2VuIGZyb20gJ3JlYWN0LWludGwvbG9jYWxlLWRhdGEvZW4nO1xuaW1wb3J0IGxvY2FsZV9zdiBmcm9tICdyZWFjdC1pbnRsL2xvY2FsZS1kYXRhL3N2JztcbmltcG9ydCBtZXNzYWdlc19zdiBmcm9tIFwiLi4vLi4vdHJhbnNsYXRpb25zL3N2Lmpzb25cIjtcbmltcG9ydCBtZXNzYWdlc19lbiBmcm9tIFwiLi4vLi4vdHJhbnNsYXRpb25zL2VuLmpzb25cIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjZmcgZnJvbSAnLi4vLi4vZ2xvYmFscy9LRUQuY2ZnJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZXhwb3J0IGNvbnN0IHNldHVwSW50bCA9IDxQIGV4dGVuZHMgb2JqZWN0PihDb21wb25lbnQ6IFJlYWN0LkNvbXBvbmVudFR5cGU8UD4pID0+XG4gICAgY2xhc3MgX1NldHVwTGFuZ3VhZ2VJbnRsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFA+e1xuICAgICAgICBtZXNzYWdlcyA6IG9iamVjdDtcblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgICAgICBhZGRMb2NhbGVEYXRhKFsuLi5sb2NhbGVfZW4sLi4ubG9jYWxlX3N2XSk7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VzID0ge1xuICAgICAgICAgICAgJ3N2JzogbWVzc2FnZXNfc3YsXG4gICAgICAgICAgICAnZW4nOiBtZXNzYWdlc19lblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1vbWVudCgpLmxvY2FsZShjZmcuS0VEX0xPQ0FMRSk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXIoKXtcbiAgICAgICAgICAgIHJldHVybiA8SW50bFByb3ZpZGVyIGxvY2FsZT17Y2ZnLktFRF9MT0NBTEV9IG1lc3NhZ2VzPXt0aGlzLm1lc3NhZ2VzW2NmZy5LRURfTE9DQUxFXX0+XG4gICAgICAgICAgICAgICAgPENvbXBvbmVudCB7Li4udGhpcy5wcm9wcyBhcyBQfSAvPlxuICAgICAgICAgICAgPC9JbnRsUHJvdmlkZXI+XG4gICAgICAgIH1cbiAgICB9IiwiaW1wb3J0IHtVcmt1bmRSZXNwb25zZX0gZnJvbSAna2VkYmFja2VuZC9tb2RlbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXJrdW5kU3RhdHVzQ2xhc3MgKHJlczogVXJrdW5kUmVzcG9uc2UpIHtcbiAgaWYgKCFyZXMgfHwgIXJlcy5TdGF0dXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHN3aXRjaCAocmVzLlN0YXR1cy5TdGF0ZSkge1xuICAgIGNhc2UgJ0Vycm9yJzpcbiAgICAgIHJldHVybiBgdXJrdW5kLXN0YXR1cyB1cmt1bmQtc3RhdHVzLWVycm9yYDtcbiAgICBjYXNlICdTdWJtaXR0ZWQnOlxuICAgICAgcmV0dXJuIGB1cmt1bmQtc3RhdHVzIHVya3VuZC1zdGF0dXMtc3VibWl0dGVkYDtcbiAgICBjYXNlICdBY2NlcHRlZCc6XG4gICAgICByZXR1cm4gYHVya3VuZC1zdGF0dXMgdXJrdW5kLXN0YXR1cy1hY2NlcHRlZGA7XG4gICAgY2FzZSAnQW5hbHl6ZWQnOlxuICAgICAgcmV0dXJuIGB1cmt1bmQtc3RhdHVzIHVya3VuZC1zdGF0dXMtYW5hbHl6ZWRgO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVcmt1bmRIb3ZlclRleHQgKHJlczogVXJrdW5kUmVzcG9uc2UpIHtcbiAgaWYgKCFyZXMgfHwgIXJlcy5TdGF0dXMpIHJldHVybiBudWxsO1xuICBzd2l0Y2ggKHJlcy5TdGF0dXMuU3RhdGUpIHtcbiAgICBjYXNlICdFcnJvcic6XG4gICAgICByZXR1cm4gcmVzLkV4dGVybmFsSWQgP1xuICAgICAgICBgS3VuZGUgaW50ZSB0YXMgZW1vdCBhdiB1cmt1bmQuIEZlbGtvZDogJHtyZXMuU3RhdHVzLkVycm9yQ29kZX1cXG5gK1xuICAgICAgICBgRXh0ZXJuYWwgSUQ6ICR7cmVzLkV4dGVybmFsSWR9XFxuRmVsbWVkZGVsYW5kZTogJHtyZXMuU3RhdHVzLk1lc3NhZ2V9YFxuICAgICAgICA6XG4gICAgICAgIHJlcy5TdGF0dXMuTWVzc2FnZTtcbiAgICBjYXNlICdTdWJtaXR0ZWQnOlxuICAgICAgcmV0dXJuIGBGaWxlbiDDpHIgdXBwbGFkZGFkIHRpbGwgVXJrdW5kLiBLbGlja2EgZsO2ciBhdHQgdXBwZGF0ZXJhIHN0YXR1cy5gO1xuICAgIGNhc2UgJ0FjY2VwdGVkJzpcbiAgICAgIHJldHVybiBgRmlsZW4gYW5hbHlzZXJhcyBmb3J0ZmFyYW5kZSBhdiBVcmt1bmQuIEtsaWNrYSBmw7ZyIGF0dCB1cHBkYXRlcmEgc3RhdHVzLmA7XG4gICAgY2FzZSAnQW5hbHl6ZWQnOlxuICAgICAgcmV0dXJuIGBSYXBwb3J0IHNrYXBhZC4gS2xpY2thIGbDtnIgYXR0IMO2cHBuYSByYXBwb3J0ZW4gaSBueXR0IGbDtm5zdGVyYDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXJrdW5kU2lnbmlmaWNhbmNlQ2xhc3MgKHJlczogVXJrdW5kUmVzcG9uc2UpIHtcbiAgaWYgKCFyZXMgfHwgIXJlcy5TdGF0dXMpIHJldHVybiAnJztcblxuICBzd2l0Y2ggKHJlcy5TdGF0dXMuU3RhdGUpIHtcbiAgICBjYXNlICdFcnJvcic6IHJldHVybiAndXJrdW5kLXNpZ25pZmljYW5jZS1lcnJvcic7XG4gICAgY2FzZSAnU3VibWl0dGVkJzogcmV0dXJuICd1cmt1bmQtc2lnbmlmaWNhbmNlLXN1Ym1pdHRlZCc7XG4gICAgY2FzZSAnQWNjZXB0ZWQnOiByZXR1cm4gJ3Vya3VuZC1zaWduaWZpY2FuY2UtYWNjZXB0ZWQnO1xuICB9XG4gIGNvbnN0IHJlcG9ydCA9IHJlcy5SZXBvcnQ7XG4gIGlmICghcmVwb3J0KSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgaWYgKHJlcG9ydC5TaWduaWZpY2FuY2UgPCAxKVxuICAgIC8vcmV0dXJuIGAke2Nkbn0vaW1hZ2VzL3Vya3VuZC8wLmdpZmA7XG4gICAgcmV0dXJuIFwidXJrdW5kLXNpZ25pZmljYW5jZSB1cmt1bmQtc2lnbmlmaWNhbmNlLTBcIjtcbiAgaWYgKHJlcG9ydC5TaWduaWZpY2FuY2UgPCAxMClcbiAgICAvL3JldHVybiBgJHtjZG59L2ltYWdlcy91cmt1bmQvMS5naWZgO1xuICAgIHJldHVybiBcInVya3VuZC1zaWduaWZpY2FuY2UgdXJrdW5kLXNpZ25pZmljYW5jZS0xXCI7XG4gIGlmIChyZXBvcnQuU2lnbmlmaWNhbmNlIDwgMjUpXG4gICAgcmV0dXJuIFwidXJrdW5kLXNpZ25pZmljYW5jZSB1cmt1bmQtc2lnbmlmaWNhbmNlLTJcIjtcbiAgICAvL3JldHVybiBgJHtjZG59L2ltYWdlcy91cmt1bmQvMi5naWZgO1xuICBpZiAocmVwb3J0LlNpZ25pZmljYW5jZSA8IDQwKVxuICAgIHJldHVybiBcInVya3VuZC1zaWduaWZpY2FuY2UgdXJrdW5kLXNpZ25pZmljYW5jZS0zXCI7XG4gICAgLy9yZXR1cm4gYCR7Y2RufS9pbWFnZXMvdXJrdW5kLzMuZ2lmYDtcbiAgaWYgKHJlcG9ydC5TaWduaWZpY2FuY2UgPCA1NSlcbiAgICByZXR1cm4gXCJ1cmt1bmQtc2lnbmlmaWNhbmNlIHVya3VuZC1zaWduaWZpY2FuY2UtNFwiO1xuICAgIC8vcmV0dXJuIGAke2Nkbn0vaW1hZ2VzL3Vya3VuZC80LmdpZmA7XG4gIGlmIChyZXBvcnQuU2lnbmlmaWNhbmNlIDwgNzApXG4gICAgcmV0dXJuIFwidXJrdW5kLXNpZ25pZmljYW5jZSB1cmt1bmQtc2lnbmlmaWNhbmNlLTVcIjtcbiAgICAvL3JldHVybiBgJHtjZG59L2ltYWdlcy91cmt1bmQvNS5naWZgO1xuICBpZiAocmVwb3J0LlNpZ25pZmljYW5jZSA8IDg1KVxuICAgIHJldHVybiBcInVya3VuZC1zaWduaWZpY2FuY2UgdXJrdW5kLXNpZ25pZmljYW5jZS02XCI7XG4gICAgLy9yZXR1cm4gYCR7Y2RufS9pbWFnZXMvdXJrdW5kLzYuZ2lmYDtcbiAgaWYgKHJlcG9ydC5TaWduaWZpY2FuY2UgPCA5OS45KVxuICAgIHJldHVybiBcInVya3VuZC1zaWduaWZpY2FuY2UgdXJrdW5kLXNpZ25pZmljYW5jZS03XCI7XG4gICAgLy9yZXR1cm4gYCR7Y2RufS9pbWFnZXMvdXJrdW5kLzcuZ2lmYDtcbiAgaWYgKHJlcG9ydC5TaWduaWZpY2FuY2UgPj0gOTkuOSlcbiAgICByZXR1cm4gXCJ1cmt1bmQtc2lnbmlmaWNhbmNlIHVya3VuZC1zaWduaWZpY2FuY2UtOFwiO1xuICAgIC8vcmV0dXJuIGAke2Nkbn0vaW1hZ2VzL3Vya3VuZC84LmdpZmA7XG4gIHJldHVybiBcIlwiO1xufVxuIiwiaW1wb3J0IEtFRCBmcm9tICcuL0tFRCc7XG5cbi8qIFRoaXMgZGVmYXVsdCBjb25maWd1cmF0aW9uIGlzIHVzZWQgYXMgYSBmYWxsYmFjay5cbk5vcm1hbGx5IGJvdGggdGVzdCBwYWdlcyBhbmQgcHJvZHVjdGlvbiBwYWdlcyB3aWxsIG92ZXJyaWRlIHRoZXNlIGNvbmZpZ3JhdGlvbnNcbiovXG4vKmNvbnN0IGRlZmF1bHRDb25maWd1cmF0aW9uID0ge1xuICAvLyBFbnZpcm9ubWVudFxuICBFTlZJUk9OTUVOVDogJ2RldmVsb3BtZW50JyBhcyAncHJvZHVjdGlvbicgfCAnZGV2ZWxvcG1lbnQnIHwgJ3Rlc3QnLFxuICAvLyBBdXRoZW50aWNhdGlvbiBTZXJ2ZXI6XG4gIEtFRF9UT0tFTl9VUkw6ICdodHRwczovL2tlZGF1dGh0ZXN0LmF6dXJld2Vic2l0ZXMubmV0L3Rva2VuJyxcbiAgS0VEX1RPS0VOX1BBVEg6ICcvYXBpL3Rva2VuLlNrcmlwdC5wb3J0bGV0P3N2LmNvbnRlbnR0eXBlPWFwcGxpY2F0aW9uL2pzb24nLFxuICBLRURfQ0xJRU5UX0lEOiAnZGV2Y2xpZW50JyxcbiAgS0VEX0NMSUVOVF9TRUNSRVQ6ICc0ZlJkZlFwV3RKcWpUV2YnLFxuICAvLyBTZXJ2aWNlczpcbiAgS0VEX0FQSV9VUkw6ICdodHRwczovL2tlZGJhY2tlbmR0ZXN0LmF6dXJld2Vic2l0ZXMubmV0L2FwaS8nLCAgXG4gIEVEU19BUElfVVJMOiAnaHR0cHM6Ly9lZHNwb3J0YWxvd2luYXBpLmF6dXJld2Vic2l0ZXMubmV0L2FwaS8nXG59Ki9cblxuZXhwb3J0IGludGVyZmFjZSBJS2VkQ29uZmlndXJhdGlvbiB7XG4gIEVOVklST05NRU5UOiAncHJvZHVjdGlvbicgfCAnZGV2ZWxvcG1lbnQnIHwgJ3Rlc3QnO1xuICBLRURfUkVBTE06IHN0cmluZztcbiAgS0VEX1RPS0VOX1VSTDogc3RyaW5nO1xuICBLRURfVE9LRU5fUEFUSDogc3RyaW5nO1xuICBLRURfQ0xJRU5UX0lEOiBzdHJpbmc7XG4gIEtFRF9DTElFTlRfU0VDUkVUOiBzdHJpbmc7XG4gIEtFRF9BUElfVVJMOiBzdHJpbmc7XG4gIEVEU19BUElfVVJMOiBzdHJpbmc7XG4gIEtFRF9MT0NBTEU6IHN0cmluZztcbiAgS0VEX1NDSE9PTF9MT0NBTEU6IHN0cmluZztcbiAgS0VEX0NPVVJTRV9CVUlMREVSX1VSTDogc3RyaW5nO1xuICBLRURfQ09VUlNFX1ZJRVdFUl9VUkw6IHN0cmluZztcbiAgS0VEX1NVQkpFQ1RfUExBTk5FUl9BRE1JTl9VUkw6IHN0cmluZztcbiAgS0VEX1NVQkpFQ1RfUExBTk5FUl9VUkw6IHN0cmluZztcbiAgS0VEX0ZFQVRVUkVTOiBzdHJpbmc7XG4gIEtFRF9LRUVQX0FMSVZFX1VSTDogc3RyaW5nO1xuICBLRURfRU5VTV9XT1JEQkFOS1NfVVJMOiBzdHJpbmc7XG4gIEtFRF9XT1JEQkFOS1NfVVJMOiBzdHJpbmc7XG4gIEtFRF9SRVNPVVJDRVNfVVJMOiBzdHJpbmc7XG59O1xuXG5pZiAoIUtFRC5jZmcpIEtFRC5jZmcgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgS0VELmNmZyBhcyBJS2VkQ29uZmlndXJhdGlvbjtcbmV4cG9ydCBjb25zdCBjZmc6IElLZWRDb25maWd1cmF0aW9uID0gS0VELmNmZztcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGVmdDogUmVhY3QuUmVhY3ROb2RlO1xuICByaWdodDogUmVhY3QuUmVhY3ROb2RlO1xuICByaWdodFdpZHRoOiAxIHwgMiB8IDMgfCA0IHwgNSB8IDYgfCA3IHwgOCB8wqA5IHwgMTAgfCAxMTtcbn1cblxuZXhwb3J0IGNvbnN0IFR3b0NvbHVtbnNQYWdlID0gKHsgbGVmdCwgcmlnaHQsIHJpZ2h0V2lkdGggfTogUHJvcHMpID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJzdi1yb3cgc3YtbGF5b3V0XCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJzdi1sYXlvdXQgc3Ytc2tpcC1zcGFjZXIgc3YtY29sdW1uLTEyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInN2LXNwYWNlci0yMHB4dnQgc3YtdmVydGljYWwgc3YtbGF5b3V0IHN2LXNraXAtc3BhY2VyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZWNvbnRlbnQgc3YtbGF5b3V0IHN2LXNwYWNlci0yMHB4dnQgc3Ytc2tpcC1zcGFjZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN2LXJvdyBzdi1sYXlvdXQgc3Ytc2tpcC1zcGFjZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc3YtbGF5b3V0IHN2LXNraXAtc3BhY2VyIHN2LWNvbHVtbi0kezEyLXJpZ2h0V2lkdGh9YH0+XG4gICAgICAgICAgICAgIHtsZWZ0fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHN2LWxheW91dCBzdi1jb2x1bW4tJHtyaWdodFdpZHRofWB9PlxuICAgICAgICAgICAgICB7cmlnaHR9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4pO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgY29uc3QgRWxsaXBzaXNMb2FkZXIgPSAoKSA9PlxuICA8aW1nXG4gICAgc3R5bGU9e3tib3JkZXI6IDAsIG1hcmdpbjogMCwgcGFkZGluZzogMH19XG4gICAgY2xhc3NOYW1lPVwiZWxsaXBzaXMtbG9hZGVyXCIgLz47XG4iLCJ2YXIgS2VkQmFja2VuZFN1YnNjcmlwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLZWRCYWNrZW5kU3Vic2NyaXB0aW9uKHN1YnNjcmliZXIsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyID0gc3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgICB9XG4gICAgS2VkQmFja2VuZFN1YnNjcmlwdGlvbi5wcm90b3R5cGUubm90aWZ5U3Vic2NyaWJlciA9IGZ1bmN0aW9uIChkYXRhLCBlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlcihbXSwgZXJyb3IsIHRoaXMpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gdGhpcy5sYXN0Tm90aWZpZWREYXRhKSB7IC8vIFdpbGwgaW4tZmFjdCBiZSBlcXVhbCBieSByZWZlcmVuY2UgaWYgZGF0YSBpcyBzYW1lIGFzIGxhc3Qgbm90aWZpY2F0aW9uIChhcyB3ZSB1c2UgYW4gaW1tdXRhYmxlIGFwcHJvYWNoIG9uIGRhdGEpXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Tm90aWZpZWREYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZXIoZGF0YSwgZXJyb3IsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmliZXIoW10sIGV4LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChleDIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igd2hpbGUgbm90aWZ5aW5nIEtlZEJhY2tlbmRTdWJzY3JpYmVyOlwiLCBleDIsICdvcmlnaW5hbGx5IG5vdGlmaWVkIGVycm9yOicsIGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgS2VkQmFja2VuZFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbi51bnN1YnNjcmliZSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBLZWRCYWNrZW5kU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IEtlZEJhY2tlbmRTdWJzY3JpcHRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlZGJhY2tlbmQtc3Vic2NyaXB0aW9uLmpzLm1hcCIsImltcG9ydCB7IHRhYmxlcyB9IGZyb20gJ2tlZGJhY2tlbmQtc2NoZW1hL3NjaGVtYS5qc29uJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRUYWJsZUZyb21MYWJlbCh0YWJsZSwgbGFiZWwpIHtcbiAgICByZXR1cm4gdGFibGVzW3RhYmxlXS5yZWxhdGlvbnNoaXBzW2xhYmVsXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUFycmF5KHF1ZXJ5LCBkYXRhKSB7XG4gICAgdmFyIGZpbHRlciA9IGdldEZpbHRlckZyb21RdWVyeShxdWVyeSk7XG4gICAgcmV0dXJuIGRhdGEuZmlsdGVyKGZpbHRlcik7XG59XG5leHBvcnQgZnVuY3Rpb24gQU5EKGZpbHRlcjEsIGZpbHRlcjIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIGZpbHRlcjEoeCkgJiYgZmlsdGVyMih4KTsgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWx0ZXJGcm9tUXVlcnkocXVlcnkpIHtcbiAgICB2YXIgZmlsdGVyID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgaWYgKHF1ZXJ5LmZyb20pXG4gICAgICAgIHJldHVybiBBTkQoZmlsdGVyLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5kYXRlVGltZSA+PSBxdWVyeS5mcm9tOyB9KTtcbiAgICBpZiAocXVlcnkudG8pXG4gICAgICAgIHJldHVybiBBTkQoZmlsdGVyLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5kYXRlVGltZSA8IHF1ZXJ5LnRvOyB9KTtcbiAgICBpZiAocXVlcnkuaWRzKVxuICAgICAgICByZXR1cm4gQU5EKGZpbHRlciwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHF1ZXJ5Lmlkcy5pbmNsdWRlcyh4LmlkKTsgfSk7XG4gICAgaWYgKHF1ZXJ5Lm5hbWUpXG4gICAgICAgIHJldHVybiBBTkQoZmlsdGVyLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5uYW1lID09PSBxdWVyeS5uYW1lOyB9KTtcbiAgICBpZiAocXVlcnkudGFncylcbiAgICAgICAgcmV0dXJuIEFORChmaWx0ZXIsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnRhZ3MgJiYgW10uY29uY2F0KHF1ZXJ5LnRhZ3MgfHwgW10pLnNvbWUoZnVuY3Rpb24gKHRhZykgeyByZXR1cm4geC50YWdzLmluY2x1ZGVzKHRhZyk7IH0pOyB9KTtcbiAgICAvLyBxdWVyeS5oYXNFZGdlc0Zyb20gYW5kIHF1ZXJ5Lmhhc0VkZ2VzVG8gY2Fubm90IGJ5IGZpbHRlcmVkIGhlcmVcbiAgICByZXR1cm4gZmlsdGVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJyYW5jaFNlbnNpdGl2ZShtKSB7XG4gICAgcmV0dXJuIG0ub3AgIT09ICdkZWxldGUnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdsb2JhbE9wKG0pIHtcbiAgICByZXR1cm4gbS5vcCA9PT0gJ2NsZWFyLWJyYW5jaCcgfHwgbS5vcCA9PT0gJ21lcmdlJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsImltcG9ydCAqIGFzIEpzb25TY2hlbWEgZnJvbSBcImtlZGJhY2tlbmQtc2NoZW1hL3NjaGVtYS5qc29uXCI7XG5pbXBvcnQgeyBnZXRUYWJsZUZyb21MYWJlbCB9IGZyb20gXCIuL3V0aWxzXCI7XG52YXIgQ2FjaGVCdXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhY2hlQnVzdCgpIHtcbiAgICB9XG4gICAgQ2FjaGVCdXN0LmdldENhY2hlQnVzdCA9IGZ1bmN0aW9uICh0YWJsZSwgcXVlcnksIHVzZXIsIGluY2x1ZGVzKSB7XG4gICAgICAgIHZhciBpbnZvbHZlZEl0ZW1zID0gQ2FjaGVCdXN0LmdldEludm9sdmVkSXRlbXModGFibGUsIHF1ZXJ5LCBpbmNsdWRlcyk7XG4gICAgICAgIHJldHVybiBpbnZvbHZlZEl0ZW1zXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhY2hlLWJ1c3QtXCIgKyB1c2VyICsgXCItXCIgKyBpdGVtKTsgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAhIXZhbHVlOyB9KVxuICAgICAgICAgICAgLmpvaW4oJy8nKSB8fCAnc3RhdGljJztcbiAgICB9O1xuICAgIENhY2hlQnVzdC5pbnZhbGlkYXRlQ2FjaGUgPSBmdW5jdGlvbiAocmVxcywgdXNlcikge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gQ2FjaGVCdXN0LmdldENhY2hlSW52YWxpZGF0aW9ucyhyZXFzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gX2FbX2ldO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYWNoZS1idXN0LVwiICsgdXNlciArIFwiLVwiICsgaXRlbSwgJycgKyBEYXRlLm5vdygpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FjaGVCdXN0LmdldEludm9sdmVkSXRlbXMgPSBmdW5jdGlvbiAodGFibGUsIHF1ZXJ5LCBpbmNsdWRlcykge1xuICAgICAgICB2YXIgaGFzRWRnZXNGcm9tID0gcXVlcnkuaGFzRWRnZXNGcm9tO1xuICAgICAgICB2YXIgcmVsYXRlZFRhYmxlcyA9IGluY2x1ZGVzXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChsYWJlbCkgeyByZXR1cm4gSnNvblNjaGVtYS50YWJsZXNbdGFibGVdLnJlbGF0aW9uc2hpcHNbbGFiZWxdOyB9KVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAodGFibGUpIHsgcmV0dXJuICEhdGFibGU7IH0pO1xuICAgICAgICBpZiAoaGFzRWRnZXNGcm9tKVxuICAgICAgICAgICAgcmVsYXRlZFRhYmxlcy5wdXNoKFwiaGVmXCIgKyB0YWJsZSk7XG4gICAgICAgIHJldHVybiBbdGFibGUsICdtYXN0ZXInLCBxdWVyeS5icmFuY2hJZF0uZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiAhIXg7IH0pLmNvbmNhdChyZWxhdGVkVGFibGVzKS5zb3J0KCk7XG4gICAgfTtcbiAgICBDYWNoZUJ1c3QuZ2V0Q2FjaGVJbnZhbGlkYXRpb25zID0gZnVuY3Rpb24gKHJlcXMpIHtcbiAgICAgICAgdmFyIGludmFsaWRhdGlvblNldCA9IHt9O1xuICAgICAgICByZXFzLmZvckVhY2goZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgc3dpdGNoIChyZXEub3ApIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3B1dCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICBjYXNlICd1cGRhdGUnOlxuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkYXRpb25TZXRbcmVxLnRhYmxlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmsnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3VubGluayc6XG4gICAgICAgICAgICAgICAgY2FzZSAndW5kby1saW5rJzpcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZGF0aW9uU2V0W3JlcS5zb3VyY2VUYWJsZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkYXRpb25TZXRbXCJoZWYtXCIgKyBnZXRUYWJsZUZyb21MYWJlbChyZXEuc291cmNlVGFibGUsIHJlcS5sYWJlbCldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY2xlYXItYnJhbmNoJzpcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZGF0aW9uU2V0W3JlcS5icmFuY2hJZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtZXJnZSc6XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWRhdGlvblNldFtyZXEuYnJhbmNoSWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZGF0aW9uU2V0W3JlcS50YXJnZXRCcmFuY2hJZCB8fCBcIm1hc3RlclwiXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGludmFsaWRhdGlvblNldCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FjaGVCdXN0O1xufSgpKTtcbmV4cG9ydCB7IENhY2hlQnVzdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGUtYnVzdC5qcy5tYXAiLCJpbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RGVsdGEoZG9jLCBkZWx0YSkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGVsdGEpO1xuICAgIHZhciB0YXJnZXREb2MgPSBkb2M7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzXzEgPSBrZXlzOyBfaSA8IGtleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNfMVtfaV07XG4gICAgICAgIGlmICh0YXJnZXREb2MgPT09IGRvYylcbiAgICAgICAgICAgIHRhcmdldERvYyA9IHRzbGliXzEuX19hc3NpZ24oe30sIGRvYyk7XG4gICAgICAgIHZhciB2YWwgPSBkZWx0YVtrZXldO1xuICAgICAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB2YXIgbWV0YUluc3RydWN0aW9ucyA9IE9iamVjdC5rZXlzKHZhbClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGtleS5zdGFydHNXaXRoKCckJyk7IH0pO1xuICAgICAgICAgICAgaWYgKG1ldGFJbnN0cnVjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKG1pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtaVZhbHVlID0gdmFsW21pXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiR1bnNldFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZyBvbiB0YXJnZXQgZG9jIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERvYy4kd2FzVW5zZXQgPSB0cnVlOyAvLyBKdXN0IG1hcmsgaXQgZm9yIHJlLXJldHJpZXZhbCBhZnRlciBzdWNjZXNzZnVsIHBvc3RpbmcgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkYWRkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzVG9BZGQgPSBtaVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXNUb0FkZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJGFkZCBpbnN0cnVjdGlvbiBtdXN0IGNvbnRhaW4gYXJyYXlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRBcnJheSA9IHRhcmdldERvY1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0YXJnZXRBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEFycmF5ID0gdGFyZ2V0QXJyYXkuc2xpY2UoKTsgLy8gT24gSlMgc2lkZSwgd2UgbXVzdCBiZSBpbW11dGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RG9jW2tleV0gPSB0YXJnZXRBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIHZhbHVlc1RvQWRkXzEgPSB2YWx1ZXNUb0FkZDsgX2kgPCB2YWx1ZXNUb0FkZF8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IHZhbHVlc1RvQWRkXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldEFycmF5LmluY2x1ZGVzKHYpKSB7IC8vIGF2b2lkIGR1cHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEFycmF5LnB1c2godik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiJHJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlc1RvUmVtb3ZlXzEgPSBtaVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXNUb1JlbW92ZV8xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIkcmVtb3ZlIGluc3RydWN0aW9uIG11c3QgY29udGFpbiBhcnJheVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldEFycmF5ID0gdGFyZ2V0RG9jW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRhcmdldEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRBcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREb2Nba2V5XSA9IHRhcmdldEFycmF5LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gIXZhbHVlc1RvUmVtb3ZlXzEuaW5jbHVkZXModCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIG1ldGFJbnN0cnVjdGlvbnNfMSA9IG1ldGFJbnN0cnVjdGlvbnM7IF9hIDwgbWV0YUluc3RydWN0aW9uc18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWkgPSBtZXRhSW5zdHJ1Y3Rpb25zXzFbX2FdO1xuICAgICAgICAgICAgICAgICAgICBfbG9vcF8xKG1pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0RG9jW2tleV0gPSB2YWw7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXREb2M7XG59XG4vLyB7bmFtZTogXCJVbGxhXCJ9LCB7bmFtZTogeyR1bnNldDowfVxuLy8ge3RhZ3M6IHskYWRkOiBcImhlalwifX0sIHt0YWdzOiB7JHVuc2V0OjB9XCJ9XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VEZWx0YXMoZGVsdGExLCBkZWx0YTIsIF9hKSB7XG4gICAgdmFyIHJlbW92ZVVuc2V0UHJvcHMgPSAoX2EgPT09IHZvaWQgMCA/IHsgcmVtb3ZlVW5zZXRQcm9wczogZmFsc2UgfSA6IF9hKS5yZW1vdmVVbnNldFByb3BzO1xuICAgIC8vcmV0dXJuIHsuLi5kZWx0YTEsIC4uLmRlbHRhMn07XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkZWx0YTIpO1xuICAgIHZhciB0YXJnZXREZWx0YSA9IHRzbGliXzEuX19hc3NpZ24oe30sIGRlbHRhMSk7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzXzIgPSBrZXlzOyBfaSA8IGtleXNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNfMltfaV07XG4gICAgICAgIHZhciB2YWwgPSBkZWx0YTJba2V5XTtcbiAgICAgICAgaWYgKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdmFyIG1ldGFJbnN0cnVjdGlvbnMgPSBPYmplY3Qua2V5cyh2YWwpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBrZXkuc3RhcnRzV2l0aCgnJCcpOyB9KTtcbiAgICAgICAgICAgIGlmIChtZXRhSW5zdHJ1Y3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uIChtaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWlWYWx1ZSA9IHZhbFttaV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobWkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkdW5zZXRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVVbnNldFByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXREZWx0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gbWF0dGVyIGlmIHRhcmdldERlbHRhIGlzIGVtcHR5IG9yIGhhcyB2YWx1ZS4gU2V0IGl0IHRvIHskdW5zZXQ6MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gbWFrZSBzdXJlIHRoZSB2ZXJ5IGVuZCByZXN1bHQgd2lsbCBoYXZlIHskdW5zZXQ6MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGVsdGFba2V5XSA9IHsgJHVuc2V0OiAwIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIiRhZGRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXNUb0FkZF8yID0gbWlWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzVG9BZGRfMikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJGFkZCBpbnN0cnVjdGlvbiBtdXN0IGNvbnRhaW4gYXJyYXlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhUHJvcCA9IHRhcmdldERlbHRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TWV0YVByb3AgPSB0YXJnZXRNZXRhUHJvcCA/IHRzbGliXzEuX19hc3NpZ24oe30sIHRhcmdldE1ldGFQcm9wKSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERlbHRhW2tleV0gPSB0YXJnZXRNZXRhUHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaXJzdCwganVzdCBjaGVjayBpZiB0YXJnZXQgbWV0YVByb3AgaGFzIHskcmVtb3ZlOiBbLi4uaXRlbXNdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHNvLCByZW1vdmUgYW55IGVxdWFsIGl0ZW1zIGZyb20gdGhlcmUgYmVmb3JlIG1lcmdpbmcgdGhlIHskYWRkOiBbLi4uXX0gYXJyYXlzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRSZW1vdmVBcnJheSA9IHRhcmdldE1ldGFQcm9wLiRyZW1vdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0UmVtb3ZlQXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE1ldGFQcm9wLiRyZW1vdmUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UmVtb3ZlQXJyYXkuZmlsdGVyKGZ1bmN0aW9uICh0KSB7IHJldHVybiAhdmFsdWVzVG9BZGRfMi5pbmNsdWRlcyh0KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRNZXRhUHJvcC4kcmVtb3ZlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgJHJlbW92ZSBhcnJheSBiZWNhbWUgZW10cHkuIFJlbW92ZSB0aGUgJHJlbW92ZSBwcm9wLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldE1ldGFQcm9wLiRyZW1vdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm93IGl0J3MgdGltZSB0byBtZXJnZSBvciBjcmVhdGUgdGFyZ2V0ICRhZGQgYXJyYXkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldEFkZEFycmF5ID0gdGFyZ2V0TWV0YVByb3AuJGFkZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRBZGRBcnJheSA9IHRhcmdldEFkZEFycmF5ID8gdGFyZ2V0QWRkQXJyYXkuY29uY2F0KHZhbHVlc1RvQWRkXzIpIDogdmFsdWVzVG9BZGRfMi5zbGljZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE1ldGFQcm9wLiRhZGQgPSB0YXJnZXRBZGRBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIkcmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzVG9SZW1vdmVfMiA9IG1pVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlc1RvUmVtb3ZlXzIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIiRyZW1vdmUgaW5zdHJ1Y3Rpb24gbXVzdCBjb250YWluIGFycmF5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0TWV0YVByb3AgPSB0YXJnZXREZWx0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE1ldGFQcm9wID0gdGFyZ2V0TWV0YVByb3AgPyB0c2xpYl8xLl9fYXNzaWduKHt9LCB0YXJnZXRNZXRhUHJvcCkgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREZWx0YVtrZXldID0gdGFyZ2V0TWV0YVByb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QsIGp1c3QgY2hlY2sgaWYgdGFyZ2V0IG1ldGFQcm9wIGhhcyB7JGFkZDogWy4uLml0ZW1zXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzbywgcmVtb3ZlIGFueSBlcXVhbCBpdGVtcyBmcm9tIHRoZXJlIGJlZm9yZSBtZXJnaW5nIHRoZSB7JHJlbW92ZTogWy4uLl19IGFycmF5cy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0QWRkQXJyYXkgPSB0YXJnZXRNZXRhUHJvcC4kcmVtb3ZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldEFkZEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRNZXRhUHJvcC4kYWRkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEFkZEFycmF5LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gIXZhbHVlc1RvUmVtb3ZlXzIuaW5jbHVkZXModCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0TWV0YVByb3AuJGFkZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmICRhZGQgYXJyYXkgYmVjYW1lIGVtdHB5LiBSZW1vdmUgdGhlICRhZGQgcHJvcC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRNZXRhUHJvcC4kYWRkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdyBpdCdzIHRpbWUgdG8gbWVyZ2Ugb3IgY3JlYXRlIHRhcmdldCAkcmVtb3ZlIGFycmF5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRSZW1vdmVBcnJheSA9IHRhcmdldE1ldGFQcm9wLiRyZW1vdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UmVtb3ZlQXJyYXkgPSB0YXJnZXRSZW1vdmVBcnJheSA/IHRhcmdldFJlbW92ZUFycmF5LmNvbmNhdCh2YWx1ZXNUb1JlbW92ZV8yKSA6IHZhbHVlc1RvUmVtb3ZlXzIuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRNZXRhUHJvcC4kcmVtb3ZlID0gdGFyZ2V0UmVtb3ZlQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgbWV0YUluc3RydWN0aW9uc18yID0gbWV0YUluc3RydWN0aW9uczsgX2IgPCBtZXRhSW5zdHJ1Y3Rpb25zXzIubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtaSA9IG1ldGFJbnN0cnVjdGlvbnNfMltfYl07XG4gICAgICAgICAgICAgICAgICAgIF9sb29wXzIobWkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0YXJnZXREZWx0YVtrZXldID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0RGVsdGE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWx0YS1tZXJnZS5qcy5tYXAiLCJpbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgdXBkYXRlQXJyYXkgfSBmcm9tICcuLi9rZWQtYmFja2VuZC1jbGllbnQvdXRpbHMnO1xuaW1wb3J0IHsgYnJhbmNoU2Vuc2l0aXZlLCBnZXRUYWJsZUZyb21MYWJlbCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgYXBwbHlEZWx0YSB9IGZyb20gJy4vZGVsdGEtbWVyZ2UnO1xudmFyIEtlZEJhY2tlbmRRdWVyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLZWRCYWNrZW5kUXVlcnkodGFibGUsIHF1ZXJ5LCB1c2VyLCByZXBvLCBtdXRhdGlvblF1ZXVlKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgICB0aGlzLnJlcG8gPSByZXBvO1xuICAgICAgICB0aGlzLm11dGF0aW9uUXVldWUgPSBtdXRhdGlvblF1ZXVlO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICAgIHRoaXMuZ290SW5pdGlhbFJlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW52YWxpZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvYWRlZFZlcnNpb24gPSAwO1xuICAgICAgICB0aGlzLl9sb2FkUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5jbHVkZXMgPSBxdWVyeS5pbmNsdWRlID9cbiAgICAgICAgICAgIHR5cGVvZiBxdWVyeS5pbmNsdWRlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAgW3F1ZXJ5LmluY2x1ZGVdIDpcbiAgICAgICAgICAgICAgICBxdWVyeS5pbmNsdWRlIDpcbiAgICAgICAgICAgIFtdO1xuICAgIH1cbiAgICBLZWRCYWNrZW5kUXVlcnkucXVlcnlLZXkgPSBmdW5jdGlvbiAodGFibGUsIHF1ZXJ5KSB7XG4gICAgICAgIHZhciBtdXRhdGlvbnNPbkVtcHR5ID0gcXVlcnkubXV0YXRpb25zT25FbXB0eSwgY29tcGFyYWJsZVByb3BzID0gdHNsaWJfMS5fX3Jlc3QocXVlcnksIFtcIm11dGF0aW9uc09uRW1wdHlcIl0pO1xuICAgICAgICByZXR1cm4gdGFibGUgKyBKU09OLnN0cmluZ2lmeShjb21wYXJhYmxlUHJvcHMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtlZEJhY2tlbmRRdWVyeS5wcm90b3R5cGUsIFwicXVlcnlLZXlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBLZWRCYWNrZW5kUXVlcnkucXVlcnlLZXkodGhpcy50YWJsZSwgdGhpcy5xdWVyeSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEtlZEJhY2tlbmRRdWVyeS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYXRhLCBkYXRhO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5nb3RJbml0aWFsUmVzcG9uc2UgJiYgIXRoaXMuaW52YWxpZCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuZ2V0RGF0YVdpdGhNdXRhdGlvbnNBcHBsaWVkKHRoaXMubXV0YXRpb25RdWV1ZS5nZXQoKSwgdHJ1ZSwgdGhpcy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5ub3RpZnlTdWJzY3JpYmVyKGRhdGEsIHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLnF1ZXJ5TG9jYWxseSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5ub3RpZnlTdWJzY3JpYmVyKGRhdGEsIHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5sb2FkKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRRdWVyeS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB0c2xpYl8xLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxvYWRQcm9taXNlO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ290SW5pdGlhbFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbXV0YXRpb25zT25FbXB0eSBzaG91bGQgbmV2ZXIgYmUgdXNlZCB0d2ljZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5xdWVyeS5tdXRhdGlvbnNPbkVtcHR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoIXZlcnNpb24gJiYgdGhpcy5fbG9hZFByb21pc2UpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2xvYWRQcm9taXNlXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiBcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9hZGluZyBpcyBvbmdvaW5nLCBhbmQgY2FsbGVyIGRvZXMgbm90IHJlcXVpcmUgYSByZWNlbnQgcmVmcmVzaC5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhlIG9uZ29pbmcgbG9hZCB0byBjb21wbGV0ZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9IHZlcnNpb24gfHwgdGhpcy5yZXBvLndyaXRlci5wZXJzaXN0ZWRWZXJzaW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFByb21pc2UgPSB0aGlzLl9sb2FkUHJvbWlzZSA9IHRoaXMuX2xvYWQodmVyc2lvbikudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fbG9hZFByb21pc2UgPT09IGxvYWRQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkZWRWZXJzaW9uID0gTWF0aC5tYXgoX3RoaXMubG9hZGVkVmVyc2lvbiwgdmVyc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9sb2FkUHJvbWlzZSA9PT0gbG9hZFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9vbmUgaGFzIHJlZnJlc2hlZCBvdXIgbG9hZC4gVGhlIGVycm9yIGlzIHRoZSBmaW5hbCByZXN1bHQuIFNldCBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2xvYWRQcm9taXNlID09PSBsb2FkUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOb29uZSBoYXMgcmVmcmVzaGVkIG91ciBsb2FkLiBXZSdyZSBmaW5pc2hlZC4gRGF0YSBvciBlcnJvciBpcyBhbHJlYWR5IHNldC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFyayBnb3RJbml0aWFsUmVzcG9uc2UgdG8gdHJ1ZSBhbmQgbm90aWZ5IHN1YnNjcmliZXJzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbG9hZFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5nb3RJbml0aWFsUmVzcG9uc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhfdGhpcy5tdXRhdGlvblF1ZXVlLmdldCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEEgbW9yZSByZWNlbnQgY2FsbCB0byBsb2FkKCkgaXMgb25nb2luZywgT1Igd2FzIG9uZ29pbmcgYnV0IHJlc3BvbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiZWZvcmUgdXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIGFueSBjYXNlIHJldHVybiB0aGlzLl9sb2FkUHJvbWlzZS4gSWYgaXQncyBvbmdvaW5nIHdlJ2xsIHdhaXQgZm9yIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGZpbmlzaC4gSWYgaXQncyBudWxsLCB3ZSdsbCBiZSByZXR1cm5pbmcgZmluYWxseSBoZXJlIHdpdGhvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55IGFjdGlvbiwgYmVjYXVzZSB0aGUgYWN0aW9uIHdhcyB0YWtlbiBieSB0aGUgcmVmcmVzaGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2xvYWRQcm9taXNlOyAvLyBXYWl0IGZvciB0aGUgcmVmcmVzaGVkIGxvYWQgdG8gY29tcGxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvYWRQcm9taXNlXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRRdWVyeS5wcm90b3R5cGUuX2xvYWQgPSBmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm11dGF0aW9uUXVldWUuYWZmZWN0c1F1ZXJ5KHRoaXMudGFibGUsIHRoaXMucXVlcnksIHRoaXMuaW5jbHVkZXMpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBvdXRnb2luZyBtdXRhdGlvbnMgdGhhdCBhZmZlY3RzIHRoaXMgcXVlcnkuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIHdhaXQgdGlsbCB0aGV5IHJlYWNoIHNlcnZlciBhbmQgc2VydmVyIHJlc3BvbmRzIHdpdGggT0sgYmVmb3JlIHF1ZXJ5aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2VydmVyLiBPdGhlcndpc2UsIHdlIG1heSBnZXQgaW5hY2N1cmF0ZSBkYXRhIGZyb20gc2VydmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZXBvLndyaXRlci53YWl0Rm9yVmVyc2lvblRvUGVyc2lzdCh2ZXJzaW9uKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBvdXRnb2luZyBtdXRhdGlvbnMgdGhhdCBhZmZlY3RzIHRoaXMgcXVlcnkuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIHdhaXQgdGlsbCB0aGV5IHJlYWNoIHNlcnZlciBhbmQgc2VydmVyIHJlc3BvbmRzIHdpdGggT0sgYmVmb3JlIHF1ZXJ5aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc2VydmVyLiBPdGhlcndpc2UsIHdlIG1heSBnZXQgaW5hY2N1cmF0ZSBkYXRhIGZyb20gc2VydmVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucXVlcnlTZXJ2ZXIoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZFF1ZXJ5LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gdGhpcy5zdWJzY3JpcHRpb25zLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcyAhPT0gc3Vic2NyaXB0aW9uOyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRRdWVyeS5wcm90b3R5cGUuY29tbWl0TXV0YXRpb25zID0gZnVuY3Rpb24gKG11dGF0aW9ucywgdmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfaSwgbXV0YXRpb25zXzEsIG0sIGRhdGE7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kYXRhKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pID0gMCwgbXV0YXRpb25zXzEgPSBtdXRhdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9pIDwgbXV0YXRpb25zXzEubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtID0gbXV0YXRpb25zXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobS5vcCA9PT0gJ2NsZWFyLWJyYW5jaCcgJiYgKG0uYnJhbmNoSWQgPT09IHRoaXMucXVlcnkuYnJhbmNoSWQpKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlZnJlc2hPckludmFsaWRhdGUodmVyc2lvbildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG0ub3AgPT09ICdtZXJnZScgJiYgKCFtLnRhcmdldEJyYW5jaElkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5icmFuY2hJZCA9PT0gdGhpcy5xdWVyeS5icmFuY2hJZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0udGFyZ2V0QnJhbmNoSWQgPT09IHRoaXMucXVlcnkuYnJhbmNoSWQpKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlZnJlc2hPckludmFsaWRhdGUodmVyc2lvbildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG0ub3AgPT09ICd1cGRhdGUnICYmICgobS5kZWx0YURvYy50YWdzICYmIHRoaXMucXVlcnkudGFncykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobS5kZWx0YURvYy5uYW1lICYmIHRoaXMucXVlcnkubmFtZSkpKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBIHRhZyBtYXkgaGF2ZSBiZWVuIGFkZGVkLCBvciByZW5hbWVkLCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBxdWVyeSBpcyBkZXBlbmRlbnQgb24gdGhlIHNhbWUgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcXVlcnkgbXVzdCBiZSByZWZyZXNoZWQgZnJvbSBzZXJ2ZXIgYXMgd2UgY2Fubm90XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21taXQgdGhlIG11dGF0aW9ucyBsb2NhbGx5IGFzIHdlIGRvbid0IGhhdmUgYWxsIGluZm8uXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlZnJlc2hPckludmFsaWRhdGUodmVyc2lvbildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBIHRhZyBtYXkgaGF2ZSBiZWVuIGFkZGVkLCBvciByZW5hbWVkLCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBxdWVyeSBpcyBkZXBlbmRlbnQgb24gdGhlIHNhbWUgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcXVlcnkgbXVzdCBiZSByZWZyZXNoZWQgZnJvbSBzZXJ2ZXIgYXMgd2UgY2Fubm90XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21taXQgdGhlIG11dGF0aW9ucyBsb2NhbGx5IGFzIHdlIGRvbid0IGhhdmUgYWxsIGluZm8uXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuZ2V0RGF0YVdpdGhNdXRhdGlvbnNBcHBsaWVkKG11dGF0aW9ucywgZmFsc2UsIHRoaXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA5O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kUXVlcnkucHJvdG90eXBlLnJlZnJlc2hPckludmFsaWRhdGUgPSBmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCA9PT0gMCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMubG9hZCh2ZXJzaW9uKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZFF1ZXJ5LnByb3RvdHlwZS5ub3RpZnlTdWJzY3JpYmVycyA9IGZ1bmN0aW9uIChvcHRpbWlzdGljTXV0YXRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5nb3RJbml0aWFsUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBkYXRhXzEgPSB0aGlzLmdldERhdGFXaXRoTXV0YXRpb25zQXBwbGllZChvcHRpbWlzdGljTXV0YXRpb25zLCB0cnVlLCB0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICBzLm5vdGlmeVN1YnNjcmliZXIoZGF0YV8xLCBfdGhpcy5lcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2VkQmFja2VuZFF1ZXJ5LnByb3RvdHlwZS5xdWVyeUxvY2FsbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcG8ucXVlcnlTZXQucXVlcnlMb2NhbGx5KHRoaXMudGFibGUsIHRoaXMucXVlcnksIHRoaXMuaW5jbHVkZXMpO1xuICAgIH07XG4gICAgS2VkQmFja2VuZFF1ZXJ5LnByb3RvdHlwZS5xdWVyeVNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlcG8uZ2V0Q2xpZW50KCkubGlzdCh0aGlzLnRhYmxlLCB0c2xpYl8xLl9fYXNzaWduKHt9LCB0aGlzLnF1ZXJ5KSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGRhdGFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRRdWVyeS5wcm90b3R5cGUuZ2V0RGF0YVdpdGhNdXRhdGlvbnNBcHBsaWVkID0gZnVuY3Rpb24gKG11dGF0aW9ucywgb3B0aW1pc3RpYywgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgICAgIGRhdGEgPSBfdGhpcy5hcHBseU11dGF0aW9uc09uRGF0YShkYXRhLCBtdXRhdGlvbiwgb3B0aW1pc3RpYyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRRdWVyeS5wcm90b3R5cGUuYXBwbHlNdXRhdGlvbnNPbkRhdGEgPSBmdW5jdGlvbiAoZGF0YSwgbSwgb3B0aW1pc3RpYykge1xuICAgICAgICBpZiAoYnJhbmNoU2Vuc2l0aXZlKG0pICYmIG0uYnJhbmNoSWQgIT0gdGhpcy5xdWVyeS5icmFuY2hJZClcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB0YWJsZSA9IF9hLnRhYmxlLCBpbmNsdWRlcyA9IF9hLmluY2x1ZGVzLCBsaXN0T3B0aW9ucyA9IF9hLnF1ZXJ5O1xuICAgICAgICB2YXIgc291cmNlSWRzID0gbGlzdE9wdGlvbnMuaGFzRWRnZXNGcm9tID8gW10uY29uY2F0KGxpc3RPcHRpb25zLmhhc0VkZ2VzRnJvbSB8fCBbXSkgOiBbXTtcbiAgICAgICAgdmFyIHJlcXVlc3RlZFRhZ3MgPSBsaXN0T3B0aW9ucy50YWdzID8gW10uY29uY2F0KGxpc3RPcHRpb25zLnRhZ3MgfHwgW10pIDogW107XG4gICAgICAgIHN3aXRjaCAobS5vcCkge1xuICAgICAgICAgICAgY2FzZSAndXBkYXRlJzoge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVBcnJheShkYXRhLCBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2MuaWQgPT09IG0uaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGRlbHRhIG9uIHVwZGF0ZWQgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkRG9jID0gYXBwbHlEZWx0YShkb2MsIG0uZGVsdGFEb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGltaXN0aWMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZERvYy4kbWV0YSA9ICd1cGRhdGluZyc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZERvYztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpZCBkb2VzIG5vdCBhcHBseSB0byB0aGlzIGRvYywgc2VhcmNoIGluIGdyYXBocyB0aGUgaWQgaXMgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgLy8gYW1vbmcgZ3JhcGggaW5jbHVkZWQgZG9jcywgYW5kIGlmIHNvLCB1cGRhdGUgdGhhdCBvbmU6XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzLmZvckVhY2goZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZWREb2NzID0gZG9jW2xhYmVsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlZERvY3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZEFycmF5ID0gdXBkYXRlQXJyYXkoaW5jbHVkZWREb2NzLCBmdW5jdGlvbiAocmVsYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsYXRlZC5pZCAhPT0gbS5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWxhdGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFJlbGF0ZWQgPSBhcHBseURlbHRhKHJlbGF0ZWQsIG0uZGVsdGFEb2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW1pc3RpYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZWxhdGVkLiRtZXRhID0gJ3VwZGF0aW5nJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRSZWxhdGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkQXJyYXkgIT09IGluY2x1ZGVkRG9jcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MgPSB0c2xpYl8xLl9fYXNzaWduKHt9LCBkb2MsIChfYSA9IHt9LCBfYVtsYWJlbF0gPSB1cGRhdGVkQXJyYXksIF9hKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgICAgICAgICAgaWYgKHRhYmxlID09PSBtLnRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0T3B0aW9ucy50YWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcmllZFRhZ3NfMSA9IFtdLmNvbmNhdChsaXN0T3B0aW9ucy50YWdzKTsgLy8gdGFnIGNhbiBiZSBlaXRoZXIgc3RyaW5nIG9yIHN0cmluZ1tdLiBNYWtlIGlzIHN0cmluZ1tdIGFsd2F5cy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtLmRvYy50YWdzICYmIG0uZG9jLnRhZ3Muc29tZShmdW5jdGlvbiAodGFnKSB7IHJldHVybiBxdWVyaWVkVGFnc18xLmluY2x1ZGVzKHRhZyk7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29uY2F0KFttLmRvY10pOyAvLyBNYWtlIHRoZSBhZGRlZCBkb2MgYXBwZWFyIGluIHRoZSByZXN1bHQgKG9wdGltaXN0aWMgbXV0YXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVG9kbywgYXBwbHkgYWxzbyBmb3Igb3RoZXIgbGlzdCBvcHRpb25zLCBsaWtlIGlkczpcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGFib3ZlIGNvZGUgZm9yICdhZGQnIHdhcyBvbmx5IHdyaXR0ZW4gdG8gY292ZXIgdGhlIHVzZSBjYXNlIG9mIHRlYWNoZXJzLXBhZ2Ugbm90aWZpY2F0aW9ucyFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7IC8vIGZhbGxiYWNrIGNhc2UgLSBxdWVyeSB3YXMgbm90IGFmZmVjdGVkLlxuICAgICAgICAgICAgY2FzZSAnYWRkLXJlbGF0ZWQnOlxuICAgICAgICAgICAgICAgIGlmICh0YWJsZSA9PT0gbS50YWJsZSAmJiBpbmNsdWRlcy5pbmRleE9mKG0uZ3JhcGhQcm9wKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgZXhwcmVzc2lvbiBpcyBgZGIuY291cnNlQmxvY2tzLi4uLndoYXRldmVyLi4gLmluY2x1ZGUoXCJhYmlsaXRpZXNcIilgLCBkZXRlY3Q6IGRiLmNvdXJzZUJsb2Nrcy5hZGRSZWxhdGVkKGJsb2NrSWQsICdhYmlsaXRpZXMnLCAuLi4pXG4gICAgICAgICAgICAgICAgICAgIC8vIC4uLmJlY2F1c2UgdGFibGUgPSAnY291cnNlQmxvY2tzJyBhbmQgaW5jbHVkZXMgaGFzIFwiYWJpbGl0aWVzXCIuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVBcnJheShkYXRhLCBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jLmlkICE9PSBtLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRlZERvYyA9IHRzbGliXzEuX19hc3NpZ24oe30sIG0ucmVsYXRlZERvYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW1pc3RpYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkRG9jLiRtZXRhID0gJ2FkZGluZyc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2Fzc2lnbih7fSwgZG9jLCAoX2EgPSB7fSwgX2FbbS5ncmFwaFByb3BdID0gZG9jW20uZ3JhcGhQcm9wXS5jb25jYXQoW3JlbGF0ZWREb2NdKSwgX2EpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsaXN0T3B0aW9ucy5oYXNFZGdlc0Zyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZUlkcy5pbmNsdWRlcyhtLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgZXhwcmVzc2lvbiBpczpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgYGRiLmNvdXJzZUJsb2Nrcy5oYXNFZGdlc0Zyb20oW2NvdXJzZUlkXSlgICAobWVhbmluZyB0YWJsZT0nY291cnNlQmxvY2tzJyBhbmQgc291cmNlSWRzIGluY2x1ZGVzIGNvdXJzZUlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLCBkZXRlY3Q6IGRiLmNvdXJzZUluc3RhbmNlcy5hZGRSZWxhdGVkKGNvdXJzZUlkLCAnY291cnNlQmxvY2tzJywgLi4uLikgLy8gbS5ncmFwaFByb3AgPT09ICdibG9ja3MnLS0+IGdldFRhYmxlRnJvbUxhYmVsIC0tPiAnY291cnNlQmxvY2tzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmxlID09PSBnZXRUYWJsZUZyb21MYWJlbChtLnRhYmxlLCBtLmdyYXBoUHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpc3RPcHRpb25zLnRhZ3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbmNhdCh0aGlzLnNldEdyYXBoUHJvcHMobS5yZWxhdGVkRG9jKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0ucmVsYXRlZERvYy50YWdzICYmIHJlcXVlc3RlZFRhZ3Muc29tZShmdW5jdGlvbiAodGFnKSB7IHJldHVybiBtLnJlbGF0ZWREb2MudGFncy5pbmNsdWRlcyh0YWcpOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5jb25jYXQodGhpcy5zZXRHcmFwaFByb3BzKG0ucmVsYXRlZERvYykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGlzdE9wdGlvbnMuaWRzICYmIGxpc3RPcHRpb25zLmlkcy5zb21lKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gaWQgPT09IG0ucmVsYXRlZERvYy5pZDsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBjZXJ0YWluIElEIGlzIG9ic2VydmVkLiBBIGRvYyB3aXRoIHRoaXMgaWQgaXMgYmVpbmcgYWRkZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgZG9jIHRvIHRoZSByZXN1bHQuIEV4YWN0bHkgdGhpcyBXSUxMIGhhcHBlbiBpbiB0aGUgZm9sbG93aW5nIHR5cGljYWwgc2NlbmFyaW86XG4gICAgICAgICAgICAgICAgICAgIC8vIDEuIFVzZXIgYWRkcyBhIHJlbGF0ZWQgZG9jdW1lbnQgdG8gYSBsaXN0LlxuICAgICAgICAgICAgICAgICAgICAvLyAyLiBEb2N1bWVudCByZW1haW5zIHdpdGhpbiB0aGUgTXV0YXRpb25RdWV1ZSB3aGlsZSBiYXRjaC1yZXF1ZXN0IGlzIGJlaW5nIHByb2Nlc3NlZCBieSBzZXJ2ZXIuXG4gICAgICAgICAgICAgICAgICAgIC8vIDMuIFVzZXIgY2xpY2tzIHRoZSBhZGRlZCBpdGVtIHRvIGVkaXQgb3IgdmlldyBpdCAob3Igb3VyIGNvbXBvbmVudCByZWRpcmVjdHMgdG8gaXRzIGVkaXRvcilcbiAgICAgICAgICAgICAgICAgICAgLy8gNC4gQSBuZXcgcXVlcnkgb2YgdGhhdCBwYXJ0aWN1bGFyIElEIGlzIHN1YnNjcmliZWQgdG8ge2lkcz1bdGhlSWRdfVxuICAgICAgICAgICAgICAgICAgICAvLyAgICBLZWRCYWNrZW5kUXVlcnkuc3Vic2NyaWJlIHRoZW4gZG9lcyB0aGlzOlxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIDEuIENhbGwgcXVlcnlMb2NhbGx5KCkgYmVmb3JlIHF1ZXJ5aW5nIHNlcnZlclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIDIuIHF1ZXJ5TG9jYWxseSgpIGluc3BlY3RzIG11dGF0aW9ucyBhbmQgZmluZHMgYSBtYXRjaCwgcmV0dXJuaW5nIGFuIGVtcHR5IGxpc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAoYXNzdW1lcyBhcyB3ZSBhcmUgYWRkaW5nIGl0LCBpdCBjYW4ndCBleGlzdCBvbiB0aGUgc2VydmVyIGFueXdheSlcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAzLiBLZWRCYWNrZW5kUVVlcnkgYXBwbGllcyBtdXRhdGlvbnMgb250byB0aGUgZW1wdHkgbGlzdCwgYW5kIGVuZHMgdXAgaGVyZSB0byBhZGRcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpdCBvcHRpbWlzdGljYWxseS5cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICA0LiBXaGVuIHNlcnZlciByZXNwb25kcyB3aXRoIDIwMCBPSywgY2FsbHMgdXMgaGVyZSBhZ2FpbiB3aXRoIG9wdGltaXN0aWM9ZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0byBcInBlcnNpc3RcIiBpdCBpbiB0aGUgcXVlcnkncyBkYXRhIGFycmF5LlxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIDRCOiBJZiBub3QgMjAwIE9LLCBtdXRhdGlvbiBtYXkgYmUgZ29uZSBhbmQgdGhlIHN1YnNjcmliZXIgd2lsbCBzZSBhbiBlcnJvciBwYWdlXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgXCJDb3VsZCBub3QgZmluZCBlbnRpdHkgd2l0aCBpZCBYLlwiIGFsb25nIHdpdGggYSByZWQgZXJyb3IgbWVzc2FnZSBvbiB0aGUgc2NyZWVuXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgYWJvdXQgdGhhdCBpdCBmYWlsZWQgdG8gc2F2ZSBvbiBzZXJ2ZXIuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbmNhdCh0aGlzLnNldEdyYXBoUHJvcHMobS5yZWxhdGVkRG9jKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgY2FzZSAncmVtb3ZlLXJlbGF0ZWQnOlxuICAgICAgICAgICAgICAgIGlmICh0YWJsZSA9PT0gbS50YWJsZSAmJiBpbmNsdWRlcy5pbmRleE9mKG0uZ3JhcGhQcm9wKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUFycmF5KGRhdGEsIGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmNsdWRlZERvY3MgPSBkb2NbbS5ncmFwaFByb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmNsdWRlZERvY3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2MuaWQgIT09IG0uaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fYXNzaWduKHt9LCBkb2MsIChfYSA9IHt9LCBfYVttLmdyYXBoUHJvcF0gPSBvcHRpbWlzdGljID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXJrIHJlbGF0ZWQtZG9jLXRvLXJlbW92ZSB3aXRoICRtZXRhOiAnZGVsZXRpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZWREb2NzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5pZCAhPT0gbS5yZWxhdGVkRG9jLmlkID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA6IHRzbGliXzEuX19hc3NpZ24oe30sIGQsIHsgJG1ldGE6ICdkZWxldGluZycgfSk7IH0pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgcmVsYXRlZC1kb2MtdG8tcmVtb3ZlIGZyb20gZG9jW2dyYXBQcm9wXTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlZERvY3MuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmlkICE9PSBtLnJlbGF0ZWREb2MuaWQ7IH0pLCBfYSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RPcHRpb25zLmhhc0VkZ2VzRnJvbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlSWRzLmluY2x1ZGVzKG0uaWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGltaXN0aWMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmlkID09PSBtLnJlbGF0ZWREb2MuaWQgPyB0c2xpYl8xLl9fYXNzaWduKHt9LCBkLCB7ICRtZXRhOiAnZGVsZXRpbmcnIH0pIDogZDsgfSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmlkICE9PSBtLnJlbGF0ZWREb2MuaWQ7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHRhYmxlID09PSBtLnRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5pZCAhPT0gbS5pZDsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxpc3RPcHRpb25zLmluY2x1ZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVkVGFibGVzID0gaW5jbHVkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGxhYmVsKSB7IHJldHVybiAoeyBsYWJlbDogbGFiZWwsIHRhYmxlOiBnZXRUYWJsZUZyb21MYWJlbCh0YWJsZSwgbGFiZWwpIH0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsc18xID0gaW5jbHVkZWRUYWJsZXMuZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gX2EudGFibGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgPT09IG0udGFibGU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFiZWxzXzEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUFycmF5KGRhdGEsIGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHNfMS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBfYS5sYWJlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRlZERvY3MgPSBkb2NbbGFiZWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsYXRlZERvY3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IHRzbGliXzEuX19hc3NpZ24oe30sIGRvYywgKF9iID0ge30sIF9iW2xhYmVsXSA9IG9wdGltaXN0aWMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWREb2NzLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5pZCA9PT0gbS5pZCA/IHRzbGliXzEuX19hc3NpZ24oe30sIGQsIHsgJG1ldGE6ICdkZWxldGluZycgfSkgOiBkOyB9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZERvY3MuZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBfYS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkICE9PSBtLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBfYikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2VkQmFja2VuZFF1ZXJ5LnByb3RvdHlwZS5zZXRHcmFwaFByb3BzID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgY29weSA9IHRzbGliXzEuX19hc3NpZ24oe30sIGRvYyk7XG4gICAgICAgIHRoaXMuaW5jbHVkZXMuZm9yRWFjaChmdW5jdGlvbiAobGFiZWwpIHsgcmV0dXJuIGNvcHlbbGFiZWxdID0gY29weVtsYWJlbF0gfHwgW107IH0pO1xuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9O1xuICAgIHJldHVybiBLZWRCYWNrZW5kUXVlcnk7XG59KCkpO1xuZXhwb3J0IHsgS2VkQmFja2VuZFF1ZXJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZWRiYWNrZW5kLXF1ZXJ5LmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBCYXRjaFJ1bm5lciB9IGZyb20gJy4uL2tlZC1iYWNrZW5kLWNsaWVudCc7XG5pbXBvcnQgeyBLZWRCYWNrZW5kU3Vic2NyaXB0aW9uIH0gZnJvbSBcIi4va2VkYmFja2VuZC1zdWJzY3JpcHRpb25cIjtcbmltcG9ydCB7IENhY2hlQnVzdCB9IGZyb20gJy4vY2FjaGUtYnVzdCc7XG5pbXBvcnQgeyBLZWRCYWNrZW5kUXVlcnkgfSBmcm9tICcuL2tlZGJhY2tlbmQtcXVlcnknO1xuaW1wb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4uL29ic2VydmFibGUvY29sbGVjdGlvbic7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBcImxpdmVcIiBxdWVyeSBhZ2FpbnN0IGEgdGFibGUgb3IgZmlsdGVyZWQgdGFibGUuXG4gKi9cbnZhciBLZWRCYWNrZW5kQ29sbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhLZWRCYWNrZW5kQ29sbGVjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBLZWRCYWNrZW5kQ29sbGVjdGlvbihyZXBvLCB0YWJsZSwgcXVlcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbmV3IEtlZEJhY2tlbmRTdWJzY3JpcHRpb24ob2JzZXJ2ZXIsIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLnJlcG8ucXVlcnlTZXQuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZXBvID0gcmVwbztcbiAgICAgICAgX3RoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgX3RoaXMucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS2VkQmFja2VuZENvbGxlY3Rpb24ucHJvdG90eXBlLCBcInF1ZXJ5S2V5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gS2VkQmFja2VuZFF1ZXJ5LnF1ZXJ5S2V5KHRoaXMudGFibGUsIHRoaXMucXVlcnkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS2VkQmFja2VuZENvbGxlY3Rpb24ucHJvdG90eXBlLCBcImluY2x1ZGVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5jbHVkZXMgfHwgKHRoaXMuX2luY2x1ZGVzID0gW10uY29uY2F0KHRoaXMucXVlcnkuaW5jbHVkZSB8fCBbXSkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuYXBwbHlRdWVyeSA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICByZXR1cm4gbmV3IEtlZEJhY2tlbmRDb2xsZWN0aW9uKHRoaXMucmVwbywgdGhpcy50YWJsZSwgdHNsaWJfMS5fX2Fzc2lnbih7fSwgdGhpcy5xdWVyeSwgcXVlcnkpKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRUb1F1ZXJ5QXJyYXlQcm9wID0gZnVuY3Rpb24gKGFycmF5UHJvcCwgZW50cmllcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5UXVlcnkoKF9hID0ge30sIF9hW2FycmF5UHJvcF0gPSAodGhpcy5xdWVyeVthcnJheVByb3BdIHx8IFtdKS5jb25jYXQoZW50cmllcyksIF9hKSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuYWRkRmxhZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmbGFncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgZmxhZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hZGRUb1F1ZXJ5QXJyYXlQcm9wKFwiZmxhZ3NcIiwgZmxhZ3MpO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENvbGxlY3Rpb24ucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseVF1ZXJ5KHsgZGVidWc6IHRydWUgfSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuaWRzT25seSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmxhZ3MoXCJpZHNPbmx5XCIpO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENvbGxlY3Rpb24ucHJvdG90eXBlLmlkc0FuZE5hbWVzT25seSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmxhZ3MoXCJpZHNBbmROYW1lc09ubHlcIik7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuaW5jbHVkZUlkc09ubHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZEZsYWdzKFwiaW5jbHVkZUlkc09ubHlcIik7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuaW5jbHVkZUlkc0FuZE5hbWVzT25seSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmxhZ3MoXCJpbmNsdWRlSWRzQW5kTmFtZXNPbmx5XCIpO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENvbGxlY3Rpb24ucHJvdG90eXBlLmJldHdlZW4gPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlRdWVyeSh7IGZyb206IGZyb20sIHRvOiB0byB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5yb2xlID0gZnVuY3Rpb24gKHJvbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlRdWVyeSh7IHJvbGU6IHJvbGUgfSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuaGFzRWRnZXNGcm9tID0gZnVuY3Rpb24gKGlkcykge1xuICAgICAgICBpZiAoaWRzLmxlbmd0aCA9PT0gMCB8fCBpZHMuc29tZShmdW5jdGlvbiAoaWQpIHsgcmV0dXJuICFpZDsgfSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlkIGxpc3QgZ2l2ZW4gdG8gQ29sbGVjdGlvbi5oYXNFZGdlc0Zyb20oXCIgKyBKU09OLnN0cmluZ2lmeShpZHMpICsgXCIpXCIpO1xuICAgICAgICB2YXIgaGVmID0gdGhpcy5hZGRUb1F1ZXJ5QXJyYXlQcm9wKFwiaGFzRWRnZXNGcm9tXCIsIGlkcyk7XG4gICAgICAgIHJldHVybiBoZWY7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuaGFzRWRnZXNUbyA9IGZ1bmN0aW9uIChpZHMpIHtcbiAgICAgICAgaWYgKGlkcy5sZW5ndGggPT09IDAgfHwgaWRzLnNvbWUoZnVuY3Rpb24gKGlkKSB7IHJldHVybiAhaWQ7IH0pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpZCBsaXN0IGdpdmVuIHRvIENvbGxlY3Rpb24uaGFzRWRnZXNUbyhcIiArIEpTT04uc3RyaW5naWZ5KGlkcykgKyBcIilcIik7XG4gICAgICAgIHZhciBoZXQgPSB0aGlzLmFkZFRvUXVlcnlBcnJheVByb3AoXCJoYXNFZGdlc1RvXCIsIGlkcyk7XG4gICAgICAgIHJldHVybiBoZXQ7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuaWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlRdWVyeSh7IGlkczogW2lkXSB9KS5zaW5nbGUoe1xuICAgICAgICAgICAgb25aZXJvOiBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIGVudGl0eSBpbiBcIiArIF90aGlzLnRhYmxlICsgXCIgd2l0aCBpZCBcIiArIGlkKTsgfSxcbiAgICAgICAgICAgIG9uTWFueTogZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJNdWx0aXBsZSBlbnRyaWVzIGluIFwiICsgX3RoaXMudGFibGUgKyBcIiB3aXRoIGlkIFwiICsgaWQpOyB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5pZHMgPSBmdW5jdGlvbiAoaWRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5UXVlcnkoeyBpZHM6IGlkcyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlRdWVyeSh7IG5hbWU6IG5hbWUgfSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUudGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHRhZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hcHBseVF1ZXJ5KHsgdGFnczogdGFncyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5icmFuY2hJZCA9IGZ1bmN0aW9uIChicmFuY2hJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseVF1ZXJ5KHsgYnJhbmNoSWQ6IGJyYW5jaElkIH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENvbGxlY3Rpb24ucHJvdG90eXBlLmluY2x1ZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBncmFwaHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGdyYXBoc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFkZFRvUXVlcnlBcnJheVByb3AoXCJpbmNsdWRlXCIsIGdyYXBocyk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUuY2FjaGVPcHRpbWl6ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5UXVlcnkoeyBjYWNoZUJ1c3Q6IENhY2hlQnVzdC5nZXRDYWNoZUJ1c3QodGhpcy50YWJsZSwgdGhpcy5xdWVyeSwgdGhpcy5yZXBvLmdldFVzZXIoKSwgdGhpcy5pbmNsdWRlcykgfSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUubXV0YXRpb25zT25FbXB0eSA9IGZ1bmN0aW9uIChtdXRhdGlvbkZhY3RvcnkpIHtcbiAgICAgICAgdmFyIHR4ID0gbmV3IEJhdGNoUnVubmVyKCk7XG4gICAgICAgIG11dGF0aW9uRmFjdG9yeSh0eCk7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5UXVlcnkoeyBtdXRhdGlvbnNPbkVtcHR5OiB0eC5tdXRhdGlvblJlcXVlc3RzIH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZENvbGxlY3Rpb24ucHJvdG90eXBlLnNpbmdsZSA9IGZ1bmN0aW9uICh0aHJvd2Vycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aHJvd2VycyB8fCB7fSwgb25aZXJvID0gX2Eub25aZXJvLCBvbk1hbnkgPSBfYS5vbk1hbnk7XG4gICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoKS5tYXAoZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uWmVybylcbiAgICAgICAgICAgICAgICAgICAgb25aZXJvKCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaW5nbGUgaXRlbSBvZiBcIiArIF90aGlzLnRhYmxlICsgXCIgZXhwZWN0ZWQgdG8gYmUgcmV0dXJuZWQgYnkgcXVlcnkgXCIgKyBKU09OLnN0cmluZ2lmeShfdGhpcy5xdWVyeSkgKyBcIiBidXQgbm9uZSB3YXMgZm91bmQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z2dlcjtcbiAgICAgICAgICAgICAgICBpZiAob25NYW55KVxuICAgICAgICAgICAgICAgICAgICBvbk1hbnkoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2luZ2xlIGl0ZW0gb2YgXCIgKyBfdGhpcy50YWJsZSArIFwiIGV4cGVjdGVkIHRvIGJlIHJldHVybmVkIGJ5IHF1ZXJ5IFwiICsgSlNPTi5zdHJpbmdpZnkoX3RoaXMucXVlcnkpICsgXCIgYnV0IFwiICsgaXRlbXMubGVuZ3RoICsgXCIgd2FzIGZvdW5kLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtc1swXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKmNvbWJpbmVMYXRlc3Q8VE90aGVyPihvdGhlcjogUXVlcnlPYnNlcnZhYmxlPFRPdGhlcj4pIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcih4ID0+IHgpLmNvbWJpbmVMYXRlc3Qob3RoZXIpO1xuICAgIH0qL1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZG9jLCBjaGFuZ2VzLCBkZWJvdW5jZSkge1xuICAgICAgICBpZiAoZGVib3VuY2UgPT09IHZvaWQgMCkgeyBkZWJvdW5jZSA9IDEwMDA7IH1cbiAgICAgICAgdGhpcy5yZXBvLndyaXRlci5tdXRhdGUoW3tcbiAgICAgICAgICAgICAgICBvcDogJ3VwZGF0ZScsXG4gICAgICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGUsXG4gICAgICAgICAgICAgICAgYnJhbmNoSWQ6IHRoaXMucXVlcnkuYnJhbmNoSWQsXG4gICAgICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgICAgICBkZWx0YURvYzogY2hhbmdlcyxcbiAgICAgICAgICAgICAgICB0YXJnZXROYW1lOiBkb2MubmFtZVxuICAgICAgICAgICAgfV0sIGRlYm91bmNlKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRSZWxhdGVkID0gZnVuY3Rpb24gKGlkLCBsYWJlbCwgcmVsYXRlZERvYykge1xuICAgICAgICB0aGlzLnJlcG8ud3JpdGVyLm11dGF0ZShbe1xuICAgICAgICAgICAgICAgIG9wOiAnYWRkLXJlbGF0ZWQnLFxuICAgICAgICAgICAgICAgIHRhYmxlOiB0aGlzLnRhYmxlLFxuICAgICAgICAgICAgICAgIGJyYW5jaElkOiB0aGlzLnF1ZXJ5LmJyYW5jaElkLFxuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBncmFwaFByb3A6IGxhYmVsLFxuICAgICAgICAgICAgICAgIHJlbGF0ZWREb2M6IHJlbGF0ZWREb2NcbiAgICAgICAgICAgIH1dLCAwKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHRoaXMucmVwby53cml0ZXIubXV0YXRlKFt7XG4gICAgICAgICAgICAgICAgb3A6ICdhZGQnLFxuICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGUsXG4gICAgICAgICAgICAgICAgZG9jOiBkb2NcbiAgICAgICAgICAgIH1dLCAwKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVSZWxhdGVkID0gZnVuY3Rpb24gKGlkLCBsYWJlbCwgcmVsYXRlZERvYykge1xuICAgICAgICB0aGlzLnJlcG8ud3JpdGVyLm11dGF0ZShbe1xuICAgICAgICAgICAgICAgIG9wOiAncmVtb3ZlLXJlbGF0ZWQnLFxuICAgICAgICAgICAgICAgIHRhYmxlOiB0aGlzLnRhYmxlLFxuICAgICAgICAgICAgICAgIGJyYW5jaElkOiB0aGlzLnF1ZXJ5LmJyYW5jaElkLFxuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBncmFwaFByb3A6IGxhYmVsLFxuICAgICAgICAgICAgICAgIHJlbGF0ZWREb2M6IHJlbGF0ZWREb2NcbiAgICAgICAgICAgIH1dLCAwKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS51bmRvTGluayA9IGZ1bmN0aW9uIChpZCwgbGFiZWwsIHJlbGF0ZWRJZCkge1xuICAgICAgICBpZiAoIXRoaXMucXVlcnkuYnJhbmNoSWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmRvIGxpbmtzIGNhbiBvbmx5IGJlIHBlcmZvcm1lZCBvbiBicmFuY2hlc1wiKTtcbiAgICAgICAgdGhpcy5yZXBvLndyaXRlci5tdXRhdGUoW3tcbiAgICAgICAgICAgICAgICBvcDogJ3VuZG8tbGluaycsXG4gICAgICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGUsXG4gICAgICAgICAgICAgICAgYnJhbmNoSWQ6IHRoaXMucXVlcnkuYnJhbmNoSWQsXG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIGdyYXBoUHJvcDogbGFiZWwsXG4gICAgICAgICAgICAgICAgcmVsYXRlZElkOiByZWxhdGVkSWRcbiAgICAgICAgICAgIH1dLCAwKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRDb2xsZWN0aW9uLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBpZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGlkc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwby53cml0ZXIubXV0YXRlKGlkcy5tYXAoZnVuY3Rpb24gKGlkKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgb3A6ICdkZWxldGUnLFxuICAgICAgICAgICAgdGFibGU6IF90aGlzLnRhYmxlLFxuICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgIH0pOyB9KSwgMCk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kQ29sbGVjdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHRoaXMucmVwby5xdWVyeVNldC51bnN1YnNjcmliZShzdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgcmV0dXJuIEtlZEJhY2tlbmRDb2xsZWN0aW9uO1xufShDb2xsZWN0aW9uKSk7XG5leHBvcnQgeyBLZWRCYWNrZW5kQ29sbGVjdGlvbiB9O1xuLyptaXhpbihcbiAgS2VkQmFja2VuZENvbGxlY3Rpb24ucHJvdG90eXBlLFxuICBNYXBwZWRDb2xsZWN0aW9uLnByb3RvdHlwZSxcbiAgXCJtYXBcIiwgXCJmbGF0XCIsIFwiY29uY2F0XCIsIFwicmVuZGVyXCIsIFwibG9hZFwiKTsqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VkYmFja2VuZC1jb2xsZWN0aW9uLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBLZWRCYWNrZW5kUXVlcnkgfSBmcm9tICcuL2tlZGJhY2tlbmQtcXVlcnknO1xuaW1wb3J0ICogYXMgSnNvblNjaGVtYSBmcm9tICdrZWRiYWNrZW5kLXNjaGVtYS9zY2hlbWEuanNvbic7XG5pbXBvcnQgeyBxdWVyeUFycmF5IH0gZnJvbSAnLi91dGlscyc7XG52YXIgUXVlcnlTZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVlcnlTZXQobXV0YXRpb25RdWV1ZSkge1xuICAgICAgICB0aGlzLm11dGF0aW9uUXVldWUgPSBtdXRhdGlvblF1ZXVlO1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBbXTtcbiAgICB9XG4gICAgUXVlcnlTZXQucHJvdG90eXBlLmNvbW1pdE11dGF0aW9ucyA9IGZ1bmN0aW9uIChtdXRhdGlvbnMsIHZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwodGhpcy5xdWVyaWVzLm1hcChmdW5jdGlvbiAocSkgeyByZXR1cm4gcS5jb21taXRNdXRhdGlvbnMobXV0YXRpb25zLCB2ZXJzaW9uKTsgfSkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwSW52YWxpZFF1ZXJpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBRdWVyeVNldC5wcm90b3R5cGUuY2xlYW51cEludmFsaWRRdWVyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSB0aGlzLnF1ZXJpZXMuZmlsdGVyKGZ1bmN0aW9uIChxKSB7XG4gICAgICAgICAgICBpZiAocS5pbnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHEudGltZW91dEhhbmRsZSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocS50aW1lb3V0SGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgcS50aW1lb3V0SGFuZGxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUXVlcnlTZXQucHJvdG90eXBlLm5vdGlmeVN1YnNjcmliZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0aW1pc3RpY011dGF0aW9ucyA9IHRoaXMubXV0YXRpb25RdWV1ZS5nZXQoKTtcbiAgICAgICAgdGhpcy5xdWVyaWVzLmZvckVhY2goZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgICAgIHEubm90aWZ5U3Vic2NyaWJlcnMob3B0aW1pc3RpY011dGF0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUXVlcnlTZXQucHJvdG90eXBlLmZpbmRRdWVyeSA9IGZ1bmN0aW9uICh0YWJsZSwgcXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVlcmllcy5maW5kKGZ1bmN0aW9uIChxKSB7IHJldHVybiBxLnF1ZXJ5S2V5ID09PSBLZWRCYWNrZW5kUXVlcnkucXVlcnlLZXkodGFibGUsIHF1ZXJ5KTsgfSk7XG4gICAgfTtcbiAgICBRdWVyeVNldC5wcm90b3R5cGUucXVlcnlMb2NhbGx5ID0gZnVuY3Rpb24gKHRhYmxlLCBxdWVyeSwgaW5jbHVkZXMpIHtcbiAgICAgICAgLy8gRm9yIG5vdywgb25seSBoYW5kbGUgdGhpcyB2ZXJ5IGNvbW1vbiBhbmQgc3BlY2lhbCBjYXNlICh3aGljaFxuICAgICAgICAvLyB3aWxsIHNhdmUgYSBsb3Qgb2YgdW5uZXNjZXNzYXJ5IG5ldHdvcmsgdHJhZmZpYyBpZiBJIGFtIHRoaW5raW5nIHJpZ2h0Li4uKVxuICAgICAgICB2YXIgbXV0YXRpb25zID0gdGhpcy5tdXRhdGlvblF1ZXVlLmdldCgpO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcXVlcnkgd2FudHMgdG8gZ2V0IGEgc2luZ2xlIGVudGl0eSBieSBpdHMgSUQ6XG4gICAgICAgIGlmIChxdWVyeS5pZHMgJiYgcXVlcnkuaWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gQW5kIGlmIHNvLCBpZiB3ZSBoYXZlIGFuIG91dGdvaW5nIG11dGF0aW9uIHRvIGNyZWF0ZSB0aGF0IGVudGl0eTpcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbnMuc29tZShmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5vcCA9PT0gJ2FkZC1yZWxhdGVkJyAmJiBtLnJlbGF0ZWREb2MuaWQgPT09IHF1ZXJ5Lmlkc1swXTsgfSkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGVuIHJldHVybiBhbiBFTVBUWSByZXNwb25zZSwgc2lnbmFsbGluZyB0aGF0IHdlIGNhbiByZXNvbHZlIHRoaXMgbG9jYWxseSxcbiAgICAgICAgICAgICAgICAvLyBidXQgbGV0IHRoZSBvcHRpc3RpYyBmZWF0dXJlIG9mIEtlZEJhY2tlbmRRdWVyeSBhcHBseSB0aGUgbXV0YXRpb24gYmVmb3JlXG4gICAgICAgICAgICAgICAgLy8gbm90aWZ5aW5nIHN1YnNjcmliZXJzICh3ZSBkb24ndCB3YW50IGl0IHRvIGJlIHBlcnNpc3RlbnQgYmVmb3JlIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAvLyBoYXMgYWNjZXB0ZWQgdGhlIG11dGF0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPSywgYW5vdGhlciBxdWl0ZSBjb21tb24gY2FzZSBpcyB3aGVuIHdlIGFzayBmb3IgYSBjZXJ0YWluIElEIGFuZCB0aGF0IElEIHJlcGxpZXNcbiAgICAgICAgLy8gd2l0aGluIGFub3RoZXIgcXVlcnlcbiAgICAgICAgaWYgKHF1ZXJ5Lmhhc0VkZ2VzRnJvbSB8fCBxdWVyeS5oYXNFZGdlc1RvKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIE5vdCBwb3NzaWJsZSB0byBoYW5kbGVcbiAgICAgICAgaWYgKCFxdWVyeS5pZHMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gRm9yIG5vdywganVzdCB0YWtlIGhpZ2h0IGZvciB0aGlzIHBhcnRpY3VsYXIgYW5kIG1vc3QgY29tbW9uIGNhc2UhXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgICAgIGlmICghcS5nb3RJbml0aWFsUmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgIGlmIChxLnF1ZXJ5LmJyYW5jaElkICE9PSBxdWVyeS5icmFuY2hJZClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgaWYgKHEucXVlcnkuZmxhZ3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjsgLy8gSXQgd291bGQgYmUgY29tcGxleCB0byBzdXBwb3J0IHZhcmlvdXMgZmxhZ3MuIFF1ZXJ5J3MgZGF0YSBtYXkgaW5jbHVkZSBpZHMgb25seS4gQ2FuJ3QgcmVseSBvbiB0aGUgcXVlcnkuXG4gICAgICAgICAgICB2YXIgcUluY2x1ZGVzID0gcS5pbmNsdWRlcztcbiAgICAgICAgICAgIGlmIChxSW5jbHVkZXMubGVuZ3RoID4gMCAmJiAoIXF1ZXJ5LmluY2x1ZGUgfHwgcXVlcnkuaW5jbHVkZS5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgaW5jbHVkZSwgYnV0IHRoaXMgcXVlcnkgZG9lcy4gQ2hlY2sgaWYgd2UgY2FuIGZpbmQgb3VyIHJlc3VsdCB3aXRoaW4gaXQuXG4gICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gcUluY2x1ZGVzLmZpbmQoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIEpzb25TY2hlbWEudGFibGVzW3EudGFibGVdW1wicmVsYXRpb25zaGlwc1wiXVtsXSA9PT0gdGFibGU7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzXzEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHEuZGF0YTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViRGF0YSA9IHF1ZXJ5QXJyYXkocXVlcnksIGVudGl0eVtsYWJlbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IHJldHVybiByZXNfMVtyLmlkXSA9IHI7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRfMSA9IE9iamVjdC5rZXlzKHJlc18xKS5tYXAoZnVuY3Rpb24gKGlkKSB7IHJldHVybiByZXNfMVtpZF07IH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHJldHVybiByZXN1bHQgaWYgd2UgY291bGQgbG9vayB1cCBldmVyeSByZXF1ZXN0ZWQgSUQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghcXVlcnkuaWRzLmV2ZXJ5KGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gcmVzdWx0XzEuc29tZShmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZCA9PT0gaWQ7IH0pOyB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHRfMSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaW5jbHVkZXMuZXZlcnkoZnVuY3Rpb24gKGxhYmVsKSB7IHJldHVybiBxSW5jbHVkZXMuaW5jbHVkZXMobGFiZWwpOyB9KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgLy8gTGFzdGx5LCBpZiB0aGUgcXVlcnkgaW5jbHVkZXMgYWxsIGdyYXBocyB0aGF0IHdlIGRvLCBwaWNrIHRoZSBzdWJzZXQgZnJvbSB0aGF0IHF1ZXJ5LlxuICAgICAgICAgICAgLy8gQ29uY3JldGUgZXhhbXBsZTogV2Ugb2JzZXJ2ZSBhIGNlcnRhaW4gVGFzayBieSBJRCBhbmQgd2FudCBpdHMga25vd2xlZGdlUmVxdWlyZW1lbnRzIGFsb25nIHdpdGggaXQsXG4gICAgICAgICAgICAvLyBhbmQgdGhlcmUncyBhbm90aGVyIHF1ZXJ5IG9mIGFsbCB0YXNrcyB0aGF0IGFsc28gaW5jbHVkZXMga25vd2xlZGdlUmVxdWlyZW1lbnRzLiBVc2UgaXQuIFxuICAgICAgICAgICAgaWYgKHEudGFibGUgPT09IHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdF8yID0gcXVlcnlBcnJheShxdWVyeSwgcS5kYXRhKTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHJldHVybiByZXN1bHQgaWYgd2UgY291bGQgbG9vayB1cCBldmVyeSByZXF1ZXN0ZWQgSUQ6XG4gICAgICAgICAgICAgICAgaWYgKCFxdWVyeS5pZHMuZXZlcnkoZnVuY3Rpb24gKGlkKSB7IHJldHVybiByZXN1bHRfMi5zb21lKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09PSBpZDsgfSk7IH0pKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHRfMiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5xdWVyaWVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHEgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzEocSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0YXRlXzEgPT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlXzEudmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFF1ZXJ5U2V0LnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBfYSA9IHN1YnNjcmlwdGlvbi5jb2xsZWN0aW9uLCB0YWJsZSA9IF9hLnRhYmxlLCBxdWVyeSA9IF9hLnF1ZXJ5LCByZXBvID0gX2EucmVwbztcbiAgICAgICAgdmFyIGtiUXVlcnkgPSB0aGlzLmZpbmRRdWVyeSh0YWJsZSwgcXVlcnkpO1xuICAgICAgICBpZiAoIWtiUXVlcnkpIHtcbiAgICAgICAgICAgIGtiUXVlcnkgPSBuZXcgS2VkQmFja2VuZFF1ZXJ5KHRhYmxlLCBxdWVyeSwgcmVwby5nZXRVc2VyKCksIHJlcG8sIHRoaXMubXV0YXRpb25RdWV1ZSk7XG4gICAgICAgICAgICB0aGlzLnF1ZXJpZXMucHVzaChrYlF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChrYlF1ZXJ5LnRpbWVvdXRIYW5kbGUpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoa2JRdWVyeS50aW1lb3V0SGFuZGxlKTtcbiAgICAgICAgICAgICAgICBrYlF1ZXJ5LnRpbWVvdXRIYW5kbGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtiUXVlcnkuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBRdWVyeVNldC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHN1YnNjcmlwdGlvbi5jb2xsZWN0aW9uLCB0YWJsZSA9IF9hLnRhYmxlLCBxdWVyeSA9IF9hLnF1ZXJ5LCByZXBvID0gX2EucmVwbztcbiAgICAgICAgdmFyIGtiUXVlcnkgPSB0aGlzLmZpbmRRdWVyeSh0YWJsZSwgcXVlcnkpO1xuICAgICAgICBpZiAoa2JRdWVyeSkge1xuICAgICAgICAgICAgLy8gUHJvaGliaXQgZnVydGhlciBub3RpZmljYXRpb25zIHRvIHRoaXMgc3Vic2NyaXB0aW9uOlxuICAgICAgICAgICAga2JRdWVyeS51bnN1YnNjcmliZShzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgLy8gUmVsZWFzZSB1bm5lc2Nlc3NhcnkgbWVtb3J5IHdoZW4gdGhlcmUgYXJlIG5vIG1vcmUgc3Vic2NyaXB0aW9ucyBvZiB0aGlzIHF1ZXJ5LCBieSByZW1vdmluZyB0aGUgcXVlcnkgaXRzZWxmXG4gICAgICAgICAgICAvLyBUbyB0aGF0IGluIGEgZGVsYXllZCBtYW5uZXIsIHNvIHRoYXQgYW4gdW5zdWJzY3JpYmUoKSBmb2xsb3dlZCBieSBhbiBpbW1lZGlhdGUgc3Vic2NyaWJlKCkgZG9uJ3QgaGF2ZSB0byByZS1xdWVyeSB0aGUgc2VydmVyOlxuICAgICAgICAgICAgaWYgKGtiUXVlcnkuc3Vic2NyaXB0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uIGluIDUgbWludXRlczpcbiAgICAgICAgICAgICAgICBrYlF1ZXJ5LnRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYga2JRdWVyeSBzdGlsbCBoYXMgbm8gc3Vic2NyaXB0aW9ucyAobm90IGNlcnRhaW4hIEEgbmV3IHN1YnNjcmliZXIgbWF5IGhhdmUgY29tZSBhbG9uZy4uLilcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtiUXVlcnkuc3Vic2NyaXB0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0aWxsIG5vIHN1YnNjcmlwdGlvbnMgb24gaXQsIHRpbWUgdG8gcmVsZWFzZSBzb21lIG1lbW9yeSBhbmQgZm9yZ2V0IHRoZSBpbi1tZW1vcnkgY2FjaGUgb2YgdGhlIHF1ZXJ5IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucXVlcmllcyA9IF90aGlzLnF1ZXJpZXMuZmlsdGVyKGZ1bmN0aW9uIChxKSB7IHJldHVybiBxICE9PSBrYlF1ZXJ5OyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHRoaXMucXVlcmllcy5sZW5ndGggPiA1MCA/XG4gICAgICAgICAgICAgICAgICAgIDUwMCA6IC8vIERvbid0IGhvc3QgdG9vIG1hbnkgcXVlcmllcy4gR2FyYmFnZSBjb2xsZWN0IHRoaXMgd2l0aGluIDUwMCBtc1xuICAgICAgICAgICAgICAgICAgICA1ICogNjAwMDApOyAvLyBBbGxvdyBxdWVyeSBpbiBtZW1vcnkgZm9yIGFub3RoZXIgNSBtaW51dGVzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBRdWVyeVNldDtcbn0oKSk7XG5leHBvcnQgeyBRdWVyeVNldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktc2V0LmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBnZXRUYWJsZUZyb21MYWJlbCwgYnJhbmNoU2Vuc2l0aXZlLCBnbG9iYWxPcCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbWVyZ2VEZWx0YXMgfSBmcm9tICcuL2RlbHRhLW1lcmdlJztcbnZhciBNdXRhdGlvblF1ZXVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE11dGF0aW9uUXVldWUoKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5zYXZpbmdRdWV1ZSA9IFtdO1xuICAgIH1cbiAgICBNdXRhdGlvblF1ZXVlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAobXV0YXRpb25zKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSBNdXRhdGlvblF1ZXVlLm1lcmdlKHRoaXMucXVldWUsIG11dGF0aW9ucyk7XG4gICAgfTtcbiAgICBNdXRhdGlvblF1ZXVlLnByb3RvdHlwZS5tb3ZlVG9TYXZpbmdRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zYXZpbmdRdWV1ZSA9IE11dGF0aW9uUXVldWUubWVyZ2UodGhpcy5zYXZpbmdRdWV1ZSwgdGhpcy5xdWV1ZSk7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB9O1xuICAgIE11dGF0aW9uUXVldWUucHJvdG90eXBlLmNsZWFyU2F2aW5nUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2F2aW5nUXVldWUgPSBbXTtcbiAgICB9O1xuICAgIE11dGF0aW9uUXVldWUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2aW5nUXVldWUuY29uY2F0KHRoaXMucXVldWUpO1xuICAgIH07XG4gICAgTXV0YXRpb25RdWV1ZS5wcm90b3R5cGUuYWZmZWN0c1F1ZXJ5ID0gZnVuY3Rpb24gKHRhYmxlLCBxdWVyeSwgaW5jbHVkZXMpIHtcbiAgICAgICAgdmFyIG11dGF0aW9ucyA9IHRoaXMuZ2V0KCk7XG4gICAgICAgIGlmIChtdXRhdGlvbnMuc29tZShmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5vcCA9PT0gJ21lcmdlJyB8fCBtLm9wID09PSAnY2xlYXItYnJhbmNoJzsgfSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHF1ZXJ5Lmlkcykge1xuICAgICAgICAgICAgLy8gQSBxdWVyeSB3aXRoIFwiaWRzXCIgZmlsdGVyIHdpbGwgYmUgZWFzeSB0byBkZXRlY3QgYSBuby1tYXRjaCBvbjpcbiAgICAgICAgICAgIHJldHVybiBtdXRhdGlvbnMuc29tZShmdW5jdGlvbiAobSkgeyByZXR1cm4gZ2xvYmFsT3AobSkgfHwgKCFicmFuY2hTZW5zaXRpdmUobSkgfHwgbS5icmFuY2hJZCA9PT0gcXVlcnkuYnJhbmNoSWQpICYmXG4gICAgICAgICAgICAgICAgcXVlcnkuaWRzLmluY2x1ZGVzKG0uaWQpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGlmIG11dGF0aW9ucyBhZmZlY3Qgc2FtZSBicmFuY2ggYW5kIHRhYmxlLiBDb3VsZCBiZSBkb25lIG1vcmUgZmluZSBncmFpbmVkLFxuICAgICAgICAvLyBidXQgdGhhdCB3b3VsZCBvbmx5IGJlIGEgc3Vib3B0aW1pemF0aW9uLlxuICAgICAgICByZXR1cm4gbXV0YXRpb25zLnNvbWUoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgIHJldHVybiBtLm9wID09PSAnYWRkJyA/XG4gICAgICAgICAgICAgICAgbS50YWJsZSA9PT0gdGFibGUgOlxuICAgICAgICAgICAgICAgIG0ub3AgPT09ICdkZWxldGUnID9cbiAgICAgICAgICAgICAgICAgICAgbS50YWJsZSA9PT0gdGFibGUgfHwgKGluY2x1ZGVzLnNvbWUoZnVuY3Rpb24gKGxhYmVsKSB7IHJldHVybiBnZXRUYWJsZUZyb21MYWJlbCh0YWJsZSwgbGFiZWwpID09PSBtLnRhYmxlOyB9KSkgOlxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxPcChtKSA/IHRydWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgbS5icmFuY2hJZCA9PSBxdWVyeS5icmFuY2hJZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtLnRhYmxlID09PSB0YWJsZSB8fCAobS5vcCAhPT0gJ3VwZGF0ZScgJiYgKFt0YWJsZV0uY29uY2F0KGluY2x1ZGVzLm1hcChmdW5jdGlvbiAobGFiZWwpIHsgcmV0dXJuIGdldFRhYmxlRnJvbUxhYmVsKHRhYmxlLCBsYWJlbCk7IH0pKS5zb21lKGZ1bmN0aW9uICh0YWJsZSkgeyByZXR1cm4gZ2V0VGFibGVGcm9tTGFiZWwobS50YWJsZSwgbS5ncmFwaFByb3ApID09PSB0YWJsZTsgfSkpKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTXV0YXRpb25RdWV1ZS5tZXJnZSA9IGZ1bmN0aW9uIChxdWV1ZTEsIHF1ZXVlMikge1xuICAgICAgICB2YXIgbXV0YWJsZVF1ZXVlMSA9IHF1ZXVlMS5zbGljZSgpO1xuICAgICAgICB2YXIgbXV0YWJsZVF1ZXVlMiA9IHF1ZXVlMi5zbGljZSgpO1xuICAgICAgICAvL2lmIChtdXRhYmxlUXVldWUxLmxlbmd0aCA+IDApIGRlYnVnZ2VyO1xuICAgICAgICB2YXIgbGVuID0gcXVldWUxLmxlbmd0aDtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgdmFyIG0gPSBxdWV1ZTFbaV07XG4gICAgICAgICAgICBpZiAobS5vcCA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3ZlcmxhcHBpbmdJZE9wSWR4ID0gbXV0YWJsZVF1ZXVlMi5maW5kSW5kZXgoZnVuY3Rpb24gKG5ld011dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3TXV0Lm9wID09PSAndXBkYXRlJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TXV0LmJyYW5jaElkID09PSBtLmJyYW5jaElkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdNdXQuaWQgPT09IG0uaWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJsYXBwaW5nSWRPcElkeCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG11dGFibGVRdWV1ZTFbaV0gPSB0c2xpYl8xLl9fYXNzaWduKHt9LCBtLCB7IGRlbHRhRG9jOiBtZXJnZURlbHRhcyhtLmRlbHRhRG9jLCBtdXRhYmxlUXVldWUyW292ZXJsYXBwaW5nSWRPcElkeF0uZGVsdGFEb2MpIH0pO1xuICAgICAgICAgICAgICAgICAgICBtdXRhYmxlUXVldWUyLnNwbGljZShvdmVybGFwcGluZ0lkT3BJZHgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbXV0YWJsZVF1ZXVlMS5jb25jYXQobXV0YWJsZVF1ZXVlMik7XG4gICAgfTtcbiAgICByZXR1cm4gTXV0YXRpb25RdWV1ZTtcbn0oKSk7XG5leHBvcnQgeyBNdXRhdGlvblF1ZXVlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdXRhdGlvbi1xdWV1ZS5qcy5tYXAiLCJpbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWVyZ2VEZWx0YXMgfSBmcm9tICcuLi9kZWx0YS1tZXJnZSc7XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNdXRhdGlvbnNPbkRlbHRhcyhicmFuY2hJZCwgZGVsdGFzLCBtdXRhdGlvbnMsIG9wdGltaXN0aWMsIHVzZXJEaXNwbGF5TmFtZSwgaGFzQWRkaXRpb25hbEZpbHRlcikge1xuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgc3dpdGNoIChtLm9wKSB7XG4gICAgICAgICAgICBjYXNlICdhZGQtcmVsYXRlZCc6XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBBZGRSZWxhdGVkIFJlcG9NdXRhdGlvblxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNBZGRpdGlvbmFsRmlsdGVyICYmIG0uYnJhbmNoSWQgPT09IGJyYW5jaElkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhcyA9IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FkZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlSWQ6IG0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SWQ6IG0ucmVsYXRlZERvYy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogbS5ncmFwaFByb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVGFibGU6IG0udGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ldGE6IG9wdGltaXN0aWMgPyAnYWRkaW5nJyA6ICdwZXJzaXN0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE5hbWU6IG0ucmVsYXRlZERvYy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yOiB1c2VyRGlzcGxheU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLmNvbmNhdChkZWx0YXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NsZWFyLWJyYW5jaCc6XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBDbGVhckJyYW5jaCBSZXBvTXV0YXRpb25cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGlmIChtLmJyYW5jaElkID09PSBicmFuY2hJZCkge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YXMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIFJlcG9NdXRhdGlvblxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVGhpcyB0eXBlIG9mIG11dGF0aW9uIGNhbiBub3QgYmUgcGVyZm9ybWVkIG9udG8gYnJhbmNoZXMuIFRoZXJlJ3Mgbm8gYnJhbmNoSWQgcHJvcGVydHkgb24gbS5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21lcmdlJzpcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIFJlcG9NdXRhdGlvblxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYgKG0uYnJhbmNoSWQgPT09IGJyYW5jaElkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtLnRhcmdldEJyYW5jaElkID09PSBicmFuY2hJZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNoYW5nZSB3aWxsIGFwcGVuZCBuZXcgZGVsdGFzIHRvIG91ciBkZWx0YXMgYXJyYXkgYnV0IHdlIGRvbid0IGtub3cgd2hhdCB3b3VsZCBjb21lLlxuICAgICAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIHJlZmV0Y2ggZnJvbSBzZXJ2ZXIuXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW1pc3RpYylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBudWxsIH07IC8vIENhbGxlciBzaG91bGQgY2hlY2sgZm9yIG51bGwgYW5kIHJlLWZldGNoIGRhdGEgZnJvbSBzZXJ2ZXIuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVtb3ZlLXJlbGF0ZWQnOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlLVJlbGF0ZWQgUmVwb011dGF0aW9uXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBpZiAoaGFzQWRkaXRpb25hbEZpbHRlciB8fCBtLmJyYW5jaElkICE9PSBicmFuY2hJZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgICAgICBkZWx0YXMgPSBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlbW92ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VJZDogbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldElkOiBtLnJlbGF0ZWREb2MuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXROYW1lOiBtLnJlbGF0ZWREb2MubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBtLmdyYXBoUHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVRhYmxlOiBtLnRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJpYnV0b3I6IHVzZXJEaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJG1ldGE6IG9wdGltaXN0aWMgPyAnYWRkaW5nJyA6ICdwZXJzaXN0ZWQnXG4gICAgICAgICAgICAgICAgICAgIH1dLmNvbmNhdChkZWx0YXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndW5kby1saW5rJzpcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFVuZG8tTGluayBSZXBvTXV0YXRpb25cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGlmIChtLmJyYW5jaElkICE9PSBicmFuY2hJZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSBkZWx0YXMuZmluZEluZGV4KGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGQudHlwZSA9PT0gJ2FkZCcgfHwgZC50eXBlID09PSAncmVtb3ZlJyB8fCBkLnR5cGUgPT09ICd1bmRvLWxpbmsnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc291cmNlSWQgPT09IG0uaWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnRhcmdldElkID09PSBtLnJlbGF0ZWRJZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggPCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgYW4gXCJhZGRcIiBvciBcInJlbW92ZVwiIGRlbHRhIHRvIGNoYW5nZTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGltaXN0aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YVJlbGF0aW9uID0gZGVsdGFzW2lkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXJrIHRoZSBleGlzdGluZyBhZGQvcmVtb3ZlIGRlbHRhIGFzIGN1cnJlbmx0eSBiZWluZyBkZWxldGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YXMgPSBkZWx0YXMuc2xpY2UoMCwgaWR4KS5jb25jYXQoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzbGliXzEuX19hc3NpZ24oe30sIGRlbHRhUmVsYXRpb24sIHsgJG1ldGE6IG9wdGltaXN0aWMgPyAncmVtb3ZpbmcnIDogJ3BlcnNpc3RlZCcgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sIGRlbHRhcy5zbGljZShpZHggKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQZXJzaXN0ZWQuIEp1c3QgcmVtb3ZlIGl0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFzID0gZGVsdGFzLnNsaWNlKDAsIGlkeCkuY29uY2F0KGRlbHRhcy5zbGljZShpZHggKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1cGRhdGUnOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIFJlcG9NdXRhdGlvblxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYgKG0uYnJhbmNoSWQgIT09IGJyYW5jaElkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IGRlbHRhcy5maW5kSW5kZXgoZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsdGEudHlwZSA9PT0gJ21vZGlmeScgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YS50YXJnZXRJZCA9PT0gbS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggPCAwICYmICFoYXNBZGRpdGlvbmFsRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YXMgPSBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbW9kaWZ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGU6IG0udGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldElkOiBtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXROYW1lOiBtLnRhcmdldE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG0uZGVsdGFEb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cmlidXRvcnM6IFt1c2VyRGlzcGxheU5hbWVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWV0YTogb3B0aW1pc3RpYyA/ICdhZGRpbmcnIDogJ3BlcnNpc3RlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0uY29uY2F0KGRlbHRhcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhpc3RpbmdEZWx0YURvYyA9IGRlbHRhc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyaWJ1dG9ycyA9IGV4aXN0aW5nRGVsdGFEb2MuY29udHJpYnV0b3JzLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRyaWJ1dG9ycy5pbmNsdWRlcyh1c2VyRGlzcGxheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJpYnV0b3JzLnB1c2godXNlckRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhID0gbWVyZ2VEZWx0YXMoZXhpc3RpbmdEZWx0YURvYy5kYXRhLCBtLmRlbHRhRG9jLCB7IHJlbW92ZVVuc2V0UHJvcHM6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGltaXN0aWMgJiYgT2JqZWN0LmtleXMobmV3RGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29tbWl0dGVkIG11dGF0aW9uIHRoYXQgcmVzZXRzIGEgZGVsdGFEb2MuIFJlbW92ZSB0aGUgZGVsdGFEb2MgZW50aXJlbHk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFzID0gZGVsdGFzLnNsaWNlKDAsIGlkeCkuY29uY2F0KGRlbHRhcy5zbGljZShpZHggKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YXMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtb2RpZnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGU6IG0udGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRJZDogbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE5hbWU6IG0udGFyZ2V0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IG5ld0RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlVGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyaWJ1dG9yczogY29udHJpYnV0b3JzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ldGE6IG9wdGltaXN0aWMgPyAndXBkYXRpbmcnIDogJ3BlcnNpc3RlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmNvbmNhdChkZWx0YXMuc2xpY2UoMCwgaWR4KSwgZGVsdGFzLnNsaWNlKGlkeCArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgX2kgPSAwLCBtdXRhdGlvbnNfMSA9IG11dGF0aW9uczsgX2kgPCBtdXRhdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIG0gPSBtdXRhdGlvbnNfMVtfaV07XG4gICAgICAgIHZhciBzdGF0ZV8xID0gX2xvb3BfMShtKTtcbiAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZV8xID09PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlXzEudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBkZWx0YXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHBseS1tdXRhdGlvbnMtb24tZGVsdGFzLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBIdHRwRXJyb3IgfSBmcm9tICcuLi8uLi9rZWQtYmFja2VuZC1jbGllbnQnO1xuaW1wb3J0IHsgYXBwbHlNdXRhdGlvbnNPbkRlbHRhcyB9IGZyb20gJy4vYXBwbHktbXV0YXRpb25zLW9uLWRlbHRhcyc7XG52YXIgRGVsdGFDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWx0YUNhY2hlKGdldENsaWVudCwgZ2V0VXNlciwgZ2V0VXNlckRpc3BsYXlOYW1lKSB7XG4gICAgICAgIHRoaXMuZ2V0Q2xpZW50ID0gZ2V0Q2xpZW50O1xuICAgICAgICB0aGlzLmdldFVzZXIgPSBnZXRVc2VyO1xuICAgICAgICB0aGlzLmdldFVzZXJEaXNwbGF5TmFtZSA9IGdldFVzZXJEaXNwbGF5TmFtZTtcbiAgICAgICAgdGhpcy5sb29rdXAgPSB7fTtcbiAgICB9XG4gICAgRGVsdGFDYWNoZS5wcm90b3R5cGUuYXBwbHlNdXRhdGlvbnMgPSBmdW5jdGlvbiAobXV0YXRpb25zLCBfYSkge1xuICAgICAgICB2YXIgb3B0aW1pc3RpYyA9IChfYSA9PT0gdm9pZCAwID8geyBvcHRpbWlzdGljOiBmYWxzZSB9IDogX2EpLm9wdGltaXN0aWM7XG4gICAgICAgIC8vIEFwcGx5IG11dGF0aW9ucyBsb2NhbGx5IG9udG8gdGhlIERlbHRhQ2FjaGUgYW5kIG5vdGlmeSB0aGVpciBzdWJzY3JpYmVyc1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9iID0gT2JqZWN0LmtleXModGhpcy5sb29rdXApOyBfaSA8IF9iLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHF1ZXJ5S2V5ID0gX2JbX2ldO1xuICAgICAgICAgICAgdmFyIGNhY2hlRW50cnkgPSB0aGlzLmxvb2t1cFtxdWVyeUtleV07XG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIEluc3RlYWQgaGVyZTogU3RvcmUgdGhlIG11dGF0aW9ucyBvbiBjYWNoZUVudHJ5LiBObyBtYXR0ZXIgaWYgaXQgeWV0IGhhcyB2YWx1ZSBvciBub3QuXG4gICAgICAgICAgICAgICAgLy8gVGhlbiBhcHBseSBtdXRhdGlvbiB3aGVuZXZlciBzdWJzY3JpYmluZyEgKEJldHRlciBoYW5kbGluZyBvZiBtdXRhdGlvbnMgdGhhdCBhcnJpdmVzIGJlZm9yZSBmZXRjaCgpIGlzIGRvbmUpXG4gICAgICAgICAgICAgICAgLy8gKFNlZSBob3cgSSBoYW5kbGUgdGhpcyBpbiBxdWVyeS1zZXQudHMpXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gYXBwbHlNdXRhdGlvbnNPbkRlbHRhcyhjYWNoZUVudHJ5LnF1ZXJ5LmJyYW5jaElkLCBjYWNoZUVudHJ5LnZhbHVlLCBtdXRhdGlvbnMsIG9wdGltaXN0aWMsIHRoaXMuZ2V0VXNlckRpc3BsYXlOYW1lKCksICEhY2FjaGVFbnRyeS5xdWVyeS50YWdzKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG11dGF0aW9uIHJlcXVpcmVzIGNhY2hlRW50cnkgdG8gYmUgcmVmZXRjaGVkIGZyb20gc2VydmVyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW1pc3RpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbGVyIGhhcyBzdWNjZXNzZnVsbHkgcGVyZm9ybWVkIHRoZSBtdXRhdGlvbnMgYW5kIGdvdCBzdWNjZXNzIGJhY2sgZnJvbSBzZXJ2ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdCdzIG9rIHRvIHJlZmV0Y2ggdGhlIGRlbHRhcyBmcm9tIHNlcnZlciBub3c6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5LmZldGNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZnRlciBmZXRjaCBjb21wbGV0ZXMsIGl0IHdpbGwgbm90aWZ5IHRoZSBzdWJzY3JpYmVycy5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IGNhY2hlRW50cnkudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVFbnRyeS5vcHRpbWlzdGljVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpbWlzdGljKVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVFbnRyeS52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5Lm5vdGlmeShuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWx0YUNhY2hlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAocXVlcnksIG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjYWNoZUVudHJ5ID0gdGhpcy5sb29rdXBbcXVlcnkuYnJhbmNoSWQgKyBxdWVyeS50YWdzXTtcbiAgICAgICAgaWYgKCFjYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICBjYWNoZUVudHJ5ID0gbmV3IERlbHRhQ2FjaGVFbnRyeSh0aGlzLmdldENsaWVudCgpLCBxdWVyeSk7XG4gICAgICAgICAgICB0aGlzLmxvb2t1cFtxdWVyeS5icmFuY2hJZCArIHF1ZXJ5LnRhZ3NdID0gY2FjaGVFbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FjaGVFbnRyeS5jbGVhbnVwVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjYWNoZUVudHJ5LmNsZWFudXBUaW1lcik7XG4gICAgICAgICAgICBjYWNoZUVudHJ5LmNsZWFudXBUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVFbnRyeS5zdWJzY3JpYmVycyA9IGNhY2hlRW50cnkuc3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IF9hLm9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbyAhPT0gb2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlRW50cnkuY2xlYW51cFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5zdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMubG9va3VwW3F1ZXJ5LmJyYW5jaElkICsgcXVlcnkudGFnc107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjYWNoZUVudHJ5LnN1YnNjcmliZXJzLnB1c2goeyBvYnNlcnZlcjogb2JzZXJ2ZXIsIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uIH0pO1xuICAgICAgICBpZiAoY2FjaGVFbnRyeS52YWx1ZSkge1xuICAgICAgICAgICAgLy8gVmFsdWUgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHJldHJpZXZlZCBhbHJlYWR5LiBQaWNrIGZyb20gY2FjaGUuXG4gICAgICAgICAgICBvYnNlcnZlcihjYWNoZUVudHJ5Lm9wdGltaXN0aWNWYWx1ZSB8fCBjYWNoZUVudHJ5LnZhbHVlLCBudWxsLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhY2hlRW50cnkuaXNGZXRjaGluZykge1xuICAgICAgICAgICAgLy8gQSB2YWx1ZSBpcyBvbiBpdHMgd2F5LiBTaXQgYmFjayBhbmQgcmVsYXguIEFsbCByZWdpc3RlcmVkXG4gICAgICAgICAgICAvLyBvYnNlcnZlcnMgKGluY2x1ZGluZyB0aGlzIG9uZSkgd2lsbCBiZSBub3RpZmllZCB3aGVuIGRhdGEgYXJyaXZlc1xuICAgICAgICAgICAgLy8gb3IgZmFpbHMuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FjaGVFbnRyeS5lcnJvcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIobnVsbCwgY2FjaGVFbnRyeS5lcnJvciwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlRW50cnkuZmV0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIERlbHRhQ2FjaGU7XG59KCkpO1xuZXhwb3J0IHsgRGVsdGFDYWNoZSB9O1xudmFyIERlbHRhQ2FjaGVFbnRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWx0YUNhY2hlRW50cnkoY2xpZW50LCBxdWVyeSkge1xuICAgICAgICB0aGlzLmZldGNoT3BlcmF0aW9uSWQgPSAwOyAvLyBNYWtlcyBzdXJlIGEgcmUtZmV0Y2ggd2lsbCBkaXNjYXJkIHRoZSByZXN1bHQgZnJvbSBhbnkgb25nb2luZyBmZXRjaC5cbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLm9wdGltaXN0aWNWYWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5pc0ZldGNoaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2xlYW51cFRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgRGVsdGFDYWNoZUVudHJ5LnByb3RvdHlwZS5mZXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGZldGNoT3BlcmF0aW9uSWQgPSArK3RoaXMuZmV0Y2hPcGVyYXRpb25JZDtcbiAgICAgICAgdGhpcy5pc0ZldGNoaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mZXRjaEZyb21TZXJ2ZXIoKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gU3VjY2Vzc1xuICAgICAgICAgICAgaWYgKGZldGNoT3BlcmF0aW9uSWQgPT09IF90aGlzLmZldGNoT3BlcmF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc0ZldGNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFsdWUuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYi5kYXRlVGltZSAtIGEuZGF0ZVRpbWU7IH0pOyAvLyBMYXRlc3QgZmlyc3RcbiAgICAgICAgICAgICAgICBfdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIF90aGlzLm9wdGltaXN0aWNWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIF90aGlzLm5vdGlmeSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgLy8gRmFpbFxuICAgICAgICAgICAgaWYgKGZldGNoT3BlcmF0aW9uSWQgPT09IF90aGlzLmZldGNoT3BlcmF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc0ZldGNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICBfdGhpcy5mYWlsKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEZWx0YUNhY2hlRW50cnkucHJvdG90eXBlLmZldGNoRnJvbVNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzLCBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5xdWVyeS5icmFuY2hJZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlbHRhcyBvbmx5IGF2YWlsYWJsZSBvbiBicmFuY2hlcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5jbGllbnQuaHR0cC5nZXQoJ2RlbHRhcycsIHRoaXMucXVlcnkpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyA+PSAzMDAgfHwgcmVzLnN0YXR1cyA8IDIwMCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBIdHRwRXJyb3IuYmluZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gW3ZvaWQgMCwgcmVzLnN0YXR1c107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXMudGV4dCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiB0aHJvdyBuZXcgKF9hLmFwcGx5KEh0dHBFcnJvciwgX2IuY29uY2F0KFtfYy5zZW50KCldKSkpKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLmpzb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9jLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGVsdGFDYWNoZUVudHJ5LnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuc3Vic2NyaWJlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIG9ic2VydmVyID0gX2Iub2JzZXJ2ZXIsIHN1YnNjcmlwdGlvbiA9IF9iLnN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIG9ic2VydmVyKHZhbHVlLCBudWxsLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWx0YUNhY2hlRW50cnkucHJvdG90eXBlLmZhaWwgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdmFyIGNvcHkgPSB0aGlzLnN1YnNjcmliZXJzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBjb3B5XzEgPSBjb3B5OyBfaSA8IGNvcHlfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGNvcHlfMVtfaV0sIG9ic2VydmVyID0gX2Eub2JzZXJ2ZXIsIHN1YnNjcmlwdGlvbiA9IF9hLnN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIG9ic2VydmVyKG51bGwsIGVycm9yLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVsdGFDYWNoZUVudHJ5O1xufSgpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbHRhLWNhY2hlLmpzLm1hcCIsImltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNdXRhdGlvblF1ZXVlIH0gZnJvbSAnLi9tdXRhdGlvbi1xdWV1ZSc7XG5pbXBvcnQgeyBCYXRjaFJ1bm5lciB9IGZyb20gJy4uL2tlZC1iYWNrZW5kLWNsaWVudCc7XG5pbXBvcnQgeyB0YWJsZXMgfSBmcm9tICdrZWRiYWNrZW5kLXNjaGVtYS9zY2hlbWEuanNvbic7XG5pbXBvcnQgeyBDYWNoZUJ1c3QgfSBmcm9tICcuL2NhY2hlLWJ1c3QnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uL29ic2VydmFibGUnO1xuaW1wb3J0IHsgRGVsdGFDYWNoZSB9IGZyb20gJy4vZGVsdGEtY29sbGVjdGlvbi9kZWx0YS1jYWNoZSc7XG52YXIgS2VkQmFja2VuZFdyaXRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLZWRCYWNrZW5kV3JpdGVyKG11dGF0aW9uUXVldWUsIHF1ZXJ5U2V0LCBnZXRDbGllbnQsIGdldFVzZXIsIGdldFVzZXJEaXNwbGF5TmFtZSkge1xuICAgICAgICB0aGlzLm11dGF0aW9uUXVldWUgPSBtdXRhdGlvblF1ZXVlO1xuICAgICAgICB0aGlzLnF1ZXJ5U2V0ID0gcXVlcnlTZXQ7XG4gICAgICAgIHRoaXMuZ2V0Q2xpZW50ID0gZ2V0Q2xpZW50O1xuICAgICAgICB0aGlzLmdldFVzZXIgPSBnZXRVc2VyO1xuICAgICAgICB0aGlzLmdldFVzZXJEaXNwbGF5TmFtZSA9IGdldFVzZXJEaXNwbGF5TmFtZTtcbiAgICAgICAgdGhpcy5fdGltZW91dElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXNTYXZpbmdQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50VmVyc2lvbiA9IDA7XG4gICAgICAgIHRoaXMucGVyc2lzdGVkVmVyc2lvbiA9IG5ldyBFbWl0dGVyKDApO1xuICAgICAgICB0aGlzLmVycm9yU3Vic2NyaWJlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZVN1YnNjcmliZXJzID0gW107XG4gICAgICAgIHRoaXMuZGVsdGFDYWNoZSA9IG5ldyBEZWx0YUNhY2hlKGdldENsaWVudCwgZ2V0VXNlciwgZ2V0VXNlckRpc3BsYXlOYW1lKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtlZEJhY2tlbmRXcml0ZXIucHJvdG90eXBlLCBcImlzU2F2aW5nXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAhIXRoaXMuX2lzU2F2aW5nUHJvbWlzZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtlZEJhY2tlbmRXcml0ZXIucHJvdG90eXBlLCBcImlzRWRpdGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm11dGF0aW9uUXVldWUuZ2V0KCkubGVuZ3RoID4gMDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgS2VkQmFja2VuZFdyaXRlci5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmVycm9yU3Vic2NyaWJlcnMucHVzaChjYWxsYmFjayk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kV3JpdGVyLnByb3RvdHlwZS5vblN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuc3RhdGVTdWJzY3JpYmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRXcml0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmVycm9yU3Vic2NyaWJlcnMgPSB0aGlzLmVycm9yU3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzICE9PSBjYWxsYmFjazsgfSk7XG4gICAgICAgIHRoaXMuc3RhdGVTdWJzY3JpYmVycyA9IHRoaXMuc3RhdGVTdWJzY3JpYmVycy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMgIT09IGNhbGxiYWNrOyB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRXcml0ZXIucHJvdG90eXBlLmRpc3BhdGNoRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIHJldHJ5YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmVycm9yU3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIHJldHJ5YWJsZSwgX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRXcml0ZXIucHJvdG90eXBlLmRpc3BhdGNoU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RhdGVTdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZFdyaXRlci5wcm90b3R5cGUubXV0YXRlID0gZnVuY3Rpb24gKG11dGF0aW9ucywgZGVib3VuY2UpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvblF1ZXVlLmFkZChtdXRhdGlvbnMpO1xuICAgICAgICArK3RoaXMuY3VycmVudFZlcnNpb247XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hTdGF0ZUNoYW5nZSgpO1xuICAgICAgICB0aGlzLnF1ZXJ5U2V0Lm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgICAgIHRoaXMuZGVsdGFDYWNoZS5hcHBseU11dGF0aW9ucyh0aGlzLm11dGF0aW9uUXVldWUuZ2V0KCksIHsgb3B0aW1pc3RpYzogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1NhdmluZ1Byb21pc2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0SWQpXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KHRoaXMuc2F2ZS5iaW5kKHRoaXMpLCBkZWJvdW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgaXNTYXZpbmcsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcsIGJlY2FzZSBpdCB3aWxsIHJlLWNoZWNrIGlmIGFkZGl0aW9uYWxcbiAgICAgICAgLy8gbXV0YXRpb25zIGhhdmUgY29tZSwgd2hlbiBzYXZpbmcgaXMgZG9uZS5cbiAgICB9O1xuICAgIEtlZEJhY2tlbmRXcml0ZXIucHJvdG90eXBlLnJldHJ5U2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgS2VkQmFja2VuZFdyaXRlci5wcm90b3R5cGUud2FpdEZvclZlcnNpb25Ub1BlcnNpc3QgPSBmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwZXJzaXN0ZWRWZXJzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRzbGliXzEuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucGVyc2lzdGVkVmVyc2lvbi5sb2FkKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJzaXN0ZWRWZXJzaW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocGVyc2lzdGVkVmVyc2lvbiA8IHZlcnNpb24pKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZSgpOyAvLyBCZSBtb3JlIGVhZ2VyIHRvIHNhdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucGVyc2lzdGVkVmVyc2lvbi5maWx0ZXIoZnVuY3Rpb24gKHBlcnNpc3RlZFZlcnNpb24pIHsgcmV0dXJuIHBlcnNpc3RlZFZlcnNpb24gPj0gdmVyc2lvbjsgfSkubG9hZCgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kV3JpdGVyLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fdGltZW91dElkKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCk7XG4gICAgICAgIGlmICh0aGlzLl9pc1NhdmluZ1Byb21pc2UpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNTYXZpbmdQcm9taXNlO1xuICAgICAgICBpZiAoIXRoaXMuaXNFZGl0ZWQpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lzU2F2aW5nUHJvbWlzZSA9IHRoaXMuX3NhdmUoKTtcbiAgICAgICAgdGhpcy5faXNTYXZpbmdQcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHsgfSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5faXNTYXZpbmdQcm9taXNlID0gbnVsbDsgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1NhdmluZ1Byb21pc2U7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kV3JpdGVyLnByb3RvdHlwZS5fc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRzbGliXzEuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbXV0YXRpb25zLCB2ZXJzaW9uLCBtdXRhdGlvblJlcXVlc3RzLCByZXNfMSwgZXRhZ011dGF0aW9ucywgZXJyb3JfMTtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaFN0YXRlQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbnMgPSB0aGlzLm11dGF0aW9uUXVldWUuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uID0gdGhpcy5jdXJyZW50VmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXV0YXRpb25RdWV1ZS5tb3ZlVG9TYXZpbmdRdWV1ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25SZXF1ZXN0cyA9IHRoaXMubWFwTXV0YXRpb25zKG11dGF0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgNiwgMTEsIDEyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldENsaWVudCgpLmJhdGNoKG11dGF0aW9uUmVxdWVzdHMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldGFnTXV0YXRpb25zID0gT2JqZWN0LmtleXMocmVzXzEubmV3RXRhZ3MpLm1hcChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3A6ICd1cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YURvYzogeyAkZXRhZzogcmVzXzEubmV3RXRhZ3NbaWRdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TmFtZTogbnVsbCAvLyBXZSBkb24ndCBoYXZlIHRoZSB0YXJnZXQgbmFtZS4gQnV0IHRoaXMgbXV0YXRpb24gd29uJ3QgYmUgdmlzaWJsZSBpbiBhIERlbHRhQ29sbGVjdGlvbiBhbnl3YXksIHNvIGl0IHdvbnQgYmUgdXNlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludmFsaWRhdGUgY2FjaGVcbiAgICAgICAgICAgICAgICAgICAgICAgIENhY2hlQnVzdC5pbnZhbGlkYXRlQ2FjaGUobXV0YXRpb25SZXF1ZXN0cywgdGhpcy5nZXRVc2VyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29tbW1pdCBtdXRhdGlvbnMgYWxvbmcgd2l0aCBldGFnTXV0YXRpb25zIGludG8gcXVlcmllcyBjYWNoZWQgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJzaXN0ZWRWZXJzaW9uLmRpc3BhdGNoKHZlcnNpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWx0YUNhY2hlLmFwcGx5TXV0YXRpb25zKG11dGF0aW9ucywgeyBvcHRpbWlzdGljOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucXVlcnlTZXQuY29tbWl0TXV0YXRpb25zKE11dGF0aW9uUXVldWUubWVyZ2UobXV0YXRpb25zLCBldGFnTXV0YXRpb25zKSwgdmVyc2lvbildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbiBzdWNjZXNzLCBjbGVhciBzYXZpbmcgcXVldWUgYXMgdGhlIG11dGF0aW9ucyB3aWxsIG5vdyBiZSBjb21taXR0ZWQgdG8gYWxsIHF1ZXJ5J3MgZGF0YSBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tdXRhdGlvblF1ZXVlLmNsZWFyU2F2aW5nUXVldWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hTdGF0ZUNoYW5nZSgpOyAvLyBpc0VkaXRlZCBtYXkgaGF2ZSB0dXJuZWQgdG8gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmFsbHksIG5vdGlmeSBzdWJzY3JpYmVycyBzbyB0aGF0IHZpZXdzIGdldCB1cGRhdGVkIHdpdGggY29tbWl0dGVkIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVlcnlTZXQubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMubXV0YXRpb25RdWV1ZS5nZXQoKS5sZW5ndGggPiAwKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGRpdGlvbmFsIG11dGF0aW9ucyBoYXBwZW5kIHdoaWxlIHdlIHdlcmUgc2F2aW5nLiBIYW5kbGUgdGhlbSBhcyB3ZWxsLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fc2F2ZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkaXRpb25hbCBtdXRhdGlvbnMgaGFwcGVuZCB3aGlsZSB3ZSB3ZXJlIHNhdmluZy4gSGFuZGxlIHRoZW0gYXMgd2VsbC5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcnNpc3RlZFZlcnNpb24uZGlzcGF0Y2hFcnJvcihlcnJvcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGVycm9yXzEgJiYgZXJyb3JfMS5uYW1lICYmIGVycm9yXzEubmFtZS5zdGFydHNXaXRoKFwiaHR0cDRcIikpKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY2VzcyBDb250cm9sIGRlbmllZCwgYmFkIHJlcXVlc3Qgb3Igc2ltaWxhci4gVGhyb3cgbXV0YXRpb25zIGF3YXkuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXJyb3IoZXJyb3JfMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tdXRhdGlvblF1ZXVlLmNsZWFyU2F2aW5nUXVldWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hTdGF0ZUNoYW5nZSgpOyAvLyBpc0VkaXRlZCBtYXkgaGF2ZSB0dXJuZWQgdG8gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVlcnlTZXQubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMubXV0YXRpb25RdWV1ZS5nZXQoKS5sZW5ndGggPiAwKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIbyBobyEgQWRkaXRpb25hbCBtdXRhdGlvbnMgaGFwcGVuZCB3aGlsZSB3ZSB3ZXJlIHNhdmluZy4gSGFuZGxlIHRoZW0gYWxvbmUuIFRIZXkgbWlnaHQgYmUgbW9yZSBsdWNreS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3NhdmUoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvIGhvISBBZGRpdGlvbmFsIG11dGF0aW9ucyBoYXBwZW5kIHdoaWxlIHdlIHdlcmUgc2F2aW5nLiBIYW5kbGUgdGhlbSBhbG9uZS4gVEhleSBtaWdodCBiZSBtb3JlIGx1Y2t5LlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA4O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEVycm9yKGVycm9yXzEsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaFN0YXRlQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgS2VkQmFja2VuZFdyaXRlci5wcm90b3R5cGUubWFwTXV0YXRpb25zID0gZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICB2YXIgYnIgPSBuZXcgQmF0Y2hSdW5uZXIoKTtcbiAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgIHN3aXRjaCAobS5vcCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGJyLnVwZGF0ZShtLnRhYmxlLCBtLmlkLCBtLmRlbHRhRG9jLCBtLmJyYW5jaElkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICAgICAgICAgICAgYnIuYWRkKG0udGFibGUsIG0uZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYWRkLXJlbGF0ZWQnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIW0ucmVsYXRlZERvYy4kZXRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gJGV0YWcgbWVhbnMgdGhpcyBpcyBhIG5ldyBkb2N1bWVudC4gQWRkIGl0IGJlZm9yZSBsaW5raW5nIHRvIGl0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnIuYWRkKHRhYmxlc1ttLnRhYmxlXS5yZWxhdGlvbnNoaXBzW20uZ3JhcGhQcm9wXSwgbS5yZWxhdGVkRG9jLCBtLmJyYW5jaElkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBici5saW5rMihtLnRhYmxlLCBtLmlkLCBtLmdyYXBoUHJvcCwgbS5yZWxhdGVkRG9jLmlkLCBtLmJyYW5jaElkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVtb3ZlLXJlbGF0ZWQnOlxuICAgICAgICAgICAgICAgICAgICBici51bmxpbmsyKG0udGFibGUsIG0uaWQsIG0uZ3JhcGhQcm9wLCBtLnJlbGF0ZWREb2MuaWQsIG0uYnJhbmNoSWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1bmRvLWxpbmsnOlxuICAgICAgICAgICAgICAgICAgICBici51bmRvTGluayhtLnRhYmxlLCBtLmlkLCBtLmdyYXBoUHJvcCwgbS5yZWxhdGVkSWQsIG0uYnJhbmNoSWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkZWxldGUnOlxuICAgICAgICAgICAgICAgICAgICBici5kZWxldGUobS50YWJsZSwgbS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NsZWFyLWJyYW5jaCc6XG4gICAgICAgICAgICAgICAgICAgIGJyLmNsZWFyQnJhbmNoKG0uYnJhbmNoSWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtZXJnZSc6XG4gICAgICAgICAgICAgICAgICAgIGJyLm1lcmdlKG0uYnJhbmNoSWQsIG0udGFyZ2V0QnJhbmNoSWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBici5tdXRhdGlvblJlcXVlc3RzO1xuICAgIH07XG4gICAgcmV0dXJuIEtlZEJhY2tlbmRXcml0ZXI7XG59KCkpO1xuZXhwb3J0IHsgS2VkQmFja2VuZFdyaXRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2VkYmFja2VuZC13cml0ZXIuanMubWFwIiwiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tICcuLi8uLi9vYnNlcnZhYmxlJztcbnZhciBEZWx0YUNvbGxlY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRGVsdGFDb2xsZWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlbHRhQ29sbGVjdGlvbihkZWx0YUNhY2hlLCBxdWVyeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBmdW5jdGlvbiAob2JzZXJ2ZXIpIHsgcmV0dXJuIF90aGlzLmRlbHRhQ2FjaGUuc3Vic2NyaWJlKHF1ZXJ5LCBvYnNlcnZlcik7IH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlbHRhQ2FjaGUgPSBkZWx0YUNhY2hlO1xuICAgICAgICBfdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERlbHRhQ29sbGVjdGlvbi5wcm90b3R5cGUudGFncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHRhZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERlbHRhQ29sbGVjdGlvbih0aGlzLmRlbHRhQ2FjaGUsIHRzbGliXzEuX19hc3NpZ24oe30sIHRoaXMucXVlcnksIHsgdGFnczogdGFncyB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVsdGFDb2xsZWN0aW9uO1xufShDb2xsZWN0aW9uKSk7XG5leHBvcnQgeyBEZWx0YUNvbGxlY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbHRhLWNvbGxlY3Rpb24uanMubWFwIiwiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IHRhYmxlcyB9IGZyb20gJ2tlZGJhY2tlbmQtc2NoZW1hL3NjaGVtYS5qc29uJztcbmltcG9ydCB7IEtlZEJhY2tlbmRDb2xsZWN0aW9uIH0gZnJvbSAnLi9rZWRiYWNrZW5kLWNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgUXVlcnlTZXQgfSBmcm9tICcuL3F1ZXJ5LXNldCc7XG5pbXBvcnQgeyBNdXRhdGlvblF1ZXVlIH0gZnJvbSAnLi9tdXRhdGlvbi1xdWV1ZSc7XG5pbXBvcnQgeyBLZWRCYWNrZW5kV3JpdGVyIH0gZnJvbSAnLi9rZWRiYWNrZW5kLXdyaXRlcic7XG5pbXBvcnQgeyBEZWx0YUNvbGxlY3Rpb24gfSBmcm9tICcuL2RlbHRhLWNvbGxlY3Rpb24vZGVsdGEtY29sbGVjdGlvbic7XG52YXIgS2VkQmFja2VuZFJlcG8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gS2VkQmFja2VuZFJlcG8oZ2V0Q2xpZW50LCBnZXRVc2VyLCBnZXRVc2VyRGlzcGxheU5hbWUsIGRlZmF1bHRRdWVyeU9wdGlvbnMsIG11dGF0aW9uUXVldWUsIHF1ZXJ5U2V0LCB3cml0ZXIsIGNhY2hlT3B0aW1pemVkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZ2V0Q2xpZW50ID0gZ2V0Q2xpZW50O1xuICAgICAgICB0aGlzLmdldFVzZXIgPSBnZXRVc2VyO1xuICAgICAgICB0aGlzLmdldFVzZXJEaXNwbGF5TmFtZSA9IGdldFVzZXJEaXNwbGF5TmFtZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0UXVlcnlPcHRpb25zID0gZGVmYXVsdFF1ZXJ5T3B0aW9ucztcbiAgICAgICAgdGhpcy5tdXRhdGlvblF1ZXVlID0gbXV0YXRpb25RdWV1ZTtcbiAgICAgICAgdGhpcy5xdWVyeVNldCA9IHF1ZXJ5U2V0O1xuICAgICAgICB0aGlzLndyaXRlciA9IHdyaXRlcjtcbiAgICAgICAgdGhpcy5jYWNoZU9wdGltaXplZCA9IGNhY2hlT3B0aW1pemVkO1xuICAgICAgICBpZiAoIWRlZmF1bHRRdWVyeU9wdGlvbnMpXG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRRdWVyeU9wdGlvbnMgPSB7fTtcbiAgICAgICAgaWYgKCFtdXRhdGlvblF1ZXVlKVxuICAgICAgICAgICAgdGhpcy5tdXRhdGlvblF1ZXVlID0gbmV3IE11dGF0aW9uUXVldWUoKTtcbiAgICAgICAgaWYgKCFxdWVyeVNldClcbiAgICAgICAgICAgIHRoaXMucXVlcnlTZXQgPSBuZXcgUXVlcnlTZXQodGhpcy5tdXRhdGlvblF1ZXVlKTtcbiAgICAgICAgaWYgKCF3cml0ZXIpXG4gICAgICAgICAgICB0aGlzLndyaXRlciA9IG5ldyBLZWRCYWNrZW5kV3JpdGVyKHRoaXMubXV0YXRpb25RdWV1ZSwgdGhpcy5xdWVyeVNldCwgZ2V0Q2xpZW50LCBnZXRVc2VyLCBnZXRVc2VyRGlzcGxheU5hbWUpO1xuICAgICAgICBPYmplY3Qua2V5cyh0YWJsZXMpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IG5ldyBLZWRCYWNrZW5kQ29sbGVjdGlvbihfdGhpcywgdGFibGUsIGRlZmF1bHRRdWVyeU9wdGlvbnMgfHwge30pO1xuICAgICAgICAgICAgaWYgKGNhY2hlT3B0aW1pemVkKSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24uY2FjaGVPcHRpbWl6ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzW3RhYmxlXSA9IGNvbGxlY3Rpb247XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbHRhcyA9IG5ldyBEZWx0YUNvbGxlY3Rpb24odGhpcy53cml0ZXIuZGVsdGFDYWNoZSwge1xuICAgICAgICAgICAgYnJhbmNoSWQ6IHRoaXMuZGVmYXVsdFF1ZXJ5T3B0aW9ucy5icmFuY2hJZCAvLyBJZiBicmFuY2hJZCBpcyB1bmRlZmluZWQuIERlbHRhQ29sbGVjdGlvbiB3aWxsIHJlc3BvbmQgd2l0aCBFcnJvciBvbiBzdWJzY3JpYmUoKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgS2VkQmFja2VuZFJlcG8ucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICB2YXIgY29sbGVjdGlvbiA9IG5ldyBLZWRCYWNrZW5kQ29sbGVjdGlvbih0aGlzLCB0YWJsZU5hbWUsIHRoaXMuZGVmYXVsdFF1ZXJ5T3B0aW9ucyk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlT3B0aW1pemVkKVxuICAgICAgICAgICAgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb24uY2FjaGVPcHRpbWl6ZWQoKTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kUmVwby5wcm90b3R5cGUuX2Nsb25lID0gZnVuY3Rpb24gKHF1ZXJ5T3B0aW9ucywgY2FjaGVPcHRpbWl6ZWQpIHtcbiAgICAgICAgdmFyIGNsb25lID0gbmV3IEtlZEJhY2tlbmRSZXBvKHRoaXMuZ2V0Q2xpZW50LCB0aGlzLmdldFVzZXIsIHRoaXMuZ2V0VXNlckRpc3BsYXlOYW1lLCB0c2xpYl8xLl9fYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRRdWVyeU9wdGlvbnMsIHF1ZXJ5T3B0aW9ucyksIHRoaXMubXV0YXRpb25RdWV1ZSwgdGhpcy5xdWVyeVNldCwgdGhpcy53cml0ZXIsIGNhY2hlT3B0aW1pemVkID09PSB1bmRlZmluZWQgPyB0aGlzLmNhY2hlT3B0aW1pemVkIDogY2FjaGVPcHRpbWl6ZWQpO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcbiAgICBLZWRCYWNrZW5kUmVwby5wcm90b3R5cGUuYnJhbmNoID0gZnVuY3Rpb24gKGJyYW5jaElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9uZSh7IGJyYW5jaElkOiBicmFuY2hJZCB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRSZXBvLnByb3RvdHlwZS5yb2xlID0gZnVuY3Rpb24gKHJvbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lKHsgcm9sZTogcm9sZSB9KTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRSZXBvLnByb3RvdHlwZS5vcHRpbWl6ZUNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xvbmUoe30sIHRydWUpO1xuICAgIH07XG4gICAgS2VkQmFja2VuZFJlcG8ucHJvdG90eXBlLmNsZWFyQnJhbmNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVmYXVsdFF1ZXJ5T3B0aW9ucy5icmFuY2hJZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjbGVhciBtYXN0ZXIgYnJhbmNoXCIpO1xuICAgICAgICB0aGlzLndyaXRlci5tdXRhdGUoW3sgb3A6ICdjbGVhci1icmFuY2gnLCBicmFuY2hJZDogdGhpcy5kZWZhdWx0UXVlcnlPcHRpb25zLmJyYW5jaElkIH1dLCAwKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRSZXBvLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uICh0YXJnZXRCcmFuY2hJZCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVmYXVsdFF1ZXJ5T3B0aW9ucy5icmFuY2hJZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBtZXJnZSBmcm9tIG1hc3RlciBicmFuY2hcIik7XG4gICAgICAgIHRoaXMud3JpdGVyLm11dGF0ZShbeyBvcDogJ21lcmdlJywgYnJhbmNoSWQ6IHRoaXMuZGVmYXVsdFF1ZXJ5T3B0aW9ucy5icmFuY2hJZCwgdGFyZ2V0QnJhbmNoSWQ6IHRhcmdldEJyYW5jaElkIH1dLCAwKTtcbiAgICB9O1xuICAgIEtlZEJhY2tlbmRSZXBvLnByb3RvdHlwZS5zYXZlTm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLndyaXRlci53YWl0Rm9yVmVyc2lvblRvUGVyc2lzdCh0aGlzLndyaXRlci5jdXJyZW50VmVyc2lvbildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEtlZEJhY2tlbmRSZXBvO1xufSgpKTtcbmV4cG9ydCB7IEtlZEJhY2tlbmRSZXBvIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZWRiYWNrZW5kLXJlcG8uanMubWFwIiwiaW1wb3J0IGVudiBmcm9tICcuL0tFRC5lbnYnO1xuaW1wb3J0IHsgS2VkQmFja2VuZFJlcG8gfSBmcm9tICdrZWRiYWNrZW5kL3JlcG8nO1xuaW1wb3J0IHsgZ2V0R2xvYmFsSWQsIGNyZWF0ZVVVSUQgfSBmcm9tICdrZWRiYWNrZW5kL2NsaWVudCc7XG5pbXBvcnQgY2ZnIGZyb20gJy4vS0VELmNmZyc7XG5pbXBvcnQgeyBTY2hvb2wsIEJyYW5jaCB9IGZyb20gJ2tlZGJhY2tlbmQvbW9kZWxzJztcbmltcG9ydCB7IFZhbHVlIH0gZnJvbSAna2VkYmFja2VuZC9vYnNlcnZhYmxlJztcblxuZXhwb3J0IGNvbnN0IGRiID0gbmV3IEtlZEJhY2tlbmRSZXBvKFxuICAoKT0+ZW52LmtlZEJhY2tlbmRDbGllbnQsXG4gICgpPT5lbnYuY3VycmVudFVzZXIgP1xuICAgIGVudi5jdXJyZW50VXNlci5tYWlsIDpcbiAgICBcIlwiLFxuICAoKT0+ZW52LmN1cnJlbnRVc2VyID9cbiAgICBlbnYuY3VycmVudFVzZXIuZGlzcGxheU5hbWUgfHwgZW52LmN1cnJlbnRVc2VyLm1haWwgOlxuICAgIFwiXCIpO1xuXG5leHBvcnQgY29uc3QgZ2xvYmFsSWQgPSBnZXRHbG9iYWxJZChjZmcuS0VEX1JFQUxNKTtcbmV4cG9ydCBjb25zdCBTY2hvb2xzID0ge1xuICBzdGFuZGFyZFNjaG9vbDogZGIuc2Nob29scy5uYW1lKFwic3RhbmRhcmRcIikuY2FjaGVPcHRpbWl6ZWQoKS5zaW5nbGUoKSxcbiAgZ2V0IG15U2Nob29sICgpIHsgcmV0dXJuIGRiLnNjaG9vbHMubmFtZShlbnYuY3VycmVudFVzZXIuc2Nob29sKS5jYWNoZU9wdGltaXplZCgpLnNpbmdsZSgpOyB9XG59O1xuZXhwb3J0IGNvbnN0IENvdXJzZUluc3RhbmNlcyA9IHtcbiAgZ2V0QnJhbmNoSWQoc2Nob29sOiBWYWx1ZTxTY2hvb2w+LCBjb3Vyc2VJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHNjaG9vbC5zd2l0Y2hNYXAoc2Nob29sID0+XG4gICAgICBkYi5icmFuY2hlc1xuICAgICAgICAuaGFzRWRnZXNGcm9tKFtzY2hvb2wub2ZmaWNpYWxCcmFuY2hJZF0pXG4gICAgICAgIC5uYW1lKFwiZHJhZnRcIilcbiAgICAgICAgLnRhZ3MoY291cnNlSWQpXG4gICAgICAgIC5pZHNPbmx5KClcbiAgICAgICAgLm1hcCgoe2lkfSkgPT4gaWQpXG4gICAgICAgIC50b1ZhbHVlKClcbiAgICAgICAgLm1hcChpZHMgPT4gaWRzLmxlbmd0aCA+IDAgPyBpZHNbMF0gOiB1bmRlZmluZWQpKTtcbiAgfSxcblxuICAvKiogR2V0IGEgRFJBRlQgYnJhbmNoIGZvciBnaXZlbiBjb3Vyc2UgSUQgYW5kIGdpdmVuIHNjaG9vbC5cbiAgICogSWYgdGhlcmUgaXMgbm90IHlldCBzdWNoIGEgYnJhbmNoLCBjcmVhdGUgaXQgdXNpbmcgbXV0YXRpb25zT25FbXB0eSgpIHdoaWNoIHdpbGxcbiAgICogbGVhZCB0byB0aGUgQyMgY29kZSBEb2N1bWVudFJlcG9zaXRvcnkuUmVhZE9yTXV0YXRlKCkgdmlhIERvY3VtZW50Q29udHJvbGxlci5cbiAgICovXG4gIGdldE9yQ3JlYXRlQnJhbmNoSWQoc2Nob29sOiBWYWx1ZTxTY2hvb2w+LCBjb3Vyc2VJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGRiLmNvdXJzZUluc3RhbmNlcy5pZHNPbmx5KCkuaWQoY291cnNlSWQpLnN3aXRjaE1hcCgoKT0+IC8vIFRIaXMgZmlyc3QgbGluZSB2ZXJpZmllcyBjb3Vyc2UgZXhpc3RzLiBJZiBkZWxldGVkLCBkb24ndCB0cnkgdG8gcmVjcmVhdGUgaXRzIGJyYW5jaCFcbiAgICAgIHNjaG9vbC5zd2l0Y2hNYXAoc2Nob29sID0+IFxuICAgICAgZGIuYnJhbmNoZXNcbiAgICAgICAgLmhhc0VkZ2VzRnJvbShbc2Nob29sLm9mZmljaWFsQnJhbmNoSWRdKVxuICAgICAgICAubmFtZShcImRyYWZ0XCIpXG4gICAgICAgIC50YWdzKGNvdXJzZUlkKVxuICAgICAgICAuaWRzT25seSgpXG4gICAgICAgIC5tdXRhdGlvbnNPbkVtcHR5KHR4ID0+IHtcbiAgICAgICAgICAvLyBUaGVzZSAyIG11dGF0aW9ucyB3aWxsIG9jY3VyIHNlcnZlciBzaWRlLCBhdG9taWNhbGx5LlxuICAgICAgICAgIC8vIFdpbGwgYmUgc2VudCBvbiBlYWNoIHJlcXVlc3QgaW4gdGhlIHF1ZXJ5LCBidXQgd2lsbCBvbmx5IGV4ZWN1dGUgaWYgcXVlcnkgcmVzdWx0cyBpbiB6ZXJvIGl0ZW1zLlxuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTY2hvb2w6XCIsIHNjaG9vbCk7XG4gICAgICAgICAgY29uc3QgaWQgPSBjcmVhdGVVVUlEKCk7XG4gICAgICAgICAgdHguYWRkKFwiYnJhbmNoZXNcIiwge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBhY2w6IFtcbiAgICAgICAgICAgICAgXCJyb2xlOlVTRVI6UlwiLFxuICAgICAgICAgICAgICBgc2Nob29sUm9sZToke3NjaG9vbC5uYW1lfS9FTVBMT1lFRTpTYFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG5hbWU6ICdkcmFmdCcsXG4gICAgICAgICAgICBzY2hvb2xJZDogc2Nob29sLmlkLFxuICAgICAgICAgICAgdHJlZVBhcmVudElkOiBzY2hvb2wub2ZmaWNpYWxCcmFuY2hJZCxcbiAgICAgICAgICAgIHRhZ3M6IFtjb3Vyc2VJZF1cbiAgICAgICAgICB9IGFzIEJyYW5jaCk7XG4gICAgICAgICAgLy8gQXBwcm92aW5nIHRoZSBicmFuY2ggbWFrZXMgc3VyZSB0aGF0IGl0IHdhcyBjcmVhdGVkIGJ5IGFuIEVNUExPWUVFIG9uIGdpdmVuIHNjaG9vbC5cbiAgICAgICAgICB0eC5saW5rMihcImJyYW5jaGVzXCIsIHNjaG9vbC5vZmZpY2lhbEJyYW5jaElkLCBcImFwcHJvdmVkQ2hpbGRyZW5cIiwgaWQpO1xuICAgICAgICB9KVxuICAgICAgICAuc2luZ2xlKClcbiAgICAgICAgLm1hcCgoe2lkfSkgPT4gaWQpKSk7XG4gIH0sXG5cbiAgZ2V0QWxsRGVzY2VuZGFudElkcyhjb3Vyc2VJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGRiLmNvdXJzZUJsb2Nrcy50YWdzKGNvdXJzZUlkKS5pZHNPbmx5KCkuY29uY2F0KFxuICAgICAgZGIuY291cnNlQ29udGVudHMudGFncyhjb3Vyc2VJZCkuaWRzT25seSgpKS5jb25jYXQoXG4gICAgICBkYi5jb3Vyc2VUYWJzLnRhZ3MoY291cnNlSWQpLmlkc09ubHkoKSkuY29uY2F0KFxuICAgICAgZGIudGFza3MudGFncyhjb3Vyc2VJZCkuaWRzT25seSgpKVxuICAgICAgLm1hcCh4ID0+IHguaWQpO1xuICB9XG59XG4iLCJpbXBvcnQgY2ZnIGZyb20gJy4uL2dsb2JhbHMvS0VELmNmZyc7XG5cbmRlY2xhcmUgdmFyIHByb2Nlc3M6IGFueTtcblxuY2ZnLkVOVklST05NRU5UID0gcHJvY2Vzcy5lbnYuRU5WSVJPTk1FTlQgYXMgXCJwcm9kdWN0aW9uXCIgfCBcImRldmVsb3BtZW50XCIgfCBcInRlc3RcIjtcbmNmZy5LRURfQVBJX1VSTCA9IHByb2Nlc3MuZW52LktFRF9BUElfVVJMOyAvLyBcImh0dHBzOi8va2VkYmFja2VuZHRlc3QuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL1wiXG5jZmcuRURTX0FQSV9VUkwgPSBwcm9jZXNzLmVudi5FRFNfQVBJX1VSTDsgLy8gXCJodHRwczovL2Vkc3BvcnRhbG93aW5hcGkuYXp1cmV3ZWJzaXRlcy5uZXQvYXBpL1wiXG5jZmcuS0VEX1RPS0VOX1VSTCA9IHByb2Nlc3MuZW52LktFRF9UT0tFTl9VUkw7IC8vIFwiaHR0cHM6Ly9rZWRhdXRodGVzdC5henVyZXdlYnNpdGVzLm5ldC90b2tlblwiXG5jZmcuS0VEX0NMSUVOVF9JRCA9IHByb2Nlc3MuZW52LktFRF9DTElFTlRfSUQ7IC8vIFwiZGV2Y2xpZW50XCIsIFwidGVzdGNsaWVudFwiLCBcIi4uLlwiXG5jZmcuS0VEX0NMSUVOVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5LRURfQ0xJRU5UX1NFQ1JFVDtcbmNmZy5LRURfUkVBTE0gPSBwcm9jZXNzLmVudi5LRURfUkVBTE07IC8vIFwiU0UxXCJcbmNmZy5LRURfTE9DQUxFID0gY2ZnLktFRF9MT0NBTEUgfHwgcHJvY2Vzcy5lbnYuS0VEX0xPQ0FMRTsgLy8gXCJzdlwiLCBcImVuXCIuIE9ubHkgc2V0IGZyb20gcHJvY2Vzcy5lbnYgaWYgbm90IHNldCBmcm9tIFNpdGVWaXNpb24gZWxlbWVudCBjb25maWcuXG5jZmcuS0VEX1NDSE9PTF9MT0NBTEUgPSBjZmcuS0VEX1NDSE9PTF9MT0NBTEUgfHwgcHJvY2Vzcy5lbnYuS0VEX1NDSE9PTF9MT0NBTEU7IC8vIFwic3ZcIiwgXCJlbl9zaW5cIiwgXCJlbl9uaW5cIi4gT25seSBzZXQgZnJvbSBwcm9jZXNzLmVudiBpZiBub3Qgc2V0IGZyb20gU2l0ZVZpc2lvbiBlbGVtZW50IGNvbmZpZy5cbmNmZy5LRURfUkVTT1VSQ0VTX1VSTCA9IGNmZy5LRURfUkVTT1VSQ0VTX1VSTCB8fCBwcm9jZXNzLmVudi5LRURfUkVTT1VSQ0VTX1VSTDtcbiIsImltcG9ydCB7IHBhcnNlUXVlcnlTdHJpbmcsIGdlbmVyYXRlUXVlcnlTdHJpbmcsIHNwbGl0VXJsQW5kUXVlcnkgfSBmcm9tIFwiLi4vdXRpbHMvcXVlcnktc3RyaW5nXCI7XG5pbXBvcnQgeyBLZWRCYWNrZW5kQ2xpZW50V2ViLCBXZWJTZXJ2ZXJCZWFyZXJQcm92aWRlciwgaXNvbW9ycGhpYywgc3RvcmFnZSB9IGZyb20gJ2tlZGJhY2tlbmQvY2xpZW50d2ViJztcbmltcG9ydCB7IEJlYXJlclByb3ZpZGVyLCBLZWRCZWFyZXJQcm92aWRlciB9IGZyb20gJ2tlZGJhY2tlbmQvY2xpZW50JztcbmltcG9ydCBjZmcgZnJvbSAnLi4vZ2xvYmFscy9LRUQuY2ZnJztcbmltcG9ydCBlbnYgZnJvbSAnLi4vZ2xvYmFscy9LRUQuZW52JztcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiLi4vY29udHJhY3RzL2tlZC1tb2RlbHNcIjtcbmltcG9ydCB7IElNUEVSU09OQVRJT05fUVVFUllfUEFSQU1TIH0gZnJvbSBcIi4uL2FjY2Vzcy1jb250cm9sL2luZGV4XCI7XG5pbXBvcnQgeyBjaGVycnlQaWNrUHJvcHMgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcblxuXG5jb25zdCBlbXBsb3llZUNsYXNzcm9vbVNjb3BlcyA9IFtcbiAgXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2NsYXNzcm9vbS5jb3Vyc2VzXCIsXG4gIFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9jbGFzc3Jvb20ucHJvZmlsZS5lbWFpbHNcIixcbiAgXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2NsYXNzcm9vbS5yb3N0ZXJzXCIsXG4gIFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9jbGFzc3Jvb20uY291cnNld29yay5zdHVkZW50c1wiXG5dO1xuY29uc3Qgc3R1ZGVudENsYXNzcm9vbVNjb3BlcyA9IFtcbiAgXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2NsYXNzcm9vbS5jb3Vyc2VzXCIsXG4gIFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9jbGFzc3Jvb20uY291cnNld29yay5tZVwiXG5dO1xuXG5cbmZ1bmN0aW9uIGdldE1lcmdlZFRva2VuUGF0aCh0b2tlblBhdGg6IHN0cmluZywgbG9jYXRpb25TZWFyY2g6IHN0cmluZywgc2NvcGVzOiBzdHJpbmdbXSkge1xuICAvLyBNZXJnZSBjb25maWd1cmVkIHF1ZXJ5IHBhcmFtcyBvZiB0b2tlbiBwYXRoIHdpdGggcGFyYW1zIGdpdmVuIHRvIGN1cnJlbnQgcGFnZVxuICBjb25zdCBjdXJyZW50UXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nKGxvY2F0aW9uU2VhcmNoKTtcbiAgY29uc3QgaW1wZXJzb25hdGlvblByb3BzID0gY2hlcnJ5UGlja1Byb3BzKGN1cnJlbnRRdWVyeSwgSU1QRVJTT05BVElPTl9RVUVSWV9QQVJBTVMpO1xuICBjb25zdCBbdG9rZW5QYXRoV2l0aG91dFF1ZXJ5LCB0b2tlblF1ZXJ5U3RyaW5nXSA9IHNwbGl0VXJsQW5kUXVlcnkodG9rZW5QYXRoKTtcbiAgY29uc3QgdG9rZW5QYXRoUXVlcnkgPSBwYXJzZVF1ZXJ5U3RyaW5nKHRva2VuUXVlcnlTdHJpbmcpO1xuICByZXR1cm4gdG9rZW5QYXRoV2l0aG91dFF1ZXJ5ICsgZ2VuZXJhdGVRdWVyeVN0cmluZyh7XG4gICAgLi4udG9rZW5QYXRoUXVlcnksXG4gICAgLi4uaW1wZXJzb25hdGlvblByb3BzLFxuICAgIHNjb3Blczogc2NvcGVzLmpvaW4oJywnKVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0VG9rZW5JZChtZXJnZWRUb2tlblBhdGg6IHN0cmluZywgdXNlckVtYWlsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIG1lcmdlZFRva2VuUGF0aCArIFwiL1wiICsgdXNlckVtYWlsO1xufVxuXG5mdW5jdGlvbiBzYXZlVXNlckluZm8odXNlcjogVXNlciwgdG9rZW5JZDogc3RyaW5nKSB7XG4gIGVudi5jdXJyZW50VXNlciA9IHVzZXI7XG4gIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJ1c2VySW5mb1wiICsgdG9rZW5JZCwgSlNPTi5zdHJpbmdpZnkodXNlcikpO1xufVxuXG5mdW5jdGlvbiBsb2FkVXNlckluZm8odG9rZW5JZDogc3RyaW5nKSB7XG4gIGNvbnN0IHN0b3JlZFNlc3Npb25Vc2VyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcInVzZXJJbmZvXCIgKyB0b2tlbklkKTtcbiAgaWYgKHN0b3JlZFNlc3Npb25Vc2VyKSB7XG4gICAgZW52LmN1cnJlbnRVc2VyID0gSlNPTi5wYXJzZShzdG9yZWRTZXNzaW9uVXNlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlQmVhcmVyUHJvdmlkZXIobWVyZ2VkVG9rZW5QYXRoOiBzdHJpbmcsIHVzZXJFbWFpbDogc3RyaW5nKSB7XG4gIGNvbnN0IHRva2VuSWQgPSBnZXRUb2tlbklkKG1lcmdlZFRva2VuUGF0aCwgdXNlckVtYWlsKTtcbiAgcmV0dXJuIG5ldyBXZWJTZXJ2ZXJCZWFyZXJQcm92aWRlcihtZXJnZWRUb2tlblBhdGgsIHJlc3BvbnNlVGV4dCA9PiB7XG4gICAgY29uc3QgcmVzID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpIGFzIHsgb2s6IGJvb2xlYW4sIGVycm9yPzogc3RyaW5nLCB0b2tlbj86IHN0cmluZywgdXNlcj86IFVzZXIgfTtcbiAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKHJlcy5lcnJvcik7XG4gICAgaWYgKHJlcy51c2VyKSB7XG4gICAgICBzYXZlVXNlckluZm8ocmVzLnVzZXIsIHRva2VuSWQpO1xuICAgIH1cbiAgICByZXR1cm4geyB0b2tlbjogcmVzLnRva2VuLCBleHBpcmVzOiBEYXRlLm5vdygpICsgNTkgKiA2MCAqIDEwMDAgfTtcbiAgfSwgdG9rZW5JZCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdvb2dsZVRva2VuUHJvdmlkZXIobWVyZ2VkVG9rZW5QYXRoOiBzdHJpbmcsIHVzZXJFbWFpbDogc3RyaW5nKSB7XG4gIGNvbnN0IHRva2VuSWQgPSBnZXRUb2tlbklkKG1lcmdlZFRva2VuUGF0aCwgdXNlckVtYWlsKTtcbiAgcmV0dXJuIG5ldyBXZWJTZXJ2ZXJCZWFyZXJQcm92aWRlcihtZXJnZWRUb2tlblBhdGgsIHJlc3BvbnNlVGV4dCA9PiB7XG4gICAgY29uc3QgcmVzID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpIGFzIHsgb2s6IGJvb2xlYW4sIGVycm9yPzogc3RyaW5nLCB0b2tlbj86IHN0cmluZywgdXNlcj86IFVzZXIgfTtcbiAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKHJlcy5lcnJvcik7XG4gICAgcmV0dXJuIHsgdG9rZW46IHJlcy50b2tlbiwgZXhwaXJlczogRGF0ZS5ub3coKSArIDU5ICogNjAgKiAxMDAwIH07XG4gIH0sIHRva2VuSWQpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUZXN0VG9rZW5Qcm92aWRlcih0b2tlblVybDogc3RyaW5nLCB1c2VyOiBVc2VyLCBzY29wZXM6IHN0cmluZ1tdKSB7XG4gIHJldHVybiBuZXcgS2VkQmVhcmVyUHJvdmlkZXIoXG4gICAgaXNvbW9ycGhpYyxcbiAgICBzdG9yYWdlLFxuICAgIHRva2VuVXJsICsgdXNlci5tYWlsICsgbG9jYXRpb24uc2VhcmNoLFxuICAgIGNmZy5LRURfQ0xJRU5UX0lELFxuICAgIGNmZy5LRURfQ0xJRU5UX1NFQ1JFVCxcbiAgICB0b2tlblVybCwge1xuICAgICAgZW1haWw6IHVzZXIubWFpbC50b0xvd2VyQ2FzZSgpLFxuICAgICAgcm9sZXM6IHVzZXIucm9sZXMsXG4gICAgICBzY2hvb2w6IHVzZXIuc2Nob29sLFxuICAgICAgc2Nob29sVHlwZTogdXNlci5zY2hvb2xUeXBlLFxuICAgICAgc2NvcGVzXG4gICAgfSk7XG59XG5cbi8vIGVudi5jdXJyZW50VXNlci5tYWlsIGlzIHNldCBieSBTaXRlVmlzaW9uIHNlcnZlciBpbml0aWFsbHkuXG4vLyBBIHJlc3BvbnNlIGZyb20gL2FwaS90b2tlbiBtYXkgY2hhbmdlIHRoZSBtYWlsIGF0dHJpYnV0ZSBvZiB0aGUgY3VycmVudFxuLy8gdXNlciwgc28gZW52LmN1cnJlbnRVc2VyLm1haWwgbWF5IGJlIGRpZmZlcmVudCBhZnRlciBnZXR0aW5nIGEgcmVzcG9uc2UuXG4vLyBIb3dldmVyLCB0aGUgaW5pdGlhbCB2YWx1ZSBpcyB2YWx1YWJsZSBhbHdheXMgaW4gb3JkZXIgdG8gZGlzdGluZ3Vpc2ggdGhlIGNhc2Vcbi8vIHdoZW4gb25lIG5vcm1hbCB1c2VyIGxvZ3Mgb3V0IGFuZCBhbm90aGVyIHVzZXIgbG9ncyBpbi5cbmNvbnN0IGluaXRpYWxVc2VyRW1haWwgPSBlbnYuY3VycmVudFVzZXIgJiYgZW52LmN1cnJlbnRVc2VyLm1haWw7IC8vIEluaXRpYWwgdmFsdWUgb2YgbWFpbC4gTWF5IGNoYW5nZS5cbmlmIChpbml0aWFsVXNlckVtYWlsKSB7XG4gIC8vIEtFRFxuICBpZiAoY2ZnLktFRF9UT0tFTl9QQVRIKSB7XG4gICAgLy9cbiAgICAvL1xuICAgIC8vIFByb2R1Y3Rpb24gLyBTaXRlVmlzaW9uIHByb3hpZWQgL2FwaS90b2tlbiB0byByZXF1ZXN0IHRva2VucyBmcm9tOlxuICAgIC8vXG4gICAgLy9cbiAgICBjb25zdCBtZXJnZWRUb2tlblBhdGggPSBnZXRNZXJnZWRUb2tlblBhdGgoXG4gICAgICBjZmcuS0VEX1RPS0VOX1BBVEgsXG4gICAgICBsb2NhdGlvbi5zZWFyY2gsIFtcbiAgICAgICAgXCJrZWRiYWNrZW5kXCIsXG4gICAgICAgIFwiRURTXCIsXG4gICAgICBdKTtcbiAgICBlbnYuYmVhcmVyUHJvdmlkZXIgPSBjcmVhdGVCZWFyZXJQcm92aWRlcihtZXJnZWRUb2tlblBhdGgsIGluaXRpYWxVc2VyRW1haWwpO1xuICAgIGxvYWRVc2VySW5mbyhnZXRUb2tlbklkKG1lcmdlZFRva2VuUGF0aCwgaW5pdGlhbFVzZXJFbWFpbCkpO1xuXG4gICAgY29uc3Qgc2NvcGVzID0gW1xuICAgICAgXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2NhbGVuZGFyLnJlYWRvbmx5XCIsXG4gICAgICBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZHJpdmVcIlxuICAgIF0uY29uY2F0KFxuICAgICAgZW52LmN1cnJlbnRVc2VyLnJvbGVzLmluY2x1ZGVzKFwiRU1QTE9ZRUVcIilcbiAgICAgICAgPyBlbXBsb3llZUNsYXNzcm9vbVNjb3Blc1xuICAgICAgICA6IHN0dWRlbnRDbGFzc3Jvb21TY29wZXNcbiAgICApO1xuXG4gICAgLy8gR29vZ2xlXG4gICAgY29uc3QgZ29vZ2xlTWVyZ2VkUGF0aCA9IGdldE1lcmdlZFRva2VuUGF0aChcbiAgICAgIGNmZy5LRURfVE9LRU5fUEFUSCxcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCwgc2NvcGVzKTtcbiAgICBlbnYuZ29vZ2xlVG9rZW5Qcm92aWRlciA9IGNyZWF0ZUdvb2dsZVRva2VuUHJvdmlkZXIoZ29vZ2xlTWVyZ2VkUGF0aCwgaW5pdGlhbFVzZXJFbWFpbCk7XG4gIH0gZWxzZSBpZiAoY2ZnLktFRF9UT0tFTl9VUkwgJiYgY2ZnLktFRF9DTElFTlRfSUQgJiYgY2ZnLktFRF9DTElFTlRfU0VDUkVUKSB7XG4gICAgLy9cbiAgICAvL1xuICAgIC8vIFRlc3QgLSBnbyBkaXJlY3RseSB0byBLRURBVVRIIHNlcnZlciB0byByZXRyaWV2ZSB0b2tlbnNcbiAgICAvL1xuICAgIC8vXG4gICAgZW52LmJlYXJlclByb3ZpZGVyID0gY3JlYXRlVGVzdFRva2VuUHJvdmlkZXIoY2ZnLktFRF9UT0tFTl9VUkwsIGVudi5jdXJyZW50VXNlciwgW1xuICAgICAgXCJrZWRiYWNrZW5kXCIsXG4gICAgICBcIkVEU1wiLFxuICAgIF0pO1xuXG4gICAgY29uc3Qgc2NvcGVzID0gW1xuICAgICAgXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2NhbGVuZGFyLnJlYWRvbmx5XCIsXG4gICAgICBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZHJpdmVcIlxuICAgIF0uY29uY2F0KFxuICAgICAgZW52LmN1cnJlbnRVc2VyLnJvbGVzLmluY2x1ZGVzKFwiRU1QTE9ZRUVcIilcbiAgICAgICAgPyBlbXBsb3llZUNsYXNzcm9vbVNjb3Blc1xuICAgICAgICA6IHN0dWRlbnRDbGFzc3Jvb21TY29wZXNcbiAgICApO1xuXG4gICAgZW52Lmdvb2dsZVRva2VuUHJvdmlkZXIgPSBjcmVhdGVUZXN0VG9rZW5Qcm92aWRlcihjZmcuS0VEX1RPS0VOX1VSTCArIFwiL2dvb2dsZVwiLCBlbnYuY3VycmVudFVzZXIsIHNjb3Blcyk7XG5cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXIgS0VEX1RPS0VOX1BBVEhgKTtcbiAgfVxufVxuIiwiaW1wb3J0IGVudiBmcm9tICcuLi9nbG9iYWxzL0tFRC5lbnYnO1xuaW1wb3J0IGNmZyBmcm9tICcuLi9nbG9iYWxzL0tFRC5jZmcnO1xuaW1wb3J0IHsgS2VkQmFja2VuZENsaWVudFdlYiB9IGZyb20gJ2tlZGJhY2tlbmQvY2xpZW50d2ViJztcblxuZW52LmtlZEJhY2tlbmRDbGllbnQgPSBuZXcgS2VkQmFja2VuZENsaWVudFdlYiAoXG4gIGNmZy5LRURfQVBJX1VSTCxcbiAgZW52LmJlYXJlclByb3ZpZGVyKTtcblxuIiwiaW1wb3J0IGVudiBmcm9tICcuLi9nbG9iYWxzL0tFRC5lbnYnO1xuaW1wb3J0IGNmZyBmcm9tICcuLi9nbG9iYWxzL0tFRC5jZmcnO1xuaW1wb3J0IHsgaXNvbW9ycGhpYyB9IGZyb20gJ2tlZGJhY2tlbmQvY2xpZW50d2ViJztcbmltcG9ydCB7IEVkc0NsaWVudCB9IGZyb20gJy4uL2FwaXMvZWRzY2xpZW50JztcblxuZW52LmVkc0NsaWVudCA9IG5ldyBFZHNDbGllbnQgKFxuICBpc29tb3JwaGljLFxuICBjZmcuRURTX0FQSV9VUkwsXG4gIGVudi5iZWFyZXJQcm92aWRlcixcbiAgKCk9PmVudi5jdXJyZW50VXNlci5tYWlsKTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==