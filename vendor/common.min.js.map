{"version":3,"file":"common.min.js","sources":["webpack://[name]/common.min.js"],"sourcesContent":["(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[0],Array(31).concat([function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(2),a=r.createContext({intl:null})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";function r(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object.prototype.toString.call(e);return e instanceof Date||\"object\"==typeof e&&\"[object Date]\"===t?new Date(e.getTime()):\"number\"==typeof e||\"[object Number]\"===t?new Date(e):(\"string\"!=typeof e&&\"[object String]\"!==t||\"undefined\"==typeof console||(console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"),console.warn((new Error).stack)),new Date(NaN))}n.d(t,\"a\",(function(){return r}))},function(e,t,n){\"use strict\";var r=n(4),a=n(0),o=n(12),i=function(){function e(e,t){this.subscriber=e,this.collection=t}return e.prototype.notifySubscriber=function(e,t){try{t?this.subscriber([],t,this):e!==this.lastNotifiedData&&(this.lastNotifiedData=e,this.subscriber(e,t,this))}catch(e){try{this.subscriber([],e,this)}catch(t){console.error(\"Error while notifying KedBackendSubscriber:\",t,\"originally notified error:\",e)}}},e.prototype.unsubscribe=function(){this.collection.unsubscribe(this)},e}(),s=n(19);function u(e,t){return s.a[e].relationships[t]}function c(e,t){var n=function(e){var t=function(e){return!0};return e.from?l(t,(function(t){return t.dateTime>=e.from})):e.to?l(t,(function(t){return t.dateTime<e.to})):e.ids?l(t,(function(t){return e.ids.includes(t.id)})):e.name?l(t,(function(t){return t.name===e.name})):e.tags?l(t,(function(t){return t.tags&&[].concat(e.tags||[]).some((function(e){return t.tags.includes(e)}))})):t}(e);return t.filter(n)}function l(e,t){return function(n){return e(n)&&t(n)}}function d(e){return\"delete\"!==e.op}function p(e){return\"clear-branch\"===e.op||\"merge\"===e.op}var f=function(){function e(){}return e.getCacheBust=function(t,n,r,a){return e.getInvolvedItems(t,n,a).map((function(e){return localStorage.getItem(\"cache-bust-\"+r+\"-\"+e)})).filter((function(e){return!!e})).join(\"/\")||\"static\"},e.invalidateCache=function(t,n){for(var r=0,a=e.getCacheInvalidations(t);r<a.length;r++){var o=a[r];localStorage.setItem(\"cache-bust-\"+n+\"-\"+o,\"\"+Date.now())}},e.getInvolvedItems=function(e,t,n){var r=t.hasEdgesFrom,a=n.map((function(t){return s.a[e].relationships[t]})).filter((function(e){return!!e}));return r&&a.push(\"hef\"+e),[e,\"master\",t.branchId].filter((function(e){return!!e})).concat(a).sort()},e.getCacheInvalidations=function(e){var t={};return e.forEach((function(e){switch(e.op){case\"add\":case\"put\":case\"delete\":case\"update\":t[e.table]=!0;break;case\"link\":case\"unlink\":case\"undo-link\":t[e.sourceTable]=!0,t[\"hef-\"+u(e.sourceTable,e.label)]=!0;break;case\"clear-branch\":t[e.branchId]=!0;break;case\"merge\":t[e.branchId]=!0,t[e.targetBranchId||\"master\"]=!0}})),Object.keys(t)},e}(),h=n(7);function m(e,t){for(var n=Object.keys(t),r=e,o=0,i=n;o<i.length;o++){var s=i[o];r===e&&(r=a.a({},e));var u=t[s];if(u&&\"object\"==typeof u){var c=Object.keys(u).filter((function(e){return e.startsWith(\"$\")}));if(c.length>0){for(var l=function(e){var t=u[e];switch(e){case\"$unset\":r.$wasUnset=!0;break;case\"$add\":var n=t;if(!Array.isArray(n))throw new Error(\"$add instruction must contain array\");var a=r[s];a=Array.isArray(a)?a.slice():[],r[s]=a;for(var o=0,i=n;o<i.length;o++){var c=i[o];a.includes(c)||a.push(c)}break;case\"$remove\":var l=t;if(!Array.isArray(l))throw new Error(\"$remove instruction must contain array\");a=r[s];Array.isArray(a)||(a=[]),r[s]=a.filter((function(e){return!l.includes(e)}))}},d=0,p=c;d<p.length;d++){l(p[d])}continue}}r[s]=u}return r}function g(e,t,n){for(var r=(void 0===n?{removeUnsetProps:!1}:n).removeUnsetProps,o=Object.keys(t),i=a.a({},e),s=0,u=o;s<u.length;s++){var c=u[s],l=t[c];if(l&&\"object\"==typeof l){var d=Object.keys(l).filter((function(e){return e.startsWith(\"$\")}));if(d.length>0){for(var p=function(e){var t=l[e];switch(e){case\"$unset\":r?delete i[c]:i[c]={$unset:0};break;case\"$add\":var n=t;if(!Array.isArray(n))throw new Error(\"$add instruction must contain array\");s=(s=i[c])?a.a({},s):{},i[c]=s;var o=s.$remove;Array.isArray(o)&&(s.$remove=o.filter((function(e){return!n.includes(e)})),0===s.$remove.length&&delete s.$remove),d=(d=s.$add)?d.concat(n):n.slice(),s.$add=d;break;case\"$remove\":var s,u=t;if(!Array.isArray(u))throw new Error(\"$remove instruction must contain array\");s=(s=i[c])?a.a({},s):{},i[c]=s;var d=s.$remove;Array.isArray(d)&&(s.$add=d.filter((function(e){return!u.includes(e)})),0===s.$add.length&&delete s.$add),o=(o=s.$remove)?o.concat(u):u.slice(),s.$remove=o}},f=0,h=d;f<h.length;f++){p(h[f])}continue}}i[c]=l}return i}var v=function(){function e(e,t,n,r,a){this.table=e,this.query=t,this.user=n,this.repo=r,this.mutationQueue=a,this.subscriptions=[],this.data=[],this.gotInitialResponse=!1,this.invalid=!1,this.loadedVersion=0,this._loadPromise=null,this.includes=t.include?\"string\"==typeof t.include?[t.include]:t.include:[]}return e.queryKey=function(e,t){t.mutationsOnEmpty;var n=a.g(t,[\"mutationsOnEmpty\"]);return e+JSON.stringify(n)},Object.defineProperty(e.prototype,\"queryKey\",{get:function(){return e.queryKey(this.table,this.query)},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){return a.b(this,void 0,void 0,(function(){var t;return a.d(this,(function(n){switch(n.label){case 0:return this.subscriptions.push(e),!this.gotInitialResponse||this.invalid?[3,1]:(t=this.getDataWithMutationsApplied(this.mutationQueue.get(),!0,this.data),e.notifySubscriber(t,this.error),[3,4]);case 1:return(t=this.queryLocally())?(this.data=t,this.error=null,e.notifySubscriber(t,this.error),[3,4]):[3,2];case 2:return[4,this.load()];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype.load=function(e){return a.b(this,void 0,void 0,(function(){var t,n=this;return a.d(this,(function(r){switch(r.label){case 0:return this.gotInitialResponse&&delete this.query.mutationsOnEmpty,e||!this._loadPromise?[3,2]:[4,this._loadPromise];case 1:return[2,r.sent()];case 2:return e=e||this.repo.writer.persistedVersion.value,[4,t=this._loadPromise=this._load(e).then((function(r){n._loadPromise===t&&(n.data=r,n.loadedVersion=Math.max(n.loadedVersion,e))})).catch((function(e){n._loadPromise===t&&(n.error=e)})).then((function(){if(n._loadPromise!==t)return n._loadPromise;n._loadPromise=null,n.gotInitialResponse=!0,n.notifySubscribers(n.mutationQueue.get())}))];case 3:return r.sent(),[2]}}))}))},e.prototype._load=function(e){return a.b(this,void 0,void 0,(function(){return a.d(this,(function(t){switch(t.label){case 0:return this.mutationQueue.affectsQuery(this.table,this.query,this.includes)?[4,this.repo.writer.waitForVersionToPersist(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[4,this.queryServer()];case 3:return[2,t.sent()]}}))}))},e.prototype.unsubscribe=function(e){this.subscriptions=this.subscriptions.filter((function(t){return t!==e}))},e.prototype.commitMutations=function(e,t){return a.b(this,void 0,void 0,(function(){var n,r,o,i;return a.d(this,(function(a){switch(a.label){case 0:if(!this.data)return[3,9];n=0,r=e,a.label=1;case 1:return n<r.length?\"clear-branch\"!==(o=r[n]).op||o.branchId!==this.query.branchId?[3,3]:[4,this.refreshOrInvalidate(t)]:[3,8];case 2:return a.sent(),[2];case 3:return\"merge\"!==o.op||o.targetBranchId&&o.branchId!==this.query.branchId&&o.targetBranchId!==this.query.branchId?[3,5]:[4,this.refreshOrInvalidate(t)];case 4:return a.sent(),[2];case 5:return\"update\"===o.op&&(o.deltaDoc.tags&&this.query.tags||o.deltaDoc.name&&this.query.name)?[4,this.refreshOrInvalidate(t)]:[3,7];case 6:return a.sent(),[2];case 7:return n++,[3,1];case 8:i=this.getDataWithMutationsApplied(e,!1,this.data),this.data=i,a.label=9;case 9:return[2]}}))}))},e.prototype.refreshOrInvalidate=function(e){return a.b(this,void 0,void 0,(function(){return a.d(this,(function(t){switch(t.label){case 0:return 0!==this.subscriptions.length?[3,1]:(this.invalid=!0,[3,3]);case 1:return[4,this.load(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.notifySubscribers=function(e){var t=this;if(this.data&&this.gotInitialResponse){var n=this.getDataWithMutationsApplied(e,!0,this.data);this.subscriptions.forEach((function(e){e.notifySubscriber(n,t.error)}))}},e.prototype.queryLocally=function(){return this.repo.querySet.queryLocally(this.table,this.query,this.includes)},e.prototype.queryServer=function(){return a.b(this,void 0,void 0,(function(){return a.d(this,(function(e){switch(e.label){case 0:return[4,this.repo.getClient().list(this.table,a.a({},this.query))];case 1:return[2,e.sent()]}}))}))},e.prototype.getDataWithMutationsApplied=function(e,t,n){var r=this;return e.forEach((function(e){n=r.applyMutationsOnData(n,e,t)})),n},e.prototype.applyMutationsOnData=function(e,t,n){if(d(t)&&t.branchId!=this.query.branchId)return e;var r=this.table,o=this.includes,i=this.query,s=i.hasEdgesFrom?[].concat(i.hasEdgesFrom||[]):[],c=i.tags?[].concat(i.tags||[]):[];switch(t.op){case\"update\":return Object(h.g)(e,(function(e){if(e.id===t.id){var r=m(e,t.deltaDoc);return n&&(r.$meta=\"updating\"),r}return o.forEach((function(r){var o,i=e[r];if(i){var s=Object(h.g)(i,(function(e){if(e.id!==t.id)return e;var r=m(e,t.deltaDoc);return n&&(r.$meta=\"updating\"),r}));s!==i&&(e=a.a({},e,((o={})[r]=s,o)))}})),e}));case\"add\":if(r===t.table&&i.tags){var l=[].concat(i.tags);if(t.doc.tags&&t.doc.tags.some((function(e){return l.includes(e)})))return e.concat([t.doc])}return e;case\"add-related\":if(r===t.table&&-1!==o.indexOf(t.graphProp))return Object(h.g)(e,(function(e){var r;if(e.id!==t.id)return e;var o=a.a({},t.relatedDoc);return n&&(o.$meta=\"adding\"),a.a({},e,((r={})[t.graphProp]=e[t.graphProp].concat([o]),r))}));if(i.hasEdgesFrom&&s.includes(t.id)&&r===u(t.table,t.graphProp)){if(!i.tags)return e.concat(this.setGraphProps(t.relatedDoc));if(t.relatedDoc.tags&&c.some((function(e){return t.relatedDoc.tags.includes(e)})))return e.concat(this.setGraphProps(t.relatedDoc))}return i.ids&&i.ids.some((function(e){return e===t.relatedDoc.id}))?e.concat(this.setGraphProps(t.relatedDoc)):e;case\"remove-related\":return r===t.table&&-1!==o.indexOf(t.graphProp)?Object(h.g)(e,(function(e){var r,o=e[t.graphProp];return o?e.id!==t.id?e:a.a({},e,((r={})[t.graphProp]=n?o.map((function(e){return e.id!==t.relatedDoc.id?e:a.a({},e,{$meta:\"deleting\"})})):o.filter((function(e){return e.id!==t.relatedDoc.id})),r)):e})):i.hasEdgesFrom&&s.includes(t.id)?n?e.map((function(e){return e.id===t.relatedDoc.id?a.a({},e,{$meta:\"deleting\"}):e})):e.filter((function(e){return e.id!==t.relatedDoc.id})):e;case\"delete\":if(r===t.table)return e.filter((function(e){return e.id!==t.id}));if(i.include){var p=o.map((function(e){return{label:e,table:u(r,e)}})).filter((function(e){return e.table===t.table}));if(p.length>0)return Object(h.g)(e,(function(e){return p.forEach((function(r){var o,i=r.label,s=e[i];s&&(e=a.a({},e,((o={})[i]=n?s.map((function(e){return e.id===t.id?a.a({},e,{$meta:\"deleting\"}):e})):s.filter((function(e){return e.id!==t.id})),o)))})),e}))}return e;default:return e}},e.prototype.setGraphProps=function(e){var t=a.a({},e);return this.includes.forEach((function(e){return t[e]=t[e]||[]})),t},e}(),b=function(e){function t(t,n,r){var a=e.call(this,(function(e){var t=new i(e,a);return a.repo.querySet.subscribe(t),t}))||this;return a.repo=t,a.table=n,a.query=r,a}return a.c(t,e),Object.defineProperty(t.prototype,\"queryKey\",{get:function(){return v.queryKey(this.table,this.query)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"includes\",{get:function(){return this._includes||(this._includes=[].concat(this.query.include||[]))},enumerable:!0,configurable:!0}),t.prototype.applyQuery=function(e){return new t(this.repo,this.table,a.a({},this.query,e))},t.prototype.addToQueryArrayProp=function(e,t){var n;return this.applyQuery(((n={})[e]=(this.query[e]||[]).concat(t),n))},t.prototype.addFlags=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.addToQueryArrayProp(\"flags\",e)},t.prototype.debug=function(){return this.applyQuery({debug:!0})},t.prototype.idsOnly=function(){return this.addFlags(\"idsOnly\")},t.prototype.idsAndNamesOnly=function(){return this.addFlags(\"idsAndNamesOnly\")},t.prototype.includeIdsOnly=function(){return this.addFlags(\"includeIdsOnly\")},t.prototype.includeIdsAndNamesOnly=function(){return this.addFlags(\"includeIdsAndNamesOnly\")},t.prototype.between=function(e,t){return this.applyQuery({from:e,to:t})},t.prototype.role=function(e){return this.applyQuery({role:e})},t.prototype.hasEdgesFrom=function(e){if(e.some((function(e){return!e})))throw new Error(\"Invalid id list given to Collection.hasEdgesFrom(\"+JSON.stringify(e)+\")\");return this.addToQueryArrayProp(\"hasEdgesFrom\",e)},t.prototype.hasEdgesTo=function(e){if(e.some((function(e){return!e})))throw new Error(\"Invalid id list given to Collection.hasEdgesTo(\"+JSON.stringify(e)+\")\");return this.addToQueryArrayProp(\"hasEdgesTo\",e)},t.prototype.id=function(e){var t=this;return this.applyQuery({ids:[e]}).single({onZero:function(){throw new Error(\"Could not find entity in \"+t.table+\" with id \"+e)},onMany:function(){throw new Error(\"Multiple entries in \"+t.table+\" with id \"+e)}})},t.prototype.ids=function(e){if(e.some((function(e){return!e})))throw new Error(\"Invalid id list given to Collection.ids(\"+JSON.stringify(e)+\")\");return this.applyQuery({ids:e})},t.prototype.name=function(e){return this.applyQuery({name:e})},t.prototype.tags=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.applyQuery({tags:e})},t.prototype.branchId=function(e){return this.applyQuery({branchId:e})},t.prototype.include=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.addToQueryArrayProp(\"include\",e)},t.prototype.cacheOptimized=function(e){return void 0===e||!0===e?this.applyQuery({cacheBust:f.getCacheBust(this.table,this.query,this.repo.getUser(),this.includes)}):this.applyQuery({cacheBust:void 0})},t.prototype.mutationsOnEmpty=function(e){var t=new o.a;return e(t),this.applyQuery({mutationsOnEmpty:t.mutationRequests})},t.prototype.single=function(e){var t=this,n=e||{},r=n.onZero,a=n.onMany;return this.toValue().map((function(e){if(0===e.length){if(!r)throw new Error(\"Single item of \"+t.table+\" expected to be returned by query \"+JSON.stringify(t.query)+\" but none was found.\");r()}return e.length>1&&(a?a():console.log(\"Single item of \"+t.table+\" expected to be returned by query \"+JSON.stringify(t.query)+\" but \"+e.length+\" was found.\")),e[0]}))},t.prototype.update=function(e,t,n){void 0===n&&(n=1e3),this.repo.writer.mutate([{op:\"update\",table:this.table,branchId:this.query.branchId,id:e.id,doc:e,deltaDoc:t,targetName:e.name}],n)},t.prototype.addRelated=function(e,t,n){var r=e.id,a=e.tags,o=e.name;this.repo.writer.mutate([{op:\"add-related\",table:this.table,branchId:this.query.branchId,sourceDoc:{tags:a||[],name:o||\"\"},id:r,graphProp:t,relatedDoc:n}],0)},t.prototype.add=function(e){this.repo.writer.mutate([{op:\"add\",id:e.id,table:this.table,doc:e}],0)},t.prototype.removeRelated=function(e,t,n){var r=e.id,a=e.tags,o=e.name;this.repo.writer.mutate([{op:\"remove-related\",table:this.table,branchId:this.query.branchId,id:r,sourceDoc:{tags:a||[],name:o||\"\"},graphProp:t,relatedDoc:n}],0)},t.prototype.undoLink=function(e,t,n){if(!this.query.branchId)throw new Error(\"undo links can only be performed on branches\");this.repo.writer.mutate([{op:\"undo-link\",table:this.table,branchId:this.query.branchId,id:e,graphProp:t,relatedId:n}],0)},t.prototype.delete=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.repo.writer.mutate(t.map((function(t){return{op:\"delete\",table:e.table,id:t}})),0)},t.prototype.unsubscribe=function(e){this.repo.querySet.unsubscribe(e)},t}(n(25).a),y=function(){function e(e){this.mutationQueue=e,this.queries=[]}return e.prototype.commitMutations=function(e,t){return a.b(this,void 0,void 0,(function(){return a.d(this,(function(n){switch(n.label){case 0:return[4,Promise.all(this.queries.map((function(n){return n.commitMutations(e,t)})))];case 1:return n.sent(),this.cleanupInvalidQueries(),[2]}}))}))},e.prototype.cleanupInvalidQueries=function(){this.queries=this.queries.filter((function(e){return!e.invalid||(e.timeoutHandle&&(clearTimeout(e.timeoutHandle),e.timeoutHandle=null),!1)}))},e.prototype.notifySubscribers=function(){var e=this.mutationQueue.get();this.queries.forEach((function(t){t.notifySubscribers(e)}))},e.prototype.findQuery=function(e,t){return this.queries.find((function(n){return n.queryKey===v.queryKey(e,t)}))},e.prototype.queryLocally=function(e,t,n){var r=this.mutationQueue.get();if(t.ids&&1===t.ids.length&&r.some((function(e){return\"add-related\"===e.op&&e.relatedDoc.id===t.ids[0]})))return[];if(t.hasEdgesFrom||t.hasEdgesTo)return null;if(!t.ids)return null;for(var a=function(r){if(!r.gotInitialResponse)return\"continue\";if(r.query.branchId!==t.branchId)return\"continue\";if(r.query.flags)return\"continue\";var a=r.includes;if(a.length>0&&(!t.include||0===t.include.length)){var o=a.find((function(t){return s.a[r.table].relationships[t]===e}));if(o){for(var i={},u=0,l=r.data;u<l.length;u++){var d=l[u];c(t,d[o]).forEach((function(e){return i[e.id]=e}))}var p=Object.keys(i).map((function(e){return i[e]}));return t.ids.every((function(e){return p.some((function(t){return t.id===e}))}))?{value:p}:\"continue\"}}if(!n.every((function(e){return a.includes(e)})))return\"continue\";if(r.table===e){var f=c(t,r.data);return t.ids.every((function(e){return f.some((function(t){return t.id===e}))}))?{value:f}:\"continue\"}},o=0,i=this.queries;o<i.length;o++){var u=a(i[o]);if(\"object\"==typeof u)return u.value}},e.prototype.subscribe=function(e){var t=e.collection,n=t.table,r=t.query,a=t.repo,o=this.findQuery(n,r);o?o.timeoutHandle&&(clearTimeout(o.timeoutHandle),o.timeoutHandle=null):(o=new v(n,r,a.getUser(),a,this.mutationQueue),this.queries.push(o)),o.subscribe(e)},e.prototype.unsubscribe=function(e){var t=this,n=e.collection,r=n.table,a=n.query,o=(n.repo,this.findQuery(r,a));o&&(o.unsubscribe(e),0===o.subscriptions.length&&(o.timeoutHandle=setTimeout((function(){0===o.subscriptions.length&&(t.queries=t.queries.filter((function(e){return e!==o})))}),this.queries.length>50?500:3e5)))},e}(),E=function(){function e(){this.queue=[],this.savingQueue=[]}return e.prototype.add=function(t){this.queue=e.merge(this.queue,t)},e.prototype.moveToSavingQueue=function(){this.savingQueue=e.merge(this.savingQueue,this.queue),this.queue=[]},e.prototype.clearSavingQueue=function(){this.savingQueue=[]},e.prototype.get=function(){return this.savingQueue.concat(this.queue)},e.prototype.affectsQuery=function(e,t,n){var r=this.get();return!!r.some((function(e){return\"merge\"===e.op||\"clear-branch\"===e.op}))||(t.ids?r.some((function(e){return p(e)||(!d(e)||e.branchId===t.branchId)&&t.ids.includes(e.id)})):r.some((function(r){return\"add\"===r.op?r.table===e:\"delete\"===r.op?r.table===e||n.some((function(t){return u(e,t)===r.table})):!!p(r)||r.branchId==t.branchId&&(r.table===e||\"update\"!==r.op&&[e].concat(n.map((function(t){return u(e,t)}))).some((function(e){return u(r.table,r.graphProp)===e})))})))},e.merge=function(e,t){for(var n=e.slice(),r=t.slice(),o=e.length,i=function(t){var o=e[t];if(\"update\"===o.op){var i=r.findIndex((function(e){return\"update\"===e.op&&e.branchId===o.branchId&&e.id===o.id}));i>=0&&(n[t]=a.a({},o,{deltaDoc:g(o.deltaDoc,r[i].deltaDoc)}),r.splice(i,1))}},s=0;s<o;++s)i(s);return n.concat(r)},e}(),w=n(138);function k(e,t,n,r,o){for(var i=e.branchId,s=e.tag,u=function(e){switch(e.op){case\"add-related\":e.branchId===i&&(!s||e.sourceDoc.tags&&(e.sourceDoc.tags.includes(s)||e.relatedDoc.tags.includes(s)))&&(t=[{type:\"add\",sourceId:e.id,sourceName:e.sourceDoc.name,sourceTags:e.sourceDoc.tags,targetTags:e.relatedDoc.tags,targetId:e.relatedDoc.id,label:e.graphProp,sourceTable:e.table,$meta:r?\"adding\":\"persisted\",dateTime:Date.now(),targetName:e.relatedDoc.name,contributor:o}].concat(t));break;case\"clear-branch\":e.branchId===i&&(t=[]);break;case\"delete\":break;case\"merge\":if(e.branchId!==i||r){if(e.targetBranchId===i&&!r)return{value:null}}else t=e.tagToMerge?t.filter((function(t){return!(\"sourceTags\"in t&&t.sourceTags.includes(e.tagToMerge)||\"targetTags\"in t&&t.targetTags.includes(e.tagToMerge))})):[];break;case\"remove-related\":e.branchId===i&&(!s||e.sourceDoc.tags&&(e.sourceDoc.tags.includes(s)||e.relatedDoc.tags.includes(s)))&&(t=[{type:\"remove\",sourceId:e.id,targetId:e.relatedDoc.id,targetName:e.relatedDoc.name,sourceName:e.sourceDoc.name,sourceTags:e.sourceDoc.tags,targetTags:e.relatedDoc.tags,label:e.graphProp,sourceTable:e.table,contributor:o,dateTime:Date.now(),$meta:r?\"adding\":\"persisted\"}].concat(t));break;case\"undo-link\":if(e.branchId!==i)return\"continue\";if((u=t.findIndex((function(t){return(\"add\"===t.type||\"remove\"===t.type||\"undo-link\"===t.type)&&t.sourceId===e.id&&t.targetId===e.relatedId})))<0)return\"continue\";if(r){var n=t[u];t=t.slice(0,u).concat([a.a({},n,{$meta:r?\"removing\":\"persisted\"})],t.slice(u+1))}else t=t.slice(0,u).concat(t.slice(u+1));break;case\"update\":if(e.branchId!==i)return\"continue\";if(s&&(!e.doc.tags||!e.doc.tags.includes(s)))return\"continue\";var u;if((u=t.findIndex((function(t){return\"modify\"===t.type&&t.targetId===e.id})))<0)t=[{type:\"modify\",table:e.table,targetId:e.id,targetName:e.targetName,targetTags:e.doc.tags,data:e.deltaDoc,dateTime:Date.now(),contributors:[o],$meta:r?\"adding\":\"persisted\"}].concat(t);else{var c=t[u],l=c.contributors.slice();l.includes(o)||l.push(o);var d=g(c.data,e.deltaDoc,{removeUnsetProps:!0});t=r||0!==Object.keys(d).length?[{type:\"modify\",table:e.table,targetId:e.id,targetName:e.targetName,targetTags:e.doc.tags,data:d,dateTime:Date.now(),contributors:l,$meta:r?\"updating\":\"persisted\"}].concat(t.slice(0,u),t.slice(u+1)):t.slice(0,u).concat(t.slice(u+1))}}},c=0,l=n;c<l.length;c++){var d=u(l[c]);if(\"object\"==typeof d)return d.value}return t}var O=function(){function e(e,t,n){this.getClient=e,this.getUser=t,this.getUserDisplayName=n,this.lookup={}}return e.prototype.applyMutations=function(e,t){for(var n=(void 0===t?{optimistic:!1}:t).optimistic,r=0,a=Object.keys(this.lookup);r<a.length;r++){var o=a[r],i=this.lookup[o];if(i.value){var s=k(i.query,i.value,e,n,this.getUserDisplayName());null===s&&(n||i.fetch()),s!==i.value&&(i.optimisticValue=s,n||(i.value=s),i.notify(s))}}},e.prototype.subscribe=function(e,t){var n=this,r=this.lookup[e.branchId+e.tag];r||(r=new C(this.getClient(),e),this.lookup[e.branchId+e.tag]=r),r.cleanupTimer&&(clearTimeout(r.cleanupTimer),r.cleanupTimer=null);var a={unsubscribe:function(){r.subscribers=r.subscribers.filter((function(e){return e.observer!==t})),0===r.subscribers.length&&(r.cleanupTimer=setTimeout((function(){0===r.subscribers.length&&delete n.lookup[e.branchId+e.tag]}),100))}};return r.subscribers.push({observer:t,subscription:a}),r.value?t(r.optimisticValue||r.value,null,a):r.isFetching||(r.error?t(null,r.error,a):r.fetch()),a},e}(),C=function(){function e(e,t){this.fetchOperationId=0,this.client=e,this.query=t,this.value=null,this.error=null,this.optimisticValue=null,this.subscribers=[],this.isFetching=!1,this.cleanupTimer=null}return e.prototype.fetch=function(){var e=this,t=++this.fetchOperationId;this.isFetching=!0,this.fetchFromServer().then((function(n){t===e.fetchOperationId&&(e.isFetching=!1,n.sort((function(e,t){return t.dateTime-e.dateTime})),e.value=n,e.optimisticValue=n,e.notify(n))})).catch((function(n){t===e.fetchOperationId&&(e.isFetching=!1,e.error=n,e.fail(n))}))},e.prototype.fetchFromServer=function(){return a.b(this,void 0,void 0,(function(){var e,t,n;return a.d(this,(function(r){switch(r.label){case 0:if(!this.query.branchId)throw new Error(\"Deltas only available on branches\");return[4,this.client.http.get(\"deltas\",this.query)];case 1:return(e=r.sent()).status>=300||e.status<200?(t=o.c.bind,n=[void 0,e.status],[4,e.text()]):[3,3];case 2:throw new(t.apply(o.c,n.concat([r.sent()])));case 3:return[4,e.json()];case 4:return[2,r.sent()]}}))}))},e.prototype.notify=function(e){for(var t=0,n=this.subscribers;t<n.length;t++){var r=n[t];(0,r.observer)(e,null,r.subscription)}},e.prototype.fail=function(e){var t=this.subscribers.slice();this.subscribers=[];for(var n=0,r=t;n<r.length;n++){var a=r[n];(0,a.observer)(null,e,a.subscription)}},e}(),D=function(){function e(e,t,n,r,a){this.mutationQueue=e,this.querySet=t,this.getClient=n,this.getUser=r,this.getUserDisplayName=a,this._timeoutId=null,this._isSavingPromise=null,this.currentVersion=0,this.persistedVersion=new w.b(0),this.errorSubscribers=[],this.stateSubscribers=[],this.deltaCache=new O(n,r,a)}return Object.defineProperty(e.prototype,\"isSaving\",{get:function(){return!!this._isSavingPromise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isEdited\",{get:function(){return this.mutationQueue.get().length>0},enumerable:!0,configurable:!0}),e.prototype.onError=function(e){this.errorSubscribers.push(e)},e.prototype.onStateChange=function(e){this.stateSubscribers.push(e)},e.prototype.off=function(e){this.errorSubscribers=this.errorSubscribers.filter((function(t){return t!==e})),this.stateSubscribers=this.stateSubscribers.filter((function(t){return t!==e}))},e.prototype.dispatchError=function(e,t){var n=this;this.errorSubscribers.forEach((function(r){try{r(e,t,n)}catch(e){}}))},e.prototype.dispatchStateChange=function(){var e=this;this.stateSubscribers.forEach((function(t){try{t(e)}catch(e){}}))},e.prototype.mutate=function(e,t){this.mutationQueue.add(e),++this.currentVersion,this.dispatchStateChange(),this.querySet.notifySubscribers(),this.deltaCache.applyMutations(this.mutationQueue.get(),{optimistic:!0}),this._isSavingPromise||(this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this.save.bind(this),t))},e.prototype.retrySave=function(){return this.save()},e.prototype.waitForVersionToPersist=function(e){return a.b(this,void 0,void 0,(function(){return a.d(this,(function(t){switch(t.label){case 0:return[4,this.persistedVersion.load()];case 1:return t.sent()<e?(this.save(),[4,this.persistedVersion.filter((function(t){return t>=e})).load()]):[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.save=function(){var e=this;return this._timeoutId&&clearTimeout(this._timeoutId),this._isSavingPromise?this._isSavingPromise:this.isEdited?(this._timeoutId=null,this._isSavingPromise=this._save(),this._isSavingPromise.catch((function(){})).then((function(){return e._isSavingPromise=null})),this._isSavingPromise):Promise.resolve()},e.prototype._save=function(){return a.b(this,void 0,void 0,(function(){var e,t,n,r,o,i;return a.d(this,(function(a){switch(a.label){case 0:this.dispatchStateChange(),e=this.mutationQueue.get(),t=this.currentVersion,this.mutationQueue.moveToSavingQueue(),n=this.mapMutations(e),a.label=1;case 1:return a.trys.push([1,6,11,12]),[4,this.getClient().batch(n)];case 2:return r=a.sent(),o=Object.keys(r.newEtags).map((function(e){return{op:\"update\",table:null,id:e,doc:{},deltaDoc:{$etag:r.newEtags[e]},targetName:null}})),f.invalidateCache(n,this.getUser()),this.persistedVersion.dispatch(t),this.deltaCache.applyMutations(e,{optimistic:!1}),[4,this.querySet.commitMutations(E.merge(e,o),t)];case 3:return a.sent(),this.mutationQueue.clearSavingQueue(),this.dispatchStateChange(),this.querySet.notifySubscribers(),this.mutationQueue.get().length>0?[4,this._save()]:[3,5];case 4:a.sent(),a.label=5;case 5:return[3,12];case 6:return i=a.sent(),this.persistedVersion.dispatchError(i),i&&i.name&&i.name.startsWith(\"http4\")?(this.dispatchError(i,!1),this.mutationQueue.clearSavingQueue(),this.dispatchStateChange(),this.querySet.notifySubscribers(),this.mutationQueue.get().length>0?[4,this._save()]:[3,8]):[3,9];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:this.dispatchError(i,!0),a.label=10;case 10:return[3,12];case 11:return this.dispatchStateChange(),[7];case 12:return[2]}}))}))},e.prototype.mapMutations=function(e){var t=new o.a;return e.forEach((function(e){switch(e.op){case\"update\":t.update(e.table,e.id,e.deltaDoc,e.branchId);break;case\"add\":t.add(e.table,e.doc);break;case\"add-related\":e.relatedDoc.$etag||t.add(s.a[e.table].relationships[e.graphProp],e.relatedDoc,e.branchId),t.link2(e.table,e.id,e.graphProp,e.relatedDoc.id,e.branchId);break;case\"remove-related\":t.unlink2(e.table,e.id,e.graphProp,e.relatedDoc.id,e.branchId);break;case\"undo-link\":t.undoLink(e.table,e.id,e.graphProp,e.relatedId,e.branchId);break;case\"delete\":t.delete(e.table,e.id);break;case\"clear-branch\":t.clearBranch(e.branchId);break;case\"merge\":t.merge(e.branchId,e.targetBranchId,e.tagToMerge)}})),t.mutationRequests},e}(),S=function(e){function t(t,n){var r=e.call(this,(function(e){return r.deltaCache.subscribe(n,e)}))||this;return r.deltaCache=t,r.query=n,r}return a.c(t,e),t.prototype.tag=function(e){return new t(this.deltaCache,a.a({},this.query,{tag:e}))},t}(w.a),j=function(){function e(e,t,n,r,a,o,i,u){var c=this;this.getClient=e,this.getUser=t,this.getUserDisplayName=n,this.defaultQueryOptions=r,this.mutationQueue=a,this.querySet=o,this.writer=i,this.cacheOptimized=u,r||(this.defaultQueryOptions={}),a||(this.mutationQueue=new E),o||(this.querySet=new y(this.mutationQueue)),i||(this.writer=new D(this.mutationQueue,this.querySet,e,t,n)),Object.keys(s.a).forEach((function(e){var t=new b(c,e,r||{});u&&(t=t.cacheOptimized()),c[e]=t})),this.deltas=new S(this.writer.deltaCache,{branchId:this.defaultQueryOptions.branchId})}return e.prototype.table=function(e){var t=new b(this,e,this.defaultQueryOptions);return this.cacheOptimized&&(t=t.cacheOptimized()),t},e.prototype._clone=function(t,n){return new e(this.getClient,this.getUser,this.getUserDisplayName,a.a({},this.defaultQueryOptions,t),this.mutationQueue,this.querySet,this.writer,void 0===n?this.cacheOptimized:n)},e.prototype.branch=function(e){return this._clone({branchId:e})},e.prototype.role=function(e){return this._clone({role:e})},e.prototype.optimizeCache=function(){return this._clone({},!0)},e.prototype.clearBranch=function(){if(!this.defaultQueryOptions.branchId)throw new Error(\"Cannot clear master branch\");this.writer.mutate([{op:\"clear-branch\",branchId:this.defaultQueryOptions.branchId}],0)},e.prototype.merge=function(e){var t=e.targetBranchId,n=void 0===t?null:t,r=e.tagToMerge,a=void 0===r?null:r;if(!this.defaultQueryOptions.branchId)throw new Error(\"Cannot merge from master branch\");this.writer.mutate([{op:\"merge\",branchId:this.defaultQueryOptions.branchId,targetBranchId:n,tagToMerge:a}],0)},e.prototype.saveNow=function(){return a.b(this,void 0,void 0,(function(){return a.d(this,(function(e){switch(e.label){case 0:return[4,this.writer.waitForVersionToPersist(this.writer.currentVersion)];case 1:return e.sent(),[2]}}))}))},e}();var T=n(3),x=n(1);n.d(t,\"c\",(function(){return N})),n.d(t,\"d\",(function(){return M})),n.d(t,\"b\",(function(){return I})),n.d(t,\"a\",(function(){return P})),r.a.db||(r.a.db=new j((function(){return r.a.kedBackendClient}),(function(){return r.a.currentUser?r.a.currentUser.mail:\"\"}),(function(){return r.a.currentUser?r.a.currentUser.displayName||r.a.currentUser.mail:\"\"})));var N=r.a.db,M=Object(T.i)(x.b.KED_REALM),I={standardSchool:N.schools.name(\"standard\").cacheOptimized().single(),get mySchool(){return N.schools.name(r.a.currentUser.school).cacheOptimized().single()}},P={getBranchIdSuspense:function(e,t){return N.branches.hasEdgesFrom([e.officialBranchId]).name(\"draft\").tags(t).idsOnly().map((function(e){return e.id})).toValue().map((function(e){return e.length>0?e[0]:void 0})).read()},getBranchId:function(e,t){return e.switchMap((function(e){return N.branches.hasEdgesFrom([e.officialBranchId]).name(\"draft\").tags(t).idsOnly().map((function(e){return e.id})).toValue().map((function(e){return e.length>0?e[0]:void 0}))}))},getOrCreateBranchId:function(e,t){return N.courseInstances.idsOnly().id(t).switchMap((function(){return e.switchMap((function(e){return N.branches.hasEdgesFrom([e.officialBranchId]).name(\"draft\").tags(t).idsOnly().mutationsOnEmpty((function(n){var r=Object(T.h)();n.add(\"branches\",{id:r,acl:[\"role:USER:R\",\"schoolRole:\"+e.name+\"/EMPLOYEE:S\"],name:\"draft\",schoolId:e.id,treeParentId:e.officialBranchId,tags:[t]}),n.link2(\"branches\",e.officialBranchId,\"approvedChildren\",r)})).single().map((function(e){return e.id}))}))}))},getAllDescendantIds:function(e){return N.courseBlocks.tags(e).idsOnly().concat(N.courseContents.tags(e).idsOnly()).concat(N.courseTabs.tags(e).idsOnly()).concat(N.tasks.tags(e).idsOnly()).map((function(e){return e.id}))}}},function(e,t,n){\"use strict\";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,\"a\",(function(){return r}))},,function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createProgress=function(){var e=t.props,n=e.numberOfTasks,r=e.completedNumberOfTasks,o=e.maximumTasksDisplayed,i=e.backgroundColor,s=e.progressColor,u=[];if(n>o)return a.createElement(\"div\",{className:\"progress-overview\"},\" \",r,\" / \",n,\" \");for(var c=1;c<=n;c++)u.push(a.createElement(\"svg\",{key:c},a.createElement(\"circle\",{className:\"circle-chart-background\",fill:c>r?i:s,cx:\"8\",cy:\"8\",r:\"8\"})));return u},t}return Object(r.c)(t,e),t.prototype.render=function(){return a.createElement(\"div\",{className:\"goals-progress\"},this.createProgress())},t.defaultProps={numberofTasks:0,completedNumberOfTasks:0,maximumTasksDisplayed:10,backgroundColor:\"lightgrey\",progressColor:\"#3dbca2\"},t}(a.Component);n.d(t,\"a\",(function(){return i}));var i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={headerOpen:t.headerOpen||!1},n}return Object(r.c)(t,e),t.prototype.componentWillReceiveProps=function(e){e.headerOpen!==this.props.headerOpen&&this.setState({headerOpen:e.headerOpen})},t.prototype.render=function(){var e=this,t=this.props,n=t.title,i=t.className,s=t.children,u=t.headerClassName,c=t.contentClassName,l=t.displayProgress,d=t.progressData,p=t.inactivated,f=t.inactivatedRender,h=this.state.headerOpen;return p?\"titleAndChildren\"===f?a.createElement(a.Fragment,null,a.createElement(a.Fragment,null,n),a.createElement(a.Fragment,null,s)):a.createElement(a.Fragment,null,s):a.createElement(\"div\",{className:(i||\"\")+\" openClose\"+(h?\" open\":\"\")},a.createElement(\"div\",{className:\"openHeader\"+(u?\" \"+u:\"\"),onClick:function(){e.props.onOpenClose&&e.props.onOpenClose(!e.state.headerOpen),e.setState({headerOpen:!e.state.headerOpen})}},a.createElement(\"div\",{className:\"openHeaderContainer\"},a.createElement(\"div\",null,n),l&&a.createElement(o,Object(r.a)({},d)))),a.createElement(\"div\",{className:\"openContent\"+(c?\" \"+c:\"\")},s))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"l\",(function(){return p})),n.d(t,\"c\",(function(){return f})),n.d(t,\"h\",(function(){return h})),n.d(t,\"i\",(function(){return m})),n.d(t,\"n\",(function(){return g})),n.d(t,\"k\",(function(){return v})),n.d(t,\"d\",(function(){return b})),n.d(t,\"m\",(function(){return y})),n.d(t,\"b\",(function(){return E})),n.d(t,\"g\",(function(){return k})),n.d(t,\"a\",(function(){return O})),n.d(t,\"j\",(function(){return C})),n.d(t,\"f\",(function(){return D})),n.d(t,\"e\",(function(){return S}));var r=n(0),a=n(5),o=n.n(a),i=n(3),s=n(125),u=n.n(s),c=n(53),l=n.n(c),d=n(4);function p(e,t,n,a,o){var s,c,l={},d=t.id,p=function(s){var u,c,p,f,h,m,g=a[s],v=e[s]||[],b=t[s];if(!b)return\"continue\";var y=b.map((function(e,t){return{doc:e,idx:t}})),E=y.filter((function(e){return!v.some((function(t){return t.id===e.doc.id}))}));try{for(var w=(u=void 0,Object(r.i)(E)),k=w.next();!k.done;k=w.next()){var O=k.value,C=(I=Object(r.a)({},O.doc)).$meta;delete I.$meta,\"add\"===C?(I.id||(I.id=Object(i.h)()),o.add(g,I)):\"update\"===C&&o.put(g,I),o.link(n,d,g,I.id,s),l[s]||(l[s]={}),l[s][O.idx]={$set:I}}}catch(e){u={error:e}}finally{try{k&&!k.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}var D=v.filter((function(e){return!b.some((function(t){return t.id===e.id}))}));try{for(var S=(p=void 0,Object(r.i)(D)),j=S.next();!j.done;j=S.next()){var T=j.value;o.unlink(n,d,g,T.id,s)}}catch(e){p={error:e}}finally{try{j&&!j.done&&(f=S.return)&&f.call(S)}finally{if(p)throw p.error}}var x=y.filter((function(e){return v.some((function(t){return t.id===e.doc.id&&\"update\"===e.doc.$meta}))}));try{for(var N=(h=void 0,Object(r.i)(x)),M=N.next();!M.done;M=N.next()){var I,P=M.value;delete(I=Object(r.a)({},P.doc)).$meta,o.put(g,I),l[s]||(l[s]={}),l[s][P.idx]={$set:I}}}catch(e){h={error:e}}finally{try{M&&!M.done&&(m=N.return)&&m.call(N)}finally{if(h)throw h.error}}};try{for(var f=Object(r.i)(Object.keys(a)),h=f.next();!h.done;h=f.next()){p(h.value)}}catch(e){s={error:e}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return u()(t,l)}function f(e){return o()(e).format(\"YYMMDD HH:mm\")}function h(e){return o()(e).format(\"YYMMDD\")}function m(e){if(!e)return\"\";var t=e.split(\" \").filter((function(e){return!!e})),n=t.pop();return t.map((function(e){return e[0]+\".\"})).concat(n).join(\" \")}function g(e,t,n){return u()(t,{dateTime:{$set:e},modifiedDate:{$set:e},modifiedBy:{$set:{name:n.displayName,url:\"mailto:\"+n.mail}}})}function v(e,t,n){return u()(t,{createdDate:{$set:e},createdBy:{$set:{name:n.displayName,url:\"mailto:\"+n.mail}}})}function b(e){return e.email?e.email:e.url&&e.url.startsWith(\"mailto:\")?e.url.substring(\"mailto:\".length):e.url}function y(e,t){var n=Date.now();return(e=g(n,e,t)).createdBy||(e=v(n,e,t)),e}function E(e,t,n){var a,o,i=Object(r.a)({},e),s=t[e.id];s&&(i.$etag=s);try{for(var u=Object(r.i)(n),c=u.next();!c.done;c=u.next()){var l=c.value,d=e[l].map((function(e){return E(e,t,[])}));i[l]=d}}catch(e){a={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i}function w(e,t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(t){return e(t.target.result)},r.onabort=function(e){return n(new Error(\"file read aborted\"))},r.onerror=function(e){return n(e.target.error)},t(r)}))}function k(e){return w(0,(function(t){return t.readAsText(e)}))}function O(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect=\"copy\"}function C(e){var t=l()(\"div.course-builder\")[0];t&&(t.className=\"course-builder\"+(e?\" status \"+e:\"\"))}function D(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,a,o,s,u,c,l;return Object(r.d)(this,(function(p){switch(p.label){case 0:return n=d.a.kedBackendClient,a=t&&t.includeTemplateChain,o=!t||!t.include||-1!==t.include.indexOf(\"tasks\"),[4,Promise.all([n.list(\"courses\",{ids:[e],include:t&&t.include?t.include.filter((function(e){return\"tasks\"!==e})):[\"centralContent\",\"knowledgeRequirements\",\"abilities\",\"images\",\"acl\"]}).then((function(t){var n=Object(r.f)(t,1)[0];if(!n)throw new i.c(404,\"Course with id \"+e+\" was not found\");return n})),o&&n.list(\"tasks\",{hasEdgesFrom:e,include:[\"knowledgeRequirements\",\"centralContent\",\"abilities\",\"acl\"],flags:[\"includeIdsOnly\"]}),a&&n.list(\"courses\",{hasEdgesFrom:e,flags:[\"idsOnly\"]})])];case 1:return s=r.f.apply(void 0,[p.sent(),3]),u=s[0],c=s[1],l=s[2],u.tasks=c,u.abilities&&u.abilitiesOrder&&(u.abilities=u.abilitiesOrder.map((function(e){return u.abilities.find((function(t){return t.id===e}))}))),u.knowledgeRequirements&&u.knowledgeRequirementsOrder&&(u.knowledgeRequirements=u.knowledgeRequirementsOrder.map((function(e){return u.knowledgeRequirements.find((function(t){return t.id===e}))}))),u.centralContent&&u.centralContentOrder&&(u.centralContent=u.centralContentOrder.map((function(e){return u.centralContent.find((function(t){return t.id===e}))}))),a&&(u.templateChain=l),[2,u]}}))}))}function S(e,t){return void 0===e||t.filter((function(t){return!e.includes(t)})).length>0||e.filter((function(e){return!t.includes(e)})).length>0}},function(e,t,n){\"use strict\";var r=n(144);n.d(t,\"a\",(function(){return r.a})),n.d(t,\"b\",(function(){return r.b}))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(2),a=n(97);function o(e){var t=e.children,n=e.spinner,o=e.onError,i=e.noError;return r.createElement(a.a,{props:t,spinner:n,noError:i,onError:o,fn:function(e){return e}})}},,function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(2),o=n.n(a),i=function(e){var t=e.className,n=e.classNames,a=e.children;return o.a.createElement(\"div\",{className:Object(r.h)(n||[],t?[t]:[],[\"align-horizontal\"]).join(\" \")},a)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(2),o=n.n(a),i=function(e){var t=e.className,n=e.classNames,a=e.children;return o.a.createElement(\"div\",{className:Object(r.h)(n||[],t?[t]:[],[\"horizontalItem\"]).join(\" \")},a)}},function(e,t,n){\"use strict\";var r=n(138);n.d(t,\"a\",(function(){return r.b})),n.d(t,\"b\",(function(){return r.c})),n.d(t,\"c\",(function(){return r.d}))},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return i})),n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(2),o=n(9);function i(e,t){return function(n){return a.createElement(s,Object(r.a)({props:n,fn:e},t))}}var s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={result:null,isLoading:!0},n}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.shouldComponentUpdate=function(e,t){return this.state.error!==t.error||this.state.isLoading!==t.isLoading||this.state.result!==t.result||!Object(o.m)(e.props,this.props.props)},t.prototype.componentDidUpdate=function(e){Object(o.m)(e.props,this.props.props)||(this.unsubscribe(),this.subscribe())},t.prototype.subscribe=function(){var e=this;this.setState({isLoading:!0}),this.subscription=this.props.fn(this.props.props).subscribe((function(t,n){return e.setState({result:t,error:n,isLoading:!1})}))},t.prototype.unsubscribe=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},t.prototype.render=function(){var e=this.state,t=e.result,n=e.error,r=e.isLoading,o=this.props,i=o.spinner,s=o.onError,u=o.noError;return n?u?\"\":s?s(n):a.createElement(\"p\",null,\"Error: \",n.message):r?i||\"\":void 0===t?\"\":t},t}(a.Component)},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(96);function i(e){window.currentErrorRender=e}function s(){return window.currentErrorRender}var u=n(9);function c(e){return function(t){var n=Object(r.f)(Object(a.useState)({}),2),c=(n[0],n[1]),l=Object(r.f)(Object(a.useState)(null),2),d=l[0],p=l[1],f=Object(r.f)(Object(a.useState)({renderer:null}),1)[0],h=[];if(d)return f.renderer?f.renderer(d):null;function m(e,t,n){t?(p(t),f.renderer||Object(u.n)(t)):(p(null),c({}))}Object(a.useEffect)((function(){var e=h.map(function(e){return function(t){var n=\"sync\";try{return t.subscribe((function(t,r,a){if(r)return e(t,r,a);\"sync\"===n?n=t:t!==n&&(e(t,r,a),n=t)}))}finally{\"sync\"===n&&(n=null)}}}(m));return function(){return e.forEach((function(e){return e.unsubscribe()}))}}));var g=o.b.current;try{return o.b.current={observables:h},i(null),e(t)}catch(e){if(f.renderer=s(),e&&\"function\"==typeof e.then)throw e;return f.renderer?f.renderer(e):(Object(u.n)(e),null)}finally{o.b.current=g,f.renderer=s(),i(null)}}}n.d(t,\"a\",(function(){return c}))},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(156),i=n(140);var s=n(183),u=n(157),c=n(124);n.d(t,\"a\",(function(){return g}));var l=\"wysiwyg-actionbar\",d=\"wysiwyg-button\",p=\"wysiwyg-content\",f=\"wysiwyg-focusrect\",h=\"wysiwyg-focuspoint\",m=\"wysiwyg-content readonly\";function g(e){var t=a.useContext(c.a);return a.createElement(v,Object(r.a)({},e,{openDialog:t&&t.openDialog,closeDialog:t&&t.closeDialog}))}var v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={focusRect:null},n.onClick=n.onClick.bind(n),n.onBlur=n.onBlur.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.openDialog=t.openDialog,n.closeDialog=t.closeDialog,n}return Object(r.c)(t,e),Object.defineProperty(t.prototype,\"focusElem\",{get:function(){return this.contentDiv&&this.contentDiv.querySelector(\".focusElem\")},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.contentDiv.innerHTML=Object(i.a)(this.props.html),this.props.readOnly||(this.contentDiv.onblur=this.onBlur,this.contentDiv.onclick=this.onClick,Array.from(this.contentDiv.querySelectorAll(\"img\")).map((function(e){return e})).forEach((function(t){t.tabIndex=1,t.onblur=e.onBlur}))),this.props.reportNumChars&&this.props.reportNumChars(this.contentDiv&&this.contentDiv.innerText&&this.contentDiv.innerText.length||0)},t.prototype.triggerOnChangeInternal=function(e){this.props.onChange&&this.props.onChange(Object(i.a)(e))},t.prototype.triggerOnChange=function(){this.triggerOnChangeInternal(this.contentDiv.innerHTML)},t.prototype.onClick=function(e){var t=function(e,t){if(e&&1===e.nodeType){return e.closest(t)}return null}(e.target,\".editor A,.editor IMG\");if(t)switch(t.tagName){case\"A\":var n=this.getActionsToUse().filter((function(e){return\"link\"===e.name}))[0];n&&(Object(u.c)(t),n.result(e,this),e.stopPropagation(),e.preventDefault());break;case\"IMG\":var r={focusRect:b(this.contentDiv.parentElement,t)};this.setState(r),this.removeAllFocusElemClasses(),t.className=(t.className||\"\")+\" focusElem\"}},t.prototype.onBlur=function(e){var t=this.focusElem;(!t||e.target===t&&e.relatedTarget!==this.focusRectDiv||e.target===this.focusRectDiv)&&this.removeFocusRect()},t.prototype.onMouseDown=function(e){if((e.target.className||\"\").split(\" \").indexOf(h)>=0){var t=this.getRectCorner(e);this.corner=t,this.resizeStartX=e.clientX}},t.prototype.onMouseMove=function(e){var t=this.focusElem;if(this.corner&&this.state.focusRect&&t){e.preventDefault();var n=this.focusRectDiv.getBoundingClientRect();if(n.width<32)return;var r=Math.max(32,this.corner.endsWith(\"l\")?n.width+(this.resizeStartX-e.clientX):n.width-(this.resizeStartX-e.clientX));this.resizeStartX=e.clientX;var a=r/n.width,o=n.height*a;t.style.width=r+\"px\",t.style.height=o+\"px\",this.setState({focusRect:b(this.contentDiv.parentElement,t)})}},t.prototype.onMouseUp=function(e){this.corner&&this.state.focusRect&&this.focusElem&&(this.corner=null,this.triggerOnChange())},t.prototype.getRectCorner=function(e){var t,n;try{for(var a=Object(r.i)((e.target.className||\"\").split(\" \")),o=a.next();!o.done;o=a.next()){switch(o.value){case\"fpul\":return\"ul\";case\"fpur\":return\"fpur\";case\"fplr\":return\"lr\";case\"fpll\":return\"ll\"}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return null},t.prototype.execImageEditAction=function(e){var t=this.focusElem;if(t){switch(e){case\"float-left\":t.style.cssFloat=\"left\";break;case\"float-right\":t.style.cssFloat=\"right\";break;case\"unfloat\":t.style.cssFloat=\"\"}this.triggerOnChange(),this.setState({focusRect:b(this.contentDiv.parentElement,t)})}},t.prototype.getActionsToUse=function(){var e,t=this,n=this.props.defaultActions||s.a,a=this.props.actions?this.props.actions.map((function(e){return\"string\"==typeof e?Object(r.a)({name:e},n[e]):n[e.name]?Object(r.a)(Object(r.a)({},n[e.name]),e):e})):Object.keys(n).map((function(e){return Object(r.a)({name:e},n[e])}));return this.state.focusRect&&(a=a.concat((e=function(e){return t.execImageEditAction(e)},[{name:\"float-left\",icon:'<div style=\"position:relative\">\\n      <i class=\"fas fa-align-right\" aria-hidden=\"true\"></i>\\n      <div style=\"position:absolute; left:-4px;top:0; transform: scale(0.5); transform-origin: left top\">\\n        <i class=\"far fa-image\" aria-hidden=\"true\"></i>\\n      </div>\\n    </div>',title:\"Låt bilden flyta vänster om text\",result:function(){return e(\"float-left\")}},{name:\"float-right\",icon:'<div style=\"position:relative\">\\n      <i class=\"fas fa-align-left\" aria-hidden=\"true\"></i>\\n      <div style=\"position:absolute; right:-4px;top:0; transform: scale(0.5); transform-origin: right top\">\\n        <i class=\"far fa-image\" aria-hidden=\"true\"></i>\\n      </div>\\n    </div>',title:\"Låt bilden flyta höger om text\",result:function(){return e(\"float-right\")}},{name:\"unfloat\",icon:'<div style=\"position:relative;\" aria-hidden=\"true\">\\n      <div style=\"position:absolute;top:0;left:0\">&#8254;</div>\\n      <div style=\"position:absolute;top:0:left:0;transform: scale(0.5); transform-origin: left bottom\">\\n        <i class=\"far fa-image\" aria-hidden=\"true\"></i>\\n      </div>\\n      <div style=\"position:absolute;top:0;left:0\">_</div>\\n    </div>',title:\"Placera bilden på egen rad\",result:function(){return e(\"unfloat\")}}]))),a},t.prototype.removeAllFocusElemClasses=function(){this.contentDiv&&this.contentDiv.querySelectorAll(\".focusElem\").forEach((function(e){e.className=e.className.split(\" \").filter((function(e){return\"focusElem\"!==e})).join(\" \")}))},t.prototype.removeFocusRect=function(){this.removeAllFocusElemClasses(),this.setState({focusRect:null})},t.prototype.render=function(){var e=this,t=this.getActionsToUse(),n=this.state.focusRect,r=this.props,s=r.readOnly,u=r.reportNumChars,c=r.maxChars;return a.createElement(\"div\",{className:this.props.className},!s&&a.createElement(\"div\",{className:l},t.map((function(t,n){return a.createElement(\"button\",{key:n,className:d,dangerouslySetInnerHTML:{__html:t.icon},title:t.title,onMouseDown:function(n){t.result(n,e)},onMouseUp:function(t){return setTimeout((function(){return e.contentDiv.focus()}),10)}})}))),a.createElement(\"div\",{className:s?m:p,style:{position:\"relative\",top:0,left:0},onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},a.createElement(\"div\",{className:\"editor\",ref:function(t){return e.contentDiv=t},dangerouslySetInnerHTML:s?{__html:Object(i.a)(this.props.html)}:null,contentEditable:!s,onPaste:function(e){if(!isNaN(c)){e.target;var t=e.currentTarget,n=t&&t.innerText||\"\",r=e.clipboardData.getData(\"text/plain\")||\"\";n.length+r.length>c&&e.preventDefault()}},onKeyUp:u?function(e){var t=e.target.innerText;u(t?t.length:0)}:null,onKeyPress:isNaN(c)?null:function(e){var t=e.target.innerText;t&&t.length>=c&&e.preventDefault()},onInput:function(t){return e.triggerOnChangeInternal(t.target.innerHTML)},onKeyDown:function(t){if(!s){u&&t.currentTarget&&u((t.currentTarget.innerText||\"\").length),t.which>=35&&t.which<=40&&t.stopPropagation(),9===t.which&&(t.preventDefault(),t.shiftKey?Object(o.a)(\"outdent\"):Object(o.a)(\"indent\"));var n=e.focusElem;(8===t.keyCode||46===t.keyCode)&&n&&e.state.focusRect&&(n&&n.parentElement&&n.parentElement.removeChild(n),e.removeFocusRect(),e.triggerOnChange())}}}),n&&a.createElement(\"div\",{ref:function(t){return e.focusRectDiv=t},className:f,tabIndex:1,onBlur:function(t){return e.removeFocusRect()},style:{outline:0,position:\"absolute\",top:this.state.focusRect.top,left:this.state.focusRect.left,width:this.state.focusRect.width,height:this.state.focusRect.height}},a.createElement(\"div\",{className:h+\" fpul\",style:{position:\"absolute\",top:0,left:0}}),a.createElement(\"div\",{className:h+\" fpur\",style:{position:\"absolute\",top:0,right:0}}),a.createElement(\"div\",{className:h+\" fplr\",style:{position:\"absolute\",bottom:0,right:0}}),a.createElement(\"div\",{className:h+\" fpll\",style:{position:\"absolute\",bottom:0,left:0}}))))},t}(a.Component);function b(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:r.top-n.top+e.scrollTop,left:r.left-n.left+e.scrollLeft,bottom:r.bottom-n.top+e.scrollTop,right:r.right-n.left+e.scrollLeft,width:r.width,height:r.height}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(2),o=n(119),i=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.autoSelect&&setTimeout((function(){try{e.input.select(),e.input.focus()}catch(e){}}),50)},t.prototype.render=function(){var e=this;return a.createElement(o.a,{label:this.props.label},a.createElement(\"div\",null,a.createElement(\"input\",{type:\"text\",autoFocus:this.props.autoFocus,id:this.props.id,size:this.props.size||35,value:this.props.value,onChange:this.props.onChange&&function(t){return e.props.onChange(t.target.value)},disabled:this.props.disabled,placeholder:this.props.placeholder,ref:function(t){return e.input=t}}),this.props.additionalJsx))},t}(a.Component)},function(e,t,n){\"use strict\";var r=n(156),a=n(208),o=n(212);t.a={bold:{icon:\"<b>F</b>\",title:\"Fetstil\",result:function(){return Object(r.a)(\"bold\")}},italic:{icon:\"<i>K</i>\",title:\"Kursiv\",result:function(){return Object(r.a)(\"italic\")}},underline:{icon:\"<u>U</u>\",title:\"Understruken\",result:function(){return Object(r.a)(\"underline\")}},strikethrough:{icon:\"<strike>S</strike>\",title:\"Struken\",result:function(){return Object(r.a)(\"strikeThrough\")}},heading1:{icon:\"<b>H<sub>1</sub></b>\",title:\"Rubrik 1\",result:function(){\"H1\"==document.getSelection().focusNode.parentElement.nodeName?Object(r.a)(\"formatBlock\",\"<P>\"):Object(r.a)(\"formatBlock\",\"<H1>\")}},heading2:{icon:\"<b>H<sub>2</sub></b>\",title:\"Rubrik 2\",result:function(){\"H2\"==document.getSelection().focusNode.parentElement.nodeName?Object(r.a)(\"formatBlock\",\"<P>\"):Object(r.a)(\"formatBlock\",\"<H2>\")}},heading3:{icon:\"<b>H<sub>3</sub></b>\",title:\"Rubrik 3\",result:function(){\"H3\"==document.getSelection().focusNode.parentElement.nodeName?Object(r.a)(\"formatBlock\",\"<P>\"):Object(r.a)(\"formatBlock\",\"<H3>\")}},paragraph:{icon:\"&#182;\",title:\"Paragraf\",result:function(){return Object(r.a)(\"formatBlock\",\"<P>\")}},quote:{icon:\"&#8220; &#8221;\",title:\"Citat\",result:function(){return Object(r.a)(\"formatBlock\",\"<BLOCKQUOTE>\")}},olist:{icon:'<i class=\"fas fa-list-ol\" aria-hidden=\"true\"></i>',title:\"Ordnad lista\",result:function(){return Object(r.a)(\"insertOrderedList\")}},ulist:{icon:'<i class=\"fas fa-list\" aria-hidden=\"true\"></i>',title:\"Punktlista\",result:function(){return Object(r.a)(\"insertUnorderedList\")}},outdent:{icon:'<i class=\"fas fa-outdent\" aria-hidden=\"true\"></i>',title:\"Minska indrag\",result:function(){return Object(r.a)(\"outdent\")}},indent:{icon:'<i class=\"fas fa-indent\" aria-hidden=\"true\"></i>',title:\"Öka indrag\",result:function(){return Object(r.a)(\"indent\")}},code:{icon:\"&lt;/&gt;\",title:\"Programkod\",result:function(){return Object(r.a)(\"formatBlock\",\"<PRE>\")}},line:{icon:\"&#8213;\",title:\"Vågrät linje\",result:function(){return Object(r.a)(\"insertHorizontalRule\")}},link:{icon:'<i class=\"fas fa-link\" aria-hidden=\"true\"></i>',title:\"Infoga länk\",result:a.a},image:{icon:'<i class=\"far fa-image\" aria-hidden=\"true\"></i>',title:\"Infoga bild\",promptMsg:\"Ange bildens URL\",result:function(e,t){Object(o.a)(this.promptMsg,t)}},clear:{icon:'<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 1000 1000\"><g><g><path d=\"M25.3,867.5h551.3V990H25.3V867.5z M882.8,132.5H593.3L417.4,806.3H290.8l175.9-673.8H209.1V10h673.8V132.5z M915.1,990L790.9,865.8L666.7,990l-59.6-59.6l124.2-124.2L607.2,682.1l59.6-59.6l124.2,124.2l124.2-124.2l59.6,59.6L850.5,806.3l124.2,124.2L915.1,990z\"/></g></g></svg>',title:\"Rensa formatering\",result:function(){return Object(r.a)(\"removeformat\")}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(2),o=n(21),i=function(){return a.createElement(\"img\",{style:{border:0,margin:0,padding:0},className:\"ellipsis-loader\"})},s=function(e){return a.createElement(o.b,Object(r.a)({},e),a.createElement(i,null))}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return p})),n.d(t,\"a\",(function(){return E}));var r=n(0),a=n(2),o=n(300),i=n(90),s=n(9),u=n(3),c=n(4),l=[{name:\"schools\",text:Object(s.a)(f||(f=Object(r.e)([\"Skolor\"],[\"Skolor\"]))),route:\"/schools\"},{name:\"subjects\",text:Object(s.a)(h||(h=Object(r.e)([\"Ämnen\"],[\"Ämnen\"]))),route:\"/subjects\"}],d=[{name:\"courseBuilder\",text:Object(s.a)(m||(m=Object(r.e)([\"Kursbyggaren\"],[\"Kursbyggaren\"]))),route:\"/courses/new\"},{name:\"studentPage\",text:Object(s.a)(g||(g=Object(r.e)([\"Elevsida\"],[\"Elevsida\"]))),route:\"\"},{name:\"feedback\",text:a.createElement(\"span\",null,a.createElement(\"i\",{className:\"far fa-comment-dots\",\"aria-hidden\":\"true\"}),\" Feedback\"),route:\"https://kg.kunskapsporten.se/kursbyggaren/\"}];function p(e,t,n,r){var a=Object(u.h)();n.update({imageId:{$set:a},images:{$set:[{id:a,url:r,acl:[\"role:USER:R\",\"schoolRole:\"+c.a.currentUser.school+\"/EMPLOYEE:S\"],$meta:\"add\"}]}})}var f,h,m,g,v,b,y,E=function(e){var t=e.title,n=(e.isTemplate,e.host),u=e.course,f=e.origCourse,h=e.backgroundImage,m=e.activePage,g=c.a.currentUser.roles.some((function(e){return\"ADMIN\"===e})),E=d;return g&&(E=l.concat(E)),a.createElement(\"div\",{className:\"sv-row sv-layout sv-skip-spacer\"},a.createElement(\"div\",{className:\"sv-layout sv-skip-spacer sv-column-12\"},a.createElement(\"div\",{className:\"sv-script-portlet sv-portlet sv-skip-spacer\"},h&&a.createElement(\"style\",null,\"\\n        .pageHeader {\\n          background-image: url('\"+h+\"') !important;\\n        }\\n      \"),a.createElement(\"div\",{className:\"pageHeader\",onDragOver:u&&i.a,onDrop:u&&function(e){return function(e,t,n,a){return Object(r.b)(this,void 0,void 0,(function(){var o,i,u,l,d,f,h,m;return Object(r.d)(this,(function(g){switch(g.label){case 0:return e.stopPropagation(),e.preventDefault(),o=e.dataTransfer.files,i=null,u=Array.from(e.dataTransfer.items),o.length>0?(l=o[0]).size>2097152?(Object(s.n)(Object(s.a)(v||(v=Object(r.e)([\"Kan inte ladda upp bilder större än 2 MB\"],[\"Kan inte ladda upp bilder större än 2 MB\"])))),[2]):((d=new FormData).append(\"files\",l),[4,c.a.kedBackendClient.http.fetch(\"web-upload\",\"put\",{},{},{body:d})]):[3,3];case 1:return 200!==(f=g.sent()).status?(Object(s.n)(Object(s.a)(b||(b=Object(r.e)([\"Kunde inte ladda upp filen till Google Storage\"],[\"Kunde inte ladda upp filen till Google Storage\"])))),[2]):[4,f.text()];case 2:return i=g.sent(),[3,7];case 3:h=function(e){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(t=u[e]).type.match(\"^text/uri-list\")?[4,new Promise((function(e){return t.getAsString(e)}))]:[3,2];case 1:i=n.sent(),n.label=2;case 2:return[2]}}))},m=0,g.label=4;case 4:return m<u.length?[5,h(m)]:[3,7];case 5:g.sent(),g.label=6;case 6:return++m,[3,4];case 7:return null==i?(Object(s.n)(Object(s.a)(y||(y=Object(r.e)([\"Kunde inte hitta någon bild i innehållet\"],[\"Kunde inte hitta någon bild i innehållet\"])))),[2]):(p(n,a,t,i),[2])}}))}))}(e,n,u,f)}},a.createElement(\"a\",null,a.createElement(\"h1\",null,t)),a.createElement(\"div\",{className:\"buttonsField\"},a.createElement(\"div\",{className:\"buttonsContainer\"},a.createElement(\"div\",{className:\"align-horizontal\"}),a.createElement(\"div\",{className:\"horizontalMenu\"},a.createElement(\"ul\",null,E.map((function(t){return{item:t,isActive:m===t.name,callback:e.callbacks&&e.callbacks[t.name],givenRoute:e.routes&&e.routes[t.name],defaultRoute:t.route}})).filter((function(e){return e.callback||e.defaultRoute||e.givenRoute})).map((function(e){var t=e.item,n=e.isActive,r=e.callback,i=e.defaultRoute,s=e.givenRoute;return a.createElement(\"li\",{key:t.name,className:n?\"activePage\":\"\",onClick:r},r?a.createElement(\"a\",null,t.text):i||s?s||/^http[s]\\:\\/\\//i.test(i)?a.createElement(\"a\",{href:s||i},t.text):a.createElement(o.a,{to:i},t.text):a.createElement(\"a\",null,t.text))}))))))))))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r,a=n(0),o=n(2),i=n(9),s=function(e){var t=e.onClick,n=e.className,s=e.style,u=e.title;return o.createElement(\"div\",{title:u||Object(i.a)(r||(r=Object(a.e)([\"Radera\"],[\"Radera\"]))),className:\"removeItem \"+(n||\"\"),onClick:t,style:s})}},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(89),i=n(23),s=n(168);function u(e){return e.course&&e.task&&e.course.length>0&&e.task.length>0?\"courseBuilderTask\":e.siteVisionPageId?\"siteVisionTask\":e.courseInfo?\"subjectPlannerTask\":\"customTask\"}var c=n(5),l=n.n(c),d=n(91),p=n(1),f=n(14),h=n(31),m=n(4),g=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.courseName,r=t.learningGoals,i=t.progressData,c=t.displayProgress,p=!!this.props.openCourses[n],h=(new d.a,this.context.intl),g=\"gymnasium\"===(\"\"+m.b.currentUser.schoolType).toLowerCase();return a.createElement(o.a,{title:a.createElement(\"h5\",null,n||(g?a.createElement(f.a,{id:\"userTasks.gymnasiumSchoolGoals\",defaultMessage:\"Övriga uppgifter\"}):a.createElement(f.a,{id:\"userTasks.primarySchoolGoals\",defaultMessage:\"Egna lärandemål\"}))),headerOpen:p,className:n&&Object(s.a)(\"wp-course-\",n),onOpenClose:function(t){return e.props.setIsOpen(n,t)},displayProgress:c,progressData:i},r.map((function(t){return a.createElement(\"div\",{key:t.name,className:\"learningGoalContainer\"},t.step&&a.createElement(\"div\",{className:\"stepIndicator\"},t.step),a.createElement(\"div\",{className:\"align-horizontal\"},a.createElement(\"div\",{className:\"learningGoalText horizontalItem top\"},t.name),a.createElement(\"div\",{className:\"horizontalItem\"},\" \",a.createElement(\"a\",{className:\"trash\",href:\"#\",title:h.formatMessage({id:\"userTasks.deleteLearningGoal\",defaultMessage:\"Ta bort lärandemålet och dess uppgifter\"}),onClick:function(n){n.preventDefault(),e.props.removeLearningGoal(t)}},a.createElement(\"i\",{className:\"fas fa-trash-alt\"})))),a.createElement(\"div\",{className:\"learningGoalTasks\"},a.createElement(\"div\",{className:\"taskContainer\"},t.tasks.map((function(t){var n=\"adding\"===t.$meta||\"deleting\"===t.$meta||\"updating\"===t.$meta,r=u(t),o=l()(t.deadline).startOf(\"day\")<l()().startOf(\"day\");return a.createElement(\"div\",{key:t.id,style:n?{opacity:.5}:{}},a.createElement(\"div\",{className:\"align-horizontal\"},a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"div\",{className:\"checkBox\"+(t.done?\" checked\":\"\"),onClick:function(r){return!n&&e.props.setTaskDone(t,!t.done)}})),a.createElement(\"div\",{className:\"horizontalItem top\"},\"courseBuilderTask\"===r?a.createElement(\"a\",{href:v(t,e.props.viewCourseUrl)},t.name):\"subjectPlannerTask\"===r?a.createElement(\"a\",{href:b(t)},t.name):\"siteVisionTask\"===r?a.createElement(\"a\",{href:t.url},t.name):a.createElement(\"a\",{className:t.url?\"\":\"link-less\",href:t.url||void 0,target:(t.url+\"\").toLowerCase().startsWith(location.host.toLowerCase())?\"_self\":\"_blank\"},t.name),t.deadline&&a.createElement(\"div\",{className:\"dateSet\"+(o?\" expired\":\"\")},a.createElement(\"i\",{title:l()(t.deadline).format(\"YYYY-MM-DD\"),className:\"fas fa-calendar-alt\",\"aria-hidden\":\"true\",onClick:function(){}}))),a.createElement(\"div\",{className:\"horizontalItem top taskEdit\"},a.createElement(\"a\",{className:\"editItem\",onClick:function(){return e.props.editTask(t)}}))),t.subTasks&&a.createElement(\"div\",{className:\"subtasks\"},t.subTasks.map((function(r){return a.createElement(\"div\",{key:r.id},a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"div\",{className:\"checkBox\"+(r.done?\" checked\":\"\"),onClick:function(a){return!n&&e.props.setSubTaskDone(t,r,!r.done)}})),a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"a\",{href:r.url||void 0,target:(t.url+\"\").toLowerCase().startsWith(location.host.toLowerCase())?\"_self\":\"_blank\",className:r.url?void 0:\"link-less\"},r.name)),a.createElement(\"div\",{className:\"horizontalItem top taskEdit\"},a.createElement(\"a\",{className:\"editItem\",onClick:function(){return e.props.editSubTask(t,r)}})))}))))})))),a.createElement(\"div\",{className:\"learningGoalTools\"},a.createElement(\"div\",{className:\"btn addOwnGoal\",onClick:function(){return e.props.addOwnTask(e.props.courseName,t.name)}},a.createElement(\"i\",{className:\"fas fa-plus\",\"aria-hidden\":\"true\"}),\" \",g?a.createElement(f.a,{id:\"weekplanner.learningGoalGymnasium\",defaultMessage:\"Uppgift\"}):a.createElement(f.a,{id:\"userTasks.addLearningGoal\",defaultMessage:\"Eget arbetsmål\"}))),a.createElement(\"br\",null))})))},t.contextType=h.a,t}(a.Component);function v(e,t){return e.course&&e.course.length>0&&e.task&&e.task.length>0?Object(i.f)(t,{courseId:e.course[0].id})+\"#/task/\"+e.task[0].id:e.url}function b(e){if(e.courseInfo&&e.task&&e.task.length>0){var t=e.courseInfo,n=t.school,r=t.course,a=t.tab;return Object(i.f)(p.b.KED_SUBJECT_PLANNER_URL,{})+\"#/\"+n+\"/courses/\"+r+\"/tabs/\"+a+\"/tasks/\"+e.task[0].id}return e.url}var y=n(3),E=n(9);var w=n(118),k=function(e){function t(t){var n=e.call(this,t)||this;return n.state={learningGoal:t.learningGoal||\"\"},n}return Object(r.c)(t,e),t.prototype.render=function(){var e=this,t=this.state.learningGoal,n=this.props.onSave,r=\"gymnasium\"===(\"\"+m.b.currentUser.schoolType).toLowerCase();return a.createElement(\"div\",null,a.createElement(\"div\",{className:\"sv-html-portlet sv-portlet sv-skip-spacer\"},a.createElement(\"h2\",null,r?a.createElement(f.a,{id:\"weekplanner.addLearningGoalGymnasiumSchoolTitle\",defaultMessage:\"Lägg till rubrik\"}):a.createElement(f.a,{id:\"weekplanner.addLearningGoalPrimarySchoolTitle\",defaultMessage:\"Lägg till eget lärandemål\"})),a.createElement(\"hr\",null),a.createElement(\"div\",{className:\"align-horizontal\"},a.createElement(\"div\",{className:\"horizontalItem top\"},r?a.createElement(f.a,{id:\"weekplanner.addLearningGoalGymnasiumSchool\",defaultMessage:\"Rubrik\"}):a.createElement(f.a,{id:\"weekplanner.addLearningGoalPrimarySchool\",defaultMessage:\"Mål\"})),a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"input\",{type:\"text\",tabIndex:1,size:50,autoFocus:!0,value:t,onChange:function(t){return e.setState({learningGoal:t.target.value})}})),a.createElement(\"div\",{className:\"horizontalItem top spaced\"})),a.createElement(\"br\",null)),a.createElement(\"div\",{className:\"sv-html-portlet sv-portlet\"},a.createElement(\"button\",{tabIndex:1,className:\"btn btn-large btn-default\",onClick:function(){return n(t)}},a.createElement(f.a,{id:\"common.save\",defaultMessage:\"save\"}))))},t}(a.Component),O=n(100),C=n(120),D=function(e){function t(t){var n=e.call(this,t)||this;return n.state={name:\"\",description:\"\",url:\"\"},n}return Object(r.c)(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.name,r=t.description,o=t.url,i=this.props,s=(i.isTask,i.onSave),u=this.context.intl,c=\"gymnasium\"===(\"\"+m.b.currentUser.schoolType).toLowerCase();return a.createElement(\"div\",null,a.createElement(\"div\",{className:\"sv-html-portlet sv-portlet sv-skip-spacer\"},a.createElement(\"h2\",null,c?a.createElement(f.a,{id:\"customTask.addWorkGoalGymnasiumSchoolTitle\",defaultMessage:\"Lägg till uppgift\"}):a.createElement(f.a,{id:\"customTask.addWorkGoalPrimarySchoolTitle\",defaultMessage:\"Lägg till eget arbetsmål\"})),a.createElement(\"hr\",null),a.createElement(O.a,{label:u.formatMessage({id:\"common.nameLabel\",defaultMessage:\"Namn\"}),id:\"AddCustomTask:name\",placeholder:u.formatMessage({id:\"customTask.enterNamePlhd\",defaultMessage:\"Ange namn...\"}),value:n,autoFocus:!0,onChange:function(t){return e.setState({name:t})}}),a.createElement(C.a,{rows:7,label:u.formatMessage({id:\"common.descriptionLabel\",defaultMessage:\"Beskrivning\"}),id:\"AddCustomTask:description\",placeholder:u.formatMessage({id:\"common.addDescriptionPlhd\",defaultMessage:\"Lägg till en beskrivning...\"}),value:r,onChange:function(t){return e.setState({description:t})}}),a.createElement(O.a,{label:u.formatMessage({id:\"common.linkLabel\",defaultMessage:\"Länk\"}),id:\"AddCustomTask:url\",placeholder:\"http://www...\",value:o,onChange:function(t){return e.setState({url:t})}})),a.createElement(\"div\",{className:\"sv-html-portlet sv-portlet\"},a.createElement(\"button\",{tabIndex:1,className:\"btn btn-large btn-default\",onClick:function(){return s(n,r,o)}},a.createElement(f.a,{id:\"common.save\",defaultMessage:\"Spara\"}))))},t.contextType=h.a,t}(a.Component),S=n(145),j=(n(179),n(119)),T=function(e){function t(t){var n=e.call(this,t)||this;if(\"edit\"===t.mode){var r=t.subTask;n.state={name:r.name||\"\",description:r.description||\"\",url:r.url||\"\"}}else n.state={name:\"\",description:\"\",url:\"\"};return n}return Object(r.c)(t,e),t.prototype.save=function(){var e=this.props,t=e.userTask,n=e.closeDialog,a=e.userTasksRepo,o=this.state,i=o.name,s=o.description,u=o.url;if(\"edit\"===e.mode)a.update([t],(function(t){var n=t.subTasks;n&&(t.subTasks=n.map((function(t){return t.id===e.subTask.id?Object(r.a)(Object(r.a)({},t),{name:i,description:s,url:u}):Object(r.a)({},t)})))}));else{var c={id:Object(y.h)(),name:i,description:s,url:u};a.update([t],(function(e){e.subTasks||(e.subTasks=[]),e.subTasks=e.subTasks.concat(c)}))}n()},t.prototype.delete=function(){var e=this.props;if(\"edit\"!==e.mode)throw new Error(\"Can only delete in edit mode\");e.userTasksRepo.update([e.userTask],(function(t){t.subTasks&&(t.subTasks=t.subTasks.filter((function(t){return t.id!==e.subTask.id})))})),e.closeDialog()},t.prototype.render=function(){var e=this,t=this.state,n=(t.name,t.description,t.url,this.props),r=\"edit\"===n.mode,o=this.context.intl;return a.createElement(a.Fragment,null,a.createElement(\"div\",{className:\"sv-html-portlet sv-portlet sv-skip-spacer\"},a.createElement(\"h2\",null,r?a.createElement(f.a,{id:\"addeditsubtask.editSubtask\",defaultMessage:\"Redigera underuppgift\"}):a.createElement(f.a,{id:\"addeditsubtask.addSubtask\",defaultMessage:\"Lägg till underuppgift\"})),a.createElement(\"hr\",null),a.createElement(O.a,{autoFocus:!0,label:o.formatMessage({id:\"addeditsubtask.nameLabel\",defaultMessage:\"Underuppgiftens namn\"}),id:\"AddUserSubTask:name\",placeholder:\"\",value:this.state.name,onChange:function(t){return e.setState({name:t})}}),a.createElement(C.a,{label:o.formatMessage({id:\"common.descriptionLabel\",defaultMessage:\"Beskrivning\"}),id:\"AddUserSubTask:description\",rows:7,placeholder:\"\",value:this.state.description,onChange:function(t){return e.setState({description:t})}}),a.createElement(O.a,{label:o.formatMessage({id:\"common.linkLabel\",defaultMessage:\"Länk\"}),id:\"AddUserSubTask:url\",placeholder:\"\",value:this.state.url,onChange:function(t){return e.setState({url:t})}}),a.createElement(\"br\",null)),a.createElement(\"div\",{className:\"sv-html-portlet sv-portlet\"},\"edit\"===n.mode&&a.createElement(\"button\",{className:\"btn btn-warning btn-large pull-right\",onClick:function(t){return e.delete()}},a.createElement(f.a,{id:\"addeditsubtask.deleteSubtask\",defaultMessage:\"Ta bort underuppgift\"})),a.createElement(\"button\",{tabIndex:1,className:\"btn btn-large btn-default\",onClick:function(){return e.save()}},a.createElement(f.a,{id:\"common.save\",defaultMessage:\"Spara\"}))))},t.contextType=h.a,t}(a.Component),x=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userTask:t.userTask,name:t.userTask.name,description:t.userTask.description,url:t.userTask.url,deadline:t.userTask.deadline,subTasks:t.userTask.subTasks},n.onUserTasksChanged=n.onUserTasksChanged.bind(n),n}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.props.userTasksRepo.subscribe(this.onUserTasksChanged)},t.prototype.onUserTasksChanged=function(e){var t=this,n=e.find((function(e){return e.id===t.props.userTask.id}));n?this.setState({userTask:n,subTasks:n.subTasks}):this.props.closeDialog()},t.prototype.componentWillUnmount=function(){this.props.userTasksRepo.unsubscribe(this.onUserTasksChanged)},t.prototype.isModified=function(){var e=this.state,t=e.deadline,n=e.description,r=e.name,a=e.url,o=e.userTask;return t!==o.deadline||n!==o.description||r!==o.name||a!==o.url},t.prototype.addSubTask=function(){this.props.openDialog(a.createElement(T,{mode:\"add\",userTask:this.state.userTask,closeDialog:this.props.closeDialog,userTasksRepo:this.props.userTasksRepo}))},t.prototype.editSubTask=function(e){this.props.openDialog(a.createElement(T,{mode:\"edit\",subTask:e,userTask:this.state.userTask,closeDialog:this.props.closeDialog,userTasksRepo:this.props.userTasksRepo}))},t.prototype.render=function(){var e=this,t=this.state,n=t.name,r=t.description,o=t.url,i=t.deadline,s=t.subTasks,c=t.showCalendar,d=t.userTask,p=d.id,h=(d.courseName,this.props),m=h.onUpdate,g=h.onDelete,v=this.isModified(),b=\"customTask\"===u(d),y=l()(d.deadline)<l()(),E=this.context.intl;return a.createElement(\"div\",{className:\"editTaskDialog sv-html-portlet sv-portlet sv-skip-spacer\"},a.createElement(\"h2\",null,b?a.createElement(f.a,{id:\"task.editWorkGoals\",defaultMessage:\"Redigera arbetsmål\"}):a.createElement(f.a,{id:\"task.editTask\",defaultMessage:\"Redigera uppgift\"})),a.createElement(\"hr\",null),a.createElement(O.a,{autoFocus:!0,label:b?E.formatMessage({id:\"task.targetNameLabel\",defaultMessage:\"Arbetsmålets namn\"}):E.formatMessage({id:\"task.taskNameLabel\",defaultMessage:\"Uppgiftens namn\"}),id:\"EditUserTask:name\",placeholder:b?E.formatMessage({id:\"task.whatShouldYouDoPlhd\",defaultMessage:\"Vad ska du göra?\"}):E.formatMessage({id:\"task.enterTaskNamePlhd\",defaultMessage:\"Ange uppgiftens namn...\"}),value:n,onChange:function(t){return e.setState({name:t})}}),b&&a.createElement(a.Fragment,null,a.createElement(C.a,{rows:5,label:E.formatMessage({id:\"common.descriptionLabel\",defaultMessage:\"Beskrivning\"}),id:\"EditUserTask:description\",placeholder:E.formatMessage({id:\"common.addDescriptionPlhd\",defaultMessage:\"Lägg till en beskrivning...\"}),value:r,onChange:function(t){return e.setState({description:t})}}),a.createElement(O.a,{label:E.formatMessage({id:\"common.linkLabel\",defaultMessage:\"Länk\"}),id:\"EdutUserTask:url\",placeholder:\"http(s)://...\",value:o,onChange:function(t){return e.setState({url:t})}})),a.createElement(j.a,{label:E.formatMessage({id:\"task.setDeadline\",defaultMessage:\"Ange deadline\"})},i||c?a.createElement(\"div\",{className:\"align-horizontal\"},a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(S.a,{ref:function(t){return e.datePicker=t},id:\"EditUserTask:deadline\",nextMonthButtonLabel:\"\",previousMonthButtonLabel:\"\",showWeekNumbers:!0,selected:i&&l()(i).toDate(),autoFocus:c,dateFormat:\"yyyy-MM-dd\",className:y?\"expired\":void 0,locale:E.locale,popperPlacement:b?\"top-start\":\"bottom-start\",onBlur:function(){return e.setState({showCalendar:!1})},onChange:function(t){e.setState({deadline:t&&l()(t).format(\"YYYY-MM-DD\"),showCalendar:!1})}})),a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"a\",{className:\"deleteDate\",href:\"#\",title:E.formatMessage({id:\"task.removeDeadline\",defaultMessage:\"Ta bort deadline\"}),onClick:function(t){t.preventDefault(),e.setState({deadline:null,showCalendar:!1})}}))):a.createElement(\"div\",{className:\"top\",ref:function(){e.datePicker=null}},a.createElement(\"a\",{className:\"btn\",onClick:function(t){e.datePicker&&e.datePicker.setOpen(!0),e.setState({showCalendar:!0})}},a.createElement(\"i\",{className:\"fas fa-calendar-alt\",\"aria-hidden\":\"true\"}),a.createElement(f.a,{id:\"task.setDeadlineLabel\",defaultMessage:\"Ange deadline...\"})))),a.createElement(j.a,{label:E.formatMessage({id:\"task.subTasks\",defaultMessage:\"Underuppgifter\"})},a.createElement(\"div\",{className:\"learningGoalTasks\"},a.createElement(\"div\",{className:\"taskContainer\"},s&&s.map((function(t){return a.createElement(\"div\",{key:t.id,className:\"align-horizontal\"},a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"a\",{onClick:function(){return e.editSubTask(t)},href:\"#\"},t.name)))})))),a.createElement(\"div\",{className:\"align-horizontal\"},a.createElement(\"div\",{className:\"top\"},a.createElement(\"button\",{id:\"EditUserTask:addSubTask\",className:\"btn\",onClick:function(){return e.addSubTask()}},a.createElement(\"i\",{className:\"fas fa-plus\",\"aria-hidden\":\"true\"}),\" \",a.createElement(f.a,{id:\"task.addSubtask\",defaultMessage:\"Lägg till underuppgift\"}))))),a.createElement(\"div\",{className:\"divider large\"}),a.createElement(\"div\",{className:\"align-horizontal\"},a.createElement(\"div\",{className:\"horizontalButton top\"},a.createElement(\"button\",{tabIndex:1,className:\"btn btn-default\",onClick:function(){v?m((function(e){e.name=n,e.description=r,e.url=o,e.deadline=i})):e.props.closeDialog()}},a.createElement(f.a,{id:\"common.save\",defaultMessage:\"Spara\"}))),a.createElement(\"div\",{className:\"horizontalButton top\"},a.createElement(\"button\",{tabIndex:1,className:\"btn\",onClick:function(){e.props.closeDialog()}},a.createElement(f.a,{id:\"common.cancel\",defaultMessage:\"Avbryt\"}))),a.createElement(\"div\",{className:\"confirm top pull-right\"},a.createElement(\"button\",{tabIndex:1,className:\"btn btn-warning\",onClick:function(){g(p)}},b?a.createElement(f.a,{id:\"task.removeWorkGoals\",defaultMessage:\"Ta bort arbetsmål\"}):a.createElement(f.a,{id:\"task.removeThisTask\",defaultMessage:\"Ta bort den här uppgiften\"})))))},t.contextType=h.a,t}(a.Component),N=n(20),M=n(180),I=n(123),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.percentage,n=e.backgroundColor,r=e.progressColor,o=Math.round(t);return a.createElement(\"svg\",{className:\"progress-chart\",width:\"100%\",height:\"25\"},a.createElement(\"rect\",{fill:n,width:\"100%\",height:\"100%\",rx:\"4\"}),a.createElement(\"rect\",{className:\"fill\",fill:r,width:o+\"%\",height:\"100%\",rx:\"4\"}),a.createElement(\"text\",{className:\"filled-text\",textAnchor:\"middle\",x:\"50%\",y:\"50%\",dy:\".3em\"},o+\"%\"))},t.defaultProps={percentage:0,backgroundColor:\"#F1F5F4\",progressColor:\"#3dbca2\"},t}(a.Component);n.d(t,\"a\",(function(){return A}));var A=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userTasks:[],weekDate:Date.now(),openCourses:{},dialogs:[],saving:!1,weekTextsUT:null,isLoading:!0,isCopyingTasks:!1},n.onChange=n.onChange.bind(n),n.weekTextsSavingJob=new M.a((function(){return n.saveWeekTexts()})),n}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.props.env.userTasksRepo.subscribe(this.onChange)},t.prototype.componentWillUnmount=function(){this.props.env.userTasksRepo.unsubscribe(this.onChange),this.weekTextsSavingJob.stop()},t.prototype.onChange=function(e,t,n){var r={userTasks:e,weekDate:t.weekDate,openCourses:t.openCourses,weekTextsUT:n,isLoading:!1};this.state.weekTextsUT&&n.dateTime===this.state.weekTextsUT.dateTime||(r.strategy=n.weekTexts.strategy,r.assessment=n.weekTexts.assessment),this.setState(r)},t.prototype.isWeekTextsEdited=function(){var e=this.state,t=e.strategy,n=e.assessment,r=e.weekTextsUT;return!!r&&(t!==r.weekTexts.strategy||n!==r.weekTexts.assessment)},t.prototype.saveWeekTexts=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return console.log(\"Saving texts...\"),e=this.state,t=e.strategy,n=e.assessment,a=e.weekTextsUT,this.isWeekTextsEdited()?[4,this.props.env.userTasksRepo.upsert(a,(function(e){e.weekTexts={strategy:t,assessment:n}}))]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.prevWeek=function(){var e=Object(I.d)(l()(this.state.weekDate));this.props.env.userTasksRepo.changeWeek(e.nextDate,e.adjusted)},t.prototype.nextWeek=function(){var e=Object(I.c)(l()(this.state.weekDate));this.props.env.userTasksRepo.changeWeek(e.nextDate,e.adjusted)},t.prototype.openDialog=function(e){this.setState({dialogs:Object(r.h)(this.state.dialogs,[e])})},t.prototype.openAddGoalDialog=function(){var e=this;this.openDialog(a.createElement(k,{onSave:function(t){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:if(!t)throw new Error(this.context.intl.formatMessage({id:\"weekplanner.emptyLearningGoalErr\",defaultMessage:\"Lärandemålet kan inte vara tomt\"}));if(this.state.saving)return[3,5];this.setState({saving:!0}),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,this.addCustomGoal(t)];case 2:return e.sent(),[3,4];case 3:return this.setState({saving:!1}),[7];case 4:this.closeDialog(),e.label=5;case 5:return[2]}}))}))}}))},t.prototype.openAddOwnTaskDialog=function(e,t){var n=this;this.openDialog(a.createElement(D,{isTask:!e,onSave:function(a,o,i){return Object(r.b)(n,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:if(!a)throw new Error(this.context.intl.formatMessage({id:\"weekplanner.nameCannotBeEmpty\",defaultMessage:\"Namnet kan inte vara tomt\"}));if(this.state.saving)return[3,5];this.setState({saving:!0}),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.addCustomTask(e,t,a,o,i)];case 2:return n.sent(),[3,4];case 3:return this.setState({saving:!1}),[7];case 4:this.closeDialog(),n.label=5;case 5:return[2]}}))}))}}))},t.prototype.editTask=function(e){var t=this;this.openDialog(a.createElement(x,{userTasksRepo:this.props.env.userTasksRepo,userTask:e,onUpdate:function(n){return Object(r.b)(t,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(a){switch(a.label){case 0:if(t=Object(r.a)({},e),n(t),!t.name)throw new Error(this.context.intl.formatMessage({id:\"weekplanner.nameMustNotBeEmpty\",defaultMessage:\"Namnet får inte vara tomt\"}));return this.closeDialog(),[4,this.props.env.userTasksRepo.update([e],n)];case 1:return a.sent(),[2]}}))}))},onDelete:function(e){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.closeDialog(),[4,this.props.env.userTasksRepo.delete([e])];case 1:return t.sent(),[2]}}))}))},openDialog:function(e){return t.openDialog(e)},closeDialog:function(){return t.closeDialog()}}))},t.prototype.editSubTask=function(e,t){var n=this;this.openDialog(a.createElement(T,{userTasksRepo:this.props.env.userTasksRepo,mode:\"edit\",userTask:e,subTask:t,closeDialog:function(){return n.closeDialog()}}))},t.prototype.closeDialog=function(){this.setState({dialogs:this.state.dialogs.slice(0,this.state.dialogs.length-1)})},t.prototype.addCustomGoal=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=Math.max.apply(Math.max,[this.state.weekDate].concat(this.state.userTasks.map((function(e){return e.dateTime})))),[4,this.props.env.userTasksRepo.insert([{id:Object(y.h)(),learningGoal:e,dateTime:t+2e3}])];case 1:return n.sent(),[4,this.props.env.userTasksRepo.setWeekPlannerBoxOpen(\"\",!0)];case 2:return n.sent(),[2]}}))}))},t.prototype.removeLearningGoal=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return e.tasks.length>0&&!confirm(this.context.intl.formatMessage({id:\"weekplanner.confirmRemoveLearningObjectives\",defaultMessage:\"Ta bort lärandemål samt {learningGoalsNumber} uppgifter?\"},{learningGoalsNumber:e.tasks.length}))?[2]:[4,this.props.env.userTasksRepo.delete(e.allTasks.map((function(e){return e.id})))];case 1:return t.sent(),[2]}}))}))},t.prototype.addCustomTask=function(e,t,n,a,o){return Object(r.b)(this,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=Math.max.apply(Math.max,[this.state.weekDate].concat(this.state.userTasks.map((function(e){return e.dateTime})))),[4,this.props.env.userTasksRepo.insert([{id:Object(y.h)(),dateTime:i+2e3,courseName:e,learningGoal:t,name:n,description:a,url:o}])];case 1:return r.sent(),[2]}}))}))},t.prototype.setIsOpen=function(e,t){this.props.env.userTasksRepo.setWeekPlannerBoxOpen(e,t)},t.prototype.setTaskDone=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,this.props.env.userTasksRepo.setTaskDoneState(e,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.setSubTaskDone=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.props.env.userTasksRepo.setSubTaskDoneState(e,t.id,n)];case 1:return r.sent(),[2]}}))}))},t.prototype.copyFromPreviousWeek=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,a,o,i,s,u,c;return Object(r.d)(this,(function(d){switch(d.label){case 0:return[4,this.setState({isCopyingTasks:!0})];case 1:d.sent(),d.label=2;case 2:return d.trys.push([2,,5,6]),e=this.state,t=e.userTasks,e.openCourses,n=e.weekDate,a=l()(n).add(-1,\"week\"),o=Object(I.b)(a),i=Object(I.a)(a.year(),o),[4,this.props.env.kedBackendClient.list(\"usertasks\",{from:i.notBefore,to:i.notAfter,role:\"USER\",include:[\"task\",\"course\",\"acl\"],flags:[\"includeIdsOnly\"]})];case 3:return s=(s=d.sent()).filter((function(e){return!e.done})).filter((function(e){return!!e.name})).filter((function(e){return!t.some((function(t){return t.name===e.name&&t.learningGoal===e.learningGoal&&t.courseName===e.courseName}))})),[n].concat(t.map((function(e){return e.dateTime}))),u=Math.max.apply(Math.max,[n].concat(t.map((function(e){return e.dateTime})))),c=s.sort(Object(E.g)(\"dateTime\")).map((function(e){var t=Object(r.a)(Object(r.a)({},e),{dateTime:u+=1e3});return t.id=Object(y.h)(),t.subTasks&&(t.subTasks=t.subTasks.filter((function(e){return!e.done}))),t.acl=e.acl&&e.acl.filter((function(e){return e.startsWith(\"email:\")})),delete t.$etag,t})),[4,this.props.env.userTasksRepo.insert(c)];case 4:return d.sent(),[3,6];case 5:return this.setState({isCopyingTasks:!1}),[7];case 6:return[2]}}))}))},t.prototype.getHeaderTitle=function(){return a.createElement(\"h4\",null,a.createElement(f.a,{id:\"weekplanner.logBook\",defaultMessage:\"Loggbok\"}))},t.prototype.render=function(){var e=this,t=l()(this.state.weekDate).week(),n=d.b.weekplannerCharts,i=l()().week(),s=function(e){var t,n,a,o,i=[],s=Object(E.b)(e,(function(e){return e.courseName||\"\"}));try{for(var u=Object(r.i)(Object.keys(s).sort().filter((function(e){return e})).concat(s[\"\"]?[\"\"]:[])),c=u.next();!c.done;c=u.next()){var l=c.value,d=s[l]||s[\"\"],p=Object(E.b)(d,(function(e){return e.learningGoal})),f=[];try{for(var h=(a=void 0,Object(r.i)(Object.keys(p))),m=h.next();!m.done;m=h.next()){var g=m.value,v=p[g].sort(Object(E.g)(\"dateTime\")),b=v.filter((function(e){return null==e.name}))[0],y=b&&b.url;f.push({name:g,allTasks:v,url:y,step:v.map((function(e){return e.step})).filter((function(e){return e}))[0],tasks:v.filter((function(e){return e.name}))})}}catch(e){a={error:e}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}i.push({courseName:l,learningGoals:f})}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return i}(this.state.userTasks),u=this.state,c=u.dialogs,p=u.weekTextsUT,h=u.strategy,v=u.assessment,b=u.isLoading,y=u.isCopyingTasks,k=p&&(\"adding\"===p.$meta||\"updating\"===p.$meta),O=!!p&&h!==p.weekTexts.strategy,C=!!p&&v!==p.weekTexts.assessment,D=!k&&(O||C),S=\"gymnasium\"===(\"\"+m.b.currentUser.schoolType).toLowerCase(),j=function(e){var t={completedTasks:0,totalNumberOfTasks:0,subjectData:{}};return e.forEach((function(e){return e.learningGoals.forEach((function(n){var r=n.tasks.filter((function(e){return e.done})).length,a=t.subjectData[e.courseName];a||(a=t.subjectData[e.courseName]={completedNumberOfTasks:0,numberOfTasks:0}),a.completedNumberOfTasks+=r,a.numberOfTasks+=n.tasks.length,t.completedTasks+=r,t.totalNumberOfTasks+=n.tasks.length}))})),t}(s),T=j.totalNumberOfTasks>0?j.completedTasks/j.totalNumberOfTasks*100:0;return a.createElement(\"div\",null,a.createElement(\"div\",{className:\"ked_boxed weekPlanner\"+(t===i?\" currentWeek\":\"\"),onKeyDown:function(t){83===t.which&&t.ctrlKey&&(t.preventDefault(),!k&&e.isWeekTextsEdited()&&e.weekTextsSavingJob.triggerChange(0))}},n&&j.totalNumberOfTasks>0&&this.getHeaderTitle(),a.createElement(\"div\",{className:\"widgets\"},n&&j.totalNumberOfTasks>0?a.createElement(\"div\",{className:\"progressBar\"},a.createElement(P,{percentage:T})):this.getHeaderTitle(),a.createElement(\"div\",{className:\"weekSelect\"},a.createElement(\"div\",{className:\"horizontalItem\"},a.createElement(\"p\",null,a.createElement(f.a,{id:\"weekplanner.weekNumber\",values:{weekNumber:t},defaultMessage:\"Vecka {weekNumber}\"}))),a.createElement(\"div\",{className:\"horizontalItem\"},a.createElement(\"div\",{className:\"btn-group\"},a.createElement(\"button\",{className:\"btn\",onClick:function(){return e.prevWeek()}},a.createElement(\"i\",{className:\"fas fa-angle-left\",\"aria-hidden\":\"true\"})),a.createElement(\"button\",{className:\"btn\",onClick:function(){return e.nextWeek()}},a.createElement(\"i\",{className:\"fas fa-angle-right\",\"aria-hidden\":\"true\"})))))),s.length>0&&a.createElement(\"hr\",null),s.map((function(t){return a.createElement(g,Object(r.a)({key:t.courseName},t,{courseName:t.courseName,learningGoals:t.learningGoals,viewCourseUrl:e.props.viewCourseUrl,openCourses:e.state.openCourses,addOwnTask:function(t,n){return e.openAddOwnTaskDialog(t,n)},setIsOpen:e.setIsOpen.bind(e),setTaskDone:e.setTaskDone.bind(e),setSubTaskDone:e.setSubTaskDone.bind(e),editTask:function(t){return e.editTask(t)},editSubTask:function(t,n){return e.editSubTask(t,n)},removeLearningGoal:function(t){return e.removeLearningGoal(t)},displayProgress:n,progressData:j.subjectData[t.courseName]}))})),a.createElement(\"hr\",null),b?a.createElement(N.a,null):a.createElement(\"div\",null,a.createElement(\"div\",{className:\"btn\",onClick:function(t){return e.openAddGoalDialog()}},a.createElement(\"i\",{className:\"far fa-list-alt\",\"aria-hidden\":\"true\"}),S?a.createElement(f.a,{id:\"weekplanner.learningGoalGymnasium\",defaultMessage:\"Uppgift\"}):a.createElement(f.a,{id:\"weekplanner.learningGoalPrimary\",defaultMessage:\"Eget lärandemål\"})),a.createElement(\"div\",{className:\"btn\",style:y?{opacity:.5}:void 0,onClick:function(t){return!y&&e.copyFromPreviousWeek()}},a.createElement(\"i\",{className:\"far fa-clone\",\"aria-hidden\":\"true\"}),a.createElement(f.a,{id:\"weekplanner.copyPreviousWeekTaks\",defaultMessage:\"Kopiera ej klara från föregående vecka\"})),a.createElement(o.a,{title:a.createElement(\"h5\",null,a.createElement(f.a,{id:\"weekplanner.strategyAndEvaluation\",defaultMessage:\"Strategi & Utvärdering\"})),headerOpen:this.state.openCourses.StratUtv,onOpenClose:function(t){return e.setIsOpen(\"StratUtv\",t)}},a.createElement(\"h3\",null,a.createElement(f.a,{id:\"weekplanner.strategy\",defaultMessage:\"Strategi\"})),a.createElement(\"p\",null,a.createElement(f.a,{id:\"weekplanner.strategyDescription\",defaultMessage:\"Hur jag ska göra för att lära mig.\"})),a.createElement(\"hr\",null),a.createElement(\"textarea\",{className:\"weekplanner-textarea\",disabled:this.props.env.tutored,value:h&&h.substr(0,16384),onChange:function(t){e.setState({strategy:(t.target.value||\"\").substr(0,16384)}),e.weekTextsSavingJob.triggerChange(500)}}),a.createElement(\"h3\",null,a.createElement(f.a,{id:\"weekplanner.evaluation\",defaultMessage:\"Utvärdering\"})),a.createElement(\"p\",null,a.createElement(f.a,{id:\"weekplanner.evaluationDescription\",defaultMessage:\"Reflektion kring din arbetsinsats och dina valda strategier under veckan.Utvärdera i förhållande till dina mål.\"})),a.createElement(\"hr\",null),a.createElement(\"textarea\",{className:\"weekplanner-textarea\",value:v&&v.substr(0,16384),disabled:this.props.env.tutored,onChange:function(t){e.setState({assessment:(t.target.value||\"\").substr(0,16384)}),e.weekTextsSavingJob.triggerChange(500)}}),a.createElement(\"div\",{className:\"btn\",tabIndex:0,style:D?{}:{opacity:.5},onClick:function(){return!k&&e.weekTextsSavingJob.triggerChange(0)}},a.createElement(\"i\",{className:\"far fa-save\",\"aria-hidden\":\"true\"}),D?a.createElement(f.a,{id:\"common.save\",defaultMessage:\" Spara\"}):a.createElement(f.a,{id:\"common.saved\",defaultMessage:\" Sparad\"}))))),a.createElement(w.a,{dialogs:c,popDialog:function(){e.setState((function(e){var t=e.dialogs;return{dialogs:t.slice(0,t.length-1)}}))}}))},t.contextType=h.a,t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o})),n.d(t,\"b\",(function(){return i}));var r=n(2),a=n.n(r),o=function(e){var t=e.label,n=e.addClass,r=e.faIcon,o=e.action,i=e.url,s=n?\"btn \"+n:\"btn\";return i&&!o?a.a.createElement(\"a\",{className:s,href:i,target:\"_blank\"},r&&a.a.createElement(\"i\",{className:r}),\" \",t):a.a.createElement(\"a\",{className:s,onClick:o},r&&a.a.createElement(\"i\",{className:r}),\" \",t)},i=function(e){var t=e.label,n=void 0===t?\"Google Drive\":t,r=e.action;return a.a.createElement(o,{label:n,faIcon:\"fab fa-google-drive\",action:r})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s})),n.d(t,\"b\",(function(){return u}));var r=n(0),a=n(96),o=n(86),i=n(9);function s(e,t,n){var r=(void 0===n?{appendLeftovers:!1}:n).appendLeftovers,a={};if(!e||!t)return e;var o=e&&t?t.map((function(t){return a[t]=!0,e.find((function(e){return e.id===t}))})).filter((function(e){return!!e})):e;if(r){var i=e.filter((function(e){return!a[e.id]}));return o.concat(i)}return o}function u(e,t){var n,u;if(t)u=new a.a([t]);else{var c=e.tags.filter((function(e){return e.startsWith(\"course:\")}));if(0===c.length)return new a.a(e);u=(n=o.c.courses).tags.apply(n,Object(r.h)(c)).cacheOptimized().toValue()}return u.map((function(t){var n=Object(i.k)(t.map((function(e){return e.abilitiesOrder||[]}))),r=Object(i.k)(t.map((function(e){return e.centralContentOrder||[]}))),a=Object(i.k)(t.map((function(e){return e.knowledgeRequirementsOrder||[]}))),o=Object.assign({},e);return o.abilities&&(o.abilities=s(e.abilities,n)),o.centralContent&&(o.centralContent=s(e.centralContent,r)),o.knowledgeRequirements&&(o.knowledgeRequirements=s(e.knowledgeRequirements,a)),o}))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(2),a=function(e){var t=e.left,n=e.right,a=e.rightWidth;return r.createElement(\"div\",{className:\"sv-row sv-layout\"},r.createElement(\"div\",{className:\"sv-layout sv-skip-spacer sv-column-12\"},r.createElement(\"div\",{className:\"sv-spacer-20pxvt sv-vertical sv-layout sv-skip-spacer\"},r.createElement(\"div\",{className:\"pagecontent sv-layout sv-spacer-20pxvt sv-skip-spacer\"},r.createElement(\"div\",{className:\"sv-row sv-layout sv-skip-spacer\"},r.createElement(\"div\",{className:\"sv-layout sv-skip-spacer sv-column-\"+(12-a)},t),r.createElement(\"div\",{className:\"sv-layout sv-column-\"+a},n))))))}},function(e,t,n){\"use strict\";var r=function(){};e.exports=r},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=6e4;function a(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();t.setSeconds(0,0);var a=t.getTime()%r;return n*r+a}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(181),o=n(3),i=function(){function e(e){var t=this,n=e.table,o=e.getClient,i=e.getQueryOptions;this.mem=new a.a({query:function(){return Object(r.b)(t,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,i()];case 1:return e=t.sent(),[4,o().list(n,Object(r.a)(Object(r.a)({},e),{cacheBust:this.getCacheBust()}))];case 2:return[2,t.sent()]}}))}))}}),this.options=e}return e.prototype.getCacheBust=function(){var e=this.options,t=e.table,n=e.user;return localStorage.getItem(\"cache-bust-\"+t+\"-\"+n)||this.regenerateCacheBust()},e.prototype.regenerateCacheBust=function(){var e=this.options,t=e.table,n=e.user,r=Object(o.h)();return localStorage.setItem(\"cache-bust-\"+t+\"-\"+n,r),r},e.prototype.upsert=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,a=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e.$etag?[3,2]:(n=Object.assign({},e),t(n),[4,this.insert([n])]);case 1:return[2,r.sent()];case 2:return[4,this.update([e],t).catch((function(n){if(\"http404\"===n.name){var r=Object.assign({},e);return t(r),a.insert([r])}return Promise.reject(n)}))];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype.update=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,a,o,i,s,u,c,l=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=this.options,a=n.getClient,o=n.optimistic,i=n.table,s=a(),u=e.map((function(e){var n=l.mem.items.find((function(t){return t.id===e.id}));return e=Object.assign({},n||e),t(e),e})),o?[4,this.mem.update(u.map((function(e){return Object.assign({},e,{$meta:\"updating\"})})))]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,s.do((function(e){return u.forEach((function(t){return e.put(i,t)}))})).catch((function(n){return\"http409\"===n.name?s.list(i,{ids:e.map((function(e){return e.id}))},{cache:\"no-cache\"}).then((function(e){var n=e.map((function(e){var n=Object.assign({},e);return t(n),n}));return s.do((function(e){return n.forEach((function(t){return e.put(i,t)}))}))})):Promise.resolve(o&&l.mem.update(e)).then((function(){return Promise.reject(n)}))}))];case 3:return c=r.sent(),this.regenerateCacheBust(),u.forEach((function(e){e.$etag=c.newEtags[e.id],e.$meta=void 0})),[4,this.mem.update(u)];case 4:return r.sent(),[2]}}))}))},e.prototype.stripGraphs=function(e,t){return e.map((function(e){var n=Object.assign({},e);return t.forEach((function(t){e[t]&&(n[t]=e[t].map((function(e){return{id:e.id}})))})),n}))},e.prototype.insert=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,i,s,u,c,l,d,p,f,h,m,g,v,b,y,E=this;return Object(r.d)(this,(function(w){switch(w.label){case 0:return t=this.options,n=t.getClient,a=t.optimistic,i=t.table,s=t.getQueryOptions,u=n(),[4,s()];case 1:return c=w.sent(),l=[].concat(c.include),e=e.map((function(e){return e.id?e:Object.assign({},e,{id:Object(o.h)()})})),d=this.stripGraphs(e,l),a?[4,this.mem.insert(d.map((function(e){return Object.assign({},e,{$meta:\"adding\"})})))]:[3,3];case 2:w.sent(),w.label=3;case 3:p=new o.a,f=function(e){var t,n,a=function(t){var n=e[t];n&&n.forEach((function(n){p.link2(i,e.id,t,n.id)}))};try{for(var o=(t=void 0,Object(r.i)(l)),s=o.next();!s.done;s=o.next()){a(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}p.add(i,e)};try{for(h=Object(r.i)(d),m=h.next();!m.done;m=h.next())g=m.value,f(g)}catch(e){b={error:e}}finally{try{m&&!m.done&&(y=h.return)&&y.call(h)}finally{if(b)throw b.error}}return[4,u.batch(p.mutationRequests).catch((function(t){return a&&E.mem.delete(e.map((function(e){return e.id}))),Promise.reject(t)}))];case 4:return v=w.sent(),this.regenerateCacheBust(),e.forEach((function(e){return e.$etag=v.newEtags[e.id]})),a?[4,this.mem.update(e)]:[3,6];case 5:return w.sent(),[3,8];case 6:return[4,this.mem.insert(e)];case 7:w.sent(),w.label=8;case 8:return[2]}}))}))},e.prototype.delete=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,o,i,s=this;return Object(r.d)(this,(function(u){switch(u.label){case 0:return t=this.options,n=t.getClient,a=t.optimistic,o=t.table,i=n(),a?[4,this.mem.update(e.map((function(e){return s.mem.items.find((function(t){return t.id===e}))})).filter((function(e){return e})).map((function(e){return Object.assign({},e,{$meta:\"deleting\"})})))]:[3,2];case 1:u.sent(),u.label=2;case 2:return[4,i.do((function(t){return e.forEach((function(e){return t.delete(o,e)}))})).catch((function(t){return Object(r.b)(s,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return a?[4,this.mem.update(e.map((function(e){return n.mem.items.find((function(t){return t.id===e}))})).filter((function(e){return e})).map((function(e){return delete(e=Object.assign({},e)).$meta,e})))]:[3,2];case 1:r.sent(),r.label=2;case 2:throw t}}))}))}))];case 3:return u.sent(),this.regenerateCacheBust(),[4,this.mem.delete(e)];case 4:return u.sent(),[2]}}))}))},e}()},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(2),o=n(86),i=n(104),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={errors:[],infos:[]},n._unhandledRejection=n._unhandledRejection.bind(n),n._error=n._error.bind(n),n._customError=n._customError.bind(n),n._onInfo=n._onInfo.bind(n),n._dbWriterError=n._dbWriterError.bind(n),n._dbWriterStateChanged=n._dbWriterStateChanged.bind(n),n}return Object(r.c)(t,e),t.prototype._addError=function(e,t,n){var r=this;this.setState((function(r){var a=r.errors;return a.some((function(t){return t.message===e}))?{errors:a}:(a.length>2&&(a=a.slice(1)),{errors:a.concat([{message:e,details:t,retryable:n}])})})),n||setTimeout((function(){r.setState((function(t){return{errors:t.errors.filter((function(t){return t.message!==e}))}}))}),3e4)},t.prototype._addInfo=function(e){var t=this;\"\"!==e?(this.setState((function(t){var n=t.infos;return n.some((function(t){return t===e}))?{infos:n}:(n.length>1&&(n=n.slice(1)),{infos:[e]})})),setTimeout((function(){t.setState((function(t){return{infos:t.infos.filter((function(t){return t!==e}))}}))}),1e4)):this.setState({infos:[]})},t.prototype._dbWriterError=function(e,t){this._addError(\"Det går inte att spara till servern\",e,t)},t.prototype._dbWriterStateChanged=function(e){var t=e.isEdited,n=e.isSaving;t||this.setState((function(e){var t=e.errors;return{errors:t=t.filter((function(e){return!e.retryable}))}})),this.setState({dbWriterIsEdited:t,dbWriterIsSaving:n})},t.prototype.componentDidMount=function(){window.addEventListener(\"unhandledrejection\",this._unhandledRejection),window.addEventListener(\"error\",this._error),window.addEventListener(\"customerror\",this._customError),window.addEventListener(\"info\",this._onInfo),o.c.writer.onError(this._dbWriterError),o.c.writer.onStateChange(this._dbWriterStateChanged)},t.prototype.componentWillUnmount=function(){window.removeEventListener(\"unhandledrejection\",this._unhandledRejection),window.removeEventListener(\"error\",this._error),window.removeEventListener(\"customerror\",this._customError),window.removeEventListener(\"info\",this._onInfo),o.c.writer.off(this._dbWriterError),o.c.writer.off(this._dbWriterStateChanged)},t.prototype._unhandledRejection=function(e){this._addError(\"Ett okänt fel inträffade...\",e.reason)},t.prototype._error=function(e){this._addError(e.error?e.error.message:\"Ett okänt fel inträffade...\",e.error)},t.prototype._customError=function(e){this._addError(e.detail)},t.prototype._onInfo=function(e){this._addInfo(e.detail)},t.prototype.render=function(){var e=this,t=this.state,n=t.errors,r=t.infos,o=t.dbWriterIsSaving;return a.createElement(\"div\",{className:\"error-success-feedback\",style:{position:\"fixed\",left:0,top:0,width:\"100%\",pointerEvents:\"none\"}},a.createElement(\"div\",{style:{display:\"table\",margin:\"0 auto\"}},n.filter((function(e){return!e.retryable||!o})).map((function(t){var n=t.message,r=t.details,o=t.retryable,s=t.showDetails;return a.createElement(\"div\",{key:n,className:\"error\"},a.createElement(\"div\",{style:{float:\"left\"}},n),a.createElement(\"div\",{style:{pointerEvents:\"auto\"}},a.createElement(i.a,{onClick:function(){return e.removeError(n)}})),r||o?a.createElement(\"div\",{style:{pointerEvents:\"auto\"}},r?a.createElement(a.Fragment,null,a.createElement(\"a\",{className:\"btn\",onClick:function(){return e.toggleDetails(n)}},s?\"Dölj detailer\":\"Visa detailjer\"),\" \"):void 0,s?a.createElement(\"p\",null,\"\"+r):a.createElement(a.Fragment,null,\" \"),o?a.createElement(\"a\",{className:\"btn\",onClick:function(){return e.retrySave()}},\"Försök spara nu\"):void 0):void 0)})),r.map((function(e){return a.createElement(\"p\",{key:e,className:\"info\"},e)}))))},t.prototype.removeError=function(e){this.setState((function(t){return{errors:t.errors.filter((function(t){return t.message!==e}))}}))},t.prototype.retrySave=function(){o.c.writer.retrySave()},t.prototype.toggleDetails=function(e){this.setState((function(t){return{errors:t.errors.map((function(t){return t.message===e?Object(r.a)(Object(r.a)({},t),{showDetails:!t.showDetails}):t}))}}))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(2),a=function(e){var t=e.thumbnail,n=e.url,a=e.title,o=e.label,i=e.icon,s=e.size,u=void 0===s?\"small\":s,c=e.customAction,l=o||a,d=t||i,p=!!d;return r.createElement(\"div\",{className:\"file-view \"+u},r.createElement(\"a\",{href:c?\"#\":n,target:c?void 0:\"_blank\",title:a},p?r.createElement(\"img\",{className:\"file-\"+(t?\"thumbnail\":\"icon\"),src:d,alt:a}):r.createElement(\"i\",{className:\"fas fa-file\"})),r.createElement(\"a\",{href:c?\"#\":n,target:c?void 0:\"_blank\",title:a,onClick:c},l))}},function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return l})),n.d(t,\"b\",(function(){return d})),n.d(t,\"a\",(function(){return p})),n.d(t,\"f\",(function(){return f})),n.d(t,\"d\",(function(){return h})),n.d(t,\"c\",(function(){return m}));var r,a,o,i,s=n(0),u=n(9),c=n(90);function l(e){var t=e.knowledgeRequirements.reduce((function(e,t){return e[t.id]=t,e}),{});return e.tasks.forEach((function(e){e.knowledgeRequirements.forEach((function(e){delete t[e.id]}))})),Object.keys(t).map((function(e){return t[e]}))}function d(e){return p([e],e.tasks)}function p(e,t){var n={};return e.forEach((function(e){e.knowledgeRequirements.forEach((function(e){n[e.id]=!0})),e.abilities.forEach((function(e){n[e.id]=!0})),e.centralContent.forEach((function(e){n[e.id]=!0}))})),t.forEach((function(e){e.knowledgeRequirements.forEach((function(e){delete n[e.id]})),e.abilities.forEach((function(e){delete n[e.id]})),e.centralContent.forEach((function(e){delete n[e.id]}))})),n}function f(e){return Object(u.k)([function(e){var t={};return Object(u.k)(e.modules.map((function(n){return n.taskIds.map((function(n){if(t[n]){var a=e.tasks.find((function(e){return e.id===n}));return Object(u.a)(r||(r=Object(s.e)(['Samma uppgift förekommer flera gånger: \"','\"'],['Samma uppgift förekommer flera gånger: \"','\"'])),a.name)}t[n]=!0})).filter((function(e){return e}))})))}(e),function(e){var t={};return e.tasks.map((function(e){if(e.url){if(t[e.url])return Object(u.a)(a||(a=Object(s.e)(['Två uppgifter pekar på samma URL: \"','\" samt \"','\"'],['Två uppgifter pekar på samma URL: \"','\" samt \"','\"'])),t[e.url].name,e.name);t[e.url]=e}})).filter((function(e){return e}))}(e),function(e){return e.modules.some((function(e){return\"\"===e.name}))&&Object(u.a)(o||(o=Object(s.e)([\"Det finns minst en modul utan angivet namn\"],[\"Det finns minst en modul utan angivet namn\"])))}(e),function(e){var t={};return e.modules.map((function(e){if(e.name&&t[e.name])return Object(u.a)(i||(i=Object(s.e)([\"Modulen med namn \",\" förekommer flera gånger\"],[\"Modulen med namn \",\" förekommer flera gånger\"])),e.name);e.name&&(t[e.name]=!0)}))}(e)]).filter((function(e){return e}))}function h(e){var t={};function n(e,n){(t[e]||(t[e]=[])).push(n)}return e.tasks.forEach((function(e){e.abilities.forEach((function(t){return n(t.id,e)})),e.centralContent.forEach((function(t){return n(t.id,e)})),e.futureAbilities.forEach((function(t){return n(t,e)}))})),t}function m(e){return e.responsibleTeachers.map((function(e){return{name:e.name,email:Object(c.d)(e),access:e.access||\"edit\"}}))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o})),n.d(t,\"b\",(function(){return i})),n.d(t,\"c\",(function(){return s}));var r=n(0),a=function(e,t,n){for(var r=[],a=t;a<=n;a++)r.push({schoolName:\"KED\",tuitionGroupName:e,studentFirstName:\"Student \"+a,studentLastName:\"Classroom\",studentEmailAddress:\"student\"+a+\".classroom@kedschools.com\"});return r},o=[{schoolName:\"KED\",teacherFirstName:\"Teacher 1\",teacherLastName:\"Classroom\",teacherEmailAddress:\"teacher1.classroom@kedschools.com\"},{schoolName:\"KED\",teacherFirstName:\"Teacher 2\",teacherLastName:\"Classroom\",teacherEmailAddress:\"teacher2.classroom@kedschools.com\"},{schoolName:\"KED\",teacherFirstName:\"Teacher 3\",teacherLastName:\"Classroom\",teacherEmailAddress:\"teacher3.classroom@kedschools.com\"},{schoolName:\"KED\",teacherFirstName:\"Carl\",teacherLastName:\"Holmberg\",teacherEmailAddress:\"carl@kedschools.com\"},{schoolName:\"KED\",teacherFirstName:\"David\",teacherLastName:\"Fahlander\",teacherEmailAddress:\"david.fahlander@kedschools.com\"},{schoolName:\"KED\",teacherFirstName:\"Andrei\",teacherLastName:\"Spatarelu\",teacherEmailAddress:\"andrei.spatarelu@vemendo.se\"},{schoolName:\"KED\",teacherFirstName:\"Andrei\",teacherLastName:\"Spatarelu\",teacherEmailAddress:\"andrei@kedschools.com\"}],i={\"DJUSÄL01\":[{schoolName:\"KED\",tuitionGroupName:\"DJUR1_GR1 (180816-190614)\",courseCode:\"DJUSÄL01\"},{schoolName:\"KED\",tuitionGroupName:\"DJUR1_GR2 (180816-190614)\",courseCode:\"DJUSÄL01\"},{schoolName:\"KED\",tuitionGroupName:\"DJUR1_GR3 (180816-190614)\",courseCode:\"DJUSÄL01\"}],DJUDJI0:[{schoolName:\"KED\",tuitionGroupName:\"DJUDJ_Gr1 (180816-190614)\",courseCode:\"DJUDJI0\"},{schoolName:\"KED\",tuitionGroupName:\"DJUDJ_Gr2 (180816-190614)\",courseCode:\"DJUDJI0\"}],KEMKEM01:[{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr1 (180816-190614)\",courseCode:\"KEMKEM01\"},{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr2 (180816-190614)\",courseCode:\"KEMKEM01\"}],MATMAT03b:[{schoolName:\"KED\",tuitionGroupName:\"MAT3b_Gr1 (180816-190614)\",courseCode:\"MATMAT03b\"},{schoolName:\"KED\",tuitionGroupName:\"MAT3b_Gr2 (180816-190614)\",courseCode:\"MATMAT03b\"},{schoolName:\"KED\",tuitionGroupName:\"MAT3b_Gr3 (180816-190614)\",courseCode:\"MATMAT03b\"}],BIOBIO01:[{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr1 (180816-190614)\",courseCode:\"BIOBIO01\"},{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr2 (180816-190614)\",courseCode:\"BIOBIO01\"}],SVESVE03:[{schoolName:\"KED\",tuitionGroupName:\"SVE3_Gr1 (180816-190614)\",courseCode:\"SVESVE03\"},{schoolName:\"KED\",tuitionGroupName:\"SVE3_Gr2 (180816-190614)\",courseCode:\"SVESVE03\"},{schoolName:\"KED\",tuitionGroupName:\"SVE3_Gr3 (180816-190614)\",courseCode:\"SVESVE03\"},{schoolName:\"KED\",tuitionGroupName:\"SVE3_Gr4 (180816-190614)\",courseCode:\"SVESVE03\"},{schoolName:\"KED\",tuitionGroupName:\"SVE3_Gr5 (180816-190614)\",courseCode:\"SVESVE03\"},{schoolName:\"KED\",tuitionGroupName:\"SVE3_Gr6 (180816-190614)\",courseCode:\"SVESVE03\"},{schoolName:\"KED\",tuitionGroupName:\"SVE3_Gr7 (180816-190614)\",courseCode:\"SVESVE03\"}]},s={\"DJUR1_GR1 (180816-190614)\":a(\"DJUR1_GR1 (180816-190614)\",1,12),\"DJUR1_GR2 (180816-190614)\":a(\"DJUR1_GR2 (180816-190614)\",13,24),\"DJUR1_GR3 (180816-190614)\":Object(r.h)([{schoolName:\"KED\",tuitionGroupName:\"DJUR1_GR3 (180816-190614)\",studentFirstName:\"Student2\",studentLastName:\"Classroom\",studentEmailAddress:\"student2.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"DJUR1_GR3 (180816-190614)\",studentFirstName:\"Carl\",studentLastName:\"Holmberg\",studentEmailAddress:\"carl@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"DJUR1_GR3 (180816-190614)\",studentFirstName:\"Andrei\",studentLastName:\"Spatarelu\",studentEmailAddress:\"andrei.spatarelu@vemendo.se\"},{schoolName:\"KED\",tuitionGroupName:\"DJUR1_GR3 (180816-190614)\",studentFirstName:\"Student3\",studentLastName:\"Classroom\",studentEmailAddress:\"student3.classroom@kedschools.com\"}],a(\"DJUR1_GR3 (180816-190614)\",23,34)),\"DJUDJ_Gr1 (180816-190614)\":Object(r.h)([{schoolName:\"KED\",tuitionGroupName:\"DJUDJ_Gr1 (180816-190614)\",studentFirstName:\"Carl\",studentLastName:\"Holmberg\",studentEmailAddress:\"carl@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"DJUDJ_Gr1 (180816-190614)\",studentFirstName:\"Andrei\",studentLastName:\"Spatarelu\",studentEmailAddress:\"andrei.spatarelu@vemendo.se\"},{schoolName:\"KED\",tuitionGroupName:\"DJUDJ_Gr1 (180816-190614)\",studentFirstName:\"David\",studentLastName:\"Fahlander\",studentEmailAddress:\"david.fahlander@kedschools.com\"}],a(\"DJUDJ_Gr1 (180816-190614)\",151,160)),\"DJUDJ_Gr2 (180816-190614)\":Object(r.h)([{schoolName:\"KED\",tuitionGroupName:\"DJUDJ_Gr2 (180816-190614)\",studentFirstName:\"Carl\",studentLastName:\"Holmberg\",studentEmailAddress:\"carl@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"DJUDJ_Gr2 (180816-190614)\",studentFirstName:\"Andrei\",studentLastName:\"Spatarelu\",studentEmailAddress:\"andrei.spatarelu@vemendo.se\"},{schoolName:\"KED\",tuitionGroupName:\"DJUDJ_Gr2 (180816-190614)\",studentFirstName:\"David\",studentLastName:\"Fahlander\",studentEmailAddress:\"david.fahlander@kedschools.com\"}],a(\"DJUDJ_Gr2 (180816-190614)\",161,165)),\"MAT3b_Gr1 (180816-190614)\":a(\"MAT3b_Gr1 (180816-190614)\",3,23),\"MAT3b_Gr3 (180816-190614)\":a(\"MAT3b_Gr3 (180816-190614)\",24,49),\"MAT3b_Gr2 (180816-190614)\":Object(r.h)([{schoolName:\"KED\",tuitionGroupName:\"MAT3b_Gr2 (180816-190614)\",studentFirstName:\"Andrei\",studentLastName:\"Spatarelu\",studentEmailAddress:\"andrei@kedschools.com\"}],a(\"MAT3b_Gr2 (180816-190614)\",50,72)),\"IDR1_Gr1 (180816-190614)\":a(\"IDR1_Gr1 (180816-190614)\",1,12),\"IDR1_Gr2 (180816-190614)\":a(\"IDR1_Gr2 (180816-190614)\",13,22),\"IDR1_Gr3 (180816-190614)\":a(\"IDR1_Gr3 (180816-190614)\",23,34),\"KEM1_Gr1 (180816-190614)\":[{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr1 (180816-190614)\",studentFirstName:\"Student 2\",studentLastName:\"Classroom\",studentEmailAddress:\"student2.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr1 (180816-190614)\",studentFirstName:\"Student 3\",studentLastName:\"Classroom\",studentEmailAddress:\"student3.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr1 (180816-190614)\",studentFirstName:\"Student 8\",studentLastName:\"Classroom\",studentEmailAddress:\"student8.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr1 (180816-190614)\",studentFirstName:\"Student 9\",studentLastName:\"Classroom\",studentEmailAddress:\"student9.classroom@kedschools.com\"}],\"KEM1_Gr2 (180816-190614)\":[{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr2 (180816-190614)\",studentFirstName:\"Student 1\",studentLastName:\"Classroom\",studentEmailAddress:\"student1.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr2 (180816-190614)\",studentFirstName:\"Student 5\",studentLastName:\"Classroom\",studentEmailAddress:\"student5.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"KEM1_Gr2 (180816-190614)\",studentFirstName:\"Student 6\",studentLastName:\"Classroom\",studentEmailAddress:\"student6.classroom@kedschools.com\"}],\"BIO1_Gr1 (180816-190614)\":[{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr1 (180816-190614)\",studentFirstName:\"Student 1\",studentLastName:\"Classroom\",studentEmailAddress:\"student1.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr1 (180816-190614)\",studentFirstName:\"Student 4\",studentLastName:\"Classroom\",studentEmailAddress:\"student4.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr1 (180816-190614)\",studentFirstName:\"Student 6\",studentLastName:\"Classroom\",studentEmailAddress:\"student6.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr1 (180816-190614)\",studentFirstName:\"Student 10\",studentLastName:\"Classroom\",studentEmailAddress:\"student10.classroom@kedschools.com\"}],\"BIO1_Gr2 (180816-190614)\":[{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr2 (180816-190614)\",studentFirstName:\"Student 2\",studentLastName:\"Classroom\",studentEmailAddress:\"student2.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr2 (180816-190614)\",studentFirstName:\"Student 7\",studentLastName:\"Classroom\",studentEmailAddress:\"student7.classroom@kedschools.com\"},{schoolName:\"KED\",tuitionGroupName:\"BIO1_Gr2 (180816-190614)\",studentFirstName:\"Student 8\",studentLastName:\"Classroom\",studentEmailAddress:\"student8.classroom@kedschools.com\"}],\"SVE3_Gr1 (180816-190614)\":a(\"SVE3_Gr1 (180816-190614)\",1,21),\"SVE3_Gr2 (180816-190614)\":a(\"SVE3_Gr2 (180816-190614)\",22,44),\"SVE3_Gr3 (180816-190614)\":a(\"SVE3_Gr3 (180816-190614)\",45,61),\"SVE3_Gr4 (180816-190614)\":a(\"SVE3_Gr4 (180816-190614)\",62,78),\"SVE3_Gr5 (180816-190614)\":a(\"SVE3_Gr5 (180816-190614)\",83,107),\"SVE3_Gr6 (180816-190614)\":a(\"SVE3_Gr6 (180816-190614)\",108,124),\"SVE3_Gr7 (180816-190614)\":a(\"SVE3_Gr7 (180816-190614)\",125,150)}},function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return o})),n.d(t,\"e\",(function(){return i})),n.d(t,\"a\",(function(){return s})),n.d(t,\"c\",(function(){return u})),n.d(t,\"d\",(function(){return c})),n.d(t,\"b\",(function(){return l}));var r=n(0),a=n(9);function o(e){return Object(a.j)((e||[]).filter((function(e){return e.startsWith(\"sub:\")})).map((function(e){return e.substr(\"sub:\".length)})))}function i(e){return Object(a.j)((e||[]).filter((function(e){return e.startsWith(\"course:\")})).map((function(e){return e.substr(e.indexOf(\"|\")+1)})))}function s(e,t,n){var o=(e||[]).filter((function(e){return!e.startsWith(\"course:\")&&!e.startsWith(\"sub:\")&&!e.startsWith(\"grade:\")})),i=t.map((function(e){return\"sub:\"+e})),s=Object(a.k)(t.map((function(e){return n.map((function(t){return\"course:\"+e+\"|\"+t}))}))),u=Object(a.k)(n.map((function(e){return function(e){var t=Object(r.f)(e.split(\"-\"),2),n=t[0],a=t[1],o=[];if(n&&a)for(var i=parseInt(n),s=parseInt(a);i<=s;)o.push(i),i++;return o}(e)}))),c=e.includes(\"active\")?u.map((function(e){return\"grade:\"+e})):[];return o.concat(i).concat(s).concat(c)}function u(e,t){return s(e,o(e),t)}function c(e,t){return s(e,t,i(e))}function l(e,t){var n=o(e),r=i(e);return s(e.filter((function(e){return\"active\"!==e})).concat(t?\"active\":[]),n,r)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(2),o=n(4),i=n(169),s=function(e){function t(t){var n=e.call(this,t)||this;return n.onEnvUpdated=n.onEnvUpdated.bind(n),n.state={env:t.tutored?null:o.a},n}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.props.tutored&&i.a.subscribe(this.onEnvUpdated)},t.prototype.componentWillUnmount=function(){this.props.tutored&&i.a.unsubscribe(this.onEnvUpdated)},t.prototype.onEnvUpdated=function(e){this.setState({env:e})},t.prototype.render=function(){var e=this.state.env;return e?e.kedBackendClient?this.props.createComponent(e):a.createElement(\"div\",null,\"Laddar...\"):a.createElement(\"div\",null)},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var r,a=n(0),o=n(2),i=n(104),s=n(55),u=n(53),c=n.n(u),l=n(9),d=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOutsideClick=n.handleOutsideClick.bind(n),n.onKeyPress=n.onKeyPress.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n}return Object(a.c)(t,e),t.prototype.componentDidUpdate=function(e){null!==this.lastDiv&&e.dialogs.length>this.props.dialogs.length&&c()(Object(s.findDOMNode)(this.lastDiv)).find(\":input\").first().focus()},t.prototype.handleOutsideClick=function(e){this.lastDiv&&this.lastDiv.contains(e.target)||(this.props.popDialog(),e.stopPropagation())},t.prototype.onKeyPress=function(e){13!==e.which||e.target&&\"TEXTAREA\"===e.target.tagName||c()(Object(s.findDOMNode)(this.lastDiv)).find(\".btn-default\").click(),e.stopPropagation()},t.prototype.onKeyDown=function(e){if(27===e.which)return this.props.popDialog(),void e.stopPropagation();if(83===e.which&&(e.ctrlKey||e.metaKey)){var t=Object(s.findDOMNode)(this.lastDiv);e.preventDefault(),c()(t).find(\".btn-default\").click(),e.stopPropagation()}},t.prototype.render=function(){var e=this;this.lastDiv=null;var t=this.props,n=t.dialogs,s=t.popDialog;return c()(\"body\").attr(\"aria-disabled\",n.length>0),c()(\"body\").css(\"overflow\",n.length>0?\"hidden\":\"auto\"),n.length>0&&o.createElement(\"div\",null,n.map((function(t,u){return o.createElement(\"div\",{key:u},o.createElement(\"div\",{className:\"darken\"}),o.createElement(\"div\",{className:\"modal-page-wrap\",onClick:e.handleOutsideClick},o.createElement(\"div\",{className:\"modal-page\",ref:function(t){u===n.length-1&&(e.lastDiv=t)},tabIndex:0,\"aria-disabled\":u<n.length-1,onKeyPress:e.onKeyPress,onKeyDown:e.onKeyDown},t,o.createElement(i.a,{onClick:s,title:Object(l.a)(r||(r=Object(a.e)([\"Stäng\"],[\"Stäng\"])))}),o.createElement(\"div\",{className:\"stopFloats\"}))))})))},t}(o.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(0),a=n(2);var o=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(\"label\",{className:\"kclabel\",htmlFor:this.props.id||(e=this.props.children,t=new Set,function e(n){if(\"string\"==typeof n)return null;if(!t.has(n)){if(t.add(n),n.props)return n.props.id?n.props.id:n.props.children?e(n.props.children):void 0;if(n.length)for(var r=0;r<n.length;++r){var a=n[r];if(a){var o=e(a);if(o)return o}}}}(e))},this.props.label),this.props.children);var e,t},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(2),o=n(119),i=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this;return a.createElement(o.a,{label:this.props.label,id:this.props.id},a.createElement(\"div\",{className:\"align-horizontal\"},a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"textarea\",{autoFocus:this.props.autoFocus,id:this.props.id,cols:35,rows:this.props.rows||5,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)},placeholder:this.props.placeholder})),!!this.props.children&&a.createElement(\"div\",{className:\"horizontalItem\"},this.props.children)))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(85);function o(e,t){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var n=t||{},o=n.locale,i=o&&o.options&&o.options.weekStartsOn,s=null==i?0:Object(r.a)(i),u=null==n.weekStartsOn?s:Object(r.a)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");var c=Object(a.a)(e),l=c.getUTCDay(),d=(l<u?7:0)+l-u;return c.setUTCDate(c.getUTCDate()-d),c.setUTCHours(0,0,0,0),c}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(r.a)(e),n=t.getUTCDay(),a=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o})),n.d(t,\"c\",(function(){return i})),n.d(t,\"d\",(function(){return s})),n.d(t,\"b\",(function(){return u}));var r=n(5),a=n.n(r);function o(e,t){var n=a()(new Date(e,1,1)).week(t);return{year:e,week:t,notBefore:n.clone().startOf(\"week\").add(-2,\"days\").toDate().getTime(),notAfter:n.clone().startOf(\"week\").add(5,\"days\").toDate().getTime()}}function i(e){var t=a()(e).add(1,\"week\");return e.week()===e.weeksInYear()&&t.year()===e.year()?{adjusted:!0,nextDate:a()(e.year()+1+\"-01-01\").toDate()}:{adjusted:!1,nextDate:t.toDate()}}function s(e){var t=a()(e).add(-1,\"week\");return 2===e.week()&&t.year()!==e.year()?{adjusted:!0,nextDate:a()(e.year()+\"-01-01\").toDate()}:{adjusted:!1,nextDate:t.toDate()}}function u(e){e.clone();return e.weekday()>=5?e.week()+1:e.week()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(2),a=n.n(r).a.createContext({openDialog:null,closeDialog:null})},function(e,t,n){\"use strict\";var r=n(263),a=n(264),o={}.hasOwnProperty;var i=\"$push\",s=\"$unshift\",u=\"$splice\",c=\"$set\",l=\"$merge\",d=\"$apply\",p=[i,s,u,c,l,d],f={};function h(e,t,n){a(Array.isArray(e),\"update(): expected target of %s to be an array; got %s.\",n,e);var r=t[n];a(Array.isArray(r),\"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?\",n,r)}p.forEach((function(e){f[e]=!0})),e.exports=function e(t,n){if(a(\"object\"==typeof n,\"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?\",p.join(\", \"),c),o.call(n,c))return a(1===Object.keys(n).length,\"Cannot have more than one key in an object with %s\",c),n[c];var m,g=(m=t,Array.isArray(m)?m.concat():m&&\"object\"==typeof m?r(new m.constructor,m):m);if(o.call(n,l)){var v=n[l];a(v&&\"object\"==typeof v,\"update(): %s expects a spec of type 'object'; got %s\",l,v),a(g&&\"object\"==typeof g,\"update(): %s expects a target of type 'object'; got %s\",l,g),r(g,n[l])}for(var b in o.call(n,i)&&(h(t,n,i),n[i].forEach((function(e){g.push(e)}))),o.call(n,s)&&(h(t,n,s),n[s].forEach((function(e){g.unshift(e)}))),o.call(n,u)&&(a(Array.isArray(t),\"Expected %s target to be an array; got %s\",u,t),a(Array.isArray(n[u]),\"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?\",u,n[u]),n[u].forEach((function(e){a(Array.isArray(e),\"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?\",u,n[u]),g.splice.apply(g,e)}))),o.call(n,d)&&(a(\"function\"==typeof n[d],\"update(): expected spec of %s to be a function; got %s.\",d,n[d]),g=n[d](g)),n)f.hasOwnProperty(b)&&f[b]||(g[b]=e(t[b],n[b]));return g}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(0),a=n(2),o=n(4),i=n(103),s=n(20),u=n(188),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={subject:null},n}return Object(r.c)(t,e),t.prototype.componentWillMount=function(){this.load()},t.prototype.load=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,o.a.kedBackendClient.get(\"subjects\",this.props.id,{include:\"courseTemplates\"})];case 1:return e=t.sent(),this.setState({subject:e}),[2]}}))}))},t.prototype.render=function(){if(!this.state.subject)return a.createElement(\"p\",null,a.createElement(s.a,null));var e=this.state.subject,t=e.name;e.code,e.courseTemplates,e.schoolType;return a.createElement(\"div\",null,a.createElement(i.a,{title:t,activePage:\"subjects\",routes:{feedback:this.props.feedbackUrl}}),a.createElement(u.a,{id:this.props.id}))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(190),o=n(128),i={\"google-apps\":\"application/vnd.google-apps.document,application/vnd.google-apps.presentation,application/vnd.google-apps.spreadsheet\",pdf:\"application/pdf\"},s=function(e){function t(t){var n=e.call(this,{scopes:[\"https://www.googleapis.com/auth/drive\"]})||this;return n.options={upload:!1,multiple:!1,limitType:!1,onlyMine:!1,addCommenter:!1},Object.assign(n.options,t),n.drive=new o.a,n}return Object(r.c)(t,e),t.prototype.show=function(){return Object(r.b)(this,void 0,void 0,(function(){var e=this;return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,this.ensureInited()];case 1:return t.sent(),[2,new Promise((function(t,n){var r=(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.SUPPORT_DRIVES).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).addView((new google.picker.DocsView).setOwnedByMe(!0).setIncludeFolders(!0)).addView((new google.picker.DocsView).setIncludeFolders(!0).setEnableTeamDrives(!0)).setLocale(\"sv\").setSize(1051,650).setOAuthToken(e.authToken).setCallback((function(r){if(r.action==google.picker.Action.CANCEL)n();else if(r.action==google.picker.Action.PICKED){var a=[];r.docs.map((function(t){var n=t.id,r=t.mimeType,o=t.name,i=t.modifiedTime,s=t.iconUrl,u=t.url,c=r.includes(\"google-apps\");a.push({fileId:n,mimeType:r,name:o,modifiedTime:i,canExport:c,iconUrl:s,url:u}),e.drive.updatePermissions(n)})),t(a)}}));if(e.options.upload&&r.addView((new google.picker.DocsUploadView).setIncludeFolders(!0)),e.options.multiple&&r.enableFeature(google.picker.Feature.MULTISELECT_ENABLED),e.options.onlyMine&&r.enableFeature(google.picker.Feature.MINE_ONLY),e.options.limitType){var a=i[e.options.limitType];console.log(a),r.setSelectableMimeTypes(a)}e.picker=r.build(),e.picker.setVisible(!0)}))]}}))}))},t.prototype.close=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.picker.dispose(),[2]}))}))},t}(a.a)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(0),a=function(e){function t(){return e.call(this,{discoveryDocs:\"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest\"})||this}return Object(r.c)(t,e),t.prototype.getFile=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,this.ensureInited()];case 1:return t.sent(),[2,gapi.client.drive.files.get({fileId:e,supportsAllDrives:!0,fields:\"id,name,mimeType,webViewLink,iconLink,modifiedTime,thumbnailLink\"}).then((function(e){if(e.result.name){var t=e.result;return{fileId:t.id,url:t.webViewLink,mimeType:t.mimeType,name:t.name,modiifiedTime:t.modifiedTime,iconUrl:t.iconLink,thumbnailUrl:t.thumbnailLink}}return null}))]}}))}))},t.prototype.updatePermissions=function(e,t){return void 0===t&&(t=!1),Object(r.b)(this,void 0,void 0,(function(){var n,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),console.log(\"updating permissions\"),[4,this.ensureInited()];case 1:return r.sent(),n=\"KED\"==window.KED.env.currentUser.school?\"kedschools.com\":\"kunskapsskolan.se\",a={fileId:e,sendNotificationEmail:!1,role:t?\"commenter\":\"reader\",type:\"domain\",domain:n,supportsAllDrives:!0},gapi.client.drive.permissions.create(a).then((function(e){return console.log(e)})),[3,3];case 2:return r.sent(),console.log(\"unable to update permissions\"),[3,3];case 3:return[2]}}))}))},t.prototype.createFolder=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return console.log(\"Creating folder \"+e),[4,this.ensureInited()];case 1:return n.sent(),[2,gapi.client.drive.files.create({name:e,mimeType:\"application/vnd.google-apps.folder\",parents:[t]}).then((function(e){return e.result}))]}}))}))},t.prototype.getIdForFolderPath=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,o,i,s,u,c,l;return Object(r.d)(this,(function(d){switch(d.label){case 0:return console.log(\"Getting id for \"+e.join(\"/\")),[4,this.ensureInited()];case 1:d.sent(),t=\"root\",d.label=2;case 2:d.trys.push([2,9,10,11]),n=Object(r.i)(e),a=n.next(),d.label=3;case 3:return a.done?[3,8]:(o=a.value,[4,this.getIdForFolder(o,t)]);case 4:return(i=d.sent())?(t=i,[3,7]):[3,5];case 5:return[4,this.createFolder(o,t)];case 6:s=d.sent(),t=s.id,d.label=7;case 7:return a=n.next(),[3,3];case 8:return[3,11];case 9:return u=d.sent(),c={error:u},[3,11];case 10:try{a&&!a.done&&(l=n.return)&&l.call(n)}finally{if(c)throw c.error}return[7];case 11:return[2,t]}}))}))},t.prototype.getIdForFolder=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return console.log(\"Getting id for \"+e),[4,this.ensureInited()];case 1:return n.sent(),[2,gapi.client.drive.files.list({corpora:\"user\",q:\"'\"+t+\"' in parents and mimeType = 'application/vnd.google-apps.folder' and name = '\"+e+\"'\"}).then((function(e){return!!e.result.files.length&&e.result.files[0].id}))]}}))}))},t.prototype.copyFile=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return console.log(\"Copying file: \"+e.name),[4,this.ensureInited()];case 1:return n.sent(),t?[4,this.getIdForFolderPath(t)]:[3,3];case 2:return n.sent(),[3,4];case 3:\"root\",n.label=4;case 4:return[2,gapi.client.drive.files.copy({fileId:e.id,supportsAllDrives:!0,parents:[parent],name:e.name,fields:\"id,name,mimeType,webViewLink,iconLink,modifiedTime,thumbnailLink\"}).then((function(e){return e.result}))]}}))}))},t.prototype.handInFile=function(e,t,n,a){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return console.log(\"handing in file\"),[4,this.ensureInited()];case 1:return n.sent(),t=gapi.client.newBatch(),[4,a.forEach((function(n){t.add(gapi.client.drive.permissions.create({fileId:e,sendNotificationEmail:!1,role:\"writer\",type:\"user\",emailAddress:n}))}))];case 2:return n.sent(),t.then((function(e){return console.log(e)})),[2]}}))}))},t.prototype.reclaimFile=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return[2]}))}))},t.prototype.returnFile=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return[2]}))}))},t.prototype.updateUrkundProperties=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return[2]}))}))},t.prototype.downloadFile=function(e){var t=e.file,n=e.limitSize,a=e.mimeType;return Object(r.b)(this,void 0,void 0,(function(){var e,o,i=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.ensureInited()];case 1:return r.sent(),e=a||\"application/pdf\",t.canExport?[2,new Promise((function(n,r){gapi.client.drive.files.export({fileId:t.fileId,mimeType:e}).then((function(r){for(var a=r.body.length,o=new Uint8Array(new ArrayBuffer(a)),i=0;i<a;i++)o[i]=r.body.charCodeAt(i);var s=new Blob([o],{type:e}),u=t.name+\".pdf\";n(new File([s],u,{type:e,lastModified:t.modifiedTime}))}))}))]:(o=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open(\"GET\",\"https://www.googleapis.com/drive/v3/files/\"+e.fileId+\"?alt=media\",!0),r.setRequestHeader(\"Authorization\",\"Bearer \"+i.token),r.responseType=\"blob\",r.onload=function(){t(new File([r.response],e.name,{type:e.mimeType,lastModified:e.modifiedTime}))},r.send()}))},[2,new Promise((function(e,r){void 0!==n?gapi.client.drive.files.get({fileId:t.fileId,fields:\"size\"}).then((function(e){Number(e.result.size)>1024*n*1024&&r(\"GooglePickerError: Fildsize is too laarge\")})).then((function(){o(t).then((function(t){e(t)}))})):o(t).then((function(t){e(t)}))}))])}}))}))},t}(n(143).a)},function(e,t,n){\"use strict\";function r(e,t,n,r){var a=e.map((function(e,t){return{doc:e,idx:t}})),o=a.filter((function(e){return e.doc.id===t}))[0],i=a.filter((function(e){return e.doc.id===n}))[0];if(o&&i){var s=i.idx;o.doc.order;return\"after\"===r?s===e.length-1?Date.now():e[s].order+Math.random()*(e[s+1].order-e[s].order):0===s?Math.round(e[0].order-100-1e4*Math.random()):e[s-1].order+Math.random()*(e[s].order-e[s-1].order)}return 0}n.d(t,\"a\",(function(){return r}))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(2),o=n(89),i=n(9),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return Object(r.c)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.options,r=t.title,s=t.markedIds,u=t.markMode,c=t.migratedIds,l=t.uncoveredIds,d=Object(i.b)(n,(function(e){return e.group||\"default\"})),p=Object.keys(d);return a.createElement(o.a,{title:a.createElement(\"p\",null,r),className:\"larger\"},p.map((function(t){return a.createElement(a.Fragment,{key:t},1===p.length?null:a.createElement(a.Fragment,null,a.createElement(\"br\",null),a.createElement(\"h5\",null,t),a.createElement(\"hr\",null)),d[t].map((function(t){var n=s.some((function(e){return e===t.id})),r=c&&!!c[t.id],o=l&&l[t.id];return a.createElement(\"div\",{className:\"align-horizontal\",key:t.id,onClick:function(){return u&&e.props.onMarkChanged(t.id,!n)}},a.createElement(\"div\",{className:\"horizontalItem top spaced\"+(u?\" selectable\":\"\")+(n?\" markedGreen\":o?\" markedRed\":\"\")+(r?\" migrated\":\"\"),title:r?u?'Skolverket har uppdaterat textens formulering. Du kan granska ändringen genom att fälla ut varningsboxen till höger, med titel \"Uppdaterade formuleringar från Skolverket\"':\"Skolverket har uppdaterat textens formulering, men detta har ännu inte granskats av uppgiftens redigeringsbehörige\":void 0},a.createElement(\"p\",{dangerouslySetInnerHTML:{__html:t.name}}),a.createElement(\"br\",null)))})))})))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return p})),n.d(t,\"a\",(function(){return f}));var r,a=n(0),o=n(2),i=n(300),s=n(96),u=n(92),c=n(102),l=n(23),d=n(9),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragState=new s.a({tabBeingDragged:\"\",tabBeingHovered:\"\",insertBefore:!1,originClientX:-1}),t}return Object(a.c)(t,e),t.prototype.render=function(){var e=this,t=this.props.lazyProps;return o.createElement(\"div\",{className:\"sv-row sv-layout sv-skip-spacer\",style:{overflow:\"visible\"}},o.createElement(\"div\",{className:\"sv-layout sv-skip-spacer sv-column-12\"},o.createElement(\"div\",{className:\"sv-script-portlet sv-portlet sv-skip-spacer\"},o.createElement(u.a,{noError:!0},t.map((function(e){var t=e.backgroundImage;return t&&o.createElement(\"style\",null,\"\\n              .pageHeader {\\n                background-image: url('\"+t+\"') !important;\\n              }\\n            \")}))),o.createElement(\"div\",{className:\"pageHeader\"},o.createElement(\"a\",null,o.createElement(\"h1\",null,o.createElement(u.a,{noError:!0},t.map((function(e){return o.createElement(o.Fragment,null,e.title)}))))),o.createElement(u.a,{noError:!0},t.map((function(e){var t=e.cornerBox;return t&&o.createElement(\"div\",{className:\"pageHeaderCornerBox\"},t)}))),o.createElement(\"div\",{className:\"buttonsField\"},o.createElement(\"div\",{className:\"buttonsContainer\"},o.createElement(u.a,{spinner:o.createElement(c.a,null)},t.map((function(t){var n=t.tabs,s=t.buttons,c=t.activeTab,p=t.blocks,f=t.sortableTabs,h=t.onTabDrop,m=t.modifiedItems;return o.createElement(o.Fragment,null,p?o.createElement(\"div\",{className:\"align-horizontal\"},p.map((function(e){return o.createElement(\"div\",{key:e.id,className:\"horizontalItem top\"},o.createElement(\"div\",{className:\"align-vertical\"},o.createElement(\"div\",null,o.createElement(\"a\",null,e.name)),o.createElement(\"div\",null,o.createElement(\"div\",{className:\"btn-group\"},e.steps.map((function(t){return o.createElement(o.Fragment,{key:t.stepNo},o.createElement(i.a,{to:t.link,className:\"btn btn-small step-button\"+(t.isActive?\" activePage\":\"\")+(m&&m[\"blockStep:\"+e.id+\":\"+t.stepNo]?\" has-modifications\":\"\")},t.stepNo),o.createElement(\"a\",null))}))))))}))):null,o.createElement(\"div\",{className:\"horizontalMenu\"},o.createElement(u.a,null,e.dragState.map((function(t){var u=t.tabBeingDragged,p=t.tabBeingHovered,g=t.insertBefore,v=t.originClientX;return o.createElement(\"ul\",{className:f?\"sortable\":null,onDrop:h?function(t){p&&u&&h(u,p,g?\"before\":\"after\"),e.dragState.dispatch(Object(a.a)(Object(a.a)({},e.dragState.value),{tabBeingHovered:\"\",tabBeingDragged:\"\"}))}:null},n.map((function(t,n){var s=t.name,h=t.key,b=t.link,y=t.onClick,E=t.draggable,w=t.hidden,k=c===h||\"$\"===c&&0===n,O=e.dragState;return s=s||Object(d.a)(r||(r=Object(a.e)([\"(Namnlös flik)\"],[\"(Namnlös flik)\"]))),o.createElement(o.Fragment,{key:h},g&&p===h?o.createElement(\"li\",{className:\"drop-target\",onDragOver:function(e){return e.preventDefault()}},\" \"):null,o.createElement(\"li\",{className:[k?\"activePage\":\"\",w?\"hidden-tab\":\"\",h===u?\"drag-source\":\"\",f&&E?\"draggable\":\"\",m&&m[\"tab:\"+h]?\"has-modifications\":\"\"].filter((function(e){return e})).join(\" \"),draggable:f&&E,onDragStart:f&&E?function(e){e.dataTransfer.effectAllowed=\"move\",O.dispatch(Object(a.a)(Object(a.a)({},O.value),{originClientX:e.clientX,tabBeingDragged:h}))}:null,onDragOver:f?function(e){u!==h?u&&(e.preventDefault(),e.dataTransfer.dropEffect=\"move\",O.dispatch(Object(a.a)(Object(a.a)({},O.value),{tabBeingHovered:h,insertBefore:v>e.clientX}))):O.dispatch(Object(a.a)(Object(a.a)({},O.value),{tabBeingHovered:\"\"}))}:null,onDragEnd:function(t){e.dragState.dispatch(Object(a.a)(Object(a.a)({},O.value),{tabBeingHovered:\"\",tabBeingDragged:\"\"}))}},b?b.startsWith(\":\")?o.createElement(\"a\",{href:Object(l.f)(b.substr(1),{})},s):o.createElement(i.a,{to:b},s):y?o.createElement(\"a\",{onClick:y},s):s),g||p!==h?null:o.createElement(\"li\",{className:\"drop-target\",onDragOver:function(e){return e.preventDefault()}},\" \"))})),s&&s.map((function(e,t){return o.createElement(\"li\",{className:\"action-tab\",key:\"btn\"+t},e)})))})))))})))))))))},t}(o.Component),f=function(e){return o.createElement(p,{lazyProps:new s.a(e)})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(2),o=n(89),i=n(9),s=function(e){var t=e.title,n=e.className,s=e.headerOpen,c=e.idsToSubjectMap,l=e.requirements;if(!c)return a.createElement(o.a,{title:a.createElement(\"p\",null,t),className:n,headerOpen:s},a.createElement(u,Object(r.a)({},Object(r.a)({},e))));var d=c?Object(i.b)(l,(function(e){return c[e.id]||\"\"})):{\"\":l},p=Object.keys(d).map((function(e){return{subject:e,requirements:d[e]}}));return a.createElement(o.a,{title:a.createElement(\"p\",null,t),className:n,headerOpen:s},p.map((function(t){var n=t.subject,o=t.requirements;return a.createElement(u,Object(r.a)({},Object(r.a)(Object(r.a)({},e),{key:n,heading:n,requirements:o})))})))},u=function(e){for(var t=e.requirements,n=e.includedIds,r=e.explainedRequirements,o=e.partialRequirments,i=e.heading,s=[\"E\",\"C\",\"A\"],u=[],c=t.slice(),l=null;!(l=s.map((function(e){var t=c.findIndex((function(t){return t.gradeStep.toUpperCase()===e}));if(t<0)return null;var r=c[t];return c.splice(t,1),n?n[r.id]?r:void 0:r}))).every((function(e){return null===e}));)l.every((function(e){return!e}))||u.push(l);return a.createElement(a.Fragment,null,i&&a.createElement(\"h4\",null,i),a.createElement(\"table\",null,a.createElement(\"thead\",null,a.createElement(\"tr\",null,s.map((function(e){return a.createElement(\"th\",{key:e},e)})))),a.createElement(\"tbody\",null,u.map((function(e,t){return a.createElement(a.Fragment,{key:t},a.createElement(\"tr\",{key:t},e.map((function(e,t){var n=e&&o&&o[e.id];return a.createElement(\"td\",{key:t,dangerouslySetInnerHTML:{__html:n?n.join(\".\"):e?e.name:\"\"}})}))),r&&a.createElement(\"tr\",null,e.map((function(e,t){return a.createElement(\"td\",{key:t,className:\"explained-requirement\"},a.createElement(\"div\",null,e&&r[e.id]||\"\"))}))))})))))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(0),a=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={headerOpen:t.headerOpen||!1},n}return Object(r.c)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.subTitle,o=t.abilities,i=t.className,s=this.state.headerOpen;return a.createElement(\"div\",{className:(i||\"\")+\" openClose\"+(s?\" open\":\"\")},a.createElement(\"div\",{className:\"openHeader\",onClick:function(){return e.setState({headerOpen:!e.state.headerOpen})}},a.createElement(\"p\",null,n)),a.createElement(\"div\",{className:\"openContent\"},a.createElement(\"div\",{className:\"abilityList\"},r&&a.createElement(\"div\",{className:\"contentHeader\"},a.createElement(\"h5\",null,r)),o.map((function(e){return a.createElement(\"div\",{key:e.id,className:\"contentPart\"},a.createElement(\"div\",{className:\"contentText\"},a.createElement(\"p\",{dangerouslySetInnerHTML:{__html:e.name}})))})))))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(0),a=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={headerOpen:t.headerOpen||!1},n}return Object(r.c)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.subTitle,o=t.centralContent,i=t.className,s=this.state.headerOpen;return a.createElement(\"div\",{className:(i||\"\")+\" openClose\"+(s?\" open\":\"\")},a.createElement(\"div\",{className:\"openHeader\",onClick:function(){return e.setState({headerOpen:!e.state.headerOpen})}},a.createElement(\"p\",null,n)),a.createElement(\"div\",{className:\"openContent\"},a.createElement(\"div\",{className:\"abilityList\"},r&&a.createElement(\"div\",{className:\"contentHeader\"},a.createElement(\"h5\",null,r)),o.map((function(e){return a.createElement(\"div\",{key:e.id,className:\"contentPart\"},a.createElement(\"div\",{className:\"contentText\"},a.createElement(\"p\",{dangerouslySetInnerHTML:{__html:e.name}})))})))))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(4),a=n(23);function o(e){return e?Object(a.e)(r.a.currentUser,e)||r.a.currentUser.roles.includes(\"ADMIN\"):r.a.currentUser.roles.some((function(e){return\"EMPLOYEE\"===e||\"ADMIN\"===e}))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var r=n(2),a=n.n(r),o=n(53),i=n.n(o),s=n(106),u=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{action:function(e){e.preventDefault(),sessionStorage.setItem(\"supportUrl\",window.location.href),window.location.href=\"/4.2a395e4132f14296eb80002043.html\"},addClass:\"btn-small\",faIcon:\"fas fa-exclamation-triangle\",label:\"Felanmäl\"}),\" \",a.a.createElement(s.a,{action:function(e){e.preventDefault(),e.stopPropagation();var t=i()(\"#flytta\");void 0===t.data(\"uiDraggable\")&&t.draggable({axis:\"y\",cursorAt:{top:1}}),t.stop().slideToggle(600)},faIcon:\"fas fa-minus\",label:\"Läslinjal\",addClass:\"btn-small\"}),a.a.createElement(\"div\",{id:\"flytta\",className:\"ui-draggable ui-draggable-handle\"}))}},function(e,t,n){\"use strict\";var r=n(0),a=n(111),o=n(4),i=n(5),s=n.n(i),u=n(179),c=function(){function e(e){\"string\"==typeof e?(this.user=e,this.lastWrite=Date.now(),this.weekDate=Object(u.a)().startOf(\"week\").valueOf(),this.openCourses={}):Object.assign(this,e)}return e.load=function(t){return Object(r.b)(this,void 0,void 0,(function(){var n,a,o;return Object(r.d)(this,(function(r){return n=localStorage.getItem(\"WeekPlannerPersistedState2\"),a=n&&JSON.parse(n),o=new e(t),a&&Object.assign(o,a),[2,o.user!==t||o.isExpired(s()())?new e(t):o]}))}))},e.prototype.save=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){return this.lastWrite=Date.now(),e=JSON.stringify(this),localStorage.setItem(\"WeekPlannerPersistedState2\",e),[2]}))}))},e.prototype.isExpired=function(t){return s()(this.lastWrite).isBefore(t.add(0-e.EXPIRATION_HOURS,\"hours\"))},e.EXPIRATION_HOURS=12,e.VERSION=2,e}(),l=n(3),d=n(123);n.d(t,\"b\",(function(){return p})),n.d(t,\"a\",(function(){return f}));var p=o.a.userTasksRepo,f=function(e){function t(t,n){var a=e.call(this,{getClient:t,optimistic:!0,table:\"usertasks\",user:n()?n().mail:\"\",getQueryOptions:function(){return Object(r.b)(a,void 0,void 0,(function(){var e,t,a,o,i,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e=n(),t=e?e.mail:\"\",this.persistedState?[3,2]:(a=this,[4,c.load(t)]);case 1:a.persistedState=r.sent(),r.label=2;case 2:return o=this.persistedState.weekDate,i=s()(o).week(),[2,{from:(u=Object(d.a)(s()(o).year(),i)).notBefore,to:u.notAfter,role:\"USER\",include:[\"task\",\"course\"],flags:[\"includeIdsOnly\"]}]}}))}))}})||this;return a.persistedState=null,a.getCurrentUser=n,a}return Object(r.c)(t,e),t.prototype.updatePersistedState=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return Object.assign(this.persistedState,e),[4,this.persistedState.save()];case 1:return t.sent(),this.mem.notifySubscribers(),[2]}}))}))},t.prototype.setTaskDoneState=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,a,o,i,u,c,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=this.options,a=n.getClient,o=n.optimistic,n.table,i=a(),u=Object.assign({},e,{done:t}),o?[4,this.mem.update(Object.assign({},u,{$meta:\"updating\"}))]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,i.list(\"usertasks\",{name:e.name,role:\"USER\",include:[\"task\",\"course\"],flags:[\"includeIdsOnly\"],from:s()(this.persistedState.weekDate).add(-3,\"weeks\").valueOf(),to:s()(this.persistedState.weekDate).add(3,\"weeks\").valueOf()},{cache:\"no-cache\"})];case 3:return c=r.sent(),0===(l=c.filter((function(t){return!(t.courseName!==e.courseName||t.learningGoal!==e.learningGoal||e.task&&t.task.map((function(e){return e.id})).join(\"\")!==e.task.map((function(e){return e.id})).join(\"\")||e.course&&t.course.map((function(e){return e.id})).join(\"\")!==e.course.map((function(e){return e.id})).join(\"\"))}))).length&&l.push(e),[4,this.update(l,(function(e){return e.done=t}))];case 4:return r.sent(),[2]}}))}))},t.prototype.setSubTaskDoneState=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var a,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return a=this.options,o=a.getClient,a.optimistic,a.table,o(),[4,this.update([e],(function(e){return e.subTasks&&e.subTasks.filter((function(e){return e.id===t})).forEach((function(e){return e.done=n}))}))];case 1:return r.sent(),[2]}}))}))},t.prototype.setWeekPlannerBoxOpen=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(a){switch(a.label){case 0:return n=Object(r.a)({},this.persistedState.openCourses),t?n[e]=!0:delete n[e],[4,this.updatePersistedState({openCourses:n})];case 1:return a.sent(),[2]}}))}))},t.prototype.changeWeek=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=this.persistedState)?[3,2]:[4,c.load(this.options.user)];case 1:n=r.sent(),r.label=2;case 2:return(a=new c(n)).weekDate=t?s()(e).valueOf():s()(e).startOf(\"week\").valueOf(),a.save(),this.persistedState=a,[4,this.mem.refreshFromServer()];case 3:return r.sent(),[2]}}))}))},t.prototype.subscribe=function(e){var t=this,n=function(n){e(n.filter((function(e){return!e.weekTexts})),t.persistedState,n.filter((function(e){return!!e.weekTexts}))[0]||{id:Object(l.h)(),dateTime:t.persistedState.weekDate,weekTexts:{assessment:\"\",strategy:\"\"},acl:[new l.b(\"email\",t.getCurrentUser().mail,\"S\")].map((function(e){return e.toString()}))})};n.subscriber=e,this.mem.subscribe(n)},t.prototype.unsubscribe=function(e){this.mem.subscribers=this.mem.subscribers.filter((function(t){return t.subscriber!==e}))},t}(a.a);p||(p=o.a.userTasksRepo=new f((function(){return o.a.kedBackendClient}),(function(){return o.a.currentUser}))).mem.ensureHasData()},function(e,t,n){\"use strict\";n(17),n(16);var r=n(25),a=n(15),o=n(26);function i(e){var t=!0,n=e.map((function(e){try{return e()}catch(e){if(!e||\"function\"!=typeof e.then)throw e;return t=!1,e}}));if(!t)throw Promise.all(n);return n}n.d(t,\"a\",(function(){return r.a})),n.d(t,\"b\",(function(){return a.a})),n.d(t,\"c\",(function(){return o.a})),n.d(t,\"d\",(function(){return i}))},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(4),i=n(5),s=n.n(i),u=n(3),c=n(137),l=n(9);function d(e){return a.createElement(\"div\",{className:\"confirmation-box \"+e.className+(e.visible?\" visible\":\"\")},a.createElement(\"p\",null,e.text),a.createElement(\"button\",{onClick:function(){return e.onConfirm()}},\"OK\"),a.createElement(\"button\",{onClick:function(){return e.onCancel()}},\"Avbryt\"))}var p=n(31),f=n(155);n.d(t,\"a\",(function(){return h}));var h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={userTasks:[],weekDate:Date.now(),confirmations:[]},n.onChange=n.onChange.bind(n),n}return Object(r.c)(t,e),t.prototype.onChange=function(e,t){t.weekDate!==this.state.weekDate&&this.setState({confirmations:[]}),this.setState({userTasks:e,weekDate:t.weekDate})},t.prototype.componentDidMount=function(){c.b.subscribe(this.onChange)},t.prototype.componentWillUnmount=function(){c.b.unsubscribe(this.onChange)},t.prototype.toggleTask=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return t=this.state.userTasks.filter((function(t){return e.task?t.task&&t.task.some((function(t){return t.id===e.id})):t.siteVisionPageId===e.id})),n=this.state.weekDate,0!==t.length?[3,2]:(a=Math.max.apply(Math.max,[n].concat(this.state.userTasks.map((function(e){return e.dateTime})))),i={id:Object(u.h)(),courseName:e.courseName,dateTime:a+2e3,learningGoal:e.learningGoal,name:e.name,url:e.url,acl:[new u.b(\"email\",o.a.currentUser.mail,\"S\")].map((function(e){return e.toString()}))},e.task&&e.task.deadline&&(i.deadline=e.task.deadline),e.task?(i.task=[e.task],e.course?i.course=[e.course]:e.courseInfo&&(i.courseInfo=e.courseInfo)):i.siteVisionPageId=e.id,e.step&&(i.step=e.step),[4,Promise.all([c.b.setWeekPlannerBoxOpen(e.courseName,!0),c.b.insert([i])])]);case 1:return r.sent(),[3,4];case 2:return[4,c.b.delete(t.map((function(e){return e.id})))];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.render=function(){var e=this,t=this.context.intl,n=this.props.learningTasks,o=Object(l.c)(this.state.userTasks,(function(e){return e.task&&e.task.length>0?e.task.map((function(e){return e.id}))[0]:e.siteVisionPageId?e.siteVisionPageId:e.url})),i=this.state.confirmations,u=s()(this.state.weekDate).week(),c=s()().week(),p=u===c?\"\":u===c+1?t.formatMessage({id:\"taskList.nextWeekTask\",defaultMessage:\"för nästa vecka (v{week})\"},{week:u}):u===c-1?t.formatMessage({id:\"taskList.lastWeekTask\",defaultMessage:\"för förra veckan (v{week})\"},{week:u}):t.formatMessage({id:\"taskList.currentWeekTask\",defaultMessage:\"för vecka {week}\"},{week:u});return a.createElement(\"div\",{className:\"taskContainer\"},n.map((function(n,s){var l=n.id,h=o[l]||{$meta:\"deleted\"},m=\"adding\"===h.$meta||\"deleting\"===h.$meta,g=\"deleted\"!==h.$meta&&\"deleting\"!==h.$meta,v=g?t.formatMessage({id:\"taskList.removeTaskFromWeeklyPlanning\",defaultMessage:\"Ta bort uppgiften från egen veckoplanering {week}\"},{week:p}):t.formatMessage({id:\"taskList.addTaskToWeeklyPlanning\",defaultMessage:\"Lägg till uppgiften i egen veckoplanering {week}\"},{week:p}),b=i.some((function(e){return l===e}));return a.createElement(\"div\",{key:s},a.createElement(f.a,{state:g?\"checked\":\"\",onChange:function(){return m||u!==c?b?e.setState({confirmations:i.filter((function(e){return e!==l}))}):e.setState({confirmations:Object(r.h)(i).concat(l)}):e.toggleTask(n)},label:a.createElement(\"a\",{title:v,href:n.url},n.name),color:n.task.taskType}),a.createElement(d,{visible:b,text:v,onConfirm:function(){e.toggleTask(n),e.setState({confirmations:i.filter((function(e){return e!==l}))})},onCancel:function(){e.setState({confirmations:i.filter((function(e){return e!==l}))})}}))})))},t.contextType=p.a,t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=new DOMParser,a={b:{},i:{},p:{},u:{},strike:{},pre:{},h1:{},h2:{},h3:{},h4:{},h5:{},img:{src:!0,class:!0,style:!0,tabindex:!0},a:{href:!0,target:!0,tabindex:!0},ul:{},ol:{},li:{},hr:{},br:{},div:{},span:{style:!0},table:{border:!0},tbody:{},thead:{},tfoot:{},tr:{},td:{headers:!0,colspan:!0,rowspan:!0},th:{abbr:!0,headers:!0,scope:!0,sorted:!0,colspan:!0,rowspan:!0},blockquote:{style:!0}};function o(e){if(!e)return\"\";for(var t=r.parseFromString(e,\"text/html\"),n=t.body.childNodes,a=!1,o=0;o<n.length;++o)i(n.item(o))&&(a=!0);return a?t.body.innerHTML:e}function i(e){var t=!1;return function(e){return!!e.tagName}(e)&&function(e){var t=function(e){var t=!1;if(\"A\"===e.tagName){var n=e.getAttribute(\"href\");e.getAttribute(\"target\");if(n)if(n.startsWith(\"javascript:\")){var r=(s=n).indexOf(\"window.open('\");if(r>=0){var a=s.substr(r+\"window.open('\".length),o=a.indexOf(\"'\");if(o>=0){var i=a.substr(0,o);e.setAttribute(\"href\",i),e.setAttribute(\"target\",\"_blank\"),t=!0}}}else if(n.startsWith(\"https://\")||n.startsWith(\"http://\"))try{var s;if(\"xn--digilr-fua.se\"===(s=new URL(n)).host&&\"?\"===s.search[0]){var u=s.search.indexOf(\"?\",1);u>0&&(s.search=s.search.substr(0,u)+\"&\"+s.search.substr(u+1),e.setAttribute(\"href\",s.href),t=!0)}\"localhost\"!==location.hostname&&s.host!==location.host&&(e.getAttribute(\"target\")||(e.setAttribute(\"target\",\"_blank\"),t=!0))}catch(n){e.removeAttribute(\"a\"),t=!0}else if(n.startsWith(\"/content?\"))e.getAttribute(\"target\")||(e.setAttribute(\"target\",\"_blank\"),t=!0);else if(n.startsWith(\"ks.kunskapsporten.se/content?\")){var c=n.indexOf(\"/\");e.setAttribute(\"href\",n.substr(c)),e.setAttribute(\"target\",\"_blank\"),t=!0}}return t}(e),n=e.tagName&&a[e.tagName.toLowerCase()];if(!n)return console.warn(\"Wysiwyg: not allowed tag\",e.tagName),s(e),function(e){for(var t=e.childNodes,n=0;n<t.length;++n)e.parentNode.insertBefore(t.item(n),e);e.remove()}(e),!0;for(var r=0;r<e.attributes.length;++r){var o=e.attributes.item(r);o.name&&!!n[o.name.toLowerCase()]||(t=!0,console.warn(\"Wysiwyg: not allowed attribute\",o.name,\"Tag: \",e.tagName),e.removeAttribute(o.name))}return t}(e)&&(t=!0),s(e)&&(t=!0),t}function s(e){for(var t=!1,n=e.childNodes,r=0;r<n.length;++r)i(n.item(r))&&(t=!0);return t}},function(e,t,n){\"use strict\";var r=n(2),a=n.n(r);function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var i=function(e,t){var n;void 0===t&&(t=o);var r,a=[],i=!1;return function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return i&&n===this&&t(s,a)?r:(r=e.apply(this,s),i=!0,n=this,a=s,r)}},s=n(265),u=n(55),c=n(44),l=n.n(c),d=n(267),p=n.n(d),f=n(269),h=n.n(f),m=n(270);function g(e){return(g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}function O(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function T(e,t){return!t||\"object\"!=typeof t&&\"function\"!=typeof t?j(e):t}function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var N=function(){};function M(e,t){return t?\"-\"===t[0]?e+t:e+\"__\"+t:e}function I(e,t,n,r){var a=[t,r];if(n&&e)for(var o in n)n.hasOwnProperty(o)&&n[o]&&a.push(\"\".concat(M(e,o)));return a.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(\" \")}var P=function(e){return Array.isArray(e)?e.filter(Boolean):\"object\"===g(e)&&null!==e?[e]:[]};function A(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function _(e){return A(e)?window.pageYOffset:e.scrollTop}function L(e,t){A(e)?window.scrollTo(0,t):e.scrollTop=t}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N,a=_(e),o=t-a,i=10,s=0;!function t(){var u,c=o*((u=(u=s+=i)/n-1)*u*u+1)+a;L(e,c),s<n?p()(t):r(e)}()}function R(){try{return document.createEvent(\"TouchEvent\"),!0}catch(e){return!1}}function U(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,a=e.placement,o=e.shouldScroll,i=e.isFixedPosition,s=e.theme.spacing,u=function(e){var t=getComputedStyle(e),n=\"absolute\"===t.position,r=/(auto|scroll)/,a=document.documentElement;if(\"fixed\"===t.position)return a;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||\"static\"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return a}(n),c={placement:\"bottom\",maxHeight:t};if(!n||!n.offsetParent)return c;var l=u.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,f=d.height,h=d.top,m=n.offsetParent.getBoundingClientRect().top,g=window.innerHeight,v=_(u),b=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),E=m-y,w=g-h,k=E+v,O=l-v-h,C=p-g+v+b,D=v+h-y;switch(a){case\"auto\":case\"bottom\":if(w>=f)return{placement:\"bottom\",maxHeight:t};if(O>=f&&!i)return o&&F(u,C,160),{placement:\"bottom\",maxHeight:t};if(!i&&O>=r||i&&w>=r)return o&&F(u,C,160),{placement:\"bottom\",maxHeight:i?w-b:O-b};if(\"auto\"===a||i){var S=t,j=i?E:k;return j>=r&&(S=Math.min(j-b-s.controlHeight,t)),{placement:\"top\",maxHeight:S}}if(\"bottom\"===a)return L(u,C),{placement:\"bottom\",maxHeight:t};break;case\"top\":if(E>=f)return{placement:\"top\",maxHeight:t};if(k>=f&&!i)return o&&F(u,D,160),{placement:\"top\",maxHeight:t};if(!i&&k>=r||i&&E>=r){var T=t;return(!i&&k>=r||i&&E>=r)&&(T=i?E-y:k-y),o&&F(u,D,160),{placement:\"top\",maxHeight:T}}return{placement:\"bottom\",maxHeight:t};default:throw new Error('Invalid placement provided \"'.concat(a,'\".'))}return c}var B=function(e){return\"auto\"===e?\"bottom\":e},H=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return E(j(j(n=T(this,(e=C(t)).call.apply(e,[this].concat(a))))),\"state\",{maxHeight:n.props.maxMenuHeight,placement:null}),E(j(j(n)),\"getPlacement\",(function(e){var t=n.props,r=t.minMenuHeight,a=t.maxMenuHeight,o=t.menuPlacement,i=t.menuPosition,s=t.menuShouldScrollIntoView,u=t.theme,c=n.context.getPortalPlacement;if(e){var l=\"fixed\"===i,d=U({maxHeight:a,menuEl:e,minHeight:r,placement:o,shouldScroll:s&&!l,isFixedPosition:l,theme:u});c&&c(d),n.setState(d)}})),E(j(j(n)),\"getUpdatedProps\",(function(){var e=n.props.menuPlacement,t=n.state.placement||B(e);return k({},n.props,{placement:t,maxHeight:n.state.maxHeight})})),n}return O(t,e),y(t,[{key:\"render\",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(r.Component);E(H,\"contextTypes\",{getPortalPlacement:l.a.func});var W=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:\"\".concat(2*n,\"px \").concat(3*n,\"px\"),textAlign:\"center\"}},q=W,V=W,G=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return a.a.createElement(\"div\",w({className:r(Object(s.a)(o(\"noOptionsMessage\",e)),{\"menu-notice\":!0,\"menu-notice--no-options\":!0},n)},i),t)};G.defaultProps={children:\"No options\"};var Y=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return a.a.createElement(\"div\",w({className:r(Object(s.a)(o(\"loadingMessage\",e)),{\"menu-notice\":!0,\"menu-notice--loading\":!0},n)},i),t)};Y.defaultProps={children:\"Loading...\"};var z=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return E(j(j(n=T(this,(e=C(t)).call.apply(e,[this].concat(a))))),\"state\",{placement:null}),E(j(j(n)),\"getPortalPlacement\",(function(e){var t=e.placement;t!==B(n.props.menuPlacement)&&n.setState({placement:t})})),n}return O(t,e),y(t,[{key:\"getChildContext\",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:\"render\",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,o=e.menuPlacement,i=e.menuPosition,c=e.getStyles,l=\"fixed\"===i;if(!t&&!l||!r)return null;var d=this.state.placement||B(o),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),f=l?0:window.pageYOffset,h={offset:p[d]+f,position:i,rect:p},m=a.a.createElement(\"div\",{className:Object(s.a)(c(\"menuPortal\",h))},n);return t?Object(u.createPortal)(m,t):m}}]),t}(r.Component);E(z,\"childContextTypes\",{getPortalPlacement:l.a.func});var K=Array.isArray,$=Object.keys,Q=Object.prototype.hasOwnProperty;function J(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&\"object\"==g(t)&&\"object\"==g(n)){var r,a,o,i=K(t),s=K(n);if(i&&s){if((a=t.length)!=n.length)return!1;for(r=a;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(i!=s)return!1;var u=t instanceof Date,c=n instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==n.getTime();var l=t instanceof RegExp,d=n instanceof RegExp;if(l!=d)return!1;if(l&&d)return t.toString()==n.toString();var p=$(t);if((a=p.length)!==$(n).length)return!1;for(r=a;0!=r--;)if(!Q.call(n,p[r]))return!1;for(r=a;0!=r--;)if(!(\"_owner\"===(o=p[r])&&t.$$typeof||e(t[o],n[o])))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn(\"Warning: react-fast-compare does not handle circular references.\",e.name,e.message),!1;throw e}}var X=[{base:\"A\",letters:/[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g},{base:\"AA\",letters:/[\\uA732]/g},{base:\"AE\",letters:/[\\u00C6\\u01FC\\u01E2]/g},{base:\"AO\",letters:/[\\uA734]/g},{base:\"AU\",letters:/[\\uA736]/g},{base:\"AV\",letters:/[\\uA738\\uA73A]/g},{base:\"AY\",letters:/[\\uA73C]/g},{base:\"B\",letters:/[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g},{base:\"C\",letters:/[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g},{base:\"D\",letters:/[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g},{base:\"DZ\",letters:/[\\u01F1\\u01C4]/g},{base:\"Dz\",letters:/[\\u01F2\\u01C5]/g},{base:\"E\",letters:/[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g},{base:\"F\",letters:/[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g},{base:\"G\",letters:/[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g},{base:\"H\",letters:/[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g},{base:\"I\",letters:/[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g},{base:\"J\",letters:/[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g},{base:\"K\",letters:/[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g},{base:\"L\",letters:/[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g},{base:\"LJ\",letters:/[\\u01C7]/g},{base:\"Lj\",letters:/[\\u01C8]/g},{base:\"M\",letters:/[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g},{base:\"N\",letters:/[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g},{base:\"NJ\",letters:/[\\u01CA]/g},{base:\"Nj\",letters:/[\\u01CB]/g},{base:\"O\",letters:/[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g},{base:\"OI\",letters:/[\\u01A2]/g},{base:\"OO\",letters:/[\\uA74E]/g},{base:\"OU\",letters:/[\\u0222]/g},{base:\"P\",letters:/[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g},{base:\"Q\",letters:/[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g},{base:\"R\",letters:/[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g},{base:\"S\",letters:/[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g},{base:\"T\",letters:/[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g},{base:\"TZ\",letters:/[\\uA728]/g},{base:\"U\",letters:/[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g},{base:\"V\",letters:/[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g},{base:\"VY\",letters:/[\\uA760]/g},{base:\"W\",letters:/[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g},{base:\"X\",letters:/[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g},{base:\"Y\",letters:/[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g},{base:\"Z\",letters:/[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g},{base:\"a\",letters:/[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g},{base:\"aa\",letters:/[\\uA733]/g},{base:\"ae\",letters:/[\\u00E6\\u01FD\\u01E3]/g},{base:\"ao\",letters:/[\\uA735]/g},{base:\"au\",letters:/[\\uA737]/g},{base:\"av\",letters:/[\\uA739\\uA73B]/g},{base:\"ay\",letters:/[\\uA73D]/g},{base:\"b\",letters:/[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g},{base:\"c\",letters:/[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g},{base:\"d\",letters:/[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g},{base:\"dz\",letters:/[\\u01F3\\u01C6]/g},{base:\"e\",letters:/[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g},{base:\"f\",letters:/[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g},{base:\"g\",letters:/[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g},{base:\"h\",letters:/[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g},{base:\"hv\",letters:/[\\u0195]/g},{base:\"i\",letters:/[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g},{base:\"j\",letters:/[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g},{base:\"k\",letters:/[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g},{base:\"l\",letters:/[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g},{base:\"lj\",letters:/[\\u01C9]/g},{base:\"m\",letters:/[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g},{base:\"n\",letters:/[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g},{base:\"nj\",letters:/[\\u01CC]/g},{base:\"o\",letters:/[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g},{base:\"oi\",letters:/[\\u01A3]/g},{base:\"ou\",letters:/[\\u0223]/g},{base:\"oo\",letters:/[\\uA74F]/g},{base:\"p\",letters:/[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g},{base:\"q\",letters:/[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g},{base:\"r\",letters:/[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g},{base:\"s\",letters:/[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g},{base:\"t\",letters:/[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g},{base:\"tz\",letters:/[\\uA729]/g},{base:\"u\",letters:/[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g},{base:\"v\",letters:/[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g},{base:\"vy\",letters:/[\\uA761]/g},{base:\"w\",letters:/[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g},{base:\"x\",letters:/[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g},{base:\"y\",letters:/[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g},{base:\"z\",letters:/[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g}],Z=function(e){for(var t=0;t<X.length;t++)e=e.replace(X[t].letters,X[t].base);return e},ee=function(e){return e.replace(/^\\s+|\\s+$/g,\"\")},te=function(e){return\"\".concat(e.label,\" \").concat(e.value)},ne=function(e){return a.a.createElement(\"span\",w({className:Object(s.a)({label:\"a11yText\",zIndex:9999,border:0,clip:\"rect(1px, 1px, 1px, 1px)\",height:1,width:1,position:\"absolute\",overflow:\"hidden\",padding:0,whiteSpace:\"nowrap\",backgroundColor:\"red\",color:\"blue\"})},e))},re=function(e){function t(){return v(this,t),T(this,C(t).apply(this,arguments))}return O(t,e),y(t,[{key:\"render\",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=(e.emotion,S(e,[\"in\",\"out\",\"onExited\",\"appear\",\"enter\",\"exit\",\"innerRef\",\"emotion\"]));return a.a.createElement(\"input\",w({ref:t},n,{className:Object(s.a)({label:\"dummyInput\",background:0,border:0,fontSize:\"inherit\",outline:0,padding:0,width:1,color:\"transparent\",left:-100,opacity:0,position:\"relative\",transform:\"scale(0)\"})}))}}]),t}(r.Component),ae=function(e){function t(){return v(this,t),T(this,C(t).apply(this,arguments))}return O(t,e),y(t,[{key:\"componentDidMount\",value:function(){this.props.innerRef(Object(u.findDOMNode)(this))}},{key:\"componentWillUnmount\",value:function(){this.props.innerRef(null)}},{key:\"render\",value:function(){return this.props.children}}]),t}(r.Component),oe=[\"boxSizing\",\"height\",\"overflow\",\"paddingRight\",\"position\"],ie={boxSizing:\"border-box\",overflow:\"hidden\",position:\"relative\",height:\"100%\"};function se(e){e.preventDefault()}function ue(e){e.stopPropagation()}function ce(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function le(){return\"ontouchstart\"in window||navigator.maxTouchPoints}var de=!(\"undefined\"==typeof window||!window.document||!window.document.createElement),pe=0,fe=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return E(j(j(n=T(this,(e=C(t)).call.apply(e,[this].concat(a))))),\"originalStyles\",{}),E(j(j(n)),\"listenerOptions\",{capture:!1,passive:!1}),n}return O(t,e),y(t,[{key:\"componentDidMount\",value:function(){var e=this;if(de){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,a=document.body,o=a&&a.style;if(n&&oe.forEach((function(t){var n=o&&o[t];e.originalStyles[t]=n})),n&&pe<1){var i=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,u=window.innerWidth-s+i||0;Object.keys(ie).forEach((function(e){var t=ie[e];o&&(o[e]=t)})),o&&(o.paddingRight=\"\".concat(u,\"px\"))}a&&le()&&(a.addEventListener(\"touchmove\",se,this.listenerOptions),r&&(r.addEventListener(\"touchstart\",ce,this.listenerOptions),r.addEventListener(\"touchmove\",ue,this.listenerOptions))),pe+=1}}},{key:\"componentWillUnmount\",value:function(){var e=this;if(de){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,a=document.body,o=a&&a.style;pe=Math.max(pe-1,0),n&&pe<1&&oe.forEach((function(t){var n=e.originalStyles[t];o&&(o[t]=n)})),a&&le()&&(a.removeEventListener(\"touchmove\",se,this.listenerOptions),r&&(r.removeEventListener(\"touchstart\",ce,this.listenerOptions),r.removeEventListener(\"touchmove\",ue,this.listenerOptions)))}}},{key:\"render\",value:function(){return null}}]),t}(r.Component);E(fe,\"defaultProps\",{accountForScrollbars:!0});var he=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return E(j(j(n=T(this,(e=C(t)).call.apply(e,[this].concat(a))))),\"state\",{touchScrollTarget:null}),E(j(j(n)),\"getScrollTarget\",(function(e){e!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:e})})),E(j(j(n)),\"blurSelectInput\",(function(){document.activeElement&&document.activeElement.blur()})),n}return O(t,e),y(t,[{key:\"render\",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?a.a.createElement(\"div\",null,a.a.createElement(\"div\",{onClick:this.blurSelectInput,className:Object(s.a)({position:\"fixed\",left:0,bottom:0,right:0,top:0})}),a.a.createElement(ae,{innerRef:this.getScrollTarget},t),r?a.a.createElement(fe,{touchScrollTarget:r}):null):t}}]),t}(r.PureComponent),me=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return E(j(j(n=T(this,(e=C(t)).call.apply(e,[this].concat(a))))),\"isBottom\",!1),E(j(j(n)),\"isTop\",!1),E(j(j(n)),\"scrollTarget\",void 0),E(j(j(n)),\"touchStart\",void 0),E(j(j(n)),\"cancelScroll\",(function(e){e.preventDefault(),e.stopPropagation()})),E(j(j(n)),\"handleEventDelta\",(function(e,t){var r=n.props,a=r.onBottomArrive,o=r.onBottomLeave,i=r.onTopArrive,s=r.onTopLeave,u=n.scrollTarget,c=u.scrollTop,l=u.scrollHeight,d=u.clientHeight,p=n.scrollTarget,f=t>0,h=l-d-c,m=!1;h>t&&n.isBottom&&(o&&o(e),n.isBottom=!1),f&&n.isTop&&(s&&s(e),n.isTop=!1),f&&t>h?(a&&!n.isBottom&&a(e),p.scrollTop=l,m=!0,n.isBottom=!0):!f&&-t>c&&(i&&!n.isTop&&i(e),p.scrollTop=0,m=!0,n.isTop=!0),m&&n.cancelScroll(e)})),E(j(j(n)),\"onWheel\",(function(e){n.handleEventDelta(e,e.deltaY)})),E(j(j(n)),\"onTouchStart\",(function(e){n.touchStart=e.changedTouches[0].clientY})),E(j(j(n)),\"onTouchMove\",(function(e){var t=n.touchStart-e.changedTouches[0].clientY;n.handleEventDelta(e,t)})),E(j(j(n)),\"getScrollTarget\",(function(e){n.scrollTarget=e})),n}return O(t,e),y(t,[{key:\"componentDidMount\",value:function(){this.startListening(this.scrollTarget)}},{key:\"componentWillUnmount\",value:function(){this.stopListening(this.scrollTarget)}},{key:\"startListening\",value:function(e){e&&(e.scrollHeight<=e.clientHeight||(\"function\"==typeof e.addEventListener&&e.addEventListener(\"wheel\",this.onWheel,!1),\"function\"==typeof e.addEventListener&&e.addEventListener(\"touchstart\",this.onTouchStart,!1),\"function\"==typeof e.addEventListener&&e.addEventListener(\"touchmove\",this.onTouchMove,!1)))}},{key:\"stopListening\",value:function(e){e.scrollHeight<=e.clientHeight||(\"function\"==typeof e.removeEventListener&&e.removeEventListener(\"wheel\",this.onWheel,!1),\"function\"==typeof e.removeEventListener&&e.removeEventListener(\"touchstart\",this.onTouchStart,!1),\"function\"==typeof e.removeEventListener&&e.removeEventListener(\"touchmove\",this.onTouchMove,!1))}},{key:\"render\",value:function(){return a.a.createElement(ae,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(r.Component),ge=function(e){function t(){return v(this,t),T(this,C(t).apply(this,arguments))}return O(t,e),y(t,[{key:\"render\",value:function(){var e=this.props,t=e.isEnabled,n=S(e,[\"isEnabled\"]);return t?a.a.createElement(me,n):this.props.children}}]),t}(r.Component);E(ge,\"defaultProps\",{isEnabled:!0});var ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,a=t.label,o=t.isDisabled;switch(e){case\"menu\":return\"Use Up and Down to choose options\".concat(o?\"\":\", press Enter to select the currently focused option\",\", press Escape to exit the menu, press Tab to select the option and exit the menu.\");case\"input\":return\"\".concat(a||\"Select\",\" is focused \").concat(n?\",type to refine list\":\"\",\", press Down to open the menu, \").concat(r?\" press left to focus selected values\":\"\");case\"value\":return\"Use left and right to toggle between focused values, press Backspace to remove the currently focused value\"}},be=function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case\"deselect-option\":case\"pop-value\":case\"remove-value\":return\"option \".concat(n,\", deselected.\");case\"select-option\":return\"option \".concat(n,r?\" is disabled. Select another option.\":\", selected.\")}},ye=function(e){return!!e.isDisabled},Ee=function(e){function t(){return v(this,t),T(this,C(t).apply(this,arguments))}return O(t,e),y(t,[{key:\"render\",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,o=e.isMulti,i=e.getStyles,u=e.hasValue;return a.a.createElement(\"div\",{className:r(Object(s.a)(i(\"valueContainer\",this.props)),{\"value-container\":!0,\"value-container--is-multi\":o,\"value-container--has-value\":u},n)},t)}}]),t}(r.Component),we=function(e){var t=e.size,n=S(e,[\"size\"]);return a.a.createElement(\"svg\",w({height:t,width:t,viewBox:\"0 0 20 20\",\"aria-hidden\":\"true\",focusable:\"false\",className:Object(s.a)({display:\"inline-block\",fill:\"currentColor\",lineHeight:1,stroke:\"currentColor\",strokeWidth:0})},n))},ke=function(e){return a.a.createElement(we,w({size:20},e),a.a.createElement(\"path\",{d:\"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z\"}))},Oe=function(e){return a.a.createElement(we,w({size:20},e),a.a.createElement(\"path\",{d:\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"}))},Ce=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,a=n.colors;return{label:\"indicatorContainer\",color:t?a.neutral60:a.neutral20,display:\"flex\",padding:2*r,transition:\"color 150ms\",\":hover\":{color:t?a.neutral80:a.neutral40}}},De=Ce,Se=Ce,je=!1,Te=function(e){var t=e.color,n=e.delay,r=e.offset;return a.a.createElement(\"span\",{className:Object(s.a)({animationDuration:\"1s\",animationDelay:\"\".concat(n,\"ms\"),animationIterationCount:\"infinite\",animationName:\"react-select-loading-indicator\",animationTimingFunction:\"ease-in-out\",backgroundColor:t,borderRadius:\"1em\",display:\"inline-block\",marginLeft:r?\"1em\":null,height:\"1em\",verticalAlign:\"top\",width:\"1em\"})})},xe=function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps,i=e.isFocused,u=e.isRtl,c=e.theme.colors,l=i?c.neutral80:c.neutral20;return je||(Object(s.b)(\"@keyframes \",\"react-select-loading-indicator\",\"{0%,80%,100%{opacity:0;}40%{opacity:1;}};\"),je=!0),a.a.createElement(\"div\",w({},o,{className:n(Object(s.a)(r(\"loadingIndicator\",e)),{indicator:!0,\"loading-indicator\":!0},t)}),a.a.createElement(Te,{color:l,delay:0,offset:u}),a.a.createElement(Te,{color:l,delay:160,offset:!0}),a.a.createElement(Te,{color:l,delay:320,offset:!u}))};xe.defaultProps={size:4};var Ne=function(e){return{label:\"input\",background:0,border:0,fontSize:\"inherit\",opacity:e?0:1,outline:0,padding:0,color:\"inherit\"}},Me=function(e){var t=e.children,n=e.innerProps;return a.a.createElement(\"div\",n,t)},Ie=Me,Pe=Me,Ae=function(e){function t(){return v(this,t),T(this,C(t).apply(this,arguments))}return O(t,e),y(t,[{key:\"render\",value:function(){var e=this.props,t=e.children,n=e.innerProps;return a.a.createElement(\"div\",n,t||a.a.createElement(ke,{size:14}))}}]),t}(r.Component),_e=function(e){function t(){return v(this,t),T(this,C(t).apply(this,arguments))}return O(t,e),y(t,[{key:\"render\",value:function(){var e=this.props,t=e.children,n=e.className,r=e.components,o=e.cx,i=e.data,u=e.getStyles,c=e.innerProps,l=e.isDisabled,d=e.removeProps,p=e.selectProps,f=r.Container,h=r.Label,m=r.Remove,g=k({className:o(Object(s.a)(u(\"multiValue\",this.props)),{\"multi-value\":!0,\"multi-value--is-disabled\":l},n)},c),v={className:o(Object(s.a)(u(\"multiValueLabel\",this.props)),{\"multi-value__label\":!0},n)},b=k({className:o(Object(s.a)(u(\"multiValueRemove\",this.props)),{\"multi-value__remove\":!0},n)},d);return a.a.createElement(f,{data:i,innerProps:g,selectProps:p},a.a.createElement(h,{data:i,innerProps:v,selectProps:p},t),a.a.createElement(m,{data:i,innerProps:b,selectProps:p}))}}]),t}(r.Component);E(_e,\"defaultProps\",{cropWithEllipsis:!0});var Le={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return a.a.createElement(\"div\",w({},i,{className:r(Object(s.a)(o(\"clearIndicator\",e)),{indicator:!0,\"clear-indicator\":!0},n)}),t||a.a.createElement(ke,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.className,i=e.isDisabled,u=e.isFocused,c=e.innerRef,l=e.innerProps,d=e.menuIsOpen;return a.a.createElement(\"div\",w({ref:c,className:n(Object(s.a)(r(\"control\",e)),{control:!0,\"control--is-disabled\":i,\"control--is-focused\":u,\"control--menu-is-open\":d},o)},l),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return a.a.createElement(\"div\",w({},i,{className:r(Object(s.a)(o(\"dropdownIndicator\",e)),{indicator:!0,\"dropdown-indicator\":!0},n)}),t||a.a.createElement(Oe,null))},DownChevron:Oe,CrossIcon:ke,Group:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.Heading,u=e.headingProps,c=e.label,l=e.theme,d=e.selectProps;return a.a.createElement(\"div\",{className:r(Object(s.a)(o(\"group\",e)),{group:!0},n)},a.a.createElement(i,w({},u,{selectProps:d,theme:l,getStyles:o,cx:r}),c),a.a.createElement(\"div\",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.theme,i=(e.selectProps,S(e,[\"className\",\"cx\",\"getStyles\",\"theme\",\"selectProps\"]));return a.a.createElement(\"div\",w({className:n(Object(s.a)(r(\"groupHeading\",k({theme:o},i))),{\"group-heading\":!0},t)},i))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles;return a.a.createElement(\"div\",{className:r(Object(s.a)(o(\"indicatorsContainer\",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps;return a.a.createElement(\"span\",w({},o,{className:n(Object(s.a)(r(\"indicatorSeparator\",e)),{\"indicator-separator\":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerRef,i=e.isHidden,u=e.isDisabled,c=e.theme,l=(e.selectProps,S(e,[\"className\",\"cx\",\"getStyles\",\"innerRef\",\"isHidden\",\"isDisabled\",\"theme\",\"selectProps\"]));return a.a.createElement(\"div\",{className:Object(s.a)(r(\"input\",k({theme:c},l)))},a.a.createElement(h.a,w({className:n(null,{input:!0},t),inputRef:o,inputStyle:Ne(i),disabled:u},l)))},LoadingIndicator:xe,Menu:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerRef,u=e.innerProps,c=r(Object(s.a)(o(\"menu\",e)),{menu:!0},n);return a.a.createElement(\"div\",w({className:c},u,{ref:i}),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isMulti,u=e.innerRef;return a.a.createElement(\"div\",{className:r(Object(s.a)(o(\"menuList\",e)),{\"menu-list\":!0,\"menu-list--is-multi\":i},n),ref:u},t)},MenuPortal:z,LoadingMessage:Y,NoOptionsMessage:G,MultiValue:_e,MultiValueContainer:Ie,MultiValueLabel:Pe,MultiValueRemove:Ae,Option:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isDisabled,u=e.isFocused,c=e.isSelected,l=e.innerRef,d=e.innerProps;return a.a.createElement(\"div\",w({ref:l,className:r(Object(s.a)(o(\"option\",e)),{option:!0,\"option--is-disabled\":i,\"option--is-focused\":u,\"option--is-selected\":c},n)},d),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return a.a.createElement(\"div\",w({className:r(Object(s.a)(o(\"placeholder\",e)),{placeholder:!0},n)},i),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps,u=e.isDisabled,c=e.isRtl;return a.a.createElement(\"div\",w({className:r(Object(s.a)(o(\"container\",e)),{\"--is-disabled\":u,\"--is-rtl\":c},n)},i),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.isDisabled,u=e.innerProps;return a.a.createElement(\"div\",w({className:r(Object(s.a)(o(\"singleValue\",e)),{\"single-value\":!0,\"single-value--is-disabled\":i},n)},u),t)},ValueContainer:Ee},Fe=function(e){return k({},Le,e.components)},Re={clearIndicator:Se,container:function(e){var t=e.isDisabled;return{label:\"container\",direction:e.isRtl?\"rtl\":null,pointerEvents:t?\"none\":null,position:\"relative\"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,a=r.colors,o=r.borderRadius,i=r.spacing;return{label:\"control\",alignItems:\"center\",backgroundColor:t?a.neutral5:a.neutral0,borderColor:t?a.neutral10:n?a.primary:a.neutral20,borderRadius:o,borderStyle:\"solid\",borderWidth:1,boxShadow:n?\"0 0 0 1px \".concat(a.primary):null,cursor:\"default\",display:\"flex\",flexWrap:\"wrap\",justifyContent:\"space-between\",minHeight:i.controlHeight,outline:\"0 !important\",position:\"relative\",transition:\"all 100ms\",\"&:hover\":{borderColor:n?a.primary:a.neutral30}}},dropdownIndicator:De,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:\"group\",color:\"#999\",cursor:\"default\",display:\"block\",fontSize:\"75%\",fontWeight:\"500\",marginBottom:\"0.25em\",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:\"uppercase\"}},indicatorsContainer:function(){return{alignItems:\"center\",alignSelf:\"stretch\",display:\"flex\",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,a=n.colors;return{label:\"indicatorSeparator\",alignSelf:\"stretch\",backgroundColor:t?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,a=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?\"hidden\":\"visible\",color:a.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,a=r.colors,o=r.spacing.baseUnit;return{label:\"loadingIndicator\",color:t?a.neutral60:a.neutral20,display:\"flex\",padding:2*o,transition:\"color 150ms\",alignSelf:\"center\",fontSize:n,lineHeight:1,marginRight:n,textAlign:\"center\",verticalAlign:\"middle\"}},loadingMessage:V,menu:function(e){var t,n=e.placement,r=e.theme,a=r.borderRadius,o=r.spacing,i=r.colors;return E(t={label:\"menu\"},function(e){return e?{bottom:\"top\",top:\"bottom\"}[e]:\"bottom\"}(n),\"100%\"),E(t,\"backgroundColor\",i.neutral0),E(t,\"borderRadius\",a),E(t,\"boxShadow\",\"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)\"),E(t,\"marginBottom\",o.menuGutter),E(t,\"marginTop\",o.menuGutter),E(t,\"position\",\"absolute\"),E(t,\"width\",\"100%\"),E(t,\"zIndex\",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:\"auto\",paddingBottom:n,paddingTop:n,position:\"relative\",WebkitOverflowScrolling:\"touch\"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:\"multiValue\",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:\"flex\",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,a=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:\"85%\",overflow:\"hidden\",padding:3,paddingLeft:6,textOverflow:a?\"ellipsis\":null,whiteSpace:\"nowrap\"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,a=t.colors;return{alignItems:\"center\",borderRadius:r/2,backgroundColor:e.isFocused&&a.dangerLight,display:\"flex\",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,\":hover\":{backgroundColor:a.dangerLight,color:a.danger}}},noOptionsMessage:q,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,a=e.theme,o=a.spacing,i=a.colors;return{label:\"option\",backgroundColor:r?i.primary:n?i.primary25:\"transparent\",color:t?i.neutral20:r?i.neutral0:\"inherit\",cursor:\"default\",display:\"block\",fontSize:\"inherit\",padding:\"\".concat(2*o.baseUnit,\"px \").concat(3*o.baseUnit,\"px\"),width:\"100%\",userSelect:\"none\",WebkitTapHighlightColor:\"rgba(0, 0, 0, 0)\",\":active\":{backgroundColor:!t&&(r?i.primary:i.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:\"placeholder\",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:\"absolute\",top:\"50%\",transform:\"translateY(-50%)\"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,a=n.colors;return{label:\"singleValue\",color:t?a.neutral40:a.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:\"calc(100% - \".concat(2*r.baseUnit,\"px)\"),overflow:\"hidden\",position:\"absolute\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\",top:\"50%\",transform:\"translateY(-50%)\"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:\"center\",display:\"flex\",flex:1,flexWrap:\"wrap\",padding:\"\".concat(t.baseUnit/2,\"px \").concat(2*t.baseUnit,\"px\"),WebkitOverflowScrolling:\"touch\",position:\"relative\",overflow:\"hidden\"}}};var Ue,Be={borderRadius:4,colors:{primary:\"#2684FF\",primary75:\"#4C9AFF\",primary50:\"#B2D4FF\",primary25:\"#DEEBFF\",danger:\"#DE350B\",dangerLight:\"#FFBDAD\",neutral0:\"hsl(0, 0%, 100%)\",neutral5:\"hsl(0, 0%, 95%)\",neutral10:\"hsl(0, 0%, 90%)\",neutral20:\"hsl(0, 0%, 80%)\",neutral30:\"hsl(0, 0%, 70%)\",neutral40:\"hsl(0, 0%, 60%)\",neutral50:\"hsl(0, 0%, 50%)\",neutral60:\"hsl(0, 0%, 40%)\",neutral70:\"hsl(0, 0%, 30%)\",neutral80:\"hsl(0, 0%, 20%)\",neutral90:\"hsl(0, 0%, 10%)\"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},He={backspaceRemovesValue:!0,blurInputOnSelect:R(),captureMenuScroll:!R(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=k({ignoreCase:!0,ignoreAccents:!0,stringify:te,trim:!0,matchFrom:\"any\"},Ue),r=n.ignoreCase,a=n.ignoreAccents,o=n.stringify,i=n.trim,s=n.matchFrom,u=i?ee(t):t,c=i?ee(o(e)):o(e);return r&&(u=u.toLowerCase(),c=c.toLowerCase()),a&&(u=Z(u),c=Z(c)),\"start\"===s?c.substr(0,u.length)===u:c.indexOf(u)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ye,loadingMessage:function(){return\"Loading...\"},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:\"bottom\",menuPosition:\"absolute\",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return\"No options\"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:\"Select...\",screenReaderStatus:function(e){var t=e.count;return\"\".concat(t,\" result\").concat(1!==t?\"s\":\"\",\" available\")},styles:{},tabIndex:\"0\",tabSelectsValue:!0},We=1,qe=function(e){function t(e){var n;v(this,t),E(j(j(n=T(this,C(t).call(this,e)))),\"state\",{ariaLiveSelection:\"\",ariaLiveContext:\"\",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),E(j(j(n)),\"blockOptionHover\",!1),E(j(j(n)),\"isComposing\",!1),E(j(j(n)),\"clearFocusValueOnUpdate\",!1),E(j(j(n)),\"commonProps\",void 0),E(j(j(n)),\"components\",void 0),E(j(j(n)),\"hasGroups\",!1),E(j(j(n)),\"initialTouchX\",0),E(j(j(n)),\"initialTouchY\",0),E(j(j(n)),\"inputIsHiddenAfterUpdate\",void 0),E(j(j(n)),\"instancePrefix\",\"\"),E(j(j(n)),\"openAfterFocus\",!1),E(j(j(n)),\"scrollToFocusedOptionOnUpdate\",!1),E(j(j(n)),\"userIsDragging\",void 0),E(j(j(n)),\"controlRef\",null),E(j(j(n)),\"getControlRef\",(function(e){n.controlRef=e})),E(j(j(n)),\"focusedOptionRef\",null),E(j(j(n)),\"getFocusedOptionRef\",(function(e){n.focusedOptionRef=e})),E(j(j(n)),\"menuListRef\",null),E(j(j(n)),\"getMenuListRef\",(function(e){n.menuListRef=e})),E(j(j(n)),\"inputRef\",null),E(j(j(n)),\"getInputRef\",(function(e){n.inputRef=e})),E(j(j(n)),\"cacheComponents\",(function(e){n.components=Fe({components:e})})),E(j(j(n)),\"focus\",n.focusInput),E(j(j(n)),\"blur\",n.blurInput),E(j(j(n)),\"onChange\",(function(e,t){var r=n.props;(0,r.onChange)(e,k({},t,{name:r.name}))})),E(j(j(n)),\"setValue\",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"set-value\",r=arguments.length>2?arguments[2]:void 0,a=n.props,o=a.closeMenuOnSelect,i=a.isMulti;n.onInputChange(\"\",{action:\"set-value\"}),o&&(n.inputIsHiddenAfterUpdate=!i,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(e,{action:t,option:r})})),E(j(j(n)),\"selectOption\",(function(e){var t=n.props,r=t.blurInputOnSelect,a=t.isMulti,o=n.state.selectValue;if(a)if(n.isOptionSelected(e,o)){var i=n.getOptionValue(e);n.setValue(o.filter((function(e){return n.getOptionValue(e)!==i})),\"deselect-option\",e),n.announceAriaLiveSelection({event:\"deselect-option\",context:{value:n.getOptionLabel(e)}})}else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:\"select-option\",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue([].concat(x(o),[e]),\"select-option\",e),n.announceAriaLiveSelection({event:\"select-option\",context:{value:n.getOptionLabel(e)}}));else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:\"select-option\",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue(e,\"select-option\"),n.announceAriaLiveSelection({event:\"select-option\",context:{value:n.getOptionLabel(e)}}));r&&n.blurInput()})),E(j(j(n)),\"removeValue\",(function(e){var t=n.state.selectValue,r=n.getOptionValue(e);n.onChange(t.filter((function(e){return n.getOptionValue(e)!==r})),{action:\"remove-value\",removedValue:e}),n.announceAriaLiveSelection({event:\"remove-value\",context:{value:e?n.getOptionLabel(e):\"\"}}),n.focusInput()})),E(j(j(n)),\"clearValue\",(function(){var e=n.props.isMulti;n.onChange(e?[]:null,{action:\"clear\"})})),E(j(j(n)),\"popValue\",(function(){var e=n.state.selectValue,t=e[e.length-1];n.announceAriaLiveSelection({event:\"pop-value\",context:{value:t?n.getOptionLabel(t):\"\"}}),n.onChange(e.slice(0,e.length-1),{action:\"pop-value\",removedValue:t})})),E(j(j(n)),\"getOptionLabel\",(function(e){return n.props.getOptionLabel(e)})),E(j(j(n)),\"getOptionValue\",(function(e){return n.props.getOptionValue(e)})),E(j(j(n)),\"getStyles\",(function(e,t){var r=Re[e](t);r.boxSizing=\"border-box\";var a=n.props.styles[e];return a?a(r,t):r})),E(j(j(n)),\"getElementId\",(function(e){return\"\".concat(n.instancePrefix,\"-\").concat(e)})),E(j(j(n)),\"getActiveDescendentId\",(function(){var e=n.props.menuIsOpen,t=n.state,r=t.menuOptions,a=t.focusedOption;if(a&&e){var o=r.focusable.indexOf(a),i=r.render[o];return i&&i.key}})),E(j(j(n)),\"announceAriaLiveSelection\",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveSelection:be(t,r)})})),E(j(j(n)),\"announceAriaLiveContext\",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveContext:ve(t,k({},r,{label:n.props[\"aria-label\"]}))})})),E(j(j(n)),\"onMenuMouseDown\",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())})),E(j(j(n)),\"onMenuMouseMove\",(function(e){n.blockOptionHover=!1})),E(j(j(n)),\"onControlMouseDown\",(function(e){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?\"INPUT\"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu(\"first\"):(t&&(n.openAfterFocus=!0),n.focusInput()),\"INPUT\"!==e.target.tagName&&e.preventDefault()})),E(j(j(n)),\"onDropdownIndicatorMouseDown\",(function(e){if(!(e&&\"mousedown\"===e.type&&0!==e.button||n.props.isDisabled)){var t=n.props,r=t.isMulti,a=t.menuIsOpen;n.focusInput(),a?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu(\"first\"),e.preventDefault(),e.stopPropagation()}})),E(j(j(n)),\"onClearIndicatorMouseDown\",(function(e){e&&\"mousedown\"===e.type&&0!==e.button||(n.clearValue(),e.stopPropagation(),n.openAfterFocus=!1,setTimeout((function(){return n.focusInput()})))})),E(j(j(n)),\"onScroll\",(function(e){\"boolean\"==typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&A(e.target)&&n.props.onMenuClose():\"function\"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()})),E(j(j(n)),\"onCompositionStart\",(function(){n.isComposing=!0})),E(j(j(n)),\"onCompositionEnd\",(function(){n.isComposing=!1})),E(j(j(n)),\"onTouchStart\",(function(e){var t=e.touches.item(0);t&&(n.initialTouchX=t.clientX,n.initialTouchY=t.clientY,n.userIsDragging=!1)})),E(j(j(n)),\"onTouchMove\",(function(e){var t=e.touches.item(0);if(t){var r=Math.abs(t.clientX-n.initialTouchX),a=Math.abs(t.clientY-n.initialTouchY);n.userIsDragging=r>5||a>5}})),E(j(j(n)),\"onTouchEnd\",(function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),E(j(j(n)),\"onControlTouchEnd\",(function(e){n.userIsDragging||n.onControlMouseDown(e)})),E(j(j(n)),\"onClearIndicatorTouchEnd\",(function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)})),E(j(j(n)),\"onDropdownIndicatorTouchEnd\",(function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)})),E(j(j(n)),\"handleInputChange\",(function(e){var t=e.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(t,{action:\"input-change\"}),n.onMenuOpen()})),E(j(j(n)),\"onInputFocus\",(function(e){var t=n.props,r=t.isSearchable,a=t.isMulti;n.props.onFocus&&n.props.onFocus(e),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:\"input\",context:{isSearchable:r,isMulti:a}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu(\"first\"),n.openAfterFocus=!1})),E(j(j(n)),\"onInputBlur\",(function(e){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange(\"\",{action:\"input-blur\"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),E(j(j(n)),\"onOptionHover\",(function(e){n.blockOptionHover||n.state.focusedOption===e||n.setState({focusedOption:e})})),E(j(j(n)),\"shouldHideSelectedOptions\",(function(){var e=n.props,t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t})),E(j(j(n)),\"onKeyDown\",(function(e){var t=n.props,r=t.isMulti,a=t.backspaceRemovesValue,o=t.escapeClearsValue,i=t.inputValue,s=t.isClearable,u=t.isDisabled,c=t.menuIsOpen,l=t.onKeyDown,d=t.tabSelectsValue,p=t.openMenuOnFocus,f=n.state,h=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!(u||\"function\"==typeof l&&(l(e),e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case\"ArrowLeft\":if(!r||i)return;n.focusValue(\"previous\");break;case\"ArrowRight\":if(!r||i)return;n.focusValue(\"next\");break;case\"Delete\":case\"Backspace\":if(i)return;if(m)n.removeValue(m);else{if(!a)return;r?n.popValue():s&&n.clearValue()}break;case\"Tab\":if(n.isComposing)return;if(e.shiftKey||!c||!d||!h||p&&n.isOptionSelected(h,g))return;n.selectOption(h);break;case\"Enter\":if(229===e.keyCode)break;if(c){if(!h)return;if(n.isComposing)return;n.selectOption(h);break}return;case\"Escape\":c?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange(\"\",{action:\"menu-close\"}),n.onMenuClose()):s&&o&&n.clearValue();break;case\" \":if(i)return;if(!c){n.openMenu(\"first\");break}if(!h)return;n.selectOption(h);break;case\"ArrowUp\":c?n.focusOption(\"up\"):n.openMenu(\"last\");break;case\"ArrowDown\":c?n.focusOption(\"down\"):n.openMenu(\"first\");break;case\"PageUp\":if(!c)return;n.focusOption(\"pageup\");break;case\"PageDown\":if(!c)return;n.focusOption(\"pagedown\");break;case\"Home\":if(!c)return;n.focusOption(\"first\");break;case\"End\":if(!c)return;n.focusOption(\"last\");break;default:return}e.preventDefault()}}));var r=e.value;n.cacheComponents=i(n.cacheComponents,J).bind(j(j(n))),n.cacheComponents(e.components),n.instancePrefix=\"react-select-\"+(n.props.instanceId||++We);var a=P(r),o=n.buildMenuOptions(e,a);return n.state.menuOptions=o,n.state.selectValue=a,n}return O(t,e),y(t,[{key:\"componentDidMount\",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener(\"scroll\",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:\"componentWillReceiveProps\",value:function(e){var t=this.props,n=t.options,r=t.value,a=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.inputValue!==a){var o=P(e.value),i=this.buildMenuOptions(e,o),s=this.getNextFocusedValue(o),u=this.getNextFocusedOption(i.focusable);this.setState({menuOptions:i,selectValue:o,focusedOption:u,focusedValue:s})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:\"componentDidUpdate\",value:function(e){var t,n,r,a,o,i=this.props,s=i.isDisabled,u=i.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&u&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,r=t.getBoundingClientRect(),a=n.getBoundingClientRect(),o=n.offsetHeight/3,a.bottom+o>r.bottom?L(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+o,t.scrollHeight)):a.top-o<r.top&&L(t,Math.max(n.offsetTop-o,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:\"componentWillUnmount\",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener(\"scroll\",this.onScroll,!0)}},{key:\"onMenuOpen\",value:function(){this.props.onMenuOpen()}},{key:\"onMenuClose\",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:\"input\",context:{isSearchable:t,isMulti:n}}),this.onInputChange(\"\",{action:\"menu-close\"}),this.props.onMenuClose()}},{key:\"onInputChange\",value:function(e,t){this.props.onInputChange(e,t)}},{key:\"focusInput\",value:function(){this.inputRef&&this.inputRef.focus()}},{key:\"blurInput\",value:function(){this.inputRef&&this.inputRef.blur()}},{key:\"openMenu\",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,a=t.isFocused,o=this.props.isMulti,i=\"first\"===e?0:n.focusable.length-1;if(!o){var s=n.focusable.indexOf(r[0]);s>-1&&(i=s)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[i]}),this.announceAriaLiveContext({event:\"menu\"})}},{key:\"focusValue\",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,a=this.state,o=a.selectValue,i=a.focusedValue;if(n){this.setState({focusedOption:null});var s=o.indexOf(i);i||(s=-1,this.announceAriaLiveContext({event:\"value\"}));var u=o.length-1,c=-1;if(o.length){switch(e){case\"previous\":c=0===s?0:-1===s?u:s-1;break;case\"next\":s>-1&&s<u&&(c=s+1)}-1===c&&this.announceAriaLiveContext({event:\"input\",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:o[c]})}}}},{key:\"focusOption\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"first\",t=this.props.pageSize,n=this.state,r=n.focusedOption,a=n.menuOptions,o=a.focusable;if(o.length){var i=0,s=o.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:\"menu\"})),\"up\"===e?i=s>0?s-1:o.length-1:\"down\"===e?i=(s+1)%o.length:\"pageup\"===e?(i=s-t)<0&&(i=0):\"pagedown\"===e?(i=s+t)>o.length-1&&(i=o.length-1):\"last\"===e&&(i=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[i],focusedValue:null}),this.announceAriaLiveContext({event:\"menu\",context:{isDisabled:ye(o[i])}})}}},{key:\"getTheme\",value:function(){return this.props.theme?\"function\"==typeof this.props.theme?this.props.theme(Be):k({},Be,this.props.theme):Be}},{key:\"getCommonProps\",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,a=this.props,o=a.classNamePrefix,i=a.isMulti,s=a.isRtl,u=a.options,c=this.state.selectValue,l=this.hasValue();return{cx:I.bind(null,o),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:l,isMulti:i,isRtl:s,options:u,selectOption:r,setValue:n,selectProps:a,theme:this.getTheme()}}},{key:\"getNextFocusedValue\",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:\"getNextFocusedOption\",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:\"hasValue\",value:function(){return this.state.selectValue.length>0}},{key:\"hasOptions\",value:function(){return!!this.state.menuOptions.render.length}},{key:\"countOptions\",value:function(){return this.state.menuOptions.focusable.length}},{key:\"isClearable\",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:\"isOptionDisabled\",value:function(e,t){return\"function\"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:\"isOptionSelected\",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if(\"function\"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===r}))}},{key:\"filterOption\",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:\"formatOptionLabel\",value:function(e,t){if(\"function\"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:\"formatGroupLabel\",value:function(e){return this.props.formatGroupLabel(e)}},{key:\"startListeningComposition\",value:function(){document&&document.addEventListener&&(document.addEventListener(\"compositionstart\",this.onCompositionStart,!1),document.addEventListener(\"compositionend\",this.onCompositionEnd,!1))}},{key:\"stopListeningComposition\",value:function(){document&&document.removeEventListener&&(document.removeEventListener(\"compositionstart\",this.onCompositionStart),document.removeEventListener(\"compositionend\",this.onCompositionEnd))}},{key:\"startListeningToTouch\",value:function(){document&&document.addEventListener&&(document.addEventListener(\"touchstart\",this.onTouchStart,!1),document.addEventListener(\"touchmove\",this.onTouchMove,!1),document.addEventListener(\"touchend\",this.onTouchEnd,!1))}},{key:\"stopListeningToTouch\",value:function(){document&&document.removeEventListener&&(document.removeEventListener(\"touchstart\",this.onTouchStart),document.removeEventListener(\"touchmove\",this.onTouchMove),document.removeEventListener(\"touchend\",this.onTouchEnd))}},{key:\"buildMenuOptions\",value:function(e,t){var n=this,r=e.inputValue,a=void 0===r?\"\":r,o=e.options,i=function(e,r){var o=n.isOptionDisabled(e,t),i=n.isOptionSelected(e,t),s=n.getOptionLabel(e),u=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&i||!n.filterOption({label:s,value:u,data:e},a))){var c=o?void 0:function(){return n.onOptionHover(e)},l=o?void 0:function(){return n.selectOption(e)},d=\"\".concat(n.getElementId(\"option\"),\"-\").concat(r);return{innerProps:{id:d,onClick:l,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:o,isSelected:i,key:d,label:s,type:\"option\",value:u}}};return o.reduce((function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var a=t.options.map((function(t,n){var a=i(t,\"\".concat(r,\"-\").concat(n));return a&&e.focusable.push(t),a})).filter(Boolean);if(a.length){var o=\"\".concat(n.getElementId(\"group\"),\"-\").concat(r);e.render.push({type:\"group\",key:o,data:t,options:a})}}else{var s=i(t,\"\".concat(r));s&&(e.render.push(s),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:\"constructAriaLiveMessage\",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,a=e.focusedOption,o=this.props,i=o.options,s=o.menuIsOpen,u=o.inputValue,c=o.screenReaderStatus,l=r?function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return\"value \".concat(n(t),\" focused, \").concat(r.indexOf(t)+1,\" of \").concat(r.length,\".\")}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):\"\",d=a&&s?function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return\"option \".concat(n(t),\" focused\").concat(t.isDisabled?\" disabled\":\"\",\", \").concat(r.indexOf(t)+1,\" of \").concat(r.length,\".\")}({focusedOption:a,getOptionLabel:this.getOptionLabel,options:i}):\"\",p=function(e){var t=e.inputValue,n=e.screenReaderMessage;return\"\".concat(n).concat(t?\" for search term \"+t:\"\",\".\")}({inputValue:u,screenReaderMessage:c({count:this.countOptions()})});return\"\".concat(l,\" \").concat(d,\" \").concat(p,\" \").concat(t)}},{key:\"renderInput\",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,o=e.inputValue,i=e.tabIndex,s=this.components.Input,u=this.state.inputIsHidden,c=r||this.getElementId(\"input\");if(!n)return a.a.createElement(re,{id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:N,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:i,value:\"\"});var l={\"aria-autocomplete\":\"list\",\"aria-label\":this.props[\"aria-label\"],\"aria-labelledby\":this.props[\"aria-labelledby\"]},d=this.commonProps,p=d.cx,f=d.theme,h=d.selectProps;return a.a.createElement(s,w({autoCapitalize:\"none\",autoComplete:\"off\",autoCorrect:\"off\",cx:p,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:t,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:h,spellCheck:\"false\",tabIndex:i,theme:f,type:\"text\",value:o},l))}},{key:\"renderPlaceholderOrValue\",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,o=t.MultiValueLabel,i=t.MultiValueRemove,s=t.SingleValue,u=t.Placeholder,c=this.commonProps,l=this.props,d=l.controlShouldRenderValue,p=l.isDisabled,f=l.isMulti,h=l.inputValue,m=l.placeholder,g=this.state,v=g.selectValue,b=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return h?null:a.a.createElement(u,w({},c,{key:\"placeholder\",isDisabled:p,isFocused:y}),m);if(f)return v.map((function(t){var s=t===b;return a.a.createElement(n,w({},c,{components:{Container:r,Label:o,Remove:i},isFocused:s,isDisabled:p,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,\"value\"))}));if(h)return null;var E=v[0];return a.a.createElement(s,w({},c,{data:E,isDisabled:p}),this.formatOptionLabel(E,\"value\"))}},{key:\"renderClearIndicator\",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,\"aria-hidden\":\"true\"};return a.a.createElement(e,w({},t,{innerProps:s,isFocused:i}))}},{key:\"renderLoadingIndicator\",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,i=this.state.isFocused;if(!e||!o)return null;return a.a.createElement(e,w({},t,{innerProps:{\"aria-hidden\":\"true\"},isDisabled:r,isFocused:i}))}},{key:\"renderIndicatorSeparator\",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,o=this.props.isDisabled,i=this.state.isFocused;return a.a.createElement(n,w({},r,{isDisabled:o,isFocused:i}))}},{key:\"renderDropdownIndicator\",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,\"aria-hidden\":\"true\"};return a.a.createElement(e,w({},t,{innerProps:o,isDisabled:n,isFocused:r}))}},{key:\"renderMenu\",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,o=t.Menu,i=t.MenuList,s=t.MenuPortal,u=t.LoadingMessage,c=t.NoOptionsMessage,l=t.Option,d=this.commonProps,p=this.state,f=p.focusedOption,h=p.menuOptions,m=this.props,g=m.captureMenuScroll,v=m.inputValue,b=m.isLoading,y=m.loadingMessage,E=m.minMenuHeight,k=m.maxMenuHeight,O=m.menuIsOpen,C=m.menuPlacement,D=m.menuPosition,j=m.menuPortalTarget,T=m.menuShouldBlockScroll,x=m.menuShouldScrollIntoView,N=m.noOptionsMessage,M=m.onMenuScrollToTop,I=m.onMenuScrollToBottom;if(!O)return null;var P,A=function(t){var n=f===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,a.a.createElement(l,w({},d,t,{isFocused:n}),e.formatOptionLabel(t.data,\"menu\"))};if(this.hasOptions())P=h.render.map((function(t){if(\"group\"===t.type){t.type;var o=S(t,[\"type\"]),i=\"\".concat(t.key,\"-heading\");return a.a.createElement(n,w({},d,o,{Heading:r,headingProps:{id:i},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return A(e)})))}if(\"option\"===t.type)return A(t)}));else if(b){var _=y({inputValue:v});if(null===_)return null;P=a.a.createElement(u,d,_)}else{var L=N({inputValue:v});if(null===L)return null;P=a.a.createElement(c,d,L)}var F={minMenuHeight:E,maxMenuHeight:k,menuPlacement:C,menuPosition:D,menuShouldScrollIntoView:x},R=a.a.createElement(H,w({},d,F),(function(t){var n=t.ref,r=t.placerProps,s=r.placement,u=r.maxHeight;return a.a.createElement(o,w({},d,F,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:b,placement:s}),a.a.createElement(ge,{isEnabled:g,onTopArrive:M,onBottomArrive:I},a.a.createElement(he,{isEnabled:T},a.a.createElement(i,w({},d,{innerRef:e.getMenuListRef,isLoading:b,maxHeight:u}),P))))}));return j||\"fixed\"===D?a.a.createElement(s,w({},d,{appendTo:j,controlElement:this.controlRef,menuPlacement:C,menuPosition:D}),R):R}},{key:\"renderFormField\",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,i=t.name,s=this.state.selectValue;if(i&&!r){if(o){if(n){var u=s.map((function(t){return e.getOptionValue(t)})).join(n);return a.a.createElement(\"input\",{name:i,type:\"hidden\",value:u})}var c=s.length>0?s.map((function(t,n){return a.a.createElement(\"input\",{key:\"i-\".concat(n),name:i,type:\"hidden\",value:e.getOptionValue(t)})})):a.a.createElement(\"input\",{name:i,type:\"hidden\"});return a.a.createElement(\"div\",null,c)}var l=s[0]?this.getOptionValue(s[0]):\"\";return a.a.createElement(\"input\",{name:i,type:\"hidden\",value:l})}}},{key:\"renderLiveRegion\",value:function(){return this.state.isFocused?a.a.createElement(ne,{\"aria-live\":\"assertive\"},a.a.createElement(\"p\",{id:\"aria-selection-event\"},\" \",this.state.ariaLiveSelection),a.a.createElement(\"p\",{id:\"aria-context\"},\" \",this.constructAriaLiveMessage())):null}},{key:\"render\",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,i=this.props,s=i.className,u=i.id,c=i.isDisabled,l=i.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return a.a.createElement(r,w({},p,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),a.a.createElement(t,w({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:l}),a.a.createElement(o,w({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),a.a.createElement(n,w({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(r.Component);E(qe,\"defaultProps\",He);var Ve={defaultInputValue:\"\",defaultMenuIsOpen:!1,defaultValue:null},Ge=function(e){var t,n;return n=t=function(t){function n(){var e,t;v(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return E(j(j(t=T(this,(e=C(n)).call.apply(e,[this].concat(a))))),\"select\",void 0),E(j(j(t)),\"state\",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),E(j(j(t)),\"onChange\",(function(e,n){t.callProp(\"onChange\",e,n),t.setState({value:e})})),E(j(j(t)),\"onInputChange\",(function(e,n){var r=t.callProp(\"onInputChange\",e,n);t.setState({inputValue:void 0!==r?r:e})})),E(j(j(t)),\"onMenuOpen\",(function(){t.callProp(\"onMenuOpen\"),t.setState({menuIsOpen:!0})})),E(j(j(t)),\"onMenuClose\",(function(){t.callProp(\"onMenuClose\"),t.setState({menuIsOpen:!1})})),t}return O(n,t),y(n,[{key:\"focus\",value:function(){this.select.focus()}},{key:\"blur\",value:function(){this.select.blur()}},{key:\"getProp\",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:\"callProp\",value:function(e){if(\"function\"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=this.props)[e].apply(t,r)}}},{key:\"render\",value:function(){var t=this,n=this.props,r=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,S(n,[\"defaultInputValue\",\"defaultMenuIsOpen\",\"defaultValue\"]));return a.a.createElement(e,w({},r,{ref:function(e){t.select=e},inputValue:this.getProp(\"inputValue\"),menuIsOpen:this.getProp(\"menuIsOpen\"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp(\"value\")}))}}]),n}(r.Component),E(t,\"defaultProps\",Ve),n},Ye={cacheOptions:!1,defaultOptions:!1,filterOption:null},ze=function(e){var t,n;return n=t=function(t){function n(e){var t;return v(this,n),E(j(j(t=T(this,C(n).call(this)))),\"select\",void 0),E(j(j(t)),\"lastRequest\",void 0),E(j(j(t)),\"mounted\",!1),E(j(j(t)),\"optionsCache\",{}),E(j(j(t)),\"handleInputChange\",(function(e,n){var r=t.props,a=r.cacheOptions,o=function(e,t,n){if(n){var r=n(e,t);if(\"string\"==typeof r)return r}return e}(e,n,r.onInputChange);if(!o)return delete t.lastRequest,void t.setState({inputValue:\"\",loadedInputValue:\"\",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(a&&t.optionsCache[o])t.setState({inputValue:o,loadedInputValue:o,loadedOptions:t.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var i=t.lastRequest={};t.setState({inputValue:o,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(o,(function(e){t.mounted&&(e&&(t.optionsCache[o]=e),i===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:o,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return o})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:\"\",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return O(n,t),y(n,[{key:\"componentDidMount\",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:\"componentWillReceiveProps\",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:\"componentWillUnmount\",value:function(){this.mounted=!1}},{key:\"focus\",value:function(){this.select.focus()}},{key:\"blur\",value:function(){this.select.blur()}},{key:\"loadOptions\",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&\"function\"==typeof r.then&&r.then(t,(function(){return t()}))}},{key:\"render\",value:function(){var t=this,n=this.props,r=(n.loadOptions,S(n,[\"loadOptions\"])),o=this.state,i=o.defaultOptions,s=o.inputValue,u=o.isLoading,c=o.loadedInputValue,l=o.loadedOptions,d=o.passEmptyOptions?[]:s&&c?l:i||[];return a.a.createElement(e,w({},r,{ref:function(e){t.select=e},options:d,isLoading:u,onInputChange:this.handleInputChange}))}}]),n}(r.Component),E(t,\"defaultProps\",Ye),n},Ke=(ze(Ge(qe)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),a=String(t.label).toLowerCase();return r===n||a===n}),$e=k({allowCreateWhileLoading:!1,createOptionPosition:\"last\"},{formatCreateLabel:function(e){return'Create \"'.concat(e,'\"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return Ke(e,t)}))||n.some((function(t){return Ke(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Qe=function(e){var t,n;return n=t=function(t){function n(e){var t;v(this,n),E(j(j(t=T(this,C(n).call(this,e)))),\"select\",void 0),E(j(j(t)),\"onChange\",(function(e,n){var r=t.props,a=r.getNewOptionData,o=r.inputValue,i=r.isMulti,s=r.onChange,u=r.onCreateOption,c=r.value;if(\"select-option\"!==n.action)return s(e,n);var l=t.state.newOption,d=Array.isArray(e)?e:[e];if(d[d.length-1]!==l)s(e,n);else if(u)u(o);else{var p=a(o,o),f={action:\"create-option\"};s(i?[].concat(x(P(c)),[p]):p,f)}}));var r=e.options||[];return t.state={newOption:void 0,options:r},t}return O(n,t),y(n,[{key:\"componentWillReceiveProps\",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,a=e.getNewOptionData,o=e.inputValue,i=e.isLoading,s=e.isValidNewOption,u=e.value,c=e.options||[],l=this.state.newOption;l=s(o,P(u),c)?a(o,r(o)):void 0,this.setState({newOption:l,options:!t&&i||!l?c:\"first\"===n?[l].concat(x(c)):[].concat(x(c),[l])})}},{key:\"focus\",value:function(){this.select.focus()}},{key:\"blur\",value:function(){this.select.blur()}},{key:\"render\",value:function(){var t=this,n=w({},this.props),r=this.state.options;return a.a.createElement(e,w({},n,{ref:function(e){t.select=e},options:r,onChange:this.onChange}))}}]),n}(r.Component),E(t,\"defaultProps\",$e),n},Je=(Ge(Qe(qe)),ze(Ge(Qe(qe))),function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=S(t,[\"in\",\"onExited\",\"appear\",\"enter\",\"exit\"]);return a.a.createElement(e,n)}}),Xe=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,o=e.in,i=(e.onExited,S(e,[\"component\",\"duration\",\"in\",\"onExited\"])),s={entering:{opacity:0},entered:{opacity:1,transition:\"opacity \".concat(r,\"ms\")},exiting:{opacity:0},exited:{opacity:0}};return a.a.createElement(m.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:o,timeout:r},(function(e){var n={style:k({},s[e])};return a.a.createElement(t,w({innerProps:n},i))}))},Ze=260,et=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return E(j(j(n=T(this,(e=C(t)).call.apply(e,[this].concat(a))))),\"duration\",Ze),E(j(j(n)),\"rafID\",void 0),E(j(j(n)),\"state\",{width:\"auto\"}),E(j(j(n)),\"transition\",{exiting:{width:0,transition:\"width \".concat(n.duration,\"ms ease-out\")},exited:{width:0}}),E(j(j(n)),\"getWidth\",(function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;n.setState({width:t})})))})),E(j(j(n)),\"getStyle\",(function(e){return{overflow:\"hidden\",whiteSpace:\"nowrap\",width:e}})),E(j(j(n)),\"getTransition\",(function(e){return n.transition[e]})),n}return O(t,e),y(t,[{key:\"componentWillUnmount\",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.children,r=t.in,o=this.state.width;return a.a.createElement(m.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:this.duration},(function(t){var r=k({},e.getStyle(o),e.getTransition(t));return a.a.createElement(\"div\",{ref:e.getWidth,style:r},n)}))}}]),t}(r.Component),tt=function(e){return function(t){var n=t.in,r=t.onExited,o=S(t,[\"in\",\"onExited\"]);return a.a.createElement(et,{in:n,onExited:r},a.a.createElement(e,w({cropWithEllipsis:n},o)))}},nt=function(e){return function(t){return a.a.createElement(Xe,w({component:e,duration:t.isMulti?Ze:1},t))}},rt=function(e){return function(t){return a.a.createElement(Xe,w({component:e},t))}},at=function(e){return function(t){return a.a.createElement(m.TransitionGroup,w({component:e},t))}},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Fe({components:e}),n=t.Input,r=t.MultiValue,a=t.Placeholder,o=t.SingleValue,i=t.ValueContainer,s=S(t,[\"Input\",\"MultiValue\",\"Placeholder\",\"SingleValue\",\"ValueContainer\"]);return k({Input:Je(n),MultiValue:tt(r),Placeholder:nt(a),SingleValue:rt(o),ValueContainer:at(i)},s)},it=ot(),st=(it.Input,it.MultiValue,it.Placeholder,it.SingleValue,it.ValueContainer,i(ot,J),Ge(qe));t.a=st},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(9);function i(e){return e.split(\".\").filter((function(e){return e}))}function s(e){return e.map((function(e){return e.trim()}))||[]}function u(e,t){var n=i(e);return t&&t.length===n.length}function c(e,t,n,r){var a=e.name,o=i(e.name),c=t&&s(t),d=n&&l(n,e.id),p=r&&(!c||0==c.length)||u(e.name,c);return o.forEach((function(e){var t=e.trim(),n=e+\".\";c&&c.includes(t)&&!p?a=a.replace(n,\"<span class=markedGreen>\"+n+\"</span>\"):d&&d.includes(t)?a=a.replace(n,\"<span>\"+n+\"</span>\"):!p&&d&&d.length>0&&(a=a.replace(n,\"<span class=markedRed>\"+n+\"</span>\"))})),a}function l(e,t){var n=[];return e.forEach((function(e){var a=Object.assign([],Object.keys(e).filter((function(e){return e==t})).map((function(t){return e[t].map((function(e){return e.trim()}))})));n.push.apply(n,Object(r.h)(a))})),Object(o.k)(n)}function d(e,t){var n=[];return(n=e.map((function(e,t){return{ind:t,val:e}})).filter((function(e){return t.includes(e.val)})))?n.sort((function(e,t){return e.ind>t.ind?1:-1})).map((function(e){return e.val})):[]}function p(e,t){return e?t?'Skolverket har uppdaterat textens formulering. Du kan granska ändringen genom att fälla ut varningsboxen till höger, med titel \"Uppdaterade formuleringar från Skolverket\"':\"Skolverket har uppdaterat textens formulering, men detta har ännu inte granskats av uppgiftens redigeringsbehörige\":void 0}n.d(t,\"a\",(function(){return h}));var f,h=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.getKnowledgeSentencesContent=function(e,t,n,r,o){var u=this,c=this.props,f=c.coveredPartialRequirments,h=c.markMode,m=i(e.name),g=t&&s(t),v=f&&l(f,e.id);return a.createElement(\"td\",{key:n,title:p(o,h)},m.map((function(n,o){var i=n.trim(),s=g&&g.includes(i)||r&&!g,c=!v.includes(i);return a.createElement(\"span\",{key:o,dangerouslySetInnerHTML:{__html:n?n+\".\":\"\"},className:\"selectable\"+(s?\" markedGreen\":c?\" markedRed\":\"\"),onClick:function(){var a=t?Object.assign([],t):[],o=g&&g.includes(i);!r||g&&0!=g.length?(o?a=t.filter((function(e){return e!=n})):a.push(n),u.props.onUpdatePartialKnowledge(e.id,d(m,a))):(a=m.filter((function(e){return e!=n})),u.props.onUpdatePartialKnowledge(e.id,d(m,a)))}})})))},t.prototype.onRequirementChanged=function(e,t,n,r){this.props.onUpdatePartialKnowledge?t&&!n||r?this.props.onUpdatePartialKnowledge(e.id,[]):this.props.onUpdatePartialKnowledge(e.id,i(e.name)):this.props.onMarkChanged(e.id,!t)},t.prototype.render=function(){for(var e=this,t=this.props,n=t.knowledgeRequirements,d=t.markedIds,h=t.migratedIds,m=t.explainedRequirements,g=t.markBySentenceView,v=t.markPartialFeatureEnabled,b=this.props,y=(b.idsToMarkNotOk,b.markMode),E=b.onExplainedRequirementsChanged,w=b.partialRequirments,k=b.coveredPartialRequirments,O=[\"E\",\"C\",\"A\"],C=[],D=n.slice(),S=null;!(S=O.map((function(e){var t=D.findIndex((function(t){return t.gradeStep&&t.gradeStep.toUpperCase()===e}));if(t<0)return null;var n=D[t];return D.splice(t,1),n}))).every((function(e){return null===e}));)C.push(S);return a.createElement(\"table\",{className:\"knowledge-matrix\"},a.createElement(\"thead\",null,a.createElement(\"tr\",null,O.map((function(e){return a.createElement(\"th\",{key:e},e)})))),a.createElement(\"tbody\",null,C.map((function(t,n){return a.createElement(a.Fragment,{key:n},a.createElement(\"tr\",null,t.map((function(t,n){var r=t&&d&&d.indexOf(t.id)>=0,o=t&&h&&!!h[t.id],f=t&&w&&w[t.id],m=f&&s(f),b=t&&u(t.name,m),E=t&&function(e,t){for(var n=i(e.name),r=!1,a=0;a<n.length;a++){var o=n[a].trim(),s=t&&l(t,e.id);if(s&&s.includes(o)){r=!0;break}}return r}(t,k),O=!(m&&m.length>0||E);return t&&g&&v?e.getKnowledgeSentencesContent(t,f,n,r,o):a.createElement(\"td\",{key:n,dangerouslySetInnerHTML:{__html:t?f&&f.length||E?c(t,f,k,r):t.name:\"\"},className:(y?\"selectable\":\"\")+(o?\" migrated\":\"\")+(!r||f&&!b?O?\" markedRed\":\"\":\" markedGreen\"),onClick:y&&t?function(){return e.onRequirementChanged(t,r,m,b)}:void 0,title:p(o,y)})}))),m&&a.createElement(\"tr\",null,t.map((function(e,t){var n=e&&w&&w[e.id]&&s(w[e.id]),i=e&&d&&d.indexOf(e.id)>=0||n&&n.length>0;return a.createElement(\"td\",{key:t},i?a.createElement(\"textarea\",{placeholder:Object(o.a)(f||(f=Object(r.e)([\"Beskrivning av kravet\"],[\"Beskrivning av kravet\"]))),className:\"inputTextBox inputTextLarge\",style:{width:\"100%\"},readOnly:!y,value:e&&m[e.id]||\"\",onChange:e&&E&&function(t){return E(e.id,t.target.value)}}):void 0)}))))}))))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(0),a=n(4),o=function(){function e(e){var t=e.discoveryDocs;this.googleTokenProvider=a.b.googleTokenProvider,this.discoveryDocs=[],this.discoveryDocs.push(t)}return e.prototype.setBearerProvider=function(e){this.googleTokenProvider=e},e.prototype.ensureInited=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return\"undefined\"!=typeof gapi?[3,2]:[4,this.loadGapi()];case 1:t.sent(),t.label=2;case 2:return!this.tokenExpiration||this.tokenExpiration<new Date?[4,this.googleTokenProvider.getBearer()]:[3,4];case 3:e=t.sent(),this.tokenExpiration=new Date(e.expires),this.token=e.token,t.label=4;case 4:return[4,gapi.client.init({discoveryDocs:this.discoveryDocs})];case 5:return t.sent(),[4,gapi.client.setToken({access_token:this.token})];case 6:return t.sent(),[2]}}))}))},e.prototype.loadGapi=function(){return new Promise((function(e){if(\"undefined\"!=typeof gapi)return e();var t=document.createElement(\"script\");t.src=\"https://apis.google.com/js/client.js?onload=gaapi_loaded\",document.getElementsByTagName(\"head\")[0].appendChild(t),window.gaapi_loaded=e}))},e}()},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s})),n.d(t,\"b\",(function(){return u}));var r=n(0),a=n(6),o=n(216),i=n(1),s=function(){function e(){var e,t;this._initialized=!1;var n=function(e){Object.defineProperty(a,e,{get:function(){return this._initialized||this.init(),this._features[e]},set:function(e){throw new Error(\"Feature flags cannot be set here\")}})},a=this;try{for(var i=Object(r.i)(Object.keys(o)),s=i.next();!s.done;s=i.next()){n(s.value)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}return e.prototype.init=function(){var e,t;if(!this._initialized){var n=(i.a.KED_FEATURES||\"\").split(\",\").map((function(e){return e.trim().toLowerCase()})),s=Object(a.b)(location.search,{toLower:!0});s.testversion&&(n=[\"*\"]),s.features&&(n=s.features.split(\",\").map((function(e){return e.trim().toLowerCase()})));var u=n.includes(\"*\");this._features={};try{for(var c=Object(r.i)(Object.keys(o)),l=c.next();!l.done;l=c.next()){var d=l.value;this._features[d]=u||n.includes(d.toLowerCase())}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}this._initialized=!0}},e}(),u=new s},function(e,t,n){\"use strict\";(function(e){var r=n(2),a=n.n(r),o=(n(44),n(217)),i=n.n(o),s=n(251),u=n(174),c=n(284),l=n(252),d=n(253),p=n(154),f=n(177),h=n(153),m=n(178),g=n(261),v=n(262),b=n(247),y=n(259),E=n(260),w=n(246),k=n(245),O=n(256),C=n(257),D=n(243),S=n(242),j=n(255),T=n(230),x=n(229),N=n(228),M=n(241),I=n(258),P=n(249),A=n(250),_=n(244),L=n(248),F=n(233),R=n(231),U=n(152),B=n(175),H=n(235),W=n(234),q=n(232),V=n(239),G=n(238),Y=n(237),z=n(236),K=n(227),$=n(254),Q=n(240),J=n(85),X=n(282),Z=n(226),ee=n(218),te=n(285);var ne,re=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){function n(e,t){switch(e){case\"P\":return t.date({width:\"short\"});case\"PP\":return t.date({width:\"medium\"});case\"PPP\":return t.date({width:\"long\"});case\"PPPP\":default:return t.date({width:\"full\"})}}function r(e,t){switch(e){case\"p\":return t.time({width:\"short\"});case\"pp\":return t.time({width:\"medium\"});case\"ppp\":return t.time({width:\"long\"});case\"pppp\":default:return t.time({width:\"full\"})}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var a={p:r,P:function(e,t){var a,o=e.match(/(P+)(p+)?/),i=o[1],s=o[2];if(!s)return n(e,t);switch(i){case\"P\":a=t.dateTime({width:\"short\"});break;case\"PP\":a=t.dateTime({width:\"medium\"});break;case\"PPP\":a=t.dateTime({width:\"long\"});break;case\"PPPP\":default:a=t.dateTime({width:\"full\"})}return a.replace(\"{{date}}\",n(i,t)).replace(\"{{time}}\",r(s,t))}};t.default=a,e.exports=t.default})),ae=(ne=re)&&ne.__esModule&&Object.prototype.hasOwnProperty.call(ne,\"default\")?ne.default:ne,oe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ie=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},le=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},de=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function pe(e){var t=e?\"string\"==typeof e||e instanceof String?Object(Z.a)(e):Object(J.a)(e):new Date;return he(t)?t:null}function fe(e,t,n,r){var a=null,o=De(n)||Ce(),i=!0;return Array.isArray(t)?(t.forEach((function(t){var n=Object(X.a)(e,t,new Date,{locale:o});r&&(i=he(n)&&e===Object(c.a)(n,t,{awareOfUnicodeTokens:!0})),he(n)&&i&&(a=n)})),a):(a=Object(X.a)(e,t,new Date,{locale:o}),r?i=he(a)&&e===Object(c.a)(a,t,{awareOfUnicodeTokens:!0}):he(a)||(t=t.match(de).map((function(e){var t=e[0];if(\"p\"===t||\"P\"===t){var n=ae[t];return o?n(e,o.formatLong):t}return e})).join(\"\"),e.length>0&&(a=Object(X.a)(e,t.slice(0,e.length),new Date)),he(a)||(a=new Date(e))),he(a)&&i?a:null)}function he(e){return Object(u.a)(e)&&Object(K.a)(e,new Date(\"1/1/1000\"))}function me(e,t,n){if(\"en\"===n)return Object(c.a)(e,t,{awareOfUnicodeTokens:!0});var r=De(n);return n&&!r&&console.warn('A locale object was not found for the provided string [\"'+n+'\"].'),!r&&Ce()&&De(Ce())&&(r=De(Ce())),Object(c.a)(e,t,{locale:r||null,awareOfUnicodeTokens:!0})}function ge(e,t){var n=t.hour,r=void 0===n?0:n,a=t.minute,o=void 0===a?0:a,i=t.second,s=void 0===i?0:i;return Object(N.a)(Object(x.a)(Object(T.a)(e,s),o),r)}function ve(e,t){var n=De(t||Ce());return Object(B.a)(e,{locale:n})}function be(e){return Object(H.a)(e)}function ye(e,t){return e&&t?Object(z.a)(e,t):!e&&!t}function Ee(e,t){return e&&t?Object(Y.a)(e,t):!e&&!t}function we(e,t){return e&&t?Object(G.a)(e,t):!e&&!t}function ke(e,t){return e&&t?Object(V.a)(e,t):!e&&!t}function Oe(e,t,n){var r=void 0;try{r=Object(Q.a)(e,{start:t,end:n})}catch(e){r=!1}return r}function Ce(){return(\"undefined\"!=typeof window?window:e).__localeId__}function De(t){if(\"string\"==typeof t){var n=\"undefined\"!=typeof window?window:e;return n.__localeData__?n.__localeData__[t]:null}return t}function Se(e,t){return me(Object(M.a)(pe(),e),\"LLL\",t)}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,o=t.includeDates,i=t.filterDate;return Ne(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return we(e,t)}))||o&&!o.some((function(t){return we(e,t)}))||i&&!i(pe(e))||!1}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,a=t.excludeDates,o=t.includeDates,i=t.filterDate;return Ne(e,{minDate:n,maxDate:r})||a&&a.some((function(t){return Ee(e,t)}))||o&&!o.some((function(t){return Ee(e,t)}))||i&&!i(pe(e))||!1}function xe(e,t,n,r){var a=Object(S.a)(e),o=Object(D.a)(e),i=Object(S.a)(t),s=Object(D.a)(t),u=Object(S.a)(r);return a===i&&a===u?o<=n&&n<=s:a<i?u===a&&o<=n||u===i&&s>=n||u<i&&u>a:void 0}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate;return n&&Object(_.a)(e,n)<0||r&&Object(_.a)(e,r)>0}function Me(e,t){for(var n=t.length,r=0;r<n;r++)if(Object(k.a)(t[r])===Object(k.a)(e)&&Object(w.a)(t[r])===Object(w.a)(e))return!0;return!1}function Ie(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error(\"Both minTime and maxTime props required\");var a=pe(),o=Object(N.a)(Object(x.a)(a,Object(w.a)(e)),Object(k.a)(e)),i=Object(N.a)(Object(x.a)(a,Object(w.a)(n)),Object(k.a)(n)),s=Object(N.a)(Object(x.a)(a,Object(w.a)(r)),Object(k.a)(r)),u=void 0;try{u=!Object(Q.a)(o,{start:i,end:s})}catch(e){u=!1}return u}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.includeDates,a=Object(b.a)(e,1);return n&&Object(L.a)(n,a)>0||r&&r.every((function(e){return Object(L.a)(e,a)>0}))||!1}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxDate,r=t.includeDates,a=Object(h.a)(e,1);return n&&Object(L.a)(a,n)>0||r&&r.every((function(e){return Object(L.a)(a,e)>0}))||!1}function _e(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return Object(_.a)(e,t)>=0}));return Object(P.a)(r)}return n?Object(P.a)(n):t}function Le(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter((function(e){return Object(_.a)(e,t)<=0}));return Object(A.a)(r)}return n?Object(A.a)(n):t}function Fe(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"react-datepicker__day--highlighted\",n=new Map,r=0,a=e.length;r<a;r++){var o=e[r];if(Object(s.a)(o)){var i=me(o,\"MM.dd.yyyy\"),u=n.get(i)||[];u.includes(t)||(u.push(t),n.set(i,u))}else if(\"object\"===(void 0===o?\"undefined\":oe(o))){var c=Object.keys(o),l=c[0],d=o[c[0]];if(\"string\"==typeof l&&d.constructor===Array)for(var p=0,f=d.length;p<f;p++){var h=me(d[p],\"MM.dd.yyyy\"),m=n.get(h)||[];m.includes(l)||(m.push(l),n.set(h,m))}}}return n}function Re(e,t,n,r,a){for(var o=a.length,i=[],s=0;s<o;s++){var u=Object(l.a)(Object(d.a)(e,Object(k.a)(a[s])),Object(w.a)(a[s])),c=Object(l.a)(e,(n+1)*r);Object(K.a)(u,t)&&Object($.a)(u,c)&&i.push(a[s])}return i}function Ue(e){return e<10?\"0\"+e:\"\"+e}function Be(e,t,n,r){for(var a=[],o=0;o<2*t+1;o++){var i=e+t-o,s=!0;n&&(s=Object(S.a)(n)<=i),r&&s&&(s=Object(S.a)(r)>=i),s&&a.push(i)}return a}var He=function(e){function t(n){ie(this,t);var r=le(this,e.call(this,n));r.renderOptions=function(){var e=r.props.year,t=r.state.yearsList.map((function(t){return a.a.createElement(\"div\",{className:e===t?\"react-datepicker__year-option react-datepicker__year-option--selected_year\":\"react-datepicker__year-option\",key:t,ref:t,onClick:r.onChange.bind(r,t)},e===t?a.a.createElement(\"span\",{className:\"react-datepicker__year-option--selected\"},\"✓\"):\"\",t)})),n=r.props.minDate?Object(S.a)(r.props.minDate):null,o=r.props.maxDate?Object(S.a)(r.props.maxDate):null;return o&&r.state.yearsList.find((function(e){return e===o}))||t.unshift(a.a.createElement(\"div\",{className:\"react-datepicker__year-option\",ref:\"upcoming\",key:\"upcoming\",onClick:r.incrementYears},a.a.createElement(\"a\",{className:\"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming\"}))),n&&r.state.yearsList.find((function(e){return e===n}))||t.push(a.a.createElement(\"div\",{className:\"react-datepicker__year-option\",ref:\"previous\",key:\"previous\",onClick:r.decrementYears},a.a.createElement(\"a\",{className:\"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous\"}))),t},r.onChange=function(e){r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(e){var t=r.state.yearsList.map((function(t){return t+e}));r.setState({yearsList:t})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var o=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,s=o||(i?10:5);return r.state={yearsList:Be(r.props.year,s,r.props.minDate,r.props.maxDate)},r}return ce(t,e),t.prototype.render=function(){var e=i()({\"react-datepicker__year-dropdown\":!0,\"react-datepicker__year-dropdown--scrollable\":this.props.scrollableYearDropdown});return a.a.createElement(\"div\",{className:e},this.renderOptions())},t}(a.a.Component),We=Object(ee.a)(He),qe=function(e){function t(){var n,r;ie(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=le(this,e.call.apply(e,[this].concat(i))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=r.props.minDate?Object(S.a)(r.props.minDate):1900,t=r.props.maxDate?Object(S.a)(r.props.maxDate):2100,n=[],o=e;o<=t;o++)n.push(a.a.createElement(\"option\",{key:o,value:o},o));return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return a.a.createElement(\"select\",{value:r.props.year,className:\"react-datepicker__year-select\",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){return a.a.createElement(\"div\",{key:\"read\",style:{visibility:e?\"visible\":\"hidden\"},className:\"react-datepicker__year-read-view\",onClick:function(e){return r.toggleDropdown(e)}},a.a.createElement(\"span\",{className:\"react-datepicker__year-read-view--down-arrow\"}),a.a.createElement(\"span\",{className:\"react-datepicker__year-read-view--selected-year\"},r.props.year))},r.renderDropdown=function(){return a.a.createElement(We,{key:\"dropdown\",ref:\"options\",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(e){r.setState({dropdownVisible:!r.state.dropdownVisible},(function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,e)}))},r.handleYearChange=function(e,t){r.onSelect(e,t),r.setOpen()},r.onSelect=function(e,t){r.props.onSelect&&r.props.onSelect(e,t)},r.setOpen=function(){r.props.setOpen&&r.props.setOpen(!0)},le(r,n)}return ce(t,e),t.prototype.render=function(){var e=void 0;switch(this.props.dropdownMode){case\"scroll\":e=this.renderScrollMode();break;case\"select\":e=this.renderSelectMode()}return a.a.createElement(\"div\",{className:\"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--\"+this.props.dropdownMode},e)},t}(a.a.Component),Ve=function(e){function t(){var n,r;ie(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=le(this,e.call.apply(e,[this].concat(i))),r.renderOptions=function(){return r.props.monthNames.map((function(e,t){return a.a.createElement(\"div\",{className:r.props.month===t?\"react-datepicker__month-option --selected_month\":\"react-datepicker__month-option\",key:e,ref:e,onClick:r.onChange.bind(r,t)},r.props.month===t?a.a.createElement(\"span\",{className:\"react-datepicker__month-option--selected\"},\"✓\"):\"\",e)}))},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},le(r,n)}return ce(t,e),t.prototype.render=function(){return a.a.createElement(\"div\",{className:\"react-datepicker__month-dropdown\"},this.renderOptions())},t}(a.a.Component),Ge=Object(ee.a)(Ve),Ye=function(e){function t(){var n,r;ie(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=le(this,e.call.apply(e,[this].concat(i))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(e){return e.map((function(e,t){return a.a.createElement(\"option\",{key:t,value:t},e)}))},r.renderSelectMode=function(e){return a.a.createElement(\"select\",{value:r.props.month,className:\"react-datepicker__month-select\",onChange:function(e){return r.onChange(e.target.value)}},r.renderSelectOptions(e))},r.renderReadView=function(e,t){return a.a.createElement(\"div\",{key:\"read\",style:{visibility:e?\"visible\":\"hidden\"},className:\"react-datepicker__month-read-view\",onClick:r.toggleDropdown},a.a.createElement(\"span\",{className:\"react-datepicker__month-read-view--down-arrow\"}),a.a.createElement(\"span\",{className:\"react-datepicker__month-read-view--selected-month\"},t[r.props.month]))},r.renderDropdown=function(e){return a.a.createElement(Ge,{key:\"dropdown\",ref:\"options\",month:r.props.month,monthNames:e,onChange:r.onChange,onCancel:r.toggleDropdown})},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},le(r,n)}return ce(t,e),t.prototype.render=function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(t){return Se(t,e.props.locale)}:function(t){return n=t,r=e.props.locale,me(Object(M.a)(pe(),n),\"LLLL\",r);var n,r}),n=void 0;switch(this.props.dropdownMode){case\"scroll\":n=this.renderScrollMode(t);break;case\"select\":n=this.renderSelectMode(t)}return a.a.createElement(\"div\",{className:\"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--\"+this.props.dropdownMode},n)},t}(a.a.Component);function ze(e,t){for(var n=[],r=be(e),a=be(t);!Object(K.a)(r,a);)n.push(pe(r)),r=Object(h.a)(r,1);return n}var Ke=function(e){function t(n){ie(this,t);var r=le(this,e.call(this,n));return r.renderOptions=function(){return r.state.monthYearsList.map((function(e){var t=Object(j.a)(e),n=ye(r.props.date,e)&&Ee(r.props.date,e);return a.a.createElement(\"div\",{className:n?\"react-datepicker__month-year-option --selected_month-year\":\"react-datepicker__month-year-option\",key:t,ref:t,onClick:r.onChange.bind(r,t)},n?a.a.createElement(\"span\",{className:\"react-datepicker__month-year-option--selected\"},\"✓\"):\"\",me(e,r.props.dateFormat))}))},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:ze(r.props.minDate,r.props.maxDate)},r}return ce(t,e),t.prototype.render=function(){var e=i()({\"react-datepicker__month-year-dropdown\":!0,\"react-datepicker__month-year-dropdown--scrollable\":this.props.scrollableMonthYearDropdown});return a.a.createElement(\"div\",{className:e},this.renderOptions())},t}(a.a.Component),$e=Object(ee.a)(Ke),Qe=function(e){function t(){var n,r;ie(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=le(this,e.call.apply(e,[this].concat(i))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=be(r.props.minDate),t=be(r.props.maxDate),n=[];!Object(K.a)(e,t);){var o=Object(j.a)(e);n.push(a.a.createElement(\"option\",{key:o,value:o},me(e,r.props.dateFormat,r.props.locale))),e=Object(h.a)(e,1)}return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return a.a.createElement(\"select\",{value:Object(j.a)(be(r.props.date)),className:\"react-datepicker__month-year-select\",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){var t=me(r.props.date,r.props.dateFormat,r.props.locale);return a.a.createElement(\"div\",{key:\"read\",style:{visibility:e?\"visible\":\"hidden\"},className:\"react-datepicker__month-year-read-view\",onClick:function(e){return r.toggleDropdown(e)}},a.a.createElement(\"span\",{className:\"react-datepicker__month-year-read-view--down-arrow\"}),a.a.createElement(\"span\",{className:\"react-datepicker__month-year-read-view--selected-month-year\"},t))},r.renderDropdown=function(){return a.a.createElement($e,{key:\"dropdown\",ref:\"options\",date:r.props.date,dateFormat:r.props.dateFormat,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown();var t=pe(parseInt(e));ye(r.props.date,t)&&Ee(r.props.date,t)||r.props.onChange(t)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},le(r,n)}return ce(t,e),t.prototype.render=function(){var e=void 0;switch(this.props.dropdownMode){case\"scroll\":e=this.renderScrollMode();break;case\"select\":e=this.renderSelectMode()}return a.a.createElement(\"div\",{className:\"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--\"+this.props.dropdownMode},e)},t}(a.a.Component),Je=function(e){function t(){var n,r;ie(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=le(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.isSameDay=function(e){return we(r.props.day,e)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!r.isSameDay(r.props.selected)&&r.isSameDay(r.props.preSelection)},r.isDisabled=function(){return je(r.props.day,r.props)},r.getHighLightedClass=function(e){var t=r.props,n=t.day,a=t.highlightDates;if(!a)return!1;var o=me(n,\"MM.dd.yyyy\");return a.get(o)},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&Oe(t,n,a)},r.isInSelectingRange=function(){var e=r.props,t=e.day,n=e.selectsStart,a=e.selectsEnd,o=e.selectingDate,i=e.startDate,s=e.endDate;return!(!n&&!a||!o||r.isDisabled())&&(n&&s&&(Object($.a)(o,s)||ke(o,s))?Oe(t,o,s):!(!a||!i||!Object(K.a)(o,i)&&!ke(o,i))&&Oe(t,i,o))},r.isSelectingRangeStart=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,a=e.startDate;return we(t,e.selectsStart?n:a)},r.isSelectingRangeEnd=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,a=e.endDate;return we(t,e.selectsEnd?n:a)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&we(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&we(a,t)},r.isWeekend=function(){var e=Object(O.a)(r.props.day);return 0===e||6===e},r.isOutsideMonth=function(){return void 0!==r.props.month&&r.props.month!==Object(D.a)(r.props.day)},r.getClassNames=function(e){var t,n=r.props.dayClassName?r.props.dayClassName(e):void 0;return i()(\"react-datepicker__day\",n,\"react-datepicker__day--\"+me(r.props.day,\"ddd\",t),{\"react-datepicker__day--disabled\":r.isDisabled(),\"react-datepicker__day--selected\":r.isSameDay(r.props.selected),\"react-datepicker__day--keyboard-selected\":r.isKeyboardSelected(),\"react-datepicker__day--range-start\":r.isRangeStart(),\"react-datepicker__day--range-end\":r.isRangeEnd(),\"react-datepicker__day--in-range\":r.isInRange(),\"react-datepicker__day--in-selecting-range\":r.isInSelectingRange(),\"react-datepicker__day--selecting-range-start\":r.isSelectingRangeStart(),\"react-datepicker__day--selecting-range-end\":r.isSelectingRangeEnd(),\"react-datepicker__day--today\":r.isSameDay(pe()),\"react-datepicker__day--weekend\":r.isWeekend(),\"react-datepicker__day--outside-month\":r.isOutsideMonth()},r.getHighLightedClass(\"react-datepicker__day--highlighted\"))},le(r,n)}return ce(t,e),t.prototype.render=function(){return a.a.createElement(\"div\",{className:this.getClassNames(this.props.day),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,\"aria-label\":\"day-\"+Object(C.a)(this.props.day),role:\"option\"},this.props.renderDayContents?this.props.renderDayContents(Object(C.a)(this.props.day),this.props.day):Object(C.a)(this.props.day))},t}(a.a.Component),Xe=function(e){function t(){var n,r;ie(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=le(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(e){r.props.onClick&&r.props.onClick(e)},le(r,n)}return ce(t,e),t.prototype.render=function(){var e={\"react-datepicker__week-number\":!0,\"react-datepicker__week-number--clickable\":!!this.props.onClick};return a.a.createElement(\"div\",{className:i()(e),\"aria-label\":\"week-\"+this.props.weekNumber,onClick:this.handleClick},this.props.weekNumber)},t}(a.a.Component),Ze=function(e){function t(){var n,r;ie(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=le(this,e.call.apply(e,[this].concat(i))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleWeekClick=function(e,t,n){\"function\"==typeof r.props.onWeekSelect&&r.props.onWeekSelect(e,t,n),r.props.shouldCloseOnSelect&&r.props.setOpen(!1)},r.formatWeekNumber=function(e){return r.props.formatWeekNumber?r.props.formatWeekNumber(e):function(e){return Object(R.a)(e,1),ye(Object(q.a)(e),e)?Object(F.a)(e,Object(W.a)(e))+1:1}(e)},r.renderDays=function(){var e=ve(r.props.day,r.props.locale),t=[],n=r.formatWeekNumber(e);if(r.props.showWeekNumber){var o=r.props.onWeekSelect?r.handleWeekClick.bind(r,e,n):void 0;t.push(a.a.createElement(Xe,{key:\"W\",weekNumber:n,onClick:o}))}return t.concat([0,1,2,3,4,5,6].map((function(t){var n=Object(p.a)(e,t);return a.a.createElement(Je,{key:t,day:n,month:r.props.month,onClick:r.handleDayClick.bind(r,n),onMouseEnter:r.handleDayMouseEnter.bind(r,n),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation})})))},le(r,n)}return ce(t,e),t.prototype.render=function(){return a.a.createElement(\"div\",{className:\"react-datepicker__week\"},this.renderDays())},se(t,null,[{key:\"defaultProps\",get:function(){return{shouldCloseOnSelect:!0}}}]),t}(a.a.Component),et=6,tt=function(e){function t(){var n,r;ie(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=r=le(this,e.call.apply(e,[this].concat(s))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t,r.props.orderInDisplay)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMouseLeave=function(){r.props.onMouseLeave&&r.props.onMouseLeave()},r.isRangeStart=function(e){var t=r.props,n=t.day,a=t.startDate,o=t.endDate;return!(!a||!o)&&Ee(Object(M.a)(n,e),a)},r.isRangeEnd=function(e){var t=r.props,n=t.day,a=t.startDate,o=t.endDate;return!(!a||!o)&&Ee(Object(M.a)(n,e),o)},r.isWeekInMonth=function(e){var t=r.props.day,n=Object(p.a)(e,6);return Ee(e,t)||Ee(n,t)},r.renderWeeks=function(){for(var e=[],t=r.props.fixedHeight,n=ve(be(r.props.day),r.props.locale),o=0,i=!1;e.push(a.a.createElement(Ze,{key:o,day:n,month:Object(D.a)(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumber:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderDayContents:r.props.renderDayContents})),!i;){o++,n=Object(f.a)(n,1);var s=t&&o>=et,u=!t&&!r.isWeekInMonth(n);if(s||u){if(!r.props.peekNextMonth)break;i=!0}}return e},r.onMonthClick=function(e,t){r.handleDayClick(be(Object(M.a)(r.props.day,t)))},r.getMonthClassNames=function(e){var t=r.props,n=t.day,a=t.startDate,o=t.endDate,s=t.selected,u=t.minDate,c=t.maxDate;return i()(\"react-datepicker__month-text\",\"react-datepicker__month-\"+e,{\"react-datepicker__month--disabled\":(u||c)&&Te(Object(M.a)(n,e),r.props),\"react-datepicker__month--selected\":Object(D.a)(n)===e&&Object(S.a)(n)===Object(S.a)(s),\"react-datepicker__month--in-range\":xe(a,o,e,n),\"react-datepicker__month--range-start\":r.isRangeStart(e),\"react-datepicker__month--range-end\":r.isRangeEnd(e)})},r.renderMonths=function(){return[[0,1,2],[3,4,5],[6,7,8],[9,10,11]].map((function(e,t){return a.a.createElement(\"div\",{className:\"react-datepicker__month-wrapper\",key:t},e.map((function(e,t){return a.a.createElement(\"div\",{key:t,onClick:function(t){r.onMonthClick(t.target,e)},className:r.getMonthClassNames(e)},Se(e,r.props.locale))})))}))},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,a=e.selectsEnd,o=e.showMonthYearPicker;return i()(\"react-datepicker__month\",{\"react-datepicker__month--selecting-range\":t&&(n||a)},{\"react-datepicker__monthPicker\":o})},le(r,n)}return ce(t,e),t.prototype.render=function(){var e=this.props.showMonthYearPicker;return a.a.createElement(\"div\",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:\"listbox\",\"aria-label\":\"month-\"+me(this.props.day,\"yyyy-MM\")},e?this.renderMonths():this.renderWeeks())},t}(a.a.Component),nt=function(e){function t(){var n,r;ie(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=le(this,e.call.apply(e,[this].concat(i))),r.state={height:null},r.handleClick=function(e){(r.props.minTime||r.props.maxTime)&&Ie(e,r.props)||r.props.excludeTimes&&Me(e,r.props.excludeTimes)||r.props.includeTimes&&!Me(e,r.props.includeTimes)||r.props.onChange(e)},r.liClasses=function(e,t,n){var a=[\"react-datepicker__time-list-item\"];return t===Object(k.a)(e)&&n===Object(w.a)(e)&&a.push(\"react-datepicker__time-list-item--selected\"),((r.props.minTime||r.props.maxTime)&&Ie(e,r.props)||r.props.excludeTimes&&Me(e,r.props.excludeTimes)||r.props.includeTimes&&!Me(e,r.props.includeTimes))&&a.push(\"react-datepicker__time-list-item--disabled\"),r.props.injectTimes&&(60*Object(k.a)(e)+Object(w.a)(e))%r.props.intervals!=0&&a.push(\"react-datepicker__time-list-item--injected\"),a.join(\" \")},r.renderTimes=function(){for(var e,t=[],n=r.props.format?r.props.format:\"p\",o=r.props.intervals,i=r.props.selected?r.props.selected:pe(),s=Object(k.a)(i),u=Object(w.a)(i),c=(e=pe(),Object(U.a)(e)),d=1440/o,p=r.props.injectTimes&&r.props.injectTimes.sort((function(e,t){return e-t})),f=0;f<d;f++){var h=Object(l.a)(c,f*o);if(t.push(h),p){var m=Re(c,h,f,o,p);t=t.concat(m)}}return t.map((function(e,t){return a.a.createElement(\"li\",{key:t,onClick:r.handleClick.bind(r,e),className:r.liClasses(e,s,u),ref:function(t){(s===Object(k.a)(e)&&u===Object(w.a)(e)||s===Object(k.a)(e)&&!r.centerLi)&&(r.centerLi=t)}},me(e,n,r.props.locale))}))},le(r,n)}return ce(t,e),t.prototype.componentDidMount=function(){this.list.scrollTop=t.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e=this,t=this.state.height;return a.a.createElement(\"div\",{className:\"react-datepicker__time-container \"+(this.props.todayButton?\"react-datepicker__time-container--with-today-button\":\"\")},a.a.createElement(\"div\",{className:\"react-datepicker__header react-datepicker__header--time\",ref:function(t){e.header=t}},a.a.createElement(\"div\",{className:\"react-datepicker-time__header\"},this.props.timeCaption)),a.a.createElement(\"div\",{className:\"react-datepicker__time\"},a.a.createElement(\"div\",{className:\"react-datepicker__time-box\"},a.a.createElement(\"ul\",{className:\"react-datepicker__time-list\",ref:function(t){e.list=t},style:t?{height:t}:{}},this.renderTimes.bind(this)()))))},se(t,null,[{key:\"defaultProps\",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:\"Time\"}}}]),t}(a.a.Component);nt.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)};var rt=function(e){function t(n){ie(this,t);var r=le(this,e.call(this,n));return r.onTimeChange=function(e){r.setState({time:e});var t=new Date;t.setHours(e.split(\":\")[0]),t.setMinutes(e.split(\":\")[1]),r.props.onChange(t)},r.state={time:r.props.timeString},r}return ce(t,e),t.prototype.render=function(){var e=this,t=this.state.time,n=this.props.timeString;return a.a.createElement(\"div\",{className:\"react-datepicker__input-time-container\"},a.a.createElement(\"div\",{className:\"react-datepicker-time__caption\"},this.props.timeInputLabel),a.a.createElement(\"div\",{className:\"react-datepicker-time__input-container\"},a.a.createElement(\"div\",{className:\"react-datepicker-time__input\"},a.a.createElement(\"input\",{type:\"time\",className:\"react-datepicker-time__input\",placeholder:\"Time\",name:\"time-input\",required:!0,value:t,onChange:function(t){e.onTimeChange(t.target.value||n)}}))))},t}(a.a.Component);function at(e){var t=e.className,n=e.children,r=e.arrowProps,o=void 0===r?{}:r;return a.a.createElement(\"div\",{className:t},a.a.createElement(\"div\",ue({className:\"react-datepicker__triangle\"},o)),n)}var ot=[\"react-datepicker__year-select\",\"react-datepicker__month-select\",\"react-datepicker__month-year-select\"],it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||\"\").split(/\\s+/);return ot.some((function(e){return t.indexOf(e)>=0}))},st=function(e){function t(n){ie(this,t);var r=le(this,e.call(this,n));return r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.handleDropdownFocus=function(e){it(e.target)&&r.props.onDropdownFocus()},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,a=e.openToDate,o=_e(r.props),i=Le(r.props),s=pe(),u=a||n||t;return u||(o&&Object($.a)(s,o)?o:i&&Object(K.a)(s,i)?i:s)},r.increaseMonth=function(){r.setState({date:Object(h.a)(r.state.date,1)},(function(){return r.handleMonthChange(r.state.date)}))},r.decreaseMonth=function(){r.setState({date:Object(b.a)(r.state.date,1)},(function(){return r.handleMonthChange(r.state.date)}))},r.handleDayClick=function(e,t,n){return r.props.onSelect(e,t,n)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearChange=function(e){r.props.onYearChange&&r.props.onYearChange(e)},r.handleMonthChange=function(e){r.props.onMonthChange&&r.props.onMonthChange(e),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(e),r.props.setOpen&&r.props.setOpen(!0))},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState({date:Object(I.a)(r.state.date,e)},(function(){return r.handleYearChange(r.state.date)}))},r.changeMonth=function(e){r.setState({date:Object(M.a)(r.state.date,e)},(function(){return r.handleMonthChange(r.state.date)}))},r.changeMonthYear=function(e){r.setState({date:Object(I.a)(Object(M.a)(r.state.date,Object(D.a)(e)),Object(S.a)(e))},(function(){return r.handleMonthYearChange(r.state.date)}))},r.header=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=ve(e,r.props.locale),n=[];return r.props.showWeekNumbers&&n.push(a.a.createElement(\"div\",{key:\"W\",className:\"react-datepicker__day-name\"},r.props.weekLabel||\"#\")),n.concat([0,1,2,3,4,5,6].map((function(e){var n=Object(p.a)(t,e),o=r.formatWeekday(n,r.props.locale);return a.a.createElement(\"div\",{key:e,className:\"react-datepicker__day-name\"},o)})))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(me(e,\"EEEE\",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return me(e,\"EEE\",t)}(e,t):function(e,t){return me(e,\"EEEEEE\",t)}(e,t)},r.decreaseYear=function(){r.setState({date:Object(y.a)(r.state.date,1)},(function(){return r.handleYearChange(r.state.date)}))},r.renderPreviousButton=function(){if(!r.props.renderCustomHeader){var e=Pe(r.state.date,r.props);if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=[\"react-datepicker__navigation\",\"react-datepicker__navigation--previous\"],n=r.decreaseMonth;return r.props.showMonthYearPicker&&(n=r.decreaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push(\"react-datepicker__navigation--previous--disabled\"),n=null),a.a.createElement(\"button\",{type:\"button\",className:t.join(\" \"),onClick:n},r.props.showMonthYearPicker?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel)}}},r.increaseYear=function(){r.setState({date:Object(m.a)(r.state.date,1)},(function(){return r.handleYearChange(r.state.date)}))},r.renderNextButton=function(){if(!r.props.renderCustomHeader){var e=Ae(r.state.date,r.props);if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!e)&&!r.props.showTimeSelectOnly){var t=[\"react-datepicker__navigation\",\"react-datepicker__navigation--next\"];r.props.showTimeSelect&&t.push(\"react-datepicker__navigation--next--with-time\"),r.props.todayButton&&t.push(\"react-datepicker__navigation--next--with-today-button\");var n=r.increaseMonth;return r.props.showMonthYearPicker&&(n=r.increaseYear),e&&r.props.showDisabledMonthNavigation&&(t.push(\"react-datepicker__navigation--next--disabled\"),n=null),a.a.createElement(\"button\",{type:\"button\",className:t.join(\" \"),onClick:n},r.props.showMonthYearPicker?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel)}}},r.renderCurrentMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.date,t=[\"react-datepicker__current-month\"];return r.props.showYearDropdown&&t.push(\"react-datepicker__current-month--hasYearDropdown\"),r.props.showMonthDropdown&&t.push(\"react-datepicker__current-month--hasMonthDropdown\"),r.props.showMonthYearDropdown&&t.push(\"react-datepicker__current-month--hasMonthYearDropdown\"),a.a.createElement(\"div\",{className:t.join(\" \")},me(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showYearDropdown&&!e)return a.a.createElement(qe,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Object(S.a)(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderMonthDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthDropdown&&!e)return a.a.createElement(Ye,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Object(D.a)(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})},r.renderMonthYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.props.showMonthYearDropdown&&!e)return a.a.createElement(Qe,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return a.a.createElement(\"div\",{className:\"react-datepicker__today-button\",onClick:function(e){return r.props.onSelect(Object(U.a)(pe()),e)}},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return a.a.createElement(\"div\",{className:\"react-datepicker__header\"},r.renderCurrentMonth(t),a.a.createElement(\"div\",{className:\"react-datepicker__header__dropdown react-datepicker__header__dropdown--\"+r.props.dropdownMode,onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),a.a.createElement(\"div\",{className:\"react-datepicker__day-names\"},r.header(t)))},r.renderCustomHeader=function(e){var t=e.monthDate;if(0!==e.i)return null;var n=Pe(r.state.date,r.props),o=Ae(r.state.date,r.props);return a.a.createElement(\"div\",{className:\"react-datepicker__header react-datepicker__header--custom\",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(ue({},r.state,{changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,prevMonthButtonDisabled:n,nextMonthButtonDisabled:o})),a.a.createElement(\"div\",{className:\"react-datepicker__day-names\"},r.header(t)))},r.renderYearHeader=function(){return a.a.createElement(\"div\",{className:\"react-datepicker__header react-datepicker-year-header\"},Object(S.a)(r.state.date))},r.renderMonths=function(){if(!r.props.showTimeSelectOnly){for(var e=[],t=0;t<r.props.monthsShown;++t){var n=t-r.props.monthSelectedIn,o=Object(h.a)(r.state.date,n),i=\"month-\"+t;e.push(a.a.createElement(\"div\",{key:i,ref:function(e){r.monthContainer=e},className:\"react-datepicker__month-container\"},r.props.showMonthYearPicker?r.renderYearHeader({monthDate:o,i:t}):r.props.renderCustomHeader?r.renderCustomHeader({monthDate:o,i:t}):r.renderDefaultHeader({monthDate:o,i:t}),a.a.createElement(tt,{onChange:r.changeMonthYear,day:o,dayClassName:r.props.dayClassName,onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:t,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,highlightDates:r.props.highlightDates,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,inline:r.props.inline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker})))}return e}},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return a.a.createElement(nt,{selected:r.props.selected,onChange:r.props.onTimeChange,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale})},r.renderInputTimeSection=function(){var e=new Date(r.props.selected),t=Ue(e.getHours())+\":\"+Ue(e.getMinutes());if(r.props.showTimeInput)return a.a.createElement(rt,{timeString:t,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange})},r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null},r}return ce(t,e),se(t,null,[{key:\"defaultProps\",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:\"Time\",previousYearButtonLabel:\"Previous Year\",nextYearButtonLabel:\"Next Year\",previousMonthButtonLabel:\"Previous Month\",nextMonthButtonLabel:\"Next Month\"}}}]),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){this.props.preSelection&&!we(this.props.preSelection,e.preSelection)?this.setState({date:this.props.preSelection}):this.props.openToDate&&!we(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var e=this.props.container||at;return a.a.createElement(e,{className:i()(\"react-datepicker\",this.props.className,{\"react-datepicker--time-only\":this.props.showTimeSelectOnly})},this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.props.children)},t}(a.a.Component),ut=function(e){function t(){return ie(this,t),le(this,e.apply(this,arguments))}return ce(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.hidePopper,r=e.popperComponent,o=e.popperModifiers,s=e.popperPlacement,u=e.popperProps,c=e.targetComponent,l=void 0;if(!n){var d=i()(\"react-datepicker-popper\",t);l=a.a.createElement(te.b,ue({modifiers:o,placement:s},u),(function(e){var t=e.ref,n=e.style,o=e.placement,i=e.arrowProps;return a.a.createElement(\"div\",ue({ref:t,style:n},{className:d,\"data-placement\":o}),a.a.cloneElement(r,{arrowProps:i}))}))}return this.props.popperContainer&&(l=a.a.createElement(this.props.popperContainer,{},l)),a.a.createElement(te.a,null,a.a.createElement(te.c,null,(function(e){var t=e.ref;return a.a.createElement(\"div\",{ref:t,className:\"react-datepicker-wrapper\"},c)})),l)},se(t,null,[{key:\"defaultProps\",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:\"viewport\"}},popperProps:{},popperPlacement:\"bottom-start\"}}}]),t}(a.a.Component),ct=\"react-datepicker-ignore-onclickoutside\",lt=Object(ee.a)(st);var dt=\"Date input not valid.\",pt=function(e){function t(n){ie(this,t);var r=le(this,e.call(this,n));return r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:pe()},r.calcInitialState=function(){var e=r.getPreSelection(),t=_e(r.props),n=Le(r.props),a=t&&Object($.a)(e,t)?t:n&&Object(K.a)(e,n)?n:e;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:r.props.selected?r.props.selected:a,highlightDates:Fe(r.props.highlightDates),focused:!1}},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus()},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:ht},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.setBlur(),r.setState({inputValue:null})}))}))},r.inputOk=function(){return Object(s.a)(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){r.state.preventFocus||(r.props.onFocus(e),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){!r.state.open||r.props.withPortal||r.props.showTimeInput?r.props.onBlur(e):r.deferFocusInput(),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){r.props.inline||r.setOpen(!1),r.props.onClickOutside(e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,t),\"function\"==typeof a.isDefaultPrevented&&!a.isDefaultPrevented())){r.setState({inputValue:a.target.value,lastPreSelectChange:ft});var o=fe(a.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing);!o&&a.target.value||r.setSelected(o,a,!0)}},r.handleSelect=function(e,t,n){r.setState({preventFocus:!0},(function(){return r.preventFocusTimeout=setTimeout((function(){return r.setState({preventFocus:!1})}),50),r.preventFocusTimeout})),r.setSelected(e,t,void 0,n),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(e):r.props.inline||r.setOpen(!1)},r.setSelected=function(e,t,n,a){var o=e;if(null===o||!je(o,r.props)){if(!ke(r.props.selected,o)||r.props.allowSameDay){if(null!==o){if(r.props.selected){var i=r.props.selected;n&&(i=pe(o)),o=ge(o,{hour:Object(k.a)(i),minute:Object(w.a)(i),second:Object(E.a)(i)})}r.props.inline||r.setState({preSelection:o}),r.props.inline&&r.props.monthsShown>1&&!r.props.inlineFocusSelectedMonth&&r.setState({monthSelectedIn:a})}r.props.onChange(o,t)}r.props.onSelect(o,t),n||r.setState({inputValue:null})}},r.setPreSelection=function(e){var t=void 0!==r.props.minDate,n=void 0!==r.props.maxDate,a=!0;e&&(t&&n?a=Oe(e,r.props.minDate,r.props.maxDate):t?a=Object(K.a)(e,r.props.minDate):n&&(a=Object($.a)(e,r.props.maxDate))),a&&r.setState({preSelection:e})},r.handleTimeChange=function(e){var t=ge(r.props.selected?r.props.selected:r.getPreSelection(),{hour:Object(k.a)(e),minute:Object(w.a)(e)});r.setState({preSelection:t}),r.props.onChange(t),r.props.shouldCloseOnSelect&&r.setOpen(!1),r.props.showTimeInput&&r.setOpen(!0),r.setState({inputValue:null})},r.onInputClick=function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()},r.onInputKeyDown=function(e){r.props.onKeyDown(e);var t=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){var n=pe(r.state.preSelection);if(\"Enter\"===t)e.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===ht?(r.handleSelect(n,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(n)):r.setOpen(!1);else if(\"Escape\"===t)e.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:dt});else if(\"Tab\"===t)r.setOpen(!1,!0);else if(!r.props.disabledKeyboardNavigation){var a=void 0;switch(t){case\"ArrowLeft\":a=Object(g.a)(n,1);break;case\"ArrowRight\":a=Object(p.a)(n,1);break;case\"ArrowUp\":a=Object(v.a)(n,1);break;case\"ArrowDown\":a=Object(f.a)(n,1);break;case\"PageUp\":a=Object(b.a)(n,1);break;case\"PageDown\":a=Object(h.a)(n,1);break;case\"Home\":a=Object(y.a)(n,1);break;case\"End\":a=Object(m.a)(n,1)}if(!a)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:dt}));e.preventDefault(),r.setState({lastPreSelectChange:ht}),r.props.adjustDateOnChange&&r.setSelected(a),r.setPreSelection(a)}}else\"ArrowDown\"!==t&&\"ArrowUp\"!==t||r.onInputClick()},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.props.onChange(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.renderCalendar=function(){return r.props.inline||r.isCalendarOpen()?a.a.createElement(lt,{ref:function(e){r.calendar=e},locale:r.props.locale,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,includeDates:r.props.includeDates,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:ct,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker},r.props.children):null},r.renderDateInput=function(){var e,t,n,o,s,u,c=i()(r.props.className,((e={})[ct]=r.state.open,e)),l=r.props.customInput||a.a.createElement(\"input\",{type:\"text\"}),d=r.props.customInputRef||\"ref\",p=\"string\"==typeof r.props.value?r.props.value:\"string\"==typeof r.state.inputValue?r.state.inputValue:(n=r.props.selected,o=r.props,s=o.dateFormat,u=o.locale,n&&me(n,Array.isArray(s)?s[0]:s,u)||\"\");return a.a.cloneElement(l,((t={})[d]=function(e){r.input=e},t.value=p,t.onBlur=r.handleBlur,t.onChange=r.handleChange,t.onClick=r.onInputClick,t.onFocus=r.handleFocus,t.onKeyDown=r.onInputKeyDown,t.id=r.props.id,t.name=r.props.name,t.autoFocus=r.props.autoFocus,t.placeholder=r.props.placeholderText,t.disabled=r.props.disabled,t.autoComplete=r.props.autoComplete,t.className=c,t.title=r.props.title,t.readOnly=r.props.readOnly,t.required=r.props.required,t.tabIndex=r.props.tabIndex,t))},r.renderClearButton=function(){return r.props.isClearable&&null!=r.props.selected?a.a.createElement(\"button\",{type:\"button\",className:\"react-datepicker__close-icon\",onClick:r.onClearClick,title:r.props.clearButtonTitle,tabIndex:-1}):null},r.state=r.calcInitialState(),r}return ce(t,e),se(t,null,[{key:\"defaultProps\",get:function(){return{allowSameDay:!1,dateFormat:\"MM/dd/yyyy\",dateFormatCalendar:\"LLLL yyyy\",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:\"scroll\",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showMonthYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:\"Time\",previousMonthButtonLabel:\"Previous Month\",nextMonthButtonLabel:\"Next month\",timeInputLabel:\"Time\",renderDayContents:function(e){return e},inlineFocusSelectedMonth:!1}}}]),t.prototype.componentDidUpdate=function(e,t){var n,r;e.inline&&(n=e.selected,r=this.props.selected,n&&r?Object(D.a)(n)!==Object(D.a)(r)||Object(S.a)(n)!==Object(S.a)(r):n!==r)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Fe(this.props.highlightDates)}),t.focused||ke(e.selected,this.props.selected)||this.setState({inputValue:null})},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout()},t.prototype.render=function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?a.a.createElement(\"div\",null,this.props.inline?null:a.a.createElement(\"div\",{className:\"react-datepicker__input-container\"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?a.a.createElement(\"div\",{className:\"react-datepicker__portal\"},e):null):a.a.createElement(ut,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),popperModifiers:this.props.popperModifiers,targetComponent:a.a.createElement(\"div\",{className:\"react-datepicker__input-container\"},this.renderDateInput(),this.renderClearButton()),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps})},t}(a.a.Component),ft=\"input\",ht=\"navigate\";t.a=pt}).call(this,n(47))},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(87),a=n(85),o=n(121);function i(e,t){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e,t),i=n.getUTCFullYear(),s=t||{},u=s.locale,c=u&&u.options&&u.options.firstWeekContainsDate,l=null==c?1:Object(r.a)(c),d=null==s.firstWeekContainsDate?l:Object(r.a)(s.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");var p=new Date(0);p.setUTCFullYear(i+1,0,d),p.setUTCHours(0,0,0,0);var f=Object(o.a)(p,t),h=new Date(0);h.setUTCFullYear(i,0,d),h.setUTCHours(0,0,0,0);var m=Object(o.a)(h,t);return n.getTime()>=f.getTime()?i+1:n.getTime()>=m.getTime()?i:i-1}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(85);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e).getTime(),o=Object(r.a)(t);return new Date(n+o)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(r.a)(e);return t.setHours(0,0,0,0),t}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(87),a=n(85),o=n(176);function i(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),i=Object(r.a)(t),s=n.getMonth()+i,u=new Date(0);u.setFullYear(n.getFullYear(),s,1),u.setHours(0,0,0,0);var c=Object(o.a)(u);return n.setMonth(s,Math.min(c,n.getDate())),n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(85);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),o=Object(r.a)(t);return n.setDate(n.getDate()+o),n}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return i}));var r=n(2),a=n.n(r),o=function(e){var t=e.state,n=e.label,r=e.color,o=e.onChange;return a.a.createElement(\"label\",{className:r?\"ui-addbox \"+r:\"ui-addbox\"},n,a.a.createElement(\"input\",{type:\"checkbox\",checked:\"checked\"==t,onChange:o}),a.a.createElement(\"span\",{className:\"custom-element\"}))},i=function(e){var t=e.state,n=e.label,r=e.color,o=e.onChange,i=void 0===o?function(){return null}:o;return a.a.createElement(\"label\",{className:r?\"ui-addbox \"+r:\"ui-addbox\"},n,a.a.createElement(\"input\",{type:\"checkbox\",checked:\"checked\"==t,onChange:i}),a.a.createElement(\"span\",{className:\"custom-element\"}))}},function(e,t,n){\"use strict\";t.a=function(e,t){void 0===t&&(t=null),document.execCommand(e,!1,t)}},function(e,t,n){\"use strict\";function r(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}function a(e){if(e)if(window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}else document.selection&&e.select&&e.select()}function o(e){var t,n;e&&(e.nodeName.match(/^(INPUT|TEXTAREA)$/i)?(e.focus(),e.select()):\"function\"==typeof window.getSelection&&(\"function\"==typeof(n=window.getSelection()).setBaseAndExtent?n.setBaseAndExtent(e,0,e,1):\"function\"==typeof n.addRange&&\"function\"==typeof n.removeAllRanges&&\"function\"==typeof document.createRange&&((t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t))))}n.d(t,\"b\",(function(){return r})),n.d(t,\"a\",(function(){return a})),n.d(t,\"c\",(function(){return o}))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f})),n.d(t,\"b\",(function(){return h}));var r,a,o,i=n(0),s=n(2),u=n(103),c=n(9),l=n(4),d=n(3),p=n(300),f=function(e){return s.createElement(\"div\",{style:{outline:0}},s.createElement(u.a,{title:\"Skolor\",activePage:\"schools\",callbacks:{schools:function(){return location.hash=\"#/schools\"}},routes:{feedback:e.feedbackUrl}}),s.createElement(h,Object(i.a)({},e)))},h=function(e){function t(t){var n=e.call(this,t)||this;return n.state=null,n}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.load().catch((function(e){return Object(c.n)(e)}))},t.prototype.load=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return this.props.id?(e=this.props.id,[4,l.a.kedBackendClient.get(\"schools\",e)]):[3,2];case 1:return t=n.sent(),this.origSchool=Object(i.a)({},t),this.setState(Object(i.a)({},t)),[3,3];case 2:this.setState({id:Object(d.h)(),officialBranchId:Object(d.h)(),isGymnasium:\"gymnasium\"===this.props.type,isPrimarySchool:\"primary\"===this.props.type}),n.label=3;case 3:return[2]}}))}))},t.prototype.save=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t;return Object(i.d)(this,(function(n){switch(n.label){case 0:if(e=new d.a,(t=Object(i.a)(Object(i.a)({},this.state),{tags:(this.state.tags||[]).filter((function(e){return[\"primary\",\"gymnasium\"].indexOf(e)<0}))})).isPrimarySchool&&t.tags.push(\"primary\"),t.isGymnasium&&t.tags.push(\"gymnasium\"),!t.isGymnasium&&!t.isPrimarySchool)throw new Error(Object(c.a)(r||(r=Object(i.e)([\"Skolan måste antingen vara gymnasium eller grundskola\"],[\"Skolan måste antingen vara gymnasium eller grundskola\"]))));if(this.origSchool){if(this.origSchool.name!==this.state.name)throw new Error(\"Skolans namn får inte ändras. Kontakta Vemendo AB.\");t.officialBranchId||(t.officialBranchId=Object(d.h)(),this.addSchoolBranch(t,e)),e.put(\"schools\",t)}else t.acl=[\"role:USER:R\"],t.acl.push(new d.b(\"schoolRole\",t.name+\"/EMPLOYEE\",\"W\").toString()),e.add(\"schools\",t),this.addSchoolBranch(t,e);return[4,l.a.kedBackendClient.batch(e.mutationRequests)];case 1:return n.sent(),location.hash=\"#/schools\",[2]}}))}))},t.prototype.addSchoolBranch=function(e,t){var n={id:e.officialBranchId,name:e.name,schoolId:e.id,acl:[\"role:USER:R\",new d.b(\"schoolRole\",e.name+\"/EMPLOYEE\",\"W\").toString()]};t.add(\"branches\",n)},t.prototype.deleteSchool=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return prompt(Object(c.a)(a||(a=Object(i.e)(['Är du säker på att ta bort skolan \"','\"? Skriv skolans exakta namn för att bekräfta'],['Är du säker på att ta bort skolan \"','\"? Skriv skolans exakta namn för att bekräfta'])),this.state.name))!==this.state.name?[3,3]:[4,l.a.kedBackendClient.list(\"branches\",{ids:[this.state.officialBranchId],include:\"approvedChildren\",flags:[\"includeIdsOnly\"]})];case 1:return e=n.sent(),(t=new d.a).delete(\"schools\",this.state.id),e[0].approvedChildren.forEach((function(e){var n=e.id;t.delete(\"branches\",n)})),t.delete(\"branches\",this.state.officialBranchId),[4,l.a.kedBackendClient.batch(t.mutationRequests)];case 2:return n.sent(),location.hash=\"#/schools\",[3,4];case 3:alert(\"Skolan togs inte bort eftersom det namn du angav inte stämmer.\"),n.label=4;case 4:return[2]}}))}))},t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=!!t.id,a=this.state,u=this.origSchool,d=l.a.currentUser.roles.some((function(e){return\"ADMIN\"===e}));return s.createElement(\"div\",{className:\"sv-row sv-layout\"},s.createElement(\"div\",{className:\"pagecontent sv-layout sv-spacer-20pxvt sv-skip-spacer\"},s.createElement(\"h2\",null,n),s.createElement(\"hr\",null),s.createElement(\"div\",{className:\"align-horizontal\"},s.createElement(\"div\",{className:\"horizontalItem top\"},\"Namn:\"),s.createElement(\"div\",{className:\"horizontalItem top\"},s.createElement(\"input\",{type:\"text\",autoFocus:!a||!a.name,disabled:!d||r,tabIndex:1,size:50,value:a?a.name:\"\",onChange:function(t){return e.setState({name:t.target.value})}})),s.createElement(\"div\",{className:\"horizontalItem top spaced\"})),s.createElement(\"div\",{className:\"align-horizontal\"},s.createElement(\"div\",{className:\"horizontalItem top\"},\"Visningsnamn:\"),s.createElement(\"div\",{className:\"horizontalItem top\"},s.createElement(\"input\",{type:\"text\",autoFocus:a&&!a.displayName,disabled:!d,tabIndex:1,size:50,value:a?a.displayName:\"\",onChange:function(t){return e.setState({displayName:t.target.value})}})),s.createElement(\"div\",{className:\"horizontalItem top spaced\"})),a&&a.isGymnasium?s.createElement(\"div\",{className:\"align-horizontal\"},s.createElement(\"div\",{className:\"horizontalItem top\"},\"EDS namn (gymnasium):\"),s.createElement(\"div\",{className:\"horizontalItem top\"},s.createElement(\"input\",{type:\"text\",disabled:!d,tabIndex:1,size:50,value:a?a.edsSchoolNameGymn:\"\",onChange:function(t){return e.setState({edsSchoolNameGymn:t.target.value})}})),s.createElement(\"div\",{className:\"horizontalItem top spaced\"})):null,a&&a.isPrimarySchool?s.createElement(\"div\",{className:\"align-horizontal\"},s.createElement(\"div\",{className:\"horizontalItem top\"},\"EDS namn (grundskola):\"),s.createElement(\"div\",{className:\"horizontalItem top\"},s.createElement(\"input\",{type:\"text\",disabled:!d,tabIndex:1,size:50,value:a?a.edsSchoolNamePrim:\"\",onChange:function(t){return e.setState({edsSchoolNamePrim:t.target.value})}})),s.createElement(\"div\",{className:\"horizontalItem top spaced\"})):null,s.createElement(\"div\",{className:\"align-horizontal\"},s.createElement(\"div\",{className:\"horizontalItem top\"},\"Typ:\"),s.createElement(\"div\",{className:\"horizontalItem top\"},s.createElement(\"input\",{type:\"checkbox\",name:\"schoolTypePrimary\",disabled:!d,checked:a&&a.isPrimarySchool,tabIndex:1,value:\"primary\",onChange:function(t){return e.setState({isPrimarySchool:t.target.checked})}}),\" Grundskola\"),s.createElement(\"div\",{className:\"horizontalItem top spaced\"})),s.createElement(\"div\",{className:\"align-horizontal\"},s.createElement(\"div\",{className:\"horizontalItem top\"}),s.createElement(\"div\",{className:\"horizontalItem top\"},s.createElement(\"input\",{type:\"checkbox\",name:\"schoolTypeGymnasium\",disabled:!d,checked:a&&a.isGymnasium,tabIndex:1,value:\"gymnasium\",onChange:function(t){return e.setState({isGymnasium:t.target.checked})}}),\" Gymnasium\"),s.createElement(\"div\",{className:\"horizontalItem top spaced\"})),s.createElement(\"br\",null),d&&r&&s.createElement(\"div\",{tabIndex:2,className:\"btn btn-warning btn-large pull-right\",onClick:function(){return e.deleteSchool().catch(c.n)}},\"Ta bort skola\"),s.createElement(\"div\",{className:\"pull-right\"},\" \"),s.createElement(p.a,{className:\"btn btn-warning btn-large pull-right\",to:\"/schools\"},\"Avbryt\"),d&&s.createElement(\"a\",{tabIndex:1,className:\"btn btn-large\",onClick:function(){u&&u.name!==a.name&&!confirm(Object(c.a)(o||(o=Object(i.e)([\"Är du säker på att du vill döpa om skolan? Detta påverkar portalens funktion för lärare och elever som tillhör skolan. Namnet måste stämma exakt överens med namngivningen av skolan på användarobjekten.\\n\\nDet som händer annars är att elever och lärare på skolan inte längre hittar några kurser.\\n\\nBlir det fel kan du dock alltid bara döpa tillbaka skolans namn.\"],[\"Är du säker på att du vill döpa om skolan? Detta påverkar portalens funktion för lärare och elever som tillhör skolan. Namnet måste stämma exakt överens med namngivningen av skolan på användarobjekten.\\n\\nDet som händer annars är att elever och lärare på skolan inte längre hittar några kurser.\\n\\nBlir det fel kan du dock alltid bara döpa tillbaka skolans namn.\"]))))||e.save().catch(c.n)}},\"Spara\")))},t}(s.Component)},function(e,t,n){(function(e){!function(e){\"use strict\";e.exports.is_uri=n,e.exports.is_http_uri=r,e.exports.is_https_uri=a,e.exports.is_web_uri=o,e.exports.isUri=n,e.exports.isHttpUri=r,e.exports.isHttpsUri=a,e.exports.isWebUri=o;var t=function(e){return e.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/)};function n(e){if(e&&!/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var n,r,a,o,i,s=\"\",u=\"\";if(s=(n=t(e))[1],r=n[2],a=n[3],o=n[4],i=n[5],s&&s.length&&a.length>=0){if(r&&r.length){if(0!==a.length&&!/^\\//.test(a))return}else if(/^\\/\\//.test(a))return;if(/^[a-z][a-z0-9\\+\\-\\.]*$/.test(s.toLowerCase()))return u+=s+\":\",r&&r.length&&(u+=\"//\"+r),u+=a,o&&o.length&&(u+=\"?\"+o),i&&i.length&&(u+=\"#\"+i),u}}}function r(e,r){if(n(e)){var a,o,i,s,u=\"\",c=\"\",l=\"\",d=\"\";if(u=(a=t(e))[1],c=a[2],o=a[3],i=a[4],s=a[5],u){if(r){if(\"https\"!=u.toLowerCase())return}else if(\"http\"!=u.toLowerCase())return;if(c)return/:(\\d+)$/.test(c)&&(l=c.match(/:(\\d+)$/)[0],c=c.replace(/:\\d+$/,\"\")),d+=u+\":\",d+=\"//\"+c,l&&(d+=l),d+=o,i&&i.length&&(d+=\"?\"+i),s&&s.length&&(d+=\"#\"+s),d}}}function a(e){return r(e,!0)}function o(e){return r(e)||a(e)}}(e)}).call(this,n(58)(e))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(2),o=n.n(a);function i(e){var t=e.onSort,n=e.objectList,i=e.renderEditLink,s=e.renderLink,u=e.renderFrontIcon,c=Object(r.f)(Object(a.useState)({objectBeingDragged:null,objectBeingHovered:null,insertBefore:!1,originClientY:-1}),2),l=c[0],d=c[1],p=l.objectBeingDragged,f=l.objectBeingHovered,h=l.insertBefore,m=l.originClientY;return o.a.createElement(\"div\",{className:\"taskContainer sortable\",onDrop:function(e){f&&p&&t(p,f,h?\"before\":\"after\"),d(Object(r.a)(Object(r.a)({},l),{objectBeingHovered:null,objectBeingDragged:null}))}},n.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:t},h&&JSON.stringify(f)===JSON.stringify(e)?o.a.createElement(\"div\",{className:\"drop-target\",onDragOver:function(e){return e.preventDefault()}},\" \"):null,o.a.createElement(\"div\",{className:[\"align-horizontal\",\"draggable\",JSON.stringify(e)===JSON.stringify(p)&&\"drag-source\"].filter((function(e){return e})).join(\" \"),draggable:!0,onDragStart:function(t){t.dataTransfer.effectAllowed=\"move\",d(Object(r.a)(Object(r.a)({},l),{originClientY:t.clientY,objectBeingDragged:e}))},onDragOver:function(t){p&&(p!==e?(t.preventDefault(),t.dataTransfer.dropEffect=\"move\",d(Object(r.a)(Object(r.a)({},l),{objectBeingHovered:e,insertBefore:m>t.clientY}))):d(Object(r.a)(Object(r.a)({},l),{objectBeingHovered:null})))},onDragEnd:function(e){d(Object(r.a)(Object(r.a)({},l),{objectBeingHovered:null,objectBeingDragged:null}))}},u&&o.a.createElement(\"div\",{className:\"horizontalItem top\"},u(e)),o.a.createElement(\"div\",{className:\"horizontalItem top\"},i(e)),o.a.createElement(\"div\",{className:\"horizontalItem top\"},s(e))),h||JSON.stringify(f)!==JSON.stringify(e)?null:o.a.createElement(\"div\",{className:\"drop-target\",onDragOver:function(e){return e.preventDefault()}},\" \"))})))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(2),a=n.n(r),o=n(160);function i(e){var t=e.taskMetas,n=e.renderEditLink,r=e.renderLink,i=e.onSort;var s={objectList:t.map((function(e){return e.task})),renderEditLink:function(e){var r=t.find((function(t){return t.task.id==e.id}));return n(r)},renderLink:function(e){var n=t.find((function(t){return t.task.id==e.id}));return r(n)},onSort:i,renderFrontIcon:function(e){return t.find((function(t){return t.task.id==e.id})).isTaskOwner&&function(e){return e.migratedTexts&&Object.keys(e.migratedTexts).some((function(t){return Object.keys(e.migratedTexts[t]).length>0}))}(e)&&a.a.createElement(\"div\",{style:{position:\"relative\",top:\"0.2em\",left:\"-0.7em\"}},a.a.createElement(\"i\",{className:\"fab fa-pagelines\",style:{position:\"absolute\",top:0,left:0,color:\"#49c35a\"}}))}};return Object(o.a)(s)}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return i}));var r=n(9),a=n(107);function o(e){return Object(a.a)(e.tasks,e.taskOrder,{appendLeftovers:!0})}function i(e,t,n,o,i,s){(void 0===s?{appendLeftovers:!1}:s).appendLeftovers;var u=Object(a.a)(e,t,{appendLeftovers:!0}).map((function(e){return e.id})),c=\"before\"===i;return Object(r.k)(u.filter((function(e){return e!==n.id})).map((function(e){return e!==o.id?e:c?[n.id,e]:[e,n.id]})))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(4);function a(){return r.a.currentUser}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return i})),n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(86),o=n(4);function i(e){return u({school:e.school,draftRepo:e.draftRepo,course:e.course})}function s(e){return u({school:e.school,draftRepo:e.draftRepo,tab:e.tab,course:e.course})}function u(e){var t=e.school,n=e.draftRepo,i=e.tab,s=e.course;return Object(r.b)(this,void 0,void 0,(function(){var e,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e=i?function(e){return\"step-course-tab\"===e.type?e.tags.find((function(e){return e.startsWith(\"blockStep:\")})):\"tab:\"+e.id}(i):null,\"standard\"!==t?[3,1]:(n.merge({tagToMerge:e}),u=a.c,[3,3]);case 1:return[4,a.c.schools.name(t).single().map((function(e){return e.officialBranchId})).load()];case 2:c=r.sent(),n.merge({targetBranchId:c,tagToMerge:e}),u=a.c.branch(c),r.label=3;case 3:return u.courseInstances.update(s,{modifiedDate:Date.now(),modifiedBy:{name:o.a.currentUser.displayName,url:\"mailto:\"+o.a.currentUser.mail}}),[2]}}))}))}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(2),a=n.n(r),o=function(e){var t=e.available,n=e.selected,r=e.onChange;return a.a.createElement(\"div\",{className:\"taskContainer\"},t.map((function(e){var t=e.key,o=e.name,i=n.includes(t);return a.a.createElement(\"div\",{key:t,className:\"align-horizontal\"},a.a.createElement(\"div\",{className:\"horizontalItem top\",onClick:function(){return r(i?n.filter((function(e){return e!=t})):n.concat(t),t,i)}},a.a.createElement(\"div\",{className:\"checkBox\"+(i?\" checked\":\"\")})),a.a.createElement(\"div\",{className:\"horizontalItem top\"},o))})))}},function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return d})),n.d(t,\"d\",(function(){return p})),n.d(t,\"b\",(function(){return f})),n.d(t,\"a\",(function(){return h}));var r=n(0),a=n(2),o=n(3),i=n(4),s=n(281),u=n.n(s),c=n(20),l=n(203);function d(e,t,n){var r,o=e.metadata;try{r=o.urkundResponse&&JSON.parse(o.urkundResponse)}catch(e){r=null}var i=r&&r[0];return!i&&e.metadata.urkundUploadError&&(i={Status:{ErrorCode:-1,Message:e.metadata.urkundUploadError,State:\"Error\"},ExternalId:e.metadata.urkundExternalId}),e.isRefreshing?a.createElement(\"td\",{colSpan:2},a.createElement(c.a,null),\" Uppdaterar...\"):i?a.createElement(a.Fragment,null,a.createElement(\"td\",{className:\"urkund-status-col\"},a.createElement(\"a\",{href:i.Report&&i.Report.ReportUrl,onClick:function(r){-1!==[\"Accepted\",\"Submitted\"].indexOf(i.Status.State)&&(r.preventDefault(),r.stopPropagation(),n&&t(e))},target:\"_blank\",title:Object(l.a)(i)},a.createElement(\"div\",{className:Object(l.c)(i)}))),a.createElement(\"td\",{className:\"urkund-status-col\"},a.createElement(\"div\",{className:Object(l.b)(i)},i.Report&&\"number\"==typeof i.Report.Significance?i.Report.Significance.toFixed()+\"%\":\" \"))):a.createElement(\"td\",{colSpan:2})}function p(e,t){return Object(r.h)([t],e.filter((function(e){var n=e.user,r=e.filename;return n!==t.user||r!==t.filename})))}function f(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,s,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),[4,i.b.kedBackendClient.http.fetch(e.mediaLink,\"get\",{})];case 1:return(t=r.sent()).status>=400?(n=o.c.bind,a=[void 0,t.status],[4,t.text()]):[3,3];case 2:throw new(n.apply(o.c,a.concat([r.sent()])));case 3:return[4,t.blob()];case 4:return s=r.sent(),u()(s,e.filename,e.contentType),[3,6];case 5:return c=r.sent(),this.setState({error:\"Kunde inte ladda ned filen. \"+(c.message||c)}),console.error(c),[3,6];case 6:return[2]}}))}))}function h(e){var t=e.file,n=t.metadata,r=n.driveFileIconUrl,o=n.driveFileUrl,i=t.filename.substr(0,t.filename.lastIndexOf(\".\"));return a.createElement(\"div\",{className:\"align-horizontal spaced\"},a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"img\",{className:\"file-icon\",src:r})),a.createElement(\"div\",{className:\"horizontalItem top\"},a.createElement(\"span\",null,a.createElement(\"a\",{target:\"_blank\",href:o},i))))}},function(e,t,n){\"use strict\";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return\"/\"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=e&&e.split(\"/\")||[],r=t&&t.split(\"/\")||[],i=e&&a(e),s=t&&a(t),u=i||s;if(e&&a(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return\"/\";var c=void 0;if(r.length){var l=r[r.length-1];c=\".\"===l||\"..\"===l||\"\"===l}else c=!1;for(var d=0,p=r.length;p>=0;p--){var f=r[p];\".\"===f?o(r,p):\"..\"===f?(o(r,p),d++):d&&(o(r,p),d--)}if(!u)for(;d--;d)r.unshift(\"..\");!u||\"\"===r[0]||r[0]&&a(r[0])||r.unshift(\"\");var h=r.join(\"/\");return c&&\"/\"!==h.substr(-1)&&(h+=\"/\"),h},s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));var r=void 0===t?\"undefined\":s(t);if(r!==(void 0===n?\"undefined\":s(n)))return!1;if(\"object\"===r){var a=t.valueOf(),o=n.valueOf();if(a!==t||o!==n)return e(a,o);var i=Object.keys(t),u=Object.keys(n);return i.length===u.length&&i.every((function(r){return e(t[r],n[r])}))}return!1},c=!0,l=\"Invariant failed\";var d=function(e,t){if(!e)throw c?new Error(l):new Error(l+\": \"+(t||\"\"))};function p(e){return\"/\"===e.charAt(0)?e:\"/\"+e}function f(e){return\"/\"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return new RegExp(\"^\"+t+\"(\\\\/|\\\\?|#|$)\",\"i\").test(e)}(e,t)?e.substr(t.length):e}function m(e){return\"/\"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,a=t||\"/\";return n&&\"?\"!==n&&(a+=\"?\"===n.charAt(0)?n:\"?\"+n),r&&\"#\"!==r&&(a+=\"#\"===r.charAt(0)?r:\"#\"+r),a}function v(e,t,n,a){var o;\"string\"==typeof e?(o=function(e){var t=e||\"/\",n=\"\",r=\"\",a=t.indexOf(\"#\");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf(\"?\");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:\"?\"===n?\"\":n,hash:\"#\"===r?\"\":r}}(e)).state=t:(void 0===(o=r({},e)).pathname&&(o.pathname=\"\"),o.search?\"?\"!==o.search.charAt(0)&&(o.search=\"?\"+o.search):o.search=\"\",o.hash?\"#\"!==o.hash.charAt(0)&&(o.hash=\"#\"+o.hash):o.hash=\"\",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname \"'+o.pathname+'\" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),a?o.pathname?\"/\"!==o.pathname.charAt(0)&&(o.pathname=i(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname=\"/\"),o}function b(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o=\"function\"==typeof e?e(t,n):e;\"string\"==typeof o?\"function\"==typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,\"a\",(function(){return S})),n.d(t,\"b\",(function(){return v})),n.d(t,\"c\",(function(){return b}));var E=!(\"undefined\"==typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}var k=\"hashchange\",O={hashbang:{encodePath:function(e){return\"!\"===e.charAt(0)?e:\"!/\"+f(e)},decodePath:function(e){return\"!\"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:p},slash:{encodePath:p,decodePath:p}};function C(){var e=window.location.href,t=e.indexOf(\"#\");return-1===t?\"\":e.substring(t+1)}function D(e){var t=window.location.href.indexOf(\"#\");window.location.replace(window.location.href.slice(0,t>=0?t:0)+\"#\"+e)}function S(e){void 0===e&&(e={}),E||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf(\"Firefox\"),e),a=n.getUserConfirmation,o=void 0===a?w:a,i=n.hashType,s=void 0===i?\"slash\":i,u=e.basename?m(p(e.basename)):\"\",c=O[s],l=c.encodePath,f=c.decodePath;function S(){var e=f(C());return u&&(e=h(e,u)),v(e)}var j=y();function T(e){r(B,e),B.length=t.length,j.notifyListeners(B.location,B.action)}var x=!1,N=null;function M(){var e=C(),t=l(e);if(e!==t)D(t);else{var n=S(),r=B.location;if(!x&&b(r,n))return;if(N===g(n))return;N=null,function(e){if(x)x=!1,T();else{j.confirmTransitionTo(e,\"POP\",o,(function(t){t?T({action:\"POP\",location:e}):function(e){var t=B.location,n=_.lastIndexOf(g(t));-1===n&&(n=0);var r=_.lastIndexOf(g(e));-1===r&&(r=0);var a=n-r;a&&(x=!0,L(a))}(e)}))}}(n)}}var I=C(),P=l(I);I!==P&&D(P);var A=S(),_=[g(A)];function L(e){t.go(e)}var F=0;function R(e){1===(F+=e)&&1===e?window.addEventListener(k,M):0===F&&window.removeEventListener(k,M)}var U=!1;var B={length:t.length,action:\"POP\",location:A,createHref:function(e){return\"#\"+l(u+g(e))},push:function(e,t){var n=v(e,void 0,void 0,B.location);j.confirmTransitionTo(n,\"PUSH\",o,(function(e){if(e){var t=g(n),r=l(u+t);if(C()!==r){N=t,function(e){window.location.hash=e}(r);var a=_.lastIndexOf(g(B.location)),o=_.slice(0,-1===a?0:a+1);o.push(t),_=o,T({action:\"PUSH\",location:n})}else T()}}))},replace:function(e,t){var n=v(e,void 0,void 0,B.location);j.confirmTransitionTo(n,\"REPLACE\",o,(function(e){if(e){var t=g(n),r=l(u+t);C()!==r&&(N=t,D(r));var a=_.indexOf(g(B.location));-1!==a&&(_[a]=t),T({action:\"REPLACE\",location:n})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=j.setPrompt(e);return U||(R(1),U=!0),function(){return U&&(U=!1,R(-1)),t()}},listen:function(e){var t=j.appendListener(e);return R(1),function(){R(-1),t()}}};return B}},function(e,t,n){\"use strict\";function r(e,t){return\"\"+e+t.substr(0,3).toLowerCase()}n.d(t,\"a\",(function(){return r}))},function(e,t,n){\"use strict\";var r=n(0),a=n(13),o=function(){function e(){this.subscribers=[],this.env=null,this.version=1}return e.prototype.subscribe=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.subscribers.push(e),e(this.env),[2]}))}))},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))},e.prototype.notifySubscribers=function(){return Object(r.b)(this,void 0,void 0,(function(){var e=this;return Object(r.d)(this,(function(t){return this.subscribers.forEach((function(t){return t(e.env)})),[2]}))}))},e.prototype.setNewEnv=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,a;return Object(r.d)(this,(function(o){switch(o.label){case 0:return n=++this.version,this.env={currentUser:e,tutored:!0},this.notifySubscribers(),[4,t().catch((function(t){return{currentUser:e,tutored:!0,error:t}}))];case 1:return a=o.sent(),n===this.version&&(++this.version,this.env=Object(r.a)(Object(r.a)({},a),{tutored:!0}),this.notifySubscribers()),[2]}}))}))},e}();a.a.tutorEnv||(a.a.tutorEnv=new o),t.a=a.a.tutorEnv},function(e,t,n){\"use strict\";function r(e,t){switch(e){case\"P\":return t.date({width:\"short\"});case\"PP\":return t.date({width:\"medium\"});case\"PPP\":return t.date({width:\"long\"});case\"PPPP\":default:return t.date({width:\"full\"})}}function a(e,t){switch(e){case\"p\":return t.time({width:\"short\"});case\"pp\":return t.time({width:\"medium\"});case\"ppp\":return t.time({width:\"long\"});case\"pppp\":default:return t.time({width:\"full\"})}}var o={p:a,P:function(e,t){var n,o=e.match(/(P+)(p+)?/),i=o[1],s=o[2];if(!s)return r(e,t);switch(i){case\"P\":n=t.dateTime({width:\"short\"});break;case\"PP\":n=t.dateTime({width:\"medium\"});break;case\"PPP\":n=t.dateTime({width:\"long\"});break;case\"PPPP\":default:n=t.dateTime({width:\"full\"})}return n.replace(\"{{date}}\",r(i,t)).replace(\"{{time}}\",a(s,t))}};t.a=o},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o})),n.d(t,\"b\",(function(){return i})),n.d(t,\"c\",(function(){return s}));var r=[\"D\",\"DD\"],a=[\"YY\",\"YYYY\"];function o(e){return-1!==r.indexOf(e)}function i(e){return-1!==a.indexOf(e)}function s(e){if(\"YYYY\"===e)throw new RangeError(\"Use `yyyy` instead of `YYYY` for formatting years; see: https://git.io/fxCyr\");if(\"YY\"===e)throw new RangeError(\"Use `yy` instead of `YY` for formatting years; see: https://git.io/fxCyr\");if(\"D\"===e)throw new RangeError(\"Use `d` instead of `D` for formatting days of the month; see: https://git.io/fxCyr\");if(\"DD\"===e)throw new RangeError(\"Use `dd` instead of `DD` for formatting days of the month; see: https://git.io/fxCyr\")}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(85),a=n(122);function o(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(r.a)(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var i=Object(a.a)(o),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var u=Object(a.a)(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(151);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(t);return Object(a.a)(e,-n)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(r.a)(e);return!isNaN(t)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(85),a=n(87);function o(e,t){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var n=t||{},o=n.locale,i=o&&o.options&&o.options.weekStartsOn,s=null==i?0:Object(a.a)(i),u=null==n.weekStartsOn?s:Object(a.a)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");var c=Object(r.a)(e),l=c.getDay(),d=(l<u?7:0)+l-u;return c.setDate(c.getDate()-d),c.setHours(0,0,0,0),c}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(r.a)(e),n=t.getFullYear(),a=t.getMonth(),o=new Date(0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(154);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=7*Object(r.a)(t);return Object(a.a)(e,n)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(153);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(t);return Object(a.a)(e,12*n)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(5),a=n.n(r),o=n(1);\"sv\"===o.b.KED_LOCALE&&a.a.updateLocale(\"sv\",{months:\"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december\".split(\"_\"),monthsShort:\"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec\".split(\"_\"),weekdays:\"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag\".split(\"_\"),weekdaysShort:\"sön_mån_tis_ons_tor_fre_lör\".split(\"_\"),weekdaysMin:\"sö_må_ti_on_to_fr_lö\".split(\"_\"),longDateFormat:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"YYYY-MM-DD\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY [kl.] HH:mm\",LLLL:\"dddd D MMMM YYYY [kl.] HH:mm\",lll:\"D MMM YYYY HH:mm\",llll:\"ddd D MMM YYYY HH:mm\"},calendar:{sameDay:\"[Idag] LT\",nextDay:\"[Imorgon] LT\",lastDay:\"[Igår] LT\",nextWeek:\"[På] dddd LT\",lastWeek:\"[I] dddd[s] LT\",sameElse:\"L\"},relativeTime:{future:\"om %s\",past:\"för %s sedan\",s:\"några sekunder\",ss:\"%d sekunder\",m:\"en minut\",mm:\"%d minuter\",h:\"en timme\",hh:\"%d timmar\",d:\"en dag\",dd:\"%d dagar\",M:\"en månad\",MM:\"%d månader\",y:\"ett år\",yy:\"%d år\"},dayOfMonthOrdinalParse:/\\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?\"e\":1===t?\"a\":2===t?\"a\":\"e\")},week:{dow:1,doy:4}});var i=function(){return a.a.apply(this,arguments).locale(o.b.KED_LOCALE)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(0),a=function(){function e(e){this.timeoutId=null,this.cancelled=!1,this.pending=!1,this.isJobExecuting=!1,this.jobCallback=e}return e.prototype.triggerChange=function(e){var t=this;this.cancelled||(this.pending=!0,null!==this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){return t.launchJob()}),e))},e.prototype.stop=function(){null!==this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=null,this.cancelled=!0},e.prototype.launchJob=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:if(this.cancelled)return[2];if(!this.pending)return[2];if(this.isJobExecuting)return[2];this.timeoutId=null,e.label=1;case 1:return e.trys.push([1,,3,4]),this.isJobExecuting=!0,this.pending=!1,[4,this.jobCallback()];case 2:return e.sent(),[3,4];case 3:return this.isJobExecuting=!1,[7];case 4:return this.pending?[4,this.launchJob()]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))},e}()},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(0),a=function(){function e(e){this.comm=e,this.listPromise=null,this.items=null,this.subscribers=[]}return e.prototype.subscribe=function(e){var t=this;return this.ensureHasData().then((function(){e(t.items,t.error),t.subscribers.push(e)}))},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))},e.prototype.notifySubscribers=function(){var e=this;this.subscribers.forEach((function(t){return t(e.items,e.error)}))},e.prototype.ensureHasData=function(){return this.listPromise||this.refreshFromServer(),this.listPromise},e.prototype.refreshFromServer=function(){var e=this;return this.listPromise=this.comm.query().then((function(t){e.items=t,e.error=null,e.notifySubscribers()})).catch((function(t){e.error=t,e.items=e.items||[],e.notifySubscribers()})),this.listPromise},e.prototype.update=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,this.ensureHasData()];case 1:return n.sent(),t=Array.isArray(e)?e:[e],this.items=this.items.map((function(e){var n=t.find((function(t){var n=t.id;return e.id===n}));return n?Object.assign({},n):e})),this.notifySubscribers(),[2]}}))}))},e.prototype.insert=function(e){var t=this;return this.ensureHasData().then((function(){t.items=t.items.concat(e),t.notifySubscribers()}))},e.prototype.delete=function(e){var t=this,n=Array.isArray(e)?e:[e];return this.ensureHasData().then((function(){t.items=t.items.filter((function(e){return!n.some((function(t){return e.id===t}))})),t.notifySubscribers()}))},e}()},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(2),o=n(139),i=n(31),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.commonTasks,n=e.learningGoals,r=this.context.intl;return a.createElement(\"div\",null,n.map((function(e){return a.createElement(\"div\",{key:e.name},a.createElement(\"h5\",null,e.name),a.createElement(o.a,{learningTasks:e.learningTasks}))})),t.length>0&&a.createElement(\"div\",null,n.length>0&&a.createElement(\"h5\",null,r.formatMessage({id:\"learningGoalsLost.overall\",defaultMessage:\"Övergripande\"})),a.createElement(o.a,{learningTasks:t})))},t.contextType=i.a,t}(a.Component)},function(e,t,n){\"use strict\";var r=n(156),a=n(208),o=n(212);t.a={bold:{icon:\"<b>B</b>\",title:\"Bold\",result:function(){return Object(r.a)(\"bold\")}},italic:{icon:\"<i>I</i>\",title:\"Italic\",result:function(){return Object(r.a)(\"italic\")}},underline:{icon:\"<u>U</u>\",title:\"Underline\",result:function(){return Object(r.a)(\"underline\")}},strikethrough:{icon:\"<strike>S</strike>\",title:\"Strike-through\",result:function(){return Object(r.a)(\"strikeThrough\")}},heading1:{icon:\"<b>H<sub>1</sub></b>\",title:\"Heading 1\",result:function(){\"H1\"==document.getSelection().focusNode.parentElement.nodeName?Object(r.a)(\"formatBlock\",\"<P>\"):Object(r.a)(\"formatBlock\",\"<H1>\")}},heading2:{icon:\"<b>H<sub>2</sub></b>\",title:\"Heading 2\",result:function(){\"H2\"==document.getSelection().focusNode.parentElement.nodeName?Object(r.a)(\"formatBlock\",\"<P>\"):Object(r.a)(\"formatBlock\",\"<H2>\")}},heading3:{icon:\"<b>H<sub>3</sub></b>\",title:\"Heading 3\",result:function(){\"H3\"==document.getSelection().focusNode.parentElement.nodeName?Object(r.a)(\"formatBlock\",\"<P>\"):Object(r.a)(\"formatBlock\",\"<H3>\")}},paragraph:{icon:\"&#182;\",title:\"Paragraph\",result:function(){return Object(r.a)(\"formatBlock\",\"<P>\")}},quote:{icon:\"&#8220; &#8221;\",title:\"Quote\",result:function(){return Object(r.a)(\"formatBlock\",\"<BLOCKQUOTE>\")}},olist:{icon:\"&#35;\",title:\"Ordered List\",result:function(){return Object(r.a)(\"insertOrderedList\")}},ulist:{icon:\"&#8226;\",title:\"Unordered List\",result:function(){return Object(r.a)(\"insertUnorderedList\")}},outdent:{icon:'<i class=\"fas fa-outdent\" aria-hidden=\"true\"></i>',title:\"Outdent\",result:function(){return Object(r.a)(\"outdent\")}},indent:{icon:'<i class=\"fas fa-indent\" aria-hidden=\"true\"></i>',title:\"Indent\",result:function(){return Object(r.a)(\"indent\")}},code:{icon:\"&lt;/&gt;\",title:\"Code\",result:function(){return Object(r.a)(\"formatBlock\",\"<PRE>\")}},line:{icon:\"&#8213;\",title:\"Horizontal Line\",result:function(){return Object(r.a)(\"insertHorizontalRule\")}},link:{icon:\"&#128279;\",title:\"Link\",result:a.a},image:{icon:\"&#128247;\",title:\"Image\",promptMsg:\"Enter the URL of the image\",result:function(e,t){Object(o.a)(this.promptMsg,t)}},clear:{icon:'<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 1000 1000\"><g><g><path d=\"M25.3,867.5h551.3V990H25.3V867.5z M882.8,132.5H593.3L417.4,806.3H290.8l175.9-673.8H209.1V10h673.8V132.5z M915.1,990L790.9,865.8L666.7,990l-59.6-59.6l124.2-124.2L607.2,682.1l59.6-59.6l124.2,124.2l124.2-124.2l59.6,59.6L850.5,806.3l124.2,124.2L915.1,990z\"/></g></g></svg>',title:\"Clear formatting\",result:function(){return Object(r.a)(\"removeformat\")}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(111),o=n(5),i=n.n(o),s=function(e){function t(t,n){var a=this,o=n();return a=e.call(this,{getClient:t,optimistic:!0,table:\"weekplans-ks\",user:o?o.mail:\"\",getQueryOptions:function(){return Object(r.b)(a,void 0,void 0,(function(){var e,t;return Object(r.d)(this,(function(n){return e=this.startDate&&this.startDate.valueOf()||i()().valueOf(),t=this.endDate&&this.endDate.valueOf()||i()().valueOf(),[2,{from:e,to:t,role:\"USER\"}]}))}))}})||this}return Object(r.c)(t,e),t.prototype.refreshData=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=Object(r.f)(e,2),this.startDate=t[0],this.endDate=t[1],[4,this.mem.refreshFromServer()];case 1:return n.sent(),[2]}}))}))},t}(a.a)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(0),a=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={comment:t.comment?t.comment:\"\"},n}return Object(r.c)(t,e),t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return(0,this.props.closeDialog)(),this.props.deleteNoteData(),[2]}))}))},t.prototype.save=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t;return Object(r.d)(this,(function(n){return e=this.props.closeDialog,t=this.state.comment,e(),this.props.updateData(t),[2]}))}))},t.prototype.render=function(){var e=this,t=this.props,n=t.weekNumber,r=t.intl,o=this.state.comment;return a.createElement(\"div\",null,a.createElement(\"div\",null,a.createElement(\"h2\",null,r?r.formatMessage({id:\"tutorNoteDialog.weekComment\",defaultMessage:\"Kommentar för vecka {weekNumber}\"},{weekNumber:n}):\"Kommentar för vecka \"+n),a.createElement(\"hr\",null),a.createElement(\"div\",{className:\"align-table\"},a.createElement(\"div\",{className:\"fullWidth\"},a.createElement(\"textarea\",{autoFocus:!0,value:o,onChange:function(t){return e.setState({comment:t.target.value})}})))),a.createElement(\"div\",null,a.createElement(a.Fragment,null,a.createElement(\"button\",{tabIndex:1,className:\"btn btn-large btn-default\",onClick:function(){return e.save()}},r?r.formatMessage({id:\"common.save\",defaultMessage:\"Spara\"}):\"Spara\",\" \"),o&&a.createElement(\"a\",{tabIndex:1,className:\"btn btn-warning btn-large pull-right\",onClick:function(){return e.delete()}},r?r.formatMessage({id:\"common.remove\",defaultMessage:\"Ta bort\"}):\"Ta bort\"))))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(0),a=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.myself=a.createRef(),n.state={text:t.text||\"\"},n}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.tag,n=e.text,r=e.readOnly,o=t;return a.createElement(o,{contentEditable:!r,\"data-placeholder\":this.props.placeholder,ref:this.myself,className:this.props.className,onChange:this.onChange.bind(this),onKeyDown:this.onKeyDown.bind(this),onKeyUp:this.onKeyUp.bind(this),onBlur:this.onBlur.bind(this),onPaste:this.onPaste.bind(this),dangerouslySetInnerHTML:{__html:n}})},t.prototype.onChange=function(e){this.setState({text:this.myself.current.innerText})},t.prototype.onKeyDown=function(e){var t=this.myself.current.innerText;if(\"Escape\"===e.key?(this.myself.current.innerText=this.props.text||\"\",this.myself.current.blur(),e.stopPropagation()):\"Enter\"===e.key?(e.preventDefault(),this.navigate(t,\"down\")):\"Tab\"===e.key?this.propagateOnChange(t):t.length>=this.props.maxChars&&/^[\\d\\w\\s]$/.test(e.key)&&!e.metaKey&&!e.ctrlKey&&e.preventDefault(),!0===this.props.allowNavigation){var n=!!e.key.startsWith(\"Arrow\")&&e.key.replace(\"Arrow\",\"\").toLowerCase(),r=document.getSelection().getRangeAt(0).endOffset;n&&0==t.length?this.navigate(t,n):!n||\"up\"!=n&&\"down\"!=n?n&&(\"left\"==n&&0==r||\"right\"==n&&r==t.length)&&this.navigate(t,n):this.navigate(t,n)}},t.prototype.onKeyUp=function(e){var t=this.myself.current.innerText;void 0===this.props.validateValue||this.props.validateValue.test(t)||(this.myself.current.innerText=this.props.text||\"\",this.myself.current.blur(),e.preventDefault())},t.prototype.navigate=function(e,t){this.propagateOnChange(e),this.setState({text:e}),this.props.onNavigate(t)},t.prototype.onPaste=function(e){e.preventDefault();var t=e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData(\"text/plain\"):\"\";document.execCommand(\"insertHTML\",!1,t)},t.prototype.onBlur=function(e){var t=this.myself.current.innerText;this.propagateOnChange(t),this.setState({text:t})},t.prototype.propagateOnChange=function(e){this.propagatedOnChange!=e&&(this.propagatedOnChange=e,this.props.onChange(e))},t}(a.PureComponent)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return p}));var r=n(0),a=n(111),o=n(4),i=n(9),s=n(3),u=n(24),c=n(11),l=n(5),d=n.n(l),p=o.a.hiddenCoursesRepo,f=function(){function e(){var e=this;this.result=null,this.subscribers=[],this.fullCourse=!1,this.notifySubscriber=function(t,n){try{t(n.fullCourse?e.result:e.result.filter((function(e){return e.visible})))}catch(e){console.error(e)}},this.kedRepo=new a.a({getClient:function(){return o.a.kedBackendClient},optimistic:!0,table:\"userhiddencourses\",user:o.a.currentUser?o.a.currentUser.mail:\"\",getQueryOptions:function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return[2,{role:\"USER\"}]}))}))}});var t=this.init();Promise.all([t,this.kedCoursesPromise,this.edsCoursesPromise]).catch((function(e){return Object(i.n)(e)}))}return e.prototype.init=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,a=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:return e=o.a.bearerProvider?o.a.bearerProvider.getBearer():Promise.resolve({}),this.kedCoursesPromise=e.then((function(){return a.listKedCourses()})),this.edsCoursesPromise=e.then((function(){return a.listEDSCourses()})),n=!1,this.userHiddenCoursesPromise=new Promise((function(e){return t=function(t){n?a.userHiddenCoursesPromise=Promise.resolve(t):(n=!0,e(t))}})),[4,e];case 1:return i.sent(),this.kedRepo.mem.subscribe((function(e){return Object(r.b)(a,void 0,void 0,(function(){var n,a,o,i,s=this;return Object(r.d)(this,(function(u){switch(u.label){case 0:return[4,Promise.all([this.kedCoursesPromise,this.edsCoursesPromise])];case 1:return n=r.f.apply(void 0,[u.sent(),2]),a=n[0],o=n[1],i=this,[4,this.createCoursesList(o,e,a)];case 2:return i.result=u.sent(),this.subscribers.forEach((function(e){return s.notifySubscriber(e.subscriber,e.options)})),t(e),[2]}}))}))})),[2]}}))}))},e.prototype.listKedCourses=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=this.fullCourse,console.log(\"FullCourse: \"+e),[4,o.a.kedBackendClient.list(\"schools\",{role:\"USER\",name:o.a.currentUser.school,include:\"activeCourses\",flags:e?[]:[\"includeIdsAndNamesOnly\"],cacheBust:o.a.currentUser.username})];case 1:return t=n.sent(),[2,Object(i.k)(t.map((function(e){return e.activeCourses}))).sort(Object(i.g)(\"name\"))]}}))}))},e.prototype.listEDSCourses=function(){var e=new u.a(Object(c.c)(d()())).period;return-1===o.a.currentUser.roles.indexOf(\"EMPLOYEE\")?o.a.edsClient.getActiveCourses({periodName:e}):null},e.prototype.createCoursesList=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var a,s,u,c,l=this;return Object(r.d)(this,(function(d){switch(d.label){case 0:return a=Object(i.c)(t.filter((function(e){return!e.show})),(function(e){return e.name})),s=Object(i.c)(t.filter((function(e){return e.show})),(function(e){return e.name})),u=o.a.currentUser.roles.some((function(e){return\"STUDENT\"===e})),c=e?Object(i.c)(e,(function(e){return e.name})):{},[4,Promise.all(n.map((function(e){var t=e.id,n=e.name,o=e.description,i=e.modifiedBy;return Object(r.b)(l,void 0,void 0,(function(){var e,l,d;return Object(r.d)(this,(function(r){return e=c[n],d=(l=!u||null!=e)?!a[t]:!!s[t],i&&i.name&&!o&&(o=i.name+\"s version\"),[2,{id:t,name:n,description:o,visible:d,defaultVisible:l}]}))}))})))];case 1:return[2,d.sent().sort((function(e,t){var n=e.name,r=t.name;return n<r?-1:n>r?1:0}))]}}))}))},e.prototype.hideCourse=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=this.kedRepo.mem.items.filter((function(t){return t.name===e.id})),e.defaultVisible?[4,this.kedRepo.insert([{id:Object(s.h)(),name:e.id}])]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.kedRepo.delete(t.map((function(e){return e.id})))];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype.showCourse=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=this.kedRepo.mem.items.filter((function(t){return t.name===e.id})),e.defaultVisible?[4,this.kedRepo.delete(t.map((function(e){return e.id})))]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.kedRepo.insert([{id:Object(s.h)(),name:e.id,show:!0}])];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype.subscribe=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,a,o,i,s;return Object(r.d)(this,(function(u){switch(u.label){case 0:return this.fullCourse||!t.fullCourse?[3,3]:(this.fullCourse=t.fullCourse,this.kedCoursesPromise=this.listKedCourses(),[4,Promise.all([this.kedCoursesPromise,this.edsCoursesPromise,this.userHiddenCoursesPromise])]);case 1:return n=r.f.apply(void 0,[u.sent(),3]),a=n[0],o=n[1],i=n[2],s=this,[4,this.createCoursesList(o,i,a)];case 2:s.result=u.sent(),u.label=3;case 3:return[4,this.userHiddenCoursesPromise];case 4:return u.sent(),this.notifySubscriber(e,t),this.subscribers.push({subscriber:e,options:t}),[2]}}))}))},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t.subscriber!==e}))},e}();p||(p=o.a.hiddenCoursesRepo=new f)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(2),o=n(4),i=n(20),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={subject:null},n}return Object(r.c)(t,e),t.prototype.componentWillMount=function(){this.load()},t.prototype.load=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,o.a.kedBackendClient.get(\"subjects\",this.props.id,{include:\"courseTemplates\"})];case 1:return e=t.sent(),this.setState({subject:e}),[2]}}))}))},t.prototype.render=function(){if(!this.state.subject)return a.createElement(\"p\",null,a.createElement(i.a,null));var e=this.state.subject,t=e.name,n=e.code,r=e.courseTemplates,o=e.schoolType;return a.createElement(\"div\",null,\"primary\"===o?a.createElement(a.Fragment,null,a.createElement(\"h2\",null,\"Grundskoleämnet \",t,\" (\",n,\")\"),a.createElement(\"ul\",{className:\"entity-list\"},r.map((function(e){var n=e.id,r=(e.code,e.publishable,e.points,e.schoolGrade);return a.createElement(\"li\",{key:n,className:\"complete\"},t,\" för årskurs \",r)})))):a.createElement(a.Fragment,null,a.createElement(\"h2\",null,\"Kurser för ämnet \",t,\" (\",n,\")\"),a.createElement(\"ul\",{className:\"entity-list\"},r.map((function(e){var t=e.id,n=e.name,r=(e.code,e.publishable,e.points);return a.createElement(\"li\",{key:t,className:\"complete\"},n,\" - \",r,\"p\")})))))},t}(a.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r,a=n(0),o=n(2),i=n(9),s=n(90),u=n(159),c=n.n(u),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.props.resource||{name:\"\",url:\"\"},n}return Object(a.c)(t,e),t.prototype.save=function(){var e=this.state;if(!c.a.isUri(e.url))throw new Error(Object(i.a)(r||(r=Object(a.e)([\"Angiven URL '\",\"' är ogiltig. Ska börja med exempelvis http:, https: eller mailto:\"],[\"Angiven URL '\",\"' är ogiltig. Ska börja med exempelvis http:, https: eller mailto:\"])),e.url));this.props.onSave(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.onSave,a=t.onDelete,i=this.state,u=c.a.isUri(this.state.url);return o.createElement(\"div\",null,o.createElement(\"div\",{className:\"sv-html-portlet sv-portlet sv-skip-spacer\"},o.createElement(\"h2\",null,n),o.createElement(\"hr\",null),o.createElement(\"div\",{className:\"align-horizontal\"},o.createElement(\"div\",{className:\"horizontalItem top\"},\"Namn:\"),o.createElement(\"div\",{className:\"horizontalItem top\"},o.createElement(\"input\",{type:\"text\",autoFocus:!0,tabIndex:1,size:50,value:i.name,onChange:function(t){return e.setState({name:t.target.value})}})),o.createElement(\"div\",{className:\"horizontalItem top spaced\"})),o.createElement(\"div\",{className:\"align-horizontal\"},o.createElement(\"div\",{className:\"horizontalItem top\"},\"Länk:\"),o.createElement(\"div\",{className:\"horizontalItem top \"},o.createElement(\"input\",{type:\"text\",tabIndex:1,size:50,value:i.url,onChange:function(t){return e.setState({url:t.target.value})}})),o.createElement(\"div\",{className:\"horizontalItem top spaced\"})),o.createElement(\"br\",null)),o.createElement(\"div\",{className:\"sv-html-portlet sv-portlet\"},(i.createdDate||i.modifiedDate)&&o.createElement(\"div\",null,i.createdDate&&o.createElement(\"p\",null,\"Resursen/Länken skapades \",Object(s.c)(i.createdDate),\" av \",o.createElement(\"strong\",null,i.createdBy.name),\".\"),i.modifiedDate&&o.createElement(\"p\",null,\"Resursen/Länken redigerades senast \",Object(s.c)(i.modifiedDate),\" av \",o.createElement(\"strong\",null,i.modifiedBy.name),\".\"),o.createElement(\"br\",null),o.createElement(\"br\",null)),a&&o.createElement(\"div\",{tabIndex:2,className:\"btn btn-warning btn-large pull-right\",onClick:function(){return a()}},\"Ta bort resurs/länk\"),o.createElement(\"a\",{tabIndex:1,className:\"btn btn-large\"+(u?\"\":\" btn-inactive\"),onClick:u&&function(){return r(i)}},\"Spara\")))},t}(o.Component)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(4),o=n(191),i=function(){function e(e){var t,n=e.scopes,a=void 0===n?[]:n;this.scopes=[\"https://www.googleapis.com/auth/userinfo.email\",\"https://www.googleapis.com/auth/userinfo.profile\"],(t=this.scopes).push.apply(t,Object(r.h)(a))}return e.prototype.ensureInited=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:return\"undefined\"!=typeof gapi?[3,2]:[4,this.loadGapi()];case 1:n.sent(),n.label=2;case 2:return e=this.scopes.join(\" \"),[4,new Promise((function(n,r){gapi.load(\"client:auth2\",(function(){var i=!1;return gapi.auth2.authorize({client_id:o.b,scope:e,response_type:\"permission\",login_hint:a.a.currentUser.mail,prompt:\"none\"},(function(s){if(console.table(s),s.error)i=!0;else{var u=new Set(s.scope.split(\" \"));t.scopes.filter((function(e){return!u.has(e)})).length>0?(console.log(\"missing scopes\"),i=!0):(t.authToken=s.access_token,n())}return i?(console.log(\"reauthorize\"),gapi.auth2.authorize({client_id:o.b,scope:e,response_type:\"permission\",login_hint:a.a.currentUser.mail,prompt:\"consent\"},(function(e){console.table(e),e.error?r(\"Google Web Client: No access token\"):(t.authToken=e.access_token,n())}))):s.expires_in<500?gapi.auth2.authorize({client_id:o.b,scope:e,response_type:\"permission\",login_hint:a.a.currentUser.mail,prompt:\"none\"},(function(e){t.authToken=e.access_token,n()})):void 0}))}))}))];case 3:return n.sent(),\"undefined\"!=typeof google&&void 0!==google.picker?[3,5]:[4,new Promise((function(e){gapi.load(\"picker\",(function(){e()}))}))];case 4:n.sent(),n.label=5;case 5:return void 0!==gapi.client&&void 0!==gapi.client.classroom?[3,7]:[4,new Promise((function(e){gapi.client.load(\"classroom\",\"v1\",(function(){e()}))}))];case 6:n.sent(),n.label=7;case 7:return[2]}}))}))},e.prototype.loadGapi=function(){return new Promise((function(e,t){if(\"undefined\"!=typeof gapi)return e();var n=document.createElement(\"script\");n.src=\"https://apis.google.com/js/client.js?onload=gaapi_loaded\",document.getElementsByTagName(\"head\")[0].appendChild(n),window.gaapi_loaded=e}))},e}()},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return r})),n.d(t,\"a\",(function(){return a}));var r=\"421572262269-u68v5lf5o8ss5t68l8gkq3pfarh6dbkv.apps.googleusercontent.com\",a=\"https://docs.google.com/document/d/1V7exG6vN83Sq8kb6uz1B6DaZDVO9eLcJbP7XF0vL4dY/export?format=txt\"},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(0),a=n(2),o=n(89),i=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.task,n=e.course,i=e.updateLink;if(!t.migratedTexts)return a.createElement(a.Fragment,null,\" \");var s=t.migratedTexts,u=s.abilities,c=s.centralContent,l=s.knowledgeRequirements,d=Object.keys(l||{}).map((function(e){return Object(r.a)(Object(r.a)({},n.knowledgeRequirements.find((function(t){return t.id===e}))),l[e])})),p={title:\"Uppdaterat kunskapskrav för betyget A\",type:\"knowledgeRequirements\",items:d.filter((function(e){return\"A\"===e.gradeStep}))},f={title:\"Uppdaterat Kunskapskrav för betyget C\",type:\"knowledgeRequirements\",items:d.filter((function(e){return\"C\"===e.gradeStep}))},h={title:\"Uppdaterat kunskapskrav för betyget E\",type:\"knowledgeRequirements\",items:d.filter((function(e){return\"E\"===e.gradeStep}))},m={title:\"Uppdaterade förmågor\",type:\"abilities\",items:Object.keys(u||{}).map((function(e){return Object(r.a)(Object(r.a)({},n.abilities.find((function(t){return t.id===e}))),u[e])}))},g=[p,f,h,{title:\"Uppdaterat centralt innehåll\",type:\"centralContent\",items:Object.keys(c||{}).map((function(e){return Object(r.a)(Object(r.a)({},n.centralContent.find((function(t){return t.id==e}))),c[e])}))},m].filter((function(e){return e.items.length>0}));return 0===g.length?a.createElement(a.Fragment,null,\" \"):a.createElement(o.a,{className:\"larger\",title:a.createElement(\"div\",null,a.createElement(\"div\",{className:\"warningFlag\"},a.createElement(\"i\",{className:\"fas fa-exclamation-triangle\",\"aria-hidden\":\"true\"})),a.createElement(\"p\",null,\"Uppdaterade formuleringar från Skolverket\"))},g.map((function(e){var t=e.title,n=(e.type,e.items);return a.createElement(\"div\",{key:t},a.createElement(\"h5\",null,t),a.createElement(\"table\",null,a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",{style:{width:\"40%\"}},\"Ursprunglig formulering\"),a.createElement(\"th\",{style:{width:\"40%\"}},\"Skolverkets nya formulering\"),a.createElement(\"th\",null,\"Täcker uppgiften den nya formuleringen?\"))),a.createElement(\"tbody\",null,n.map((function(e){return a.createElement(\"tr\",{key:e.id},a.createElement(\"td\",{dangerouslySetInnerHTML:{__html:e.oldText}}),a.createElement(\"td\",{dangerouslySetInnerHTML:{__html:e.name}}),a.createElement(\"td\",null,a.createElement(\"button\",{onClick:function(){return i(e.id,!0)}},\"Ja - behåll kopplingen\"),a.createElement(\"button\",{onClick:function(){return i(e.id,!1)}},\"Nej - ta bort kopplingen\")))})))))})))},t}(a.Component)},function(e,t,n){\"use strict\";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(44)),a=s(n(2)),o=s(n(55)),i=n(194);n(195);function s(e){return e&&e.__esModule?e:{default:e}}var u=\"unmounted\";t.UNMOUNTED=u;var c=\"exited\";t.EXITED=c;var l=\"entering\";t.ENTERING=l;var d=\"entered\";t.ENTERED=d;t.EXITING=\"exiting\";var p=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var a,o=n.transitionGroup,i=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=c,r.appearStatus=l):a=d:a=t.unmountOnExit||t.mountOnEnter?u:c,r.state={status:a},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:c}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==d&&(t=l):n!==l&&n!==d||(t=\"exiting\")}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&\"number\"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},i.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),i=a?o.appear:o.enter;t||r?(this.props.onEnter(e,a),this.safeSetState({status:l},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,i,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},i.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:\"exiting\"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,[\"children\"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,\"function\"==typeof n)return n(e,r);var o=a.default.Children.only(n);return a.default.cloneElement(o,r)},r}(a.default.Component);function f(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var h=(0,i.polyfill)(p);t.default=h},function(e,t,n){\"use strict\";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error(\"Can only polyfill class components\");if(\"function\"!=typeof e.getDerivedStateFromProps&&\"function\"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if(\"function\"==typeof t.componentWillMount?n=\"componentWillMount\":\"function\"==typeof t.UNSAFE_componentWillMount&&(n=\"UNSAFE_componentWillMount\"),\"function\"==typeof t.componentWillReceiveProps?i=\"componentWillReceiveProps\":\"function\"==typeof t.UNSAFE_componentWillReceiveProps&&(i=\"UNSAFE_componentWillReceiveProps\"),\"function\"==typeof t.componentWillUpdate?s=\"componentWillUpdate\":\"function\"==typeof t.UNSAFE_componentWillUpdate&&(s=\"UNSAFE_componentWillUpdate\"),null!==n||null!==i||null!==s){var u=e.displayName||e.name,c=\"function\"==typeof e.getDerivedStateFromProps?\"getDerivedStateFromProps()\":\"getSnapshotBeforeUpdate()\";throw Error(\"Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n\"+u+\" uses \"+c+\" but also contains the following legacy lifecycles:\"+(null!==n?\"\\n  \"+n:\"\")+(null!==i?\"\\n  \"+i:\"\")+(null!==s?\"\\n  \"+s:\"\")+\"\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\nhttps://fb.me/react-async-component-lifecycle-hooks\")}if(\"function\"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=a),\"function\"==typeof t.getSnapshotBeforeUpdate){if(\"function\"!=typeof t.componentDidUpdate)throw new Error(\"Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype\");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,\"polyfill\",(function(){return i})),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){\"use strict\";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(44))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){\"use strict\";t.__esModule=!0,t.default=void 0;var r=s(n(44)),a=s(n(2)),o=n(194),i=n(277);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function r(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:a,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,r):(0,i.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=u({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,[\"component\",\"childFactory\"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:a.default.createElement(t,r,o)},r}(a.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps={component:\"div\",childFactory:function(e){return e}};var p=(0,o.polyfill)(d);t.default=p,e.exports=t.default},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var r=[\"Lära att lära\",\"Samarbeta\",\"Agera globalt\",\"Visa handlingskraft\",\"Vara innovativ\",\"Leva digitalt\"]},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r=n(0),a=n(53),o=n.n(a),i=n(1),s=3e5,u=i.a.KED_KEEP_ALIVE_URL,c=Date.now();function l(){setInterval(p,s),setTimeout((function(){return o()(\"body\").mousemove(d).keypress(d).scroll(d)}),100)}function d(){c=Date.now()}function p(){Date.now()-c<s&&function(){Object(r.b)(this,void 0,void 0,(function(){var e,t;return Object(r.d)(this,(function(n){switch(n.label){case 0:console.log(\"Sending heartbeat request to \"+u),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch(u,{cache:\"no-cache\",credentials:\"same-origin\"})];case 2:return e=n.sent(),console.log(\"Response from \"+u+\": \"+e.status+\" \"+e.statusText),[3,4];case 3:return t=n.sent(),console.warn(\"Request to \"+u+\" failed: \"+t),[3,4];case 4:return[2]}}))}))}()}},function(e,t,n){var r=n(278);e.exports=f,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var a=new RegExp([\"(\\\\\\\\.)\",\"([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))\"].join(\"|\"),\"g\");function o(e,t){for(var n,r=[],o=0,i=0,s=\"\",l=t&&t.delimiter||\"/\";null!=(n=a.exec(e));){var d=n[0],p=n[1],f=n.index;if(s+=e.slice(i,f),i=f+d.length,p)s+=p[1];else{var h=e[i],m=n[2],g=n[3],v=n[4],b=n[5],y=n[6],E=n[7];s&&(r.push(s),s=\"\");var w=null!=m&&null!=h&&h!==m,k=\"+\"===y||\"*\"===y,O=\"?\"===y||\"*\"===y,C=n[2]||l,D=v||b;r.push({name:g||o++,prefix:m||\"\",delimiter:C,optional:O,repeat:k,partial:w,asterisk:!!E,pattern:D?c(D):E?\".*\":\"[^\"+u(C)+\"]+?\"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function i(e){return encodeURI(e).replace(/[\\/?#]/g,(function(e){return\"%\"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)\"object\"==typeof e[n]&&(t[n]=new RegExp(\"^(?:\"+e[n].pattern+\")$\"));return function(n,a){for(var o=\"\",s=n||{},u=(a||{}).pretty?i:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if(\"string\"!=typeof l){var d,p=s[l.name];if(null==p){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected \"'+l.name+'\" to be defined')}if(r(p)){if(!l.repeat)throw new TypeError('Expected \"'+l.name+'\" to not repeat, but received `'+JSON.stringify(p)+\"`\");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected \"'+l.name+'\" to not be empty')}for(var f=0;f<p.length;f++){if(d=u(p[f]),!t[c].test(d))throw new TypeError('Expected all \"'+l.name+'\" to match \"'+l.pattern+'\", but received `'+JSON.stringify(d)+\"`\");o+=(0===f?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return\"%\"+e.charCodeAt(0).toString(16).toUpperCase()})):u(p),!t[c].test(d))throw new TypeError('Expected \"'+l.name+'\" to match \"'+l.pattern+'\", but received \"'+d+'\"');o+=l.prefix+d}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g,\"\\\\$1\")}function c(e){return e.replace(/([=!:$\\/()])/g,\"\\\\$1\")}function l(e,t){return e.keys=t,e}function d(e){return e.sensitive?\"\":\"i\"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i=\"\",s=0;s<e.length;s++){var c=e[s];if(\"string\"==typeof c)i+=u(c);else{var p=u(c.prefix),f=\"(?:\"+c.pattern+\")\";t.push(c),c.repeat&&(f+=\"(?:\"+p+f+\")*\"),i+=f=c.optional?c.partial?p+\"(\"+f+\")?\":\"(?:\"+p+\"(\"+f+\"))?\":p+\"(\"+f+\")\"}}var h=u(n.delimiter||\"/\"),m=i.slice(-h.length)===h;return a||(i=(m?i.slice(0,-h.length):i)+\"(?:\"+h+\"(?=$))?\"),i+=o?\"$\":a&&m?\"\":\"(?=\"+h+\"|$)\",l(new RegExp(\"^\"+i,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\\((?!\\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(f(e[a],t,n).source);return l(new RegExp(\"(?:\"+r.join(\"|\")+\")\",d(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(86);function a(){return r.c.courseInstances.hasEdgesFrom([r.d])}},function(e,t,n){\"use strict\";function r(e){return(e||[]).filter((function(e){return e.startsWith(\"course:\")})).map((function(e){return e.substr(\"course:\".length)}))}n.d(t,\"a\",(function(){return r}))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(0),a=n(96),o=n(86),i=n(107);function s(e){var t,n=e.map((function(e){return e.startsWith(\"course:\")?e:\"course:\"+e}));return 0===n.length?new a.a([]):(t=o.c.courses.include(\"abilities\",\"centralContent\",\"knowledgeRequirements\")).tags.apply(t,Object(r.h)(n)).filter((function(e){return e.isTemplate})).map((function(e){return Object(r.a)(Object(r.a)({},e),{abilities:Object(i.a)(e.abilities,e.abilitiesOrder),centralContent:Object(i.a)(e.centralContent,e.centralContentOrder),knowledgeRequirements:Object(i.a)(e.knowledgeRequirements,e.knowledgeRequirementsOrder)})})).toValue()}},function(e,t,n){\"use strict\";function r(e){if(!e||!e.Status)return null;switch(e.Status.State){case\"Error\":return\"urkund-status urkund-status-error\";case\"Submitted\":return\"urkund-status urkund-status-submitted\";case\"Accepted\":return\"urkund-status urkund-status-accepted\";case\"Analyzed\":return\"urkund-status urkund-status-analyzed\"}}function a(e){if(!e||!e.Status)return null;switch(e.Status.State){case\"Error\":return e.ExternalId?\"Kunde inte tas emot av urkund. Felkod: \"+e.Status.ErrorCode+\"\\nExternal ID: \"+e.ExternalId+\"\\nFelmeddelande: \"+e.Status.Message:e.Status.Message;case\"Submitted\":return\"Filen är uppladdad till Urkund. Klicka för att uppdatera status.\";case\"Accepted\":return\"Filen analyseras fortfarande av Urkund. Klicka för att uppdatera status.\";case\"Analyzed\":return\"Rapport skapad. Klicka för att öppna rapporten i nytt fönster\"}}function o(e){if(!e||!e.Status)return\"\";switch(e.Status.State){case\"Error\":return\"urkund-significance-error\";case\"Submitted\":return\"urkund-significance-submitted\";case\"Accepted\":return\"urkund-significance-accepted\"}var t=e.Report;return t?t.Significance<1?\"urkund-significance urkund-significance-0\":t.Significance<10?\"urkund-significance urkund-significance-1\":t.Significance<25?\"urkund-significance urkund-significance-2\":t.Significance<40?\"urkund-significance urkund-significance-3\":t.Significance<55?\"urkund-significance urkund-significance-4\":t.Significance<70?\"urkund-significance urkund-significance-5\":t.Significance<85?\"urkund-significance urkund-significance-6\":t.Significance<99.9?\"urkund-significance urkund-significance-7\":t.Significance>=99.9?\"urkund-significance urkund-significance-8\":\"\":\"\"}n.d(t,\"c\",(function(){return r})),n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return o}))},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(5),i=n.n(o);const s=6e4;var u,c=n(9);function l(e){e.id;var t=e.dayStart,n=e.startMoment,o=e.endMoment,l=e.text,d=e.location,p=e.description,f=e.width,h=e.pos,m=e.locale,g=e.zoom,v=e.htmlLink,b=e.className,y=i()(n).diff(t)/s*g,E=i()(o).diff(n)/s*g,w={hour:\"numeric\",minute:\"2-digit\"},k=n.toDate().toLocaleTimeString(m,w),O=o.toDate().toLocaleTimeString(m,w);return a.createElement(\"div\",{className:\"dayviewevent \"+b,style:{position:\"absolute\",boxSizing:\"border-box\",top:y,left:(h||0)+\"%\",width:(f||100)+\"%\",height:E,maxHeight:E,overflow:\"hidden\"},title:k+\" - \"+O+\" \"+l+(d?\"\\n\"+Object(c.a)(u||(u=Object(r.e)([\"Plats: \",\"\"],[\"Plats: \",\"\"])),d):\"\")+(p?\"\\n\"+p:\"\")},a.createElement(\"a\",{className:\"event-title\",href:v,target:\"calendar-event\"},l),a.createElement(\"p\",{className:\"event-period\"},k,\" - \",O),d&&a.createElement(\"p\",{className:\"event-location\"},d),p&&a.createElement(\"p\",{className:\"event-description\"},p))}function d(e){for(var t=e.dayStart,n=e.dayEnd,r=60*e.zoom,o=i()(t).hour(),s=i()(n).hour(),u=[],c=o;c<=s;++c)u.push(c);return a.createElement(\"div\",null,u.map((function(e){return a.createElement(\"div\",{key:e,className:\"timeline\",style:{width:\"100%\",boxSizing:\"border-box\",margin:r/2+\"px 0 0 0\",height:r/2}})})))}function p(e){var t=e.dayStart,n=e.dayEnd,o=e.events,u=e.locale,p=e.zoom,f=(e.isLastCall,i()(n).diff(t)/s*p),h=function(e,t){var n=[];return e.forEach((function(e,t){var a,o=n.filter((function(t){return t.startMoment&&t.endMoment&&t.startMoment<=e.startMoment&&t.endMoment>e.startMoment})),i=o.concat(Object(c.k)(o.map((function(e){return e.prevOverlaps}))));(i=Object(c.j)(i,(function(e){return e.index}))).sort(Object(c.g)(\"startMoment\"));var s=0;i.forEach((function(e,t){t%4==0&&(a=Math.max(25,Math.round(100/Math.max(i.length-t+1,1))),s=0),e.width=a,e.className=(e.className||\"\").split(\" \").filter((function(e){return\"splitted\"!==e})).concat(\"splitted\").join(\" \"),e.pos=s,s+=a})),n.push(Object(r.a)(Object(r.a)({},e),{index:t,pos:s,width:a,className:a<100?e.className?e.className+\" splitted\":\"splitted\":e.className,prevOverlaps:i}))})),n}(o);return a.createElement(\"div\",{className:\"dayview\",style:{top:0,height:f,maxHeight:f,position:\"relative\",overflow:\"hidden\"}},a.createElement(d,{dayStart:t,dayEnd:n,zoom:p}),h.map((function(e){return a.createElement(l,{key:e.id,id:e.id,className:e.className,dayStart:t,startMoment:e.startMoment,endMoment:e.endMoment,text:e.text,location:e.location,description:e.description,width:e.width,pos:e.pos,locale:u,zoom:p,htmlLink:e.htmlLink})})))}function f(e){for(var t=e.startHour,n=e.endHour,r=e.locale,o=60*e.zoom,s=[],u=t;u<=n;++u)s.push(u);return a.createElement(\"div\",{className:\"hourmarker\",style:{position:\"relative\",left:0,top:0,overflow:\"visible\",height:(n-t)*o}},s.map((function(e,t){var n=t*o;return a.createElement(\"span\",{key:e},a.createElement(\"div\",{style:{position:\"absolute\",left:0,top:n,marginTop:\"-4px\",padding:0}},i()().hour(e).minute(0).toDate().toLocaleString(r,{hour:\"2-digit\",minute:\"2-digit\"})))})))}function h(e){var t=e.status,n=e.error;return t||n?a.createElement(\"div\",{className:\"statusbar\"},n?a.createElement(\"p\",{className:\"error\"},\"\"+n):a.createElement(\"p\",{className:\"status\"},t)):null}var m=n(31),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){for(var e=this.props,t=e.firstDay,n=e.startHour,r=e.endHour,o=e.numDays,s=e.events,u=e.locale,l=e.zoom,d=e.status,m=e.error,g=this.context.intl,v=[],b=i()(t),y=function(e){var t=i()(b).hour(n),a=i()(b).hour(r),o=i()(b).format(\"yyyy-MM-DD\"),l=i()(t).startOf(\"day\").valueOf()===i()().startOf(\"day\").valueOf();v.push({name:Object(c.d)(t.toDate().toLocaleString(u,{weekday:\"long\",day:\"numeric\",month:\"short\"})),dayStart:t,dayEnd:a,isToday:l,events:s.filter((function(e){return e.start&&e.end&&e.start.dateTime&&e.end.dateTime&&(i()(e.start.dateTime).isBetween(t,a)||i()(e.end.dateTime).isBetween(t,a))})).map((function(e){return Object(c.f)(e,{startMoment:i()(e.start.dateTime),endMoment:i()(e.end.dateTime)})})).sort((function(e,t){return e.startMoment.valueOf>t.startMoment.valueOf?1:e.startMoment<t.startMoment?-1:0})),fullDayEvents:s.filter((function(e){return e.start&&e.end&&e.start.date&&e.end.date&&e.start.date<=o&&e.end.date>o})).map((function(e){return Object(c.f)(e,{startDate:e.start.date,endDate:e.end.date})}))}),b=i()(b).add(1,\"days\")},E=0;E<o;++E)y();return a.createElement(\"div\",{className:\"vemendo-weekview\"},a.createElement(\"table\",null,a.createElement(\"tbody\",null,a.createElement(\"tr\",null,a.createElement(\"td\",{style:{border:0}}),v.map((function(e){return a.createElement(\"td\",{key:e.dayStart.toISOString(),className:e.isToday?\"today\":null},a.createElement(\"p\",{className:\"dayname\"},e.name))}))),a.createElement(\"tr\",null,a.createElement(\"td\",{style:{border:0}},a.createElement(\"p\",{className:\"week-number\"},g.formatMessage({id:\"calendar.weekNumber\",defaultMessage:\"V{weekNumber}\"},{weekNumber:i()(t).week()}))),v.map((function(e){return a.createElement(\"td\",{key:e.dayStart.toISOString(),className:e.isToday?\"today\":null},e.fullDayEvents.map((function(e){var t=e.id,n=e.text,r=e.location,o=e.description,i=e.htmlLink,s=e.className;return a.createElement(\"div\",{key:t,className:\"dayviewevent full-day \"+s,title:n+(r?\"\\n\"+g.formatMessage({id:\"calendar.fullDayEventLocation\",defaultMessage:\"Plats: {location}\"},{location:r}):\"\")+(o?\"\\n\"+o:\"\")},a.createElement(\"a\",{className:\"event-title\",href:i,target:\"calendar-event\"},n),r&&a.createElement(\"p\",{className:\"event-location\"},r),o&&a.createElement(\"p\",{className:\"event-description\"},o))})))}))),a.createElement(\"tr\",null,a.createElement(\"td\",{style:{border:0}},a.createElement(f,{startHour:n,endHour:r,locale:u,zoom:l})),v.map((function(e){return a.createElement(\"td\",{key:e.dayStart.toISOString(),className:e.isToday?\"today\":null},a.createElement(p,{key:e.dayStart.toISOString(),dayStart:e.dayStart,dayEnd:e.dayEnd,events:e.events,locale:u,zoom:l,isLastCall:\"\"==d}),\" \")}))),(d||m)&&(!m||\"UnauthorizedError\"!==m.name)&&a.createElement(\"tr\",null,a.createElement(\"td\",{style:{border:0}}),a.createElement(\"td\",{style:{border:0},colSpan:o},a.createElement(h,{status:d,error:m}))))))},t.contextType=m.a,t}(a.Component),v=function(e){function t(t){var n=e.call(this,{discoveryDocs:\"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest\"})||this;return n.setBearerProvider(t),n}return Object(r.c)(t,e),t.prototype.listCalendars=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,this.ensureInited()];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,gapi.client.calendar.calendarList.list({})];case 3:return[2,e.sent().result.items];case 4:throw e.sent().error;case 5:return[2]}}))}))},t.prototype.batchEvents=function(e){var t=e.calendarList,n=e.timeMin,a=e.timeMax;return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.ensureInited()];case 1:r.sent();try{return e=gapi.client.newBatch(),t.forEach((function(t){e.add(gapi.client.calendar.events.list({calendarId:t.id||\"primary\",timeMin:n&&new Date(n).toISOString(),timeMax:a&&new Date(a).toISOString(),showDeleted:!1,singleEvents:!0,fields:\"items/id,items/start,items/end,items/summary,items/location,items/htmlLink,items/description\",maxResults:2500,orderBy:\"startTime\"}),{id:t.id})})),[2,e.then((function(e){var n={};for(var r in t){var a=t[r].id,o=e.result[a].result.items;n[a]={calendar:t[r],events:o}}return n}))]}catch(e){throw e.error}return[2]}}))}))},t}(n(143).a),b=n(168);var y=n(4);n.d(t,\"a\",(function(){return E}));var E=function(e){function t(t){var n=e.call(this,t)||this,r=t.firstDay;\"string\"!=typeof r&&\"number\"!=typeof r||(r=i()().startOf(\"week\").weekday(r));var a=n.props,o=a.initialStartHour,s=a.initialEndHour,u=a.initialZoom;n.state={firstDay:r,startHour:o,endHour:s,zoom:u,calendars:{},calendarsBeingLoaded:[],status:\"Loading calendars... (authenticating...)\",error:null};var c=(t.env||y.a).googleTokenProvider;return n.gcal=new v(c),n.gcal.ensureInited().then((function(){return n.loadData(r)})).catch((function(e){n.handleError(e)})),n}return Object(r.c)(t,e),t.prototype.handleError=function(e){e||(e=\"Unknown error\"),this.setState({error:e}),console.error(e.stack||e)},t.prototype.loadData=function(e){var t=this,n=this.props.numDays,r=this.context.intl;return this.setState({firstDay:e,calendars:{},calendarsBeingLoaded:[],error:null,status:r.formatMessage({id:\"calendar.loadingCalendar\",defaultMessage:\"Loading calendars... (listing...)\"})}),this.gcal.listCalendars().then((function(a){a=a.filter((function(e){return function(e){var t=e.summary||\"\",n=/owner/gi.test(e.accessRole),r=!!e.primary,a=/classroom/gi.test(e.id),o=/holiday/gi.test(e.id);return r||a||o||/schema/gi.test(t)&&n}(e)})),\n//!/Week Numbers/ig.test(c.summary)\nt.setState({status:r.formatMessage({id:\"calendar.loadCalendarEvents\",defaultMessage:\"Load calendar events...\"})}),t.gcal.batchEvents({calendarList:a,timeMin:i()(e).startOf(\"day\"),timeMax:i()(e).add(n,\"days\").endOf(\"day\")}).then((function(e){t.setState({calendars:e,status:\"\"})}))}))},t.prototype.navigateToPreviousWeek=function(){var e=this;this.loadData(i()(this.state.firstDay).add(-1,\"week\")).catch((function(t){e.handleError(t)}))},t.prototype.navigateToNextWeek=function(){var e=this;this.loadData(i()(this.state.firstDay).add(1,\"week\")).catch((function(t){e.handleError(t)}))},t.prototype.render=function(){var e=this,t=this.props.numDays,n=this.context.intl,r=this.state,o=r.firstDay,s=r.startHour,u=r.endHour,l=r.zoom,d=r.calendars,p=r.status,f=r.error,h=Object.keys(d).map((function(e){return d[e]})).map((function(e){var t=e.calendar,n=e.events,r=\"Skolschema\"===t.summary&&\"Synchronized\"===t.description,a=/holiday/.test(t.id),o=(/classroom/.test(t.id),[]);return t.colorId&&o.push(\"gcal-palette-\"+t.colorId),r&&o.push(\"course-event\"),a&&o.push(\"holiday-event\"),n.map((function(e){return{id:e.id,start:e.start,end:e.end,text:e.summary,location:e.location,description:e.description,htmlLink:e.htmlLink,className:(r&&e.summary?o.concat(Object(b.a)(\"course-event-\",e.summary)):o).join(\" \")}}))})),m=Object(c.k)(h);return a.createElement(\"div\",{style:{position:\"relative\",top:0,left:0}},a.createElement(\"div\",{className:\"btn-toolbar week-navigation\"},a.createElement(\"div\",{className:\"btn-group\"},a.createElement(\"button\",{className:\"btn\",onClick:function(){return e.navigateToPreviousWeek()}},a.createElement(\"i\",{className:\"fas fa-angle-left\",\"aria-hidden\":\"true\"})),a.createElement(\"button\",{className:\"btn\",onClick:function(){return e.navigateToNextWeek()}},a.createElement(\"i\",{className:\"fas fa-angle-right\",\"aria-hidden\":\"true\"}))),a.createElement(\"div\",{className:\"btn-group\"},n.formatMessage({id:\"calendar.currentDate\",defaultMessage:\"Vecka {week}, {year}\"},{week:i()(o).week(),year:i()(o).year()}))),a.createElement(g,{locale:n.locale,firstDay:o,startHour:s,endHour:u,numDays:t,zoom:l,events:m,status:p,error:f}))},t.contextType=m.a,t}(a.Component)},function(e,t,n){\"use strict\";var r={lessThanXSeconds:{one:\"less than a second\",other:\"less than {{count}} seconds\"},xSeconds:{one:\"1 second\",other:\"{{count}} seconds\"},halfAMinute:\"half a minute\",lessThanXMinutes:{one:\"less than a minute\",other:\"less than {{count}} minutes\"},xMinutes:{one:\"1 minute\",other:\"{{count}} minutes\"},aboutXHours:{one:\"about 1 hour\",other:\"about {{count}} hours\"},xHours:{one:\"1 hour\",other:\"{{count}} hours\"},xDays:{one:\"1 day\",other:\"{{count}} days\"},aboutXMonths:{one:\"about 1 month\",other:\"about {{count}} months\"},xMonths:{one:\"1 month\",other:\"{{count}} months\"},aboutXYears:{one:\"about 1 year\",other:\"about {{count}} years\"},xYears:{one:\"1 year\",other:\"{{count}} years\"},overXYears:{one:\"over 1 year\",other:\"over {{count}} years\"},almostXYears:{one:\"almost 1 year\",other:\"almost {{count}} years\"}};function a(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var o={date:a({formats:{full:\"EEEE, MMMM do, y\",long:\"MMMM do, y\",medium:\"MMM d, y\",short:\"MM/dd/yyyy\"},defaultWidth:\"full\"}),time:a({formats:{full:\"h:mm:ss a zzzz\",long:\"h:mm:ss a z\",medium:\"h:mm:ss a\",short:\"h:mm a\"},defaultWidth:\"full\"}),dateTime:a({formats:{full:\"{{date}} 'at' {{time}}\",long:\"{{date}} 'at' {{time}}\",medium:\"{{date}}, {{time}}\",short:\"{{date}}, {{time}}\"},defaultWidth:\"full\"})},i={lastWeek:\"'last' eeee 'at' p\",yesterday:\"'yesterday at' p\",today:\"'today at' p\",tomorrow:\"'tomorrow at' p\",nextWeek:\"eeee 'at' p\",other:\"P\"};function s(e){return function(t,n){var r,a=n||{};if(\"formatting\"===(a.context?String(a.context):\"standalone\")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=a.width?String(a.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var s=e.defaultWidth,u=a.width?String(a.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function u(e){return function(t,n){var r=String(t),a=n||{},o=a.width,i=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=r.match(i);if(!s)return null;var u,c=s[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return u=\"[object Array]\"===Object.prototype.toString.call(l)?l.findIndex((function(e){return e.test(r)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,(function(e){return e.test(r)})),u=e.valueCallback?e.valueCallback(u):u,{value:u=a.valueCallback?a.valueCallback(u):u,rest:r.slice(c.length)}}}var c,l={formatDistance:function(e,t,n){var a;return n=n||{},a=\"string\"==typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace(\"{{count}}\",t),n.addSuffix?n.comparison>0?\"in \"+a:a+\" ago\":a},formatLong:o,formatRelative:function(e,t,n,r){return i[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+\"st\";case 2:return n+\"nd\";case 3:return n+\"rd\"}return n+\"th\"},era:s({values:{narrow:[\"B\",\"A\"],abbreviated:[\"BC\",\"AD\"],wide:[\"Before Christ\",\"Anno Domini\"]},defaultWidth:\"wide\"}),quarter:s({values:{narrow:[\"1\",\"2\",\"3\",\"4\"],abbreviated:[\"Q1\",\"Q2\",\"Q3\",\"Q4\"],wide:[\"1st quarter\",\"2nd quarter\",\"3rd quarter\",\"4th quarter\"]},defaultWidth:\"wide\",argumentCallback:function(e){return Number(e)-1}}),month:s({values:{narrow:[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],abbreviated:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],wide:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]},defaultWidth:\"wide\"}),day:s({values:{narrow:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],short:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],abbreviated:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],wide:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},defaultWidth:\"wide\"}),dayPeriod:s({values:{narrow:{am:\"a\",pm:\"p\",midnight:\"mi\",noon:\"n\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},abbreviated:{am:\"AM\",pm:\"PM\",midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},wide:{am:\"a.m.\",pm:\"p.m.\",midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"}},defaultWidth:\"wide\",formattingValues:{narrow:{am:\"a\",pm:\"p\",midnight:\"mi\",noon:\"n\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"},abbreviated:{am:\"AM\",pm:\"PM\",midnight:\"midnight\",noon:\"noon\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"},wide:{am:\"a.m.\",pm:\"p.m.\",midnight:\"midnight\",noon:\"noon\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"}},defaultFormattingWidth:\"wide\"})},match:{ordinalNumber:(c={matchPattern:/^(\\d+)(th|st|nd|rd)?/i,parsePattern:/\\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},a=n.match(c.matchPattern);if(!a)return null;var o=a[0],i=n.match(c.parsePattern);if(!i)return null;var s=c.valueCallback?c.valueCallback(i[0]):i[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:\"wide\",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:\"any\"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:\"wide\",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:\"any\",valueCallback:function(e){return e+1}}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:\"wide\",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:\"any\"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:\"wide\",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:\"any\"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:\"any\",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:\"any\"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=l},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(5),i=n.n(o);function s(e,t){var n=i()(new Date(t.firstTerm.startDate)),r=i()(new Date(t.firstTerm.endDate)),a=i()(new Date(t.secondTerm.startDate)),o=i()(new Date(t.secondTerm.endDate)),s=n.year().toString().substr(2)+\"/\"+o.year().toString().substr(2),c=u(t.holidays,n,r);if(e<r){var l=1,d=r.week()-n.week();return{term:\"AT\",academicYearStructure:{academicYear:s,startDate:n,endDate:r,academicStartWeek:l,academicEndWeek:d,holidays:c}}}var p=function(e){var t=0;return e.forEach((function(e){t+=i()(e.endDate).add(1,\"week\").week()-i()(e.startDate).week()})),t}(c);l=a.clone().add(1,\"week\").week()-n.week()-p,d=o.clone().add().add(1,\"week\").week()-n.week()-p;return{term:\"ST\",academicYearStructure:{academicYear:s,startDate:a,endDate:o,academicStartWeek:l,academicEndWeek:d,holidays:c=u(t.holidays,a,o)}}}function u(e,t,n){return e.filter((function(e){return i()(e.startDate).isBetween(t,n)}))}var c=function(){function e(e,t,n){this.locale=t||\"sv\",this.selectedDate=e,this.schoolMoment=n?s(i()(e),n):null}return e.prototype.getTermStartAndEnd=function(e){var t=this.schoolMoment.academicYearStructure.startDate.clone().startOf(\"week\");t.year()<this.schoolMoment.academicYearStructure.startDate.year()&&(t=this.schoolMoment.academicYearStructure.startDate);var n=this.schoolMoment.academicYearStructure.endDate;return\"sv\"===this.locale&&e&&\"ST\"===this.schoolMoment.term?n=n.clone().add(3,\"weeks\").endOf(\"week\"):e&&(\"sv\"!=this.locale&&(n=this.schoolMoment.academicYearStructure.endDate.clone()),n=this.schoolMoment.academicYearStructure.endDate.clone().add(1,\"week\").endOf(\"week\")),[t,n]},e.prototype.getFirstAndLastWeekOfTerm=function(){return[this.schoolMoment.academicYearStructure.startDate.week(),this.schoolMoment.academicYearStructure.endDate.week()]},e.prototype.isCurrentWeek=function(e){var t=i()(e);return t.year()===i()().year()&&t.week()===i()().week()},e.prototype.getLastStepWeek=function(e){return\"sv\"===e?\"ST\"===this.schoolMoment.term?28:52:this.schoolMoment.academicYearStructure.endDate.clone().add(1,\"week\").week()},e.prototype.toLocaleString=function(e,t){if(this.schoolMoment){var n=this.schoolMoment.academicYearStructure.endDate.year().toString(),r=this.schoolMoment.academicYearStructure.academicYear;return n=t&&\"sv\"===e.locale?n.substr(2):r,\"AT\"===this.schoolMoment.term?e.formatMessage({id:\"termplanner.firstTerm\",defaultMessage:\"HT {year}\"},{year:n}):e.formatMessage({id:\"termplanner.secondTerm\",defaultMessage:\"VT {year}\"},{year:n})}return null},e.prototype.nextTerm=function(){return new e((this.schoolMoment?this.schoolMoment.academicYearStructure.endDate.clone():i()()).add(3,\"months\").toDate(),this.locale)},e.prototype.prevTerm=function(){return new e((this.schoolMoment?this.schoolMoment.academicYearStructure.startDate.clone():i()()).subtract(3,\"months\").toDate(),this.locale)},e.prototype.getEdsPeriodName=function(){return(\"AT\"===this.schoolMoment.term?\"HT\":\"VT\")+this.schoolMoment.academicYearStructure.endDate.year()},e}(),l=n(3),d=n(123),p=function(e,t,n,a,o,s){var u,c,p,f=this;if(this.subjectProgress={},this.columns=[],this.weekPlansOrTutorNote=[],n.schoolMoment){var h=Object(r.f)(n.getTermStartAndEnd(),2),m=h[0],g=h[1];this.year=m.year();var v=function(e){switch(e){case\"sv\":return[\"M.spr\",\"Ma\",\"Sv/SvA\",\"Eng\"];case\"en_sin\":case\"en_nin\":return[\"MFL\",\"Ma\",\"Hi\",\"Eng\",\"Yoga\",\"ICT\"]}}(a);v.forEach((function(e){return f.columns.push({name:e})}));var b=[{name:\"Kurs\",isFixed:!0},{name:\"Kommentar\",isFixed:!0}];s&&b.push({name:\"TutorComment\",isFixed:!0}),(u=this.columns).push.apply(u,Object(r.h)(b));var y=function(e,t){var n={};return n.Kurs=t.formatMessage({id:\"termplanner.course\",defaultMessage:\"Kurs\"}),n.Kommentar=t.formatMessage({id:\"termplanner.comments\",defaultMessage:\"Kommentar\"}),\"sv\"===e?(n[\"M.spr\"]=t.formatMessage({id:\"termplanner.modernLanguage\",defaultMessage:\"M.spr\"}),n.Ma=t.formatMessage({id:\"termplanner.maths\",defaultMessage:\"Ma\"}),n[\"Sv/SvA\"]=t.formatMessage({id:\"termplanner.swedishLanguage\",defaultMessage:\"Sv/SvA\"}),n.Eng=t.formatMessage({id:\"termplanner.englishLanguage\",defaultMessage:\"Eng\"})):(n.MFL=t.formatMessage({id:\"termplanner.modernLanguage\",defaultMessage:\"MFL\"}),n.Ma=t.formatMessage({id:\"termplanner.maths\",defaultMessage:\"Maths\"}),n.Hi=t.formatMessage({id:\"termplanner.hindiLanguage\",defaultMessage:\"Hindi\"}),n.Eng=t.formatMessage({id:\"termplanner.englishLanguage\",defaultMessage:\"English\"}),n.Yoga=t.formatMessage({id:\"termplanner.yoga\",defaultMessage:\"Yoga\"}),n.ICT=t.formatMessage({id:\"termplanner.ict\",defaultMessage:\"ICT\"})),n}(a,o);this.columns.forEach((function(e){e.translatedName=y[e.name]}));for(var E=n.schoolMoment.academicYearStructure.holidays,w=n.schoolMoment.term,k=e.filter((function(e){return!e.type})),O=e.filter((function(e){return\"tutor-note\"===e.type})),C=n.schoolMoment.academicYearStructure.academicStartWeek,D=function(e){if(E.filter((function(t){return e.week()>=i()(t.startDate).startOf(\"week\").week()&&e.week()<=i()(t.endDate).endOf(\"week\").week()})).length>0)return\"continue\";var t=e.week(),n=Object(d.a)(e.year(),t),a=k.filter((function(e){return e.dateTime>=n.notBefore&&e.dateTime<=n.notAfter&&(!e.isFinalStep&&e.term===w||\"sv\"===o.locale)}))[0],s=O.filter((function(e){return e.dateTime>=n.notBefore&&e.dateTime<=n.notAfter&&(e.term===w||\"sv\"===o.locale)}))[0];S.weekPlansOrTutorNote.push(Object(r.a)(Object(r.a)({},a||{}),{id:a?a.id:Object(l.h)(),dateTime:a?a.dateTime:e.valueOf(),cellValues:a?a.cellValues:{},weekNumber:t,academicWeekNumber:C++,term:w})),S.weekPlansOrTutorNote.push(Object(r.a)(Object(r.a)({},s||{}),{id:s?s.id:Object(l.h)(),type:\"tutor-note\",dateTime:s?s.dateTime:e.valueOf(),content:s?s.content:\"\",weekNumber:t,term:w}))},S=this,j=m.clone();j.valueOf()<g.valueOf();j=j.clone().add(1,\"week\").startOf(\"week\"))D(j);var T=n.getLastStepWeek(o.locale),x=Object(d.a)(g.year(),T);this.lastSteps=k.filter((function(e){return e.dateTime>=x.notBefore&&e.dateTime<=x.notAfter&&(e.isFinalStep&&e.term===w||\"sv\"===o.locale)}))[0]||{id:Object(l.h)(),dateTime:i()(g).clone().week(T).startOf(\"week\").valueOf(),cellValues:{},weekNumber:T,term:w,isFinalStep:!0},this.completedSteps={},this.termGoals={};var N,M,I={},P=function(e){var t,n,a=function(e){var t=e.shortName;return\"MA\"===t?\"Ma\":\"EN\"===t?\"Eng\":t.startsWith(\"SV\")?\"Sv/SvA\":t.startsWith(\"M2\")?\"M.spr\":null}(e);if(N=isNaN(parseInt(A.lastSteps.cellValues[a]))||!A.lastSteps.cellValues[a],M=N?0:parseInt(A.lastSteps.cellValues[a]),I[a]=null,!N&&M>0){var o=A.weekPlansOrTutorNote.filter((function(e){return e.cellValues&&null!=e.cellValues[a]})).map((function(e){return e.cellValues[a]})).filter((function(e){return!isNaN(parseInt(e))})),i=o.length>0&&o.reduce((function(e,t){return parseInt(e)<parseInt(t)?e:t})),s=i?parseInt(i):0;if(i&&s<=M){var u=e.courseSteps.filter((function(e){return parseInt(e.shortName)<=M&&parseInt(e.shortName)>=s})),c=u.filter((function(e){return e.isCompleted})).length;I[a]=c/u.length*100}else I[a]=0}try{for(var l=(t=void 0,Object(r.i)(e.courseSteps)),d=l.next();!d.done;d=l.next()){var p=d.value;p.isCompleted&&(A.completedSteps[a+p.shortName]=!0)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}A.termGoals[a]=e.periodGoalGrade},A=this;try{for(var _=Object(r.i)(t),L=_.next();!L.done;L=_.next())P(L.value)}catch(e){c={error:e}}finally{try{L&&!L.done&&(p=_.return)&&p.call(_)}finally{if(c)throw c.error}}t&&(v.forEach((function(e){f.subjectProgress[e]={finalStepCompleted:!1,value:0}})),Object.keys(this.lastSteps.cellValues).forEach((function(e){b[e]||(f.subjectProgress[e]={finalStepCompleted:null!==I[e],value:I[e]})})))}};var f=n(186),h=n(4),m=new(n(184).a)((function(){return h.a.kedBackendClient}),(function(){return h.a.currentUser}));h.a.ksTermPlannerRepo=m;var g=n(31),v=n(14),b=n(1),y=n(20),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.percentage,n=e.errorMessage,r=e.backgroundColor,o=e.progressColor,i=100/6.28+2,s=Math.round(t),u=10;return a.createElement(\"svg\",{className:\"doughnut-chart\",viewBox:\"0 0 35.847133757961785 35.847133757961785\",width:\"100%\",height:\"100%\"},a.createElement(\"circle\",{className:\"circle-chart-background\",stroke:r,strokeWidth:3,fill:\"none\",cx:i,cy:i,r:100/6.28}),a.createElement(\"circle\",{className:\"circle-chart-circle\",stroke:o,ref:\"progressCircle\",strokeWidth:2,style:{strokeDasharray:s+\", 100\"},strokeLinecap:\"round\",fill:\"none\",cx:i,cy:i,r:100/6.28}),a.createElement(\"g\",{className:\"circle-chart-info\"},n?a.createElement(\"text\",{className:\"circle-chart-percent-error\",x:i,y:i,alignmentBaseline:\"central\",fontSize:\"5\",textAnchor:\"middle\"},n.split(\" \").map((function(e){var t=a.createElement(\"tspan\",{key:e,x:i,y:u},e);return u+=5,t}))):a.createElement(\"text\",{className:\"circle-chart-percent\",x:i,y:i,alignmentBaseline:\"central\",textAnchor:\"middle\"},s+\"%\")))},t.defaultProps={backgroundColor:\"#efefef\",progressColor:\"#3dbca2\",errorMessage:null},t}(a.Component),w=n(118),k=n(185),O=n(91),C=n(89);n.d(t,\"a\",(function(){return D}));var D=function(e){function t(t){var n=e.call(this,t)||this;return n.unmounted=!1,n.state={schoolTerm:new c(t.initialDate),activeCourses:[],weekPlans:[],error:null,loadingActiveCourses:!1,loadingWeekPlans:!1,initialLoad:!0,dialogs:[]},n.flowId=1,n.updateWeekPlans=n.updateWeekPlans.bind(n),n}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,this.load(this.state.schoolTerm)];case 1:return e.sent(),this.unmounted||this.props.env.ksTermPlannerRepo.mem.subscribe(this.updateWeekPlans),[2]}}))}))},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.props.env.ksTermPlannerRepo.mem.unsubscribe(this.updateWeekPlans)},t.prototype.updateWeekPlans=function(e,t){this.setState({weekPlans:e,loadingWeekPlans:!1,error:t||null})},t.prototype.load=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,o,i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:t=++this.flowId,this.fields=[],this.setState({loadingActiveCourses:!0}),n=this.props.env.ksTermPlannerRepo,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this.loadAcademicYearDates(e,b.b.KED_SCHOOL_LOCALE)];case 2:return a=r.sent(),this.flowId!==t?[2]:(o=new c(e.selectedDate,this.context.intl.locale,a),n.refreshData(o.getTermStartAndEnd(!0)),[4,this.loadActiveCourses(o)]);case 3:return i=r.sent(),this.flowId!==t?[2]:(this.setState({schoolTerm:o,initialLoad:!1,activeCourses:i,loadingActiveCourses:!1}),[3,5]);case 4:return s=r.sent(),this.flowId!==t?[2]:(this.setState({schoolTerm:o,loadingActiveCourses:!1,error:s}),[3,5]);case 5:return[2]}}))}))},t.prototype.loadAcademicYearDates=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,this.props.env.edsClient.getAcademicYearTerms(t,e.selectedDate)];case 1:return[2,n.sent()]}}))}))},t.prototype.loadActiveCourses=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t=e.getEdsPeriodName(),[4,this.props.env.edsClient.getActiveCourses({periodName:t})];case 1:return[2,n.sent()]}}))}))},t.prototype.updateCell=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var a;return Object(r.d)(this,(function(r){switch(r.label){case 0:if((e&&e.cellValues[t]||\"\")===n)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),e.cellValues[t]=n,[4,this.props.env.ksTermPlannerRepo.upsert(e,(function(e){return e.cellValues[t]=n}))];case 2:return[2,r.sent()];case 3:return a=r.sent(),console.error(a.stack||a),\"http403\"===a.name?this.setState({error:this.context.intl({id:\"common.changesNotSavedUnauthorized\",defaultMessage:\"Ändringarna sparades inte p.g.a. otillräcklig behörighet.\"})}):this.setState({error:this.context.intl({id:\"common.changesNotSavedErrorOccured\",defaultMessage:\"För tillfället problem att spara data. Dina ändringar sparades inte.\"})}),[3,4];case 4:return[2]}}))}))},t.prototype.updateTutorNoteField=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:if((e&&e.content||\"\")===t)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),e.content=t,e.acl=[new l.b(\"tutorFor\",this.props.env.currentUser.mail,\"S\").toString(),new l.b(\"email\",this.props.env.currentUser.mail,\"R\").toString()],[4,this.props.env.ksTermPlannerRepo.upsert(e,(function(e){return e.content=t}))];case 2:return[2,n.sent()];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.deleteTutorNoteField=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.env.ksTermPlannerRepo.delete([e])];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.onTutorClick=function(e){var t=this;this.openDialog(a.createElement(k.a,{weekNumber:e.weekNumber,comment:e.content,intl:this.context.intl,updateData:function(n){return t.updateTutorNoteField(e,n)},deleteNoteData:function(){return t.deleteTutorNoteField(e.id)},closeDialog:function(){return t.closeDialog()}}))},t.prototype.openDialog=function(e){this.setState({dialogs:Object(r.h)(this.state.dialogs,[e])})},t.prototype.closeDialog=function(){this.setState({dialogs:this.state.dialogs.slice(0,this.state.dialogs.length-1)})},t.prototype.navigate=function(e,t){var n=Object(r.a)({},e),a=this.fields.length,o=Math.max.apply(Math,Object(r.h)(this.fields.map((function(e){return e.length}))));switch(t){case\"up\":n.row=Math.max(e.row-1,0);break;case\"down\":n.row=Math.min(e.row+1,a);break;case\"left\":n.col=Math.max(e.col-1,0);break;case\"right\":n.col=Math.min(e.col+1,o)}this.fields[n.row]&&this.fields[n.row][n.col]&&this.fields[n.row][n.col].myself.current.focus()},t.prototype.addField=function(e,t){void 0===this.fields[t.row]&&(this.fields[t.row]=[]),this.fields[t.row][t.col]=e},t.prototype.getTableCell=function(e,t,n,r,o,i,s){var u=this,c=r.completedSteps,l={row:e,col:t},d=n+e;if(\"Tutor\"===s){var p=o,h=p.content;return this.props.tutored?a.createElement(\"td\",{key:\"tutornote\"+d,onClick:function(){return u.onTutorClick(p)},className:\"tutorCell\"},h?a.createElement(\"div\",{key:d,\"data-tooltip\":h},a.createElement(\"i\",{className:\"fas fa-comment-dots\"})):a.createElement(\"div\",{key:d},a.createElement(\"i\",{className:\"fas fa-comment-medical\"}))):a.createElement(\"td\",{key:\"tutornote\"+d,className:\"tutorCell\"},h&&a.createElement(\"div\",{key:d,\"data-tooltip\":h},a.createElement(\"i\",{className:\"far fa-comment-dots\"})))}var m=o.cellValues;return a.createElement(\"td\",{key:\"tutornote\"+d,className:this.getCellClassName(c,m,n)},a.createElement(f.a,{key:d,ref:function(e){return u.addField(e,l)},text:m[n],tag:\"div\",validateValue:\"Step\"==s?/^\\d*$/:void 0,maxChars:\"Comment\"==s?100:\"Course\"==s?30:3,onChange:this.updateCell.bind(this,o,n),readOnly:i||\"Tutor\"==s,allowNavigation:!0,onNavigate:this.navigate.bind(this,l)}))},t.prototype.getCellClassName=function(e,t,n){var r=this.getColumnType(n);return\"Step\"==r&&e[n+t[n]]?\"stepCell completedStep\":r.toLowerCase()+\"Cell\"},t.prototype.getFooterCell=function(e,t,n,r,o){var i=this,s={row:e,col:t},u=this.getColumnType(n);return a.createElement(\"th\",{className:u+\"Footer\"},a.createElement(f.a,{key:\"stepFooterCell\"+t,ref:function(e){return i.addField(e,s)},tag:\"div\",text:r.lastSteps.cellValues[n],onChange:this.updateCell.bind(this,r.lastSteps,n),readOnly:o,maxChars:10,allowNavigation:!0,onNavigate:this.navigate.bind(this,s)}))},t.prototype.getStepHeaderColumn=function(e,t,n){return a.createElement(\"th\",{key:\"stepHeaderCell_\"+e,className:n.toLowerCase()+\"Header\"},\"Tutor\"!=n?t:\"\")},t.prototype.getColumnType=function(e){var t={Kommentar:\"Comment\",Kurs:\"Course\",TutorComment:\"Tutor\"};return t.hasOwnProperty(e)?t[e]:\"Step\"},t.prototype.openCloseProgressCharts=function(e){localStorage.setItem(\"TermplannerBoxCharts\",e)},t.prototype.getStepCharts=function(e,t){var n=this,r=JSON.parse(localStorage.getItem(\"TermplannerBoxCharts\"));return a.createElement(C.a,{headerOpen:r,onOpenClose:this.openCloseProgressCharts,title:this.context.intl.formatMessage({id:\"termplanner.chartsBoxTitle\",defaultMessage:\"Min progression\"})},a.createElement(\"div\",{className:\"charts-container\"},e.map((function(e){if(!e.isFixed){var r=t[e.name]?t[e.name].value:0,o=t[e.name].finalStepCompleted?null:n.context.intl.formatMessage({id:\"termplanner.noFinalStepAvailable\",defaultMessage:\"Inget slutsteg tillgängligt\"}),i=function(e){var t={};return t[\"M.spr\"]=e.formatMessage({id:\"termplanner.modernLanguageFullname\",defaultMessage:\"M.språk\"}),t.Ma=e.formatMessage({id:\"termplanner.mathsFullname\",defaultMessage:\"Matematik\"}),t[\"Sv/SvA\"]=e.formatMessage({id:\"termplanner.swedishLanguageFullName\",defaultMessage:\"Svenska\"}),t.Eng=e.formatMessage({id:\"termplanner.englishLanguageFullName\",defaultMessage:\"Engelska\"}),t}(n.context.intl);return a.createElement(\"div\",{key:e.name,className:\"chart-box\"},a.createElement(\"h4\",null,i[e.name]),a.createElement(\"div\",{key:e.name,className:\"inner-chart-box\"},a.createElement(E,{key:e.name,percentage:r,errorMessage:o})))}}))))},t.prototype.getWeekTutorNote=function(e,t){return e.find((function(e){return\"tutor-note\"===e.type&&e.weekNumber===t}))},t.prototype.render=function(){var e=this,t=this.context.intl,n=O.b.ksTutorComment,r=O.b.termplannerCharts,o=new p(this.state.weekPlans,this.state.activeCourses,this.state.schoolTerm,b.b.KED_SCHOOL_LOCALE,t,n),i=o.termGoals,s=o.columns,u=this.props.tutored,c=this.state,l=c.loadingWeekPlans,d=c.error,f=c.weekPlans,h=c.dialogs,m=0===f.length&&!!d||u||l,g=0,E=o.weekPlansOrTutorNote.filter((function(e){return!e.type}));return this.state.initialLoad?a.createElement(\"p\",null,a.createElement(y.a,null),a.createElement(v.a,{id:\"termplanner.loadingTermplanner\",defaultMessage:\"V.g. vänta medan terminsplaner laddas...\"})):a.createElement(\"div\",{className:\"termplanner\"+(this.state.loadingWeekPlans?\" loading-weekplans\":\"\")+(this.state.loadingActiveCourses?\" loading-courses\":\"\")},r&&this.state.activeCourses.length>0&&this.getStepCharts(s,o.subjectProgress),a.createElement(\"div\",{className:\"ked_boxed\"},a.createElement(\"div\",{className:\"weekSelect\"},a.createElement(\"div\",{className:\"horizontalItem\"},a.createElement(\"p\",null,this.state.schoolTerm.toLocaleString(t,!0))),a.createElement(\"div\",{className:\"horizontalItem\"},a.createElement(\"div\",{className:\"btn-group\"},a.createElement(\"button\",{className:\"btn\",onClick:function(){var t=e.state.schoolTerm.prevTerm();e.load(t)}},a.createElement(\"i\",{className:\"fas fa-angle-left\",\"aria-hidden\":\"true\"})),a.createElement(\"button\",{className:\"btn\",onClick:function(){var t=e.state.schoolTerm.nextTerm();e.load(t)}},a.createElement(\"i\",{className:\"fas fa-angle-right\",\"aria-hidden\":\"true\"}))))),a.createElement(v.a,{id:\"termplanner.termPlanning\",defaultMessage:\"Terminsplanering\",tagName:\"h4\"}),a.createElement(\"hr\",null),a.createElement(\"table\",{className:\"termplanner-table zebra\"},a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",{className:\"weekColumn\"},a.createElement(v.a,{id:\"termplanner.weekNumber\",defaultMessage:\"Vecka\"})),s.map((function(t,n){var r=e.getColumnType(t.name);return e.getStepHeaderColumn(n,t.translatedName,r)})))),a.createElement(\"tbody\",null,E.filter((function(e){return e.cellValues})).map((function(r,i){g=i;var u=r.weekNumber,c=r.academicWeekNumber,l=u,d=\"sv\"===t.locale?l:c,p=e.state.schoolTerm.isCurrentWeek(r.dateTime);return a.createElement(\"tr\",{key:o.year+\":\"+l,className:p?\"currentWeek\":\"\"},a.createElement(\"td\",null,d),s.map((function(t,a){var s=e.getColumnType(t.name),c=e.getWeekTutorNote(o.weekPlansOrTutorNote,u);return\"Tutor\"===s?c&&n&&e.getTableCell(i,a,t.name,o,c,m,s):e.getTableCell(i,a,t.name,o,r,m,s)})))}))),a.createElement(\"tfoot\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,a.createElement(v.a,{id:\"termplanner.finalStep\",defaultMessage:\"Slutsteg\"})),s.filter((function(e){return!e.isFixed})).map((function(t,n){return e.getFooterCell(g+1,n,t.name,o,m)})),a.createElement(\"th\",null,\"-\"),a.createElement(\"th\",null),n&&a.createElement(\"th\",null)),a.createElement(\"tr\",null,a.createElement(\"th\",null,a.createElement(v.a,{id:\"termplanner.edsGoalGrades\",defaultMessage:\"Terminsmål\"})),s.filter((function(e){return!e.isFixed})).map((function(t,n){var r=e.getColumnType(t.name).toLowerCase();return a.createElement(\"th\",{key:\"grades_\"+n,className:r+\"Footer\"},i[t.name])})),a.createElement(\"th\",null,\"-\"),a.createElement(\"th\",null,this.state.error&&a.createElement(\"p\",{className:\"error\"},\"\"+this.state.error)),n&&a.createElement(\"th\",null))))),a.createElement(w.a,{dialogs:h,popDialog:function(){return e.setState({dialogs:h.slice(0,h.length-1)})}}))},t.contextType=g.a,t}(a.Component)},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(9),i=n(4),s=n(53),u=n.n(s);function c(e){switch(e.trim()){case\"3\":case\"1-3\":return[\"1-3\"];case\"6\":case\"4-6\":return[\"4-6\"];case\"7-9\":case\"9\":return[\"7-9\"];case\"1\":case\"1s\":return[\"1-3\"];case\"1-6\":return[\"1-3\",\"4-6\"];case\"4-9\":return[\"4-6\",\"7-9\"];default:throw new Error(\"Unexpected year in Skolverket XML: \"+e+\". Expecting 3,6,9 or 1-3, 4-6, 7-9\")}}var l=n(3);function d(e,t){var n,a,o=new Set,i=new Map,s=new Set;t.forEach((function(t){if(t=t.trim(),e.has(t))i.set(t,e.get(t));else{var n=Object(l.h)();console.log(\"New id: \"+n+\". Text: \"+t),i.set(t,n),s.add(n)}}));try{for(var u=Object(r.i)(e.entries()),c=u.next();!c.done;c=u.next()){var d=Object(r.f)(c.value,2),p=d[0],f=d[1];-1===t.indexOf(p)&&o.add(f)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}return{removedIds:o,newTexts:i,idsToAdd:s}}var p=1;var f=new Set(\"alla allt att av blev bli blir blivit de dem den denna deras dess dessa det detta dig din dina ditt du där då efter ej eller en er era ert ett från för ha hade han hans har henne hennes hon honom hur här i icke ingen inom inte jag ju kan kunde man med mellan men mig min mina mitt mot mycket ni nu när någon något några och om oss på samma sedan sig sin sina sitta själv skulle som så sådan sådana sådant till under upp ut utan vad var vara varför varit varje vars vart vem vi vid vilka vilkas vilken vilket vår våra vårt än är åt över kring\".split(\" \"));function h(e){return new Set(function(e){var t=document.createElement(\"div\");return t.innerHTML=e,\"\"+t.innerText}(e).replace(/[^\\w\\såäö]/gi,\"\").toLowerCase().split(/\\s/).map((function(e){return e.trim()})).filter((function(e){return!!e})).filter((function(e){return!f.has(e)})))}function m(e,t,n,a,o){var i=new Map;e=e.map((function(e){return Object(r.a)(Object(r.a)({},e),{name:e.name.trim()})})).filter((function(e){return!!e.name}));var s=new Map;t.forEach((function(e){return s.set(e.html,e)}));var u=new Map;e.forEach((function(e){return u.set(e.name,e)})),e=e.filter((function(e){return!s.has(e.name)})),t=t.filter((function(e){return!u.has(e.html)})),e.forEach((function(e){return i.set(e.id,{gradeStep:e.gradeStep,oldText:e.name,lexemes:h(e.name),matchLevel:0})}));for(var c=[];t.length>0;){var l=t[0],d=m(l);if(d){d.newText&&t.push({html:d.newText,gradeStep:d.gradeStep});var f=i.get(d.id);f.newText=l.html,f.matchLevel=d.myMatchLevel,f.newId=n.get(l.html)}else c.push(l);t.shift()}return c.forEach((function(e){i.set(\"fictiveOldId\"+ ++p,{newId:n.get(e.html),newText:e.html,gradeStep:e.gradeStep,matchLevel:0,lexemes:new Set})})),i.forEach((function(e){var t=e.oldText,n=e.newText;t&&n&&Object(r.h)(h(t)).join(\" \")===Object(r.h)(h(n)).join(\" \")&&(e.isTypoFix=!0)})),console.log(\"IdsToMigrate\",Object(r.h)(i.values()).map((function(e){var t=e.oldText,n=e.lexemes;return Object(r.h)(n).join(\" \")+\": \"+t}))),i;function m(e){var t=h(e.html);return Object(r.h)(i.entries()).filter((function(t){var n=Object(r.f)(t,2);n[0];return n[1].gradeStep===e.gradeStep})).map((function(e){var n=Object(r.f)(e,2),a=n[0],o=n[1],i=o.gradeStep,s=o.matchLevel,u=o.newText,c=o.lexemes;return{id:a,gradeStep:i,matchLevel:s,newText:u,myMatchLevel:g(t,c)}})).filter((function(e){return e.myMatchLevel>=50&&(!e.matchLevel||e.matchLevel<e.myMatchLevel)})).sort((function(e,t){return t.myMatchLevel-e.myMatchLevel}))[0]}function g(e,t){if(0===e.size||0===t.size)return 0;var n=0,r=0;return e.forEach((function(e){t.has(e)&&++n})),t.forEach((function(t){e.has(t)&&++r})),Math.round(100*Math.max(n/e.size,r/t.size))}}function g(e,t,n,a){return Object(r.b)(this,void 0,void 0,(function(){function s(e,t,r){var o=!L.has(e.name);L.add(e.name),P.forEach((function(t,n){var r=t.newId,o=t.oldText;a.push({mutations:function(t){o&&t.unlink2(\"courses\",e.id,\"abilities\",n),r&&t.link2(\"courses\",e.id,\"abilities\",r)}})})),e.abilitiesOrder=n.abilities.map((function(e){return D.get(e)}));var i=r.ccsToMigrate,s=r.krsToMigrate;i.forEach((function(t,n){var r=t.newId,i=t.newText,s=t.oldText,u=t.isTypoFix;a.push({change:o&&(s?i?u?\"Tryckfelsrättning Centralt Innehåll\":\"Uppdaterat Centralt Innehåll\":\"Borttaget Centralt Innehåll\":\"Nytt Centralt Innehåll\"),content:\"<h4>\"+e.name+\"</h4><strike>\"+(s||\"\")+\"</strike><br/>\"+(i||\"\"),mutations:function(t){if(r&&x.has(r)&&!_.has(r)){var a={id:r,name:i,acl:[\"role:USER:R\"],dateTime:Date.now()};t.add(\"central-content\",a),_.add(r)}s&&t.unlink2(\"courses\",e.id,\"centralContent\",n),r&&t.link2(\"courses\",e.id,\"centralContent\",r)}})})),e.centralContentOrder=t.centralContent.map((function(e){var t=e.html;return T.get(t)})),s.forEach((function(t,n){var r=t.newId,i=t.newText,s=t.gradeStep,u=t.oldText,c=t.isTypoFix;a.push({change:o&&(u?i?c?\"Tryckfelsrättning Kunskapskrav\":\"Uppdaterat Kunskapskrav\":\"Borttaget Kunskapskrav\":\"Nytt Kunskapskrav\"),content:\"<h4>\"+e.name+\"</h4><strike>\"+(u||\"\")+\"</strike><br/>\"+(i||\"\"),mutations:function(t){if(r&&I.has(r)&&!_.has(r)){var a={id:r,name:i,gradeStep:s,acl:[\"role:USER:R\"],dateTime:Date.now()};console.log(\"Adding Knowledge-Requirement \"+r+\": \"+i),t.add(\"knowledge-requirements\",a),_.add(r)}u&&t.unlink2(\"courses\",e.id,\"knowledgeRequirements\",n),r&&t.link2(\"courses\",e.id,\"knowledgeRequirements\",r)}})})),e.knowledgeRequirementsOrder=t.knowledgeRequirements.map((function(e){return M.get(e.html)})),(P.size>0||i.size>0||s.size>0)&&a.push({change:e.isTemplate?\"Uppdaterad Kursmall\":\"Uppdaterad Kursinstans\",content:e.isTemplate?\"\"+e.name:e.name+\". Skola: \"+(e.school||\"ej angiven\")+\". Beskrivning: \"+(e.description||\"\"),mutations:function(t){return t.put(\"courses\",e)}})}function u(){return Object(r.b)(this,void 0,void 0,(function(){function e(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return 0===e.length?[2,[]]:(new Map,console.log(\"Number of ids: \"+e.length),[4,i.a.kedBackendClient.list(\"tasks\",Object(r.a)(Object(r.a)({},t),{hasEdgesTo:e}))]);case 1:return[2,n.sent()]}}))}))}var t,n,s,u,c,l,d,p,f;return Object(r.d)(this,(function(i){switch(i.label){case 0:return t=Object(r.h)(P.keys(),Object(o.k)(A.map((function(e){return Object(r.h)(e.ccsToMigrate.keys(),e.krsToMigrate.keys())})))).filter((function(e){return!e.startsWith(\"fictiveOldId\")})),n=Date.now(),[4,e(t,{include:[\"abilities\",\"knowledgeRequirements\",\"centralContent\"],flags:[\"includeIdsOnly\"]})];case 1:s=i.sent(),u=function(e){var t,o,i,s,u,c,l,d,p=e.migratedTexts||{abilities:{},centralContent:{},knowledgeRequirements:{}};e.migratedTexts={abilities:{},centralContent:{},knowledgeRequirements:{}};var f=[],h=[],m=function(t){var r=P.get(t);if(r){var a=r.newId,o=r.newText,i=r.isTypoFix,s=r.oldText,u=t;p.abilities[t]&&(s=p.abilities[t].oldText,u=p.abilities[t].oldId),a&&s!==o&&(i||(e.migratedTexts.abilities[a]={oldId:u,oldText:s,importDate:n})),f.push((function(n){n.unlink2(\"tasks\",e.id,\"abilities\",t),a&&n.link2(\"tasks\",e.id,\"abilities\",a)})),h.push(\"<strike>\"+s+\"</strike>\"),a&&h.push(o)}};try{for(var g=(t=void 0,Object(r.i)(e.abilities)),v=g.next();!v.done;v=g.next()){m(v.value.id)}}catch(e){t={error:e}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(t)throw t.error}}var b=new Set(e.tags?e.tags.filter((function(e){return e.startsWith(\"course:\")})).map((function(e){return e.substr(\"course:\".length)})):[]),y=new Set;try{for(var E=(i=void 0,Object(r.i)(A)),w=E.next();!w.done;w=E.next()){var k=w.value,O=k.krsToMigrate,C=k.ccsToMigrate,D=k.courseCode;if(0===b.size||b.has(D)){var S=function(t){var r=C.get(t);if(r){var a=r.newId,o=r.newText,i=r.oldText,s=r.isTypoFix,u=t;p.centralContent[t]&&(i=p.centralContent[t].oldText,u=p.centralContent[t].oldId),a&&i!==o&&(s||(e.migratedTexts.centralContent[a]={oldId:u,oldText:i,importDate:n})),a&&y.has(a)||(f.push((function(n){n.unlink2(\"tasks\",e.id,\"centralContent\",t),a&&n.link2(\"tasks\",e.id,\"centralContent\",a)})),h.push(\"<strike>\"+i+\"</strike>\"),a&&(h.push(o),y.add(a)))}};try{for(var j=(u=void 0,Object(r.i)(e.centralContent)),T=j.next();!T.done;T=j.next()){S(T.value.id)}}catch(e){u={error:e}}finally{try{T&&!T.done&&(c=j.return)&&c.call(j)}finally{if(u)throw u.error}}var x=function(t){var r=O.get(t);if(r){var a=r.newId,o=r.newText,i=r.oldText,s=r.isTypoFix,u=t;p.knowledgeRequirements[t]&&(i=p.knowledgeRequirements[t].oldText,u=p.knowledgeRequirements[t].oldId),a&&i!==o&&(s||(e.migratedTexts.knowledgeRequirements[a]={oldId:u,oldText:i,importDate:n})),a&&y.has(a)||(f.push((function(n){n.unlink2(\"tasks\",e.id,\"knowledgeRequirements\",t),a&&n.link2(\"tasks\",e.id,\"knowledgeRequirements\",a)})),h.push(\"<strike>\"+i+\"</strike>\"),a&&(h.push(o),y.add(a)))}};try{for(var N=(l=void 0,Object(r.i)(e.knowledgeRequirements)),M=N.next();!M.done;M=N.next()){x(M.value.id)}}catch(e){l={error:e}}finally{try{M&&!M.done&&(d=N.return)&&d.call(N)}finally{if(l)throw l.error}}}}}catch(e){i={error:e}}finally{try{w&&!w.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}a.push({change:\"Migrerad Uppgift\",content:\"<h4>\"+e.name+\" \"+(e.school?\"(\"+e.school+\") \":\"(skola ej angiven)\")+\"</h4>\\n          <p>Kurskod: \"+Object(r.h)(b).join(\",\")+\"</p>\\n          \"+h.map((function(e){return\"<p>\"+e+\"</p>\"})).join(\"\"),mutations:function(t){t.put(\"tasks\",e),f.forEach((function(e){return e(t)}))}})};try{for(c=Object(r.i)(s),l=c.next();!l.done;l=c.next())d=l.value,u(d)}catch(e){p={error:e}}finally{try{l&&!l.done&&(f=c.return)&&f.call(c)}finally{if(p)throw p.error}}return[2]}}))}))}var c,l,p,f,h,g,v,b,y,E,w,k,O,C,D,S,j,T,x,N,M,I,P,A,_,L,F,R,U,B,H,W,q,V,G,Y,z,K,$,Q,J,X;return Object(r.d)(this,(function(i){switch(i.label){case 0:c=new Map,l=e.abilitiesOrder?e.abilitiesOrder.map((function(t){return e.abilities.find((function(e){return e.id===t}))})):e.abilities;try{for(p=Object(r.i)(l),f=p.next();!f.done;f=p.next())h=f.value,c.set(h.name.trim(),h.id)}catch(e){q={error:e}}finally{try{f&&!f.done&&(V=p.return)&&V.call(p)}finally{if(q)throw q.error}}try{for(g=Object(r.i)(t),v=g.next();!v.done;v=g.next()){H=v.value.template;try{for(z=void 0,b=Object(r.i)(H.centralContent),y=b.next();!y.done;y=b.next())E=y.value,c.set(E.name.trim(),E.id)}catch(e){z={error:e}}finally{try{y&&!y.done&&(K=b.return)&&K.call(b)}finally{if(z)throw z.error}}try{for($=void 0,w=Object(r.i)(H.knowledgeRequirements),k=w.next();!k.done;k=w.next())O=k.value,c.set(O.name.trim(),O.id)}catch(e){$={error:e}}finally{try{k&&!k.done&&(Q=w.return)&&Q.call(w)}finally{if($)throw $.error}}}}catch(e){G={error:e}}finally{try{v&&!v.done&&(Y=g.return)&&Y.call(g)}finally{if(G)throw G.error}}C=d(c,n.abilities),D=C.newTexts,S=C.idsToAdd,j=d(c,Object(o.k)(n.courses.map((function(e){return e.centralContent.map((function(e){return e.html}))})))),T=j.newTexts,x=j.idsToAdd,N=d(c,Object(o.k)(n.courses.map((function(e){return e.knowledgeRequirements.map((function(e){return e.html}))})))),M=N.newTexts,I=N.idsToAdd,console.log(\"Abilities to add: \"+S.size),console.log(\"CCs to add: \"+x.size),console.log(\"KRs to add: \"+I.size),P=m(l,n.abilities.map((function(e){return{html:e}})),D),A=t.map((function(e,t){var r=e.template;console.log(\"Course: \"+r.name);var a=n.courses.find((function(e){return e.name===r.name}))||n.courses.find((function(e){return e.code===r.code}));return{courseCode:r.code,ccsToMigrate:a?m(r.centralContent,a.centralContent.map((function(e){return{html:e.html}})),T,0,r.name):new Map,krsToMigrate:a?m(r.knowledgeRequirements,a.knowledgeRequirements,M,0,r.name):new Map}})),P.forEach((function(t,n){var r=t.newText,o=t.newId,i=t.oldText,s=t.isTypoFix;a.push({change:i?r?s?\"Tryckfelsrättning Förmåga\":\"Uppdaterad Förmåga\":\"Borttagen Förmåga\":\"Ny Förmåga\",content:\"<strike>\"+(i||\"\")+\"</strike><br/>\"+(r||\"\"),mutations:function(t){if(o&&S.has(o)){var a={id:o,name:r,acl:[\"role:USER:R\"],dateTime:Date.now()};t.add(\"abilities\",a)}i&&t.unlink2(\"subjects\",e.id,\"abilities\",n),o&&t.link2(\"subjects\",e.id,\"abilities\",o)}})})),(!e.abilitiesOrder||P.size>0)&&(e.abilitiesOrder=n.abilities.map((function(e){return D.get(e)})),a.push({mutations:function(t){return t.put(\"subjects\",e)},change:e.abilitiesOrder?null:\"Inför en ordnad lista på förmågor i databasen\"})),_=new Set,a.push({mutations:function(){return _.clear()}}),L=new Set,a.push({mutations:function(){return L.clear()}}),F=function(e,t){var a,o,i=n.courses.find((function(t){return t.name===e.name}))||n.courses.find((function(t){return t.code===e.code})),u=A.find((function(t){return t.courseCode===e.code})),c=u.ccsToMigrate,l=u.krsToMigrate;try{for(var d=(a=void 0,Object(r.i)(t)),p=d.next();!p.done;p=d.next()){s(p.value,i,{ccsToMigrate:c,krsToMigrate:l})}}catch(e){a={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}};try{for(R=Object(r.i)(t),U=R.next();!U.done;U=R.next())B=U.value,H=B.template,W=B.instances,F(H,W)}catch(e){J={error:e}}finally{try{U&&!U.done&&(X=R.return)&&X.call(R)}finally{if(J)throw J.error}}return[4,u()];case 1:return i.sent(),[2]}}))}))}var v=n(90);function b(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var a,o,s=this;return Object(r.d)(this,(function(u){switch(u.label){case 0:return[4,i.a.kedBackendClient.get(\"subjects\",e.id,{include:[\"courseTemplates\",\"abilities\"]})];case 1:return e=u.sent(),[4,Promise.all(e.courseTemplates.map((function(e){return Object(v.f)(e.id,{include:[\"centralContent\",\"knowledgeRequirements\"]})})))];case 2:return a=u.sent(),console.log(\"Subject: \"+e.name+\". Courses: \"+a.map((function(e){return e.name}))),[4,Promise.all(a.map((function(e){return Object(r.b)(s,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return t={template:e},[4,i.a.kedBackendClient.list(\"courses\",{name:e.name,include:[\"abilities\"],flags:[\"includeIdsOnly\"]})];case 1:return[2,(t.instances=n.sent(),t)]}}))}))})))];case 3:return o=u.sent(),[4,g(e,o,t,n)];case 4:return u.sent(),[2]}}))}))}var y,E,w,k=function(e){function t(t){var n=e.call(this,t)||this;return n.coursesElems={},n.centralContentElems=[],n.knowledgeRequirementElems=[],n.state={showFullText:!1,changes:[],isWorking:!0,isImporting:!1},n}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:this.addClassesForCherryPickedElements(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.diffWithExisting()];case 2:return e=r.sent(),t=e.changes,n=e.subjectToImport,this.setState({changes:t,subjectToImport:n}),[3,5];case 3:return a=r.sent(),this.setState({error:\"\"+a}),[3,5];case 4:return this.setState({isWorking:!1}),[7];case 5:return[2]}}))}))},t.prototype.addClassesForCherryPickedElements=function(){var e=u()(this.purposeElem).find(\"li\").first().parent().children(\"li\");e.addClass(\"ability\");var t=u()(this.centralContentElems).find(\"li\");t.addClass(\"central-content\");var n=u()(this.knowledgeRequirementElems).find(\"p\");n.addClass(\"knowledge-requirement\"),u()([e,t,n]).addClass(\"marked-area\")},t.prototype.cherryPickData=function(){var e=this,t=this.props.subject,n=Array.from(u()(this.purposeElem).find(\"li\").first().parent().children(\"li\")).map((function(e,t){return(t+1+\". \"+u()(e).html()).trim()})).filter((function(e){return!!e}));return{name:t.name,code:t.code,schoolType:t.schoolType,abilities:n,courses:Object.keys(this.coursesElems).map((function(t){return e.coursesElems[t]})).map((function(e){var t=e.course,n=e.elem;return{name:t.name,year:t.year,code:t.code,points:t.points,centralContent:Array.from(u()(n).find(\".central-content\")).map((function(e){return{html:u()(e).html().trim(),group:u()(e).parent(\"ul\").prev(\"h4\").text().trim()}})).filter((function(e){return!!e.html})),knowledgeRequirements:Array.from(u()(n).find(\".grade-step-none .knowledge-requirement\")).map((function(e){return u()(e).html().trim()})).filter((function(e){return!!e})).map((function(e){return{gradeStep:null,html:e}})).concat(Array.from(u()(n).find(\".grade-step-E .knowledge-requirement\")).map((function(e){return u()(e).html().trim()})).filter((function(e){return!!e})).map((function(e){return{gradeStep:\"E\",html:e}})).concat(Array.from(u()(n).find(\".grade-step-C .knowledge-requirement\")).map((function(e){return u()(e).html().trim()})).filter((function(e){return!!e})).map((function(e){return{gradeStep:\"C\",html:e}}))).concat(Array.from(u()(n).find(\".grade-step-A .knowledge-requirement\")).map((function(e){return u()(e).html().trim()})).filter((function(e){return!!e})).map((function(e){return{gradeStep:\"A\",html:e}}))))}}))}},t.prototype.diffWithExisting=function(){return Object(r.b)(this,void 0,void 0,(function(){function e(){var e=c;return c+=2,e}var t,n,a,o,s,u,c,d,p,f,h,m,g,v,y,E,w,k,O,C,D,S=this;return Object(r.d)(this,(function(j){switch(j.label){case 0:return t=this.cherryPickData(),n=[],[4,i.a.kedBackendClient.list(\"subjects\")];case 1:return a=j.sent(),o=a.filter((function(e){return e.code===S.props.subject.code}))[0],s=[],u=[],c=Date.now(),o?[4,b(o,t,n)]:[3,3];case 2:return j.sent(),[3,4];case 3:d=o={id:Object(l.h)(),schoolType:t.schoolType,tags:[\"schoolType:\"+t.schoolType],acl:[\"role:USER:R\"],code:t.code,name:t.name,abilitiesOrder:[],publishable:!1,dateTime:e()},n.push({change:\"Nytt ämne\",content:t.name+\" (\"+t.code+\")\",mutations:function(e){return e.add(\"subjects\",d)}}),p=[],f=function(t){var r={id:Object(l.h)(),name:t,acl:[\"role:USER:R\"],dateTime:e()};p.push(r),n.push({change:\"Ny förmåga\",content:t,mutations:function(e){e.add(\"abilities\",r),e.link(\"subjects\",d.id,\"abilities\",r.id,\"abilities\")}})};try{for(h=Object(r.i)(t.abilities),m=h.next();!m.done;m=h.next())g=m.value,f(g)}catch(e){k={error:e}}finally{try{m&&!m.done&&(O=h.return)&&O.call(h)}finally{if(k)throw k.error}}d.abilitiesOrder=p.map((function(e){return e.id})),v=function(t){var a,o,c,f,h,m,g={id:Object(l.h)(),subjectCode:d.code,schoolType:d.schoolType,tags:[\"sub:\"+d.code,\"course:\"+t.code,\"schoolType:\"+d.schoolType],dateTime:e(),isTemplate:!0,acl:[\"role:USER:R\"],name:t.name,code:t.code,points:t.points,modules:[],subjectId:d.id,resources:[],createdBy:{name:i.a.currentUser.displayName,url:\"mailto:\"+i.a.currentUser.mail},createdDate:Date.now(),knowledgeRequirementsOrder:[],centralContentOrder:[],abilitiesOrder:p.map((function(e){return e.id}))};t.year&&(g.schoolGrade=t.year),n.push({change:\"Ny kurs\",content:t.name,mutations:function(e){e.add(\"courses\",g),e.link(\"subjects\",d.id,\"courses\",g.id,\"courseTemplates\")}});var v=function(t,r){var a=s.filter((function(e){return e.name===r}))[0];a?n.push({mutations:function(e){e.link(\"courses\",g.id,\"central-content\",a.id,\"centralContent\")}}):(a={id:Object(l.h)(),dateTime:e(),name:r,acl:[\"role:USER:R\"]},t&&(a.group=t),s.push(a),n.push({change:\"Nytt centralt innehåll\",content:\"<h4>\"+t+\"</h4>\"+r,mutations:function(e){e.add(\"central-content\",a),e.link(\"courses\",g.id,\"central-content\",a.id,\"centralContent\")}})),g.centralContentOrder.push(a.id)};try{for(var b=(a=void 0,Object(r.i)(t.centralContent)),y=b.next();!y.done;y=b.next()){var E=y.value;v(E.group,E.html)}}catch(e){a={error:e}}finally{try{y&&!y.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}var w=function(t){var r=u.filter((function(e){return e.name===t.html&&e.gradeStep===t.gradeStep}))[0];r?n.push({mutations:function(e){e.link(\"courses\",g.id,\"knowledge-requirements\",r.id,\"knowledgeRequirements\")}}):(r={id:Object(l.h)(),dateTime:e(),name:t.html,gradeStep:t.gradeStep,acl:[\"role:USER:R\"]},u.push(r),n.push({change:\"Nytt kunskapskrav för betyget \"+t.gradeStep,content:t.html,mutations:function(e){e.add(\"knowledge-requirements\",r),e.link(\"courses\",g.id,\"knowledge-requirements\",r.id,\"knowledgeRequirements\")}})),g.knowledgeRequirementsOrder.push(r.id)};try{for(var k=(c=void 0,Object(r.i)(t.knowledgeRequirements)),O=k.next();!O.done;O=k.next()){w(O.value)}}catch(e){c={error:e}}finally{try{O&&!O.done&&(f=k.return)&&f.call(k)}finally{if(c)throw c.error}}var C=function(e){n.push({mutations:function(t){t.link(\"courses\",g.id,\"abilities\",e.id,\"abilities\")}})};try{for(var D=(h=void 0,Object(r.i)(p)),S=D.next();!S.done;S=D.next()){C(S.value)}}catch(e){h={error:e}}finally{try{S&&!S.done&&(m=D.return)&&m.call(D)}finally{if(h)throw h.error}}};try{for(y=Object(r.i)(t.courses),E=y.next();!E.done;E=y.next())w=E.value,v(w)}catch(e){C={error:e}}finally{try{E&&!E.done&&(D=y.return)&&D.call(y)}finally{if(C)throw C.error}}j.label=4;case 4:return[2,{changes:n,subjectToImport:t}]}}))}))},t.prototype.cancel=function(){this.props.onCancel()},t.prototype.import=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:this.setState({isWorking:!0,isImporting:!0}),e=this.state.changes.map((function(e){return e.mutations})),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,i.a.kedBackendClient.do((function(t){e.forEach((function(e){return e(t)}))}))];case 2:return t.sent(),[3,4];case 3:return this.setState({isWorking:!1,isImporting:!1}),[7];case 4:return this.props.onImportSuccess(this.props.subject.name),[2]}}))}))},t.prototype.fixL=function(e){return e},t.prototype.render=function(){var e=this,t=this.state.subjectToImport,n=this.props.subject;return a.createElement(\"div\",null,a.createElement(\"h1\",null,Object(o.a)(y||(y=Object(r.e)([\"Uppladdat Ämne \",\"\"],[\"Uppladdat Ämne \",\"\"])),t?t.name:\"\")),this.state.error?a.createElement(\"p\",null,\"Fel: \",this.state.error):this.state.isWorking?a.createElement(\"p\",null,\"Arbetar...\"):this.state.isImporting?a.createElement(\"p\",null,\"Importerar...\"):this.state.changes.every((function(e){return!e.change}))?a.createElement(\"div\",null,a.createElement(\"p\",null,\"Kunde inte finna några förändringar från befintligt data. Klicka OK för att avbryta och återgå.\"),a.createElement(\"button\",{onClick:function(){return e.cancel()}},\" OK \")):a.createElement(\"div\",null,a.createElement(\"table\",{style:{border:\"1px solid gray\",padding:\"2px\"}},a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",{colSpan:2},\"Granskning av ändringar i grund-data\")),a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Ändring\"),a.createElement(\"th\",null,\"Innehåll\"))),a.createElement(\"tbody\",null,this.state.changes.filter((function(e){return e.change})).map((function(e,t){return a.createElement(\"tr\",{key:t},a.createElement(\"td\",{style:{padding:\"2px\"}},e.change),a.createElement(\"td\",{style:{padding:\"2px\"},dangerouslySetInnerHTML:{__html:e.content}}))})))),a.createElement(\"button\",{onClick:function(){return e.cancel()},disabled:this.state.isImporting},\"Avbryt\"),a.createElement(\"button\",{onClick:function(){return e.import()},disabled:this.state.isImporting},\"Importera\"),a.createElement(\"br\",null)),a.createElement(\"button\",{onClick:function(){return e.setState({showFullText:!e.state.showFullText})}},this.state.showFullText?Object(o.a)(E||(E=Object(r.e)([\"Dölj nedan\"],[\"Dölj nedan\"]))):Object(o.a)(w||(w=Object(r.e)([\"Visa hela texten från Skolverket\"],[\"Visa hela texten från Skolverket\"])))),a.createElement(\"table\",{style:{display:this.state.showFullText?\"\":\"none\"}},a.createElement(\"tbody\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Namn\"),a.createElement(\"td\",null,n.name)),a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Ämneskod\"),a.createElement(\"td\",null,n.code)),a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Syfte\"),a.createElement(\"td\",{ref:function(t){return e.purposeElem=t},dangerouslySetInnerHTML:{__html:this.fixL(n.purpose)}})),a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Kurser\"),a.createElement(\"td\",null,n.courses.map((function(t){return a.createElement(\"table\",{key:t.code,ref:function(n){return e.coursesElems[t.code]={course:t,elem:n}}},a.createElement(\"tbody\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Kursens namn\"),a.createElement(\"td\",null,t.name)),a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Kurskod\"),a.createElement(\"td\",null,t.code)),a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Poäng\"),a.createElement(\"td\",null,t.points)),a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Centralt innehåll\"),a.createElement(\"td\",{ref:function(t){return e.centralContentElems.push(t)},dangerouslySetInnerHTML:{__html:e.fixL(t.centralContent)}})),t.knownledgeRequirements.some((function(e){return!e.gradeStep}))?a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Kunskapskrav utan betygsättning\"),a.createElement(\"td\",{className:\"grade-step-none\",ref:function(t){return e.knowledgeRequirementElems.push(t)},dangerouslySetInnerHTML:{__html:e.fixL(t.knownledgeRequirements.filter((function(e){return!e.gradeStep})).map((function(e){return e.text})).join(\"\"))}})):void 0,t.knownledgeRequirements.some((function(e){return\"E\"===e.gradeStep}))?a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Kunskapskrav Betyg E\"),a.createElement(\"td\",{className:\"grade-step-E\",ref:function(t){return e.knowledgeRequirementElems.push(t)},dangerouslySetInnerHTML:{__html:e.fixL(t.knownledgeRequirements.filter((function(e){return\"E\"===e.gradeStep})).map((function(e){return e.text})).join(\"\"))}})):void 0,t.knownledgeRequirements.some((function(e){return\"C\"===e.gradeStep}))?a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Kunskapskrav Betyg C\"),a.createElement(\"td\",{className:\"grade-step-C\",ref:function(t){return e.knowledgeRequirementElems.push(t)},dangerouslySetInnerHTML:{__html:e.fixL(t.knownledgeRequirements.filter((function(e){return\"C\"===e.gradeStep})).map((function(e){return e.text})).join(\"\"))}})):void 0,t.knownledgeRequirements.some((function(e){return\"A\"===e.gradeStep}))?a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Kunskapskrav Betyg A\"),a.createElement(\"td\",{className:\"grade-step-A\",ref:function(t){return e.knowledgeRequirementElems.push(t)},dangerouslySetInnerHTML:{__html:e.fixL(t.knownledgeRequirements.filter((function(e){return\"A\"===e.gradeStep})).map((function(e){return e.text})).join(\"\"))}})):void 0))})))))))},t}(a.Component),O=(n(126),n(300)),C=n(20);n.d(t,\"a\",(function(){return N}));var D,S,j,T,x,N=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isListingSubjects:!0,gymnasiumSubjects:[],primarySchoolSubjects:[],uploadedSubject:null},n}return Object(r.c)(t,e),t.prototype.componentWillMount=function(){this.load()},t.prototype.load=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,i.a.kedBackendClient.list(\"subjects\")];case 1:return(e=r.sent()).sort(Object(o.g)(\"name\")),t=e.filter((function(e){return\"primary\"!==e.schoolType})),n=e.filter((function(e){return\"primary\"===e.schoolType})),this.setState({gymnasiumSubjects:t,primarySchoolSubjects:n,isListingSubjects:!1}),[2]}}))}))},t.prototype.handleFileSelect=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,i,s,l,d,p,f,h,m,g,b,y,E,w,k;return Object(r.d)(this,(function(O){switch(O.label){case 0:return e.stopPropagation(),e.preventDefault(),t=e.dataTransfer.files,[4,Object(v.g)(t[0])];case 1:if(n=O.sent(),a=u()(u.a.parseXML(n)),i=a.find(\"subject>originatorTypeOfSchooling\").text().trim()||a.find(\"subject>typeOfSchooling\").text().trim(),\"gymnasium\"===(\"COMPULSORY_SCHOOL\"===i?\"primary\":\"UPPER_SECONDARY_EDUCATION\"===i?\"gymnasium\":null)){for(k={name:a.find(\"subject>name\").text().trim(),code:a.find(\"subject>code\").text().trim(),purpose:a.find(\"subject>purpose\").text().trim(),courses:[],schoolType:\"gymnasium\"},s=a.find(\"subject>courses\"),l=0;l<s.length;++l)d=u()(s[l]),p=[].slice.call(d.find(\"knowledgeRequirements\")).map((function(e){return{gradeStep:u()(e).find(\"gradeStep\").text().trim(),text:u()(e).find(\"text\").text().trim()}})),k.courses.push({name:d.find(\"name\").text().trim(),code:d.find(\"code\").text().trim(),centralContent:d.find(\"centralContent\").text().trim(),points:parseInt(d.find(\"point\").text().trim()),knownledgeRequirements:p});this.setState({uploadedSubject:k})}else f=Object(o.k)(Array.from(a.find(\"subject>centralContent\")).map((function(e){var t=u()(e).find(\"year\").text().trim();if(u()(e).find(\"typeOfCentralContent\").text().trim())throw new Error(Object(o.a)(D||(D=Object(r.e)([\"Ämnet innehåller flera parallella typer av centralt innehåll. Detta stöds ännu inte.\"],[\"Ämnet innehåller flera parallella typer av centralt innehåll. Detta stöds ännu inte.\"]))));return c(t).map((function(t){return{year:t,text:u()(e).find(\"text\").text().trim()}}))}))),h=Object(o.k)(Array.from(a.find(\"subject>knowledgeRequirement\")).map((function(e){var t=u()(e).find(\"year\").text().trim();if(u()(e).find(\"typeOfRequirement\").text().trim())throw new Error(Object(o.a)(S||(S=Object(r.e)([\"Ämnet innehåller flera parallella typer av kunskapskrav. Detta stöds ännu inte.\"],[\"Ämnet innehåller flera parallella typer av kunskapskrav. Detta stöds ännu inte.\"]))));return c(t).map((function(t){return{year:t,text:u()(e).find(\"text\").text().trim(),gradeStep:u()(e).find(\"gradeStep\").text().trim()}}))}))),m=Object(o.b)(f,(function(e){return e.year})),g=Object(o.b)(h,(function(e){return e.year})),b=a.find(\"subject>name\").text().trim(),y=a.find(\"subject>code\").text().trim(),E=a.find(\"subject>purpose\").text().trim(),w=[\"1-3\",\"4-6\",\"7-9\"].map((function(e){return{name:b+\" \"+e,code:y+\"|\"+e,points:0,year:e,centralContent:(m[e]||[]).map((function(e){return e.text})).join(\"\\n\"),knownledgeRequirements:(g[e]||[]).map((function(e){return{gradeStep:e.gradeStep,text:e.text}}))}})),k={name:b,code:y,purpose:E,schoolType:\"primary\",courses:w},this.setState({uploadedSubject:k});return[2]}}))}))},t.prototype.onImportSuccess=function(e){Object(o.o)(Object(o.a)(j||(j=Object(r.e)([\"Importen av \",\" lyckades\"],[\"Importen av \",\" lyckades\"])),e)),this.setState({uploadedSubject:null}),this.load()},t.prototype.render=function(){var e=this,t=this.props.linkPrefix;return a.createElement(\"div\",null,this.state.uploadedSubject?a.createElement(k,{onCancel:function(){return e.setState({uploadedSubject:null})},onImportSuccess:function(t){return e.onImportSuccess(t)},subject:this.state.uploadedSubject}):this.state.isListingSubjects?a.createElement(\"div\",null,a.createElement(\"p\",null,a.createElement(C.a,null),\"Var god vänta medan ämnen hämtas...\")):a.createElement(\"div\",null,a.createElement(\"h2\",null,Object(o.a)(T||(T=Object(r.e)([\"Gymnasieämnen\"],[\"Gymnasieämnen\"])))),a.createElement(\"ul\",null,this.state.gymnasiumSubjects.map((function(e){return a.createElement(\"li\",{key:e.id,className:e.publishable?\"complete\":\"incomplete\"},a.createElement(O.a,{to:t+e.id},e.name))}))),a.createElement(\"h2\",null,Object(o.a)(x||(x=Object(r.e)([\"Grundskoleämnen\"],[\"Grundskoleämnen\"])))),a.createElement(\"ul\",null,this.state.primarySchoolSubjects.map((function(e){return a.createElement(\"li\",{key:e.id,className:e.publishable?\"complete\":\"incomplete\"},a.createElement(O.a,{to:t+e.id},e.name))}))),a.createElement(\"div\",{className:\"drop-zone\",onDragOver:v.a,onDrop:function(t){return e.handleFileSelect(t)}},\"Droppa Subject-fil här från skolverket (Hämtas från \",a.createElement(\"a\",{href:\"http://opendata.skolverket.se\",target:\"skolverket\"},\"opendata.skolverket.se\"),\")\")))},t}(a.Component)},function(e,t,n){\"use strict\";var r,a,o,i,s,u,c=n(2),l=n.n(c),d=n(157),p=n(0),f=n(100),h=n(9),m=(n(1),n(14)),g=n(94),v=n(95);function b(e){var t=e.onSubmit,n=e.onDelete,d=e.onCancel,b=Object(p.g)(e,[\"onSubmit\",\"onDelete\",\"onCancel\"]),y=Object(p.f)(Object(c.useState)(b.url),2),E=y[0],w=y[1],k=Object(p.f)(Object(c.useState)(\"_blank\"),2),O=k[0],C=(k[1],Object(p.f)(Object(c.useState)(b.text),2)),D=C[0],S=C[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(\"div\",null,l.a.createElement(\"h3\",null,b.url?Object(h.a)(r||(r=Object(p.e)([\"Redigera länk\"],[\"Redigera länk\"]))):Object(h.a)(a||(a=Object(p.e)([\"Skapa länk\"],[\"Skapa länk\"])))),l.a.createElement(\"span\",{style:{fontSize:\"8pt\"}},\"Följ länken: \",l.a.createElement(\"a\",{href:E,style:{marginLeft:\"12px\"},target:\"_blank\"},E)),l.a.createElement(f.a,{label:Object(h.a)(o||(o=Object(p.e)([\"URL\"],[\"URL\"]))),id:\"LinkDialog:URL\",placeholder:Object(h.a)(i||(i=Object(p.e)([\"Ange URL\"],[\"Ange URL\"]))),value:E,autoFocus:!E,autoSelect:!E,onChange:function(e){return w(e)}}),l.a.createElement(f.a,{label:Object(h.a)(s||(s=Object(p.e)([\"Text\"],[\"Text\"]))),id:\"LinkDialog:Text\",placeholder:Object(h.a)(u||(u=Object(p.e)([\"Ange länktext\"],[\"Ange länktext\"]))),value:D,autoFocus:!!E,autoSelect:!!E,onChange:function(e){return S(e)}})),l.a.createElement(g.a,null,l.a.createElement(v.a,null,l.a.createElement(\"button\",{tabIndex:1,className:\"btn btn-large btn-default\",onClick:function(){return E?t({url:E,target:O,text:D}):b.url?n():d()}},l.a.createElement(m.a,{id:\"common.save\",defaultMessage:\"Spara\"}))),l.a.createElement(v.a,null,l.a.createElement(\"button\",{tabIndex:1,className:\"btn btn-large btn-warning\",onClick:function(){return n()}},l.a.createElement(m.a,{id:\"url.remove\",defaultMessage:\"Ta bort länken\"})))))}var y=function(e){return e.replace(/(onlinebok\\.liber\\.se\\/web-reader)\\/#\\/(.*?)/,\"$1/?cidp=http%3A%2F%2Fsts.kunskapsskolan.se%2Fadfs%2Fservices%2Ftrust#$2/\").replace(/(app\\.digilar\\.se\\/[^?]*?)$/,\"$1?provider=skolfederation&idp=kunskapsskolan\")};function E(e,t){var n=t.openDialog,r=t.closeDialog,a=Object(d.b)(),o=document.getSelection(),i=o.toString(),s=o.anchorNode,u=s.innerHTML,c=\"\",p=null;if(1===s.nodeType){var f=s;\"A\"===f.tagName&&(c=f.getAttribute(\"href\"),p=f.getAttribute(\"target\"))}n(l.a.createElement(b,{url:c,text:i,target:p,onSubmit:function(e){var t=e.url,n=e.target,o=e.text;r(),Object(d.a)(a);var i=document.createElement(\"a\");i.href=y(t),n&&(i.target=n),i.appendChild(document.createTextNode(o)),document.execCommand(\"insertHTML\",!1,i.outerHTML)},onDelete:function(){r(),Object(d.a)(a),document.execCommand(\"delete\"),document.execCommand(\"insertHTML\",!1,u)},onCancel:function(){r(),Object(d.a)(a)}}))}n.d(t,\"a\",(function(){return E}))},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(24),i=n(11),s=n(5),u=n.n(s),c=n(20),l=n(118),d=n(3),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={description:t.note?t.note.description:\"\",color:t.note?t.note.color:\"yellow\"},n}return Object(r.c)(t,e),t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,a,o,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e=this.props,e.weekNumber,e.weekDate,t=e.courseName,n=e.weekPlan,e.note,a=e.closeDialog,o=e.env,i=this.state,i.description,i.color,a(),1!==Object.keys(n.plans).length?[3,2]:[4,o.kgTermPlannerRepo.delete([n.id])];case 1:return r.sent(),[3,4];case 2:return[4,o.kgTermPlannerRepo.update([n],(function(e){delete e.plans[t]}))];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.save=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,a,o,i,s,u,c,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e=this.props,e.weekNumber,t=e.weekDate,n=e.courseName,a=e.weekPlan,e.note,o=e.closeDialog,i=e.env,s=this.state,u=s.description,c=s.color,o(),0==u.length?[2]:a?[4,i.kgTermPlannerRepo.update([a],(function(e){return e.plans[n]={description:u,color:c}}))]:[3,2];case 1:return r.sent(),[3,4];case 2:return(l={})[n]={description:u,color:c},[4,i.kgTermPlannerRepo.insert([{id:Object(d.h)(),dateTime:t,plans:l}])];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.render=function(){var e=this,t=this.props,n=t.weekNumber,r=t.courseName,o=(t.weekPlan,t.note),i=t.env,s=this.state,u=s.description,c=s.color,l=i.tutored;return a.createElement(\"div\",null,a.createElement(\"div\",null,a.createElement(\"h2\",null,\"Händelse för vecka \",n,\" och \",r),a.createElement(\"hr\",null),a.createElement(\"div\",{className:\"align-table\"},a.createElement(\"div\",null,\"Beskrivning:\"),a.createElement(\"div\",{className:\"fullWidth\"},a.createElement(\"textarea\",{autoFocus:!0,value:u,disabled:l,onChange:function(t){return e.setState({description:t.target.value})}}))),a.createElement(\"div\",{className:\"align-table\"},a.createElement(\"div\",null,\"Färg:\"),a.createElement(\"div\",null,a.createElement(\"select\",{value:c,disabled:l,onChange:function(t){return e.setState({color:t.target.value})}},a.createElement(\"option\",{value:\"yellow\"},\"Gul\"),a.createElement(\"option\",{value:\"yellowLight\"},\"Ljusgul\"),a.createElement(\"option\",{value:\"cyan\"},\"Grön\"),a.createElement(\"option\",{value:\"cyanLight\"},\"Ljusgrön\"),a.createElement(\"option\",{value:\"purple\"},\"Lila\"),a.createElement(\"option\",{value:\"purpleLight\"},\"Ljuslila\"),a.createElement(\"option\",{value:\"red\"},\"Röd\"),a.createElement(\"option\",{value:\"redLight\"},\"Rosa\"))))),a.createElement(\"div\",null,l?a.createElement(\"button\",{tabIndex:1,className:\"btn btn-large btn-default\",onClick:function(){return e.props.closeDialog()}},\"Avbryt\"):a.createElement(a.Fragment,null,a.createElement(\"button\",{tabIndex:1,className:\"btn btn-large btn-default\",onClick:function(){return e.save()}},\"Spara\"),o&&a.createElement(\"a\",{tabIndex:1,className:\"btn btn-warning btn-large pull-right\",onClick:function(){return e.delete()}},\"Ta bort\"))))},t}(a.Component),f=n(9),h=n(123),m=n(185),g=n(91);n.d(t,\"a\",(function(){return v}));var v=function(e){function t(t){var n=e.call(this,t)||this,r=new Date;return n.state={now:r,courses:[],weekPlans:[],isLoadingCourses:!0,isLoadingWeekPlans:!0,dialogs:[]},n.updateWeekPlans=n.updateWeekPlans.bind(n),n}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.loadEDSCourses(),this.props.env.kgTermPlannerRepo.mem.subscribe(this.updateWeekPlans)},t.prototype.componentWillUnmount=function(){this.props.env.kgTermPlannerRepo.mem.unsubscribe(this.updateWeekPlans)},t.prototype.updateWeekPlans=function(e){this.setState({weekPlans:e,isLoadingWeekPlans:!1})},t.prototype.loadEDSCourses=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),e=Object(i.c)(u()(this.state.now)),t=new o.a(e).period,a=f.j,[4,this.props.env.edsClient.getActiveCourses({periodName:t})];case 1:return n=a.apply(void 0,[r.sent(),function(e){return e.name}]),this.setState({courses:n}),[3,3];case 2:return this.setState({isLoadingCourses:!1}),[7];case 3:return[2]}}))}))},t.prototype.onNoteClick=function(e,t,n,r,o){var i=this;this.openDialog(a.createElement(p,{weekNumber:e,weekDate:t,courseName:n,weekPlan:r,note:o,env:this.props.env,closeDialog:function(){return i.closeDialog()}}))},t.prototype.onTutorClick=function(e,t){var n=this;this.openDialog(a.createElement(m.a,{weekNumber:t,comment:e.value,updateData:function(t){return n.updateTutorNoteField(e,t)},deleteNoteData:function(){return n.deleteTutorNoteField(e.id)},closeDialog:function(){return n.closeDialog()}}))},t.prototype.deleteTutorNoteField=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.env.kgTermPlannerRepo.delete([e])];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.updateTutorNoteField=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:if((e&&e.value||\"\")===t)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),e.value=t,e.acl=[new d.b(\"tutorFor\",this.props.env.currentUser.mail,\"S\").toString(),new d.b(\"email\",this.props.env.currentUser.mail,\"R\").toString()],[4,this.props.env.kgTermPlannerRepo.upsert(e,(function(e){return e.value=t}))];case 2:return[2,n.sent()];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.openDialog=function(e){this.setState({dialogs:Object(r.h)(this.state.dialogs,[e])})},t.prototype.closeDialog=function(){this.setState({dialogs:this.state.dialogs.slice(0,this.state.dialogs.length-1)})},t.prototype.render=function(){for(var e=this,t=this.state,n=t.courses,o=t.now,s=t.isLoadingCourses,p=t.isLoadingWeekPlans,f=t.weekPlans,m=t.dialogs,v=s||p,b=[],y=[],E=Object(i.c)(u()(o)),w=Object(r.f)(Object(i.d)(o,\"AT\"===E.term),2),k=w[0],O=w[1],C=Object(r.f)(Object(i.b)(E.term),2),D=C[0],S=C[1],j=g.b.kgTutorComment,T=f.filter((function(e){return!e.type})),x=f.filter((function(e){return\"tutor-note\"===e.type})),N=function(e){var t=e.week(),n=e.year(),r=Object(h.a)(n,t);if(t>=D&&t<=S){var a=T.filter((function(e){return e.dateTime>=r.notBefore&&e.dateTime<=r.notAfter}))[0],o=x.filter((function(e){return e.dateTime>=r.notBefore&&e.dateTime<=r.notAfter}))[0],i=e.clone().startOf(\"week\").valueOf();b.push({weekNumber:t,weekDate:i,weekPlan:a}),y.push({weekNumber:t,tutorValue:o||{value:\"\",dateTime:i,id:Object(d.h)(),type:\"tutor-note\"}})}},M=k.clone();M.valueOf()<O.valueOf();M=M.clone().add(1,\"week\").startOf(\"week\"))N(M);return a.createElement(\"div\",{className:\"ked_boxed\"},a.createElement(\"h4\",null,\"Terminsplanering\"),a.createElement(\"hr\",null),v?a.createElement(c.a,null):0===n.length?a.createElement(\"div\",null,\"Terminsplaneraren aktiveras när du skrivits in på dina kurser\"):a.createElement(\"table\",{className:\"termplanner-table zebra\"},a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Vecka\"),n.map((function(e,t){return a.createElement(\"th\",{key:t,className:\"kgCourseHeader\"},e.name)})),j&&a.createElement(\"th\",{className:\"tutorHeader\"}))),a.createElement(\"tbody\",null,b.map((function(t,r){var o=t.weekNumber===u()().week(),i=y&&y.find((function(e){return e.weekNumber===t.weekNumber}));return a.createElement(\"tr\",{key:r,className:o?\"currentWeek\":\"\"},a.createElement(\"td\",null,t.weekNumber),n.map((function(n,r){var o=t.weekPlan&&t.weekPlan.plans[n.name];return a.createElement(\"td\",{key:r,className:o?\"courseNote note-color-\"+o.color:\"courseNote\",\"data-tooltip\":o&&o.description,title:o&&o.description,onClick:function(){return e.onNoteClick(t.weekNumber,t.weekDate,n.name,t.weekPlan,o)}},o?a.createElement(\"i\",{className:\"fas fa-align-center\"}):\"\")})),j&&(e.props.tutored?a.createElement(\"td\",{key:r,onClick:function(){return e.onTutorClick(i.tutorValue,t.weekNumber)},className:\"tutorCell\"},i.tutorValue.value?a.createElement(\"div\",{key:r,\"data-tooltip\":i.tutorValue.value},a.createElement(\"i\",{className:\"fas fa-comment-dots\"})):a.createElement(\"div\",{key:r},a.createElement(\"i\",{className:\"fas fa-comment-medical\"}))):i.tutorValue.value?a.createElement(\"td\",{className:\"tutorCell\"},a.createElement(\"div\",{\"data-tooltip\":i.tutorValue.value},a.createElement(\"i\",{className:\"far fa-comment-dots\"}))):a.createElement(\"td\",null)))}))),a.createElement(\"tfoot\",null,a.createElement(\"tr\",null,a.createElement(\"th\",{key:\"points\"},\"Poäng\"),n.map((function(e,t){return a.createElement(\"th\",{key:t,className:\"stepCell\"},e.credits)}))),a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Betygsmål\"),n.map((function(e,t){return a.createElement(\"th\",{key:t,className:\"stepCell\"},e.periodGoalGrade)}))))),a.createElement(l.a,{dialogs:m,popDialog:function(){return e.setState({dialogs:m.slice(0,m.length-1)})}}))},t}(a.Component)},function(e,t,n){\"use strict\";var r=n(0),a=n(2),o=n(4),i=n(9),s=n(5),u=n.n(s),c=n(3),l=n(23),d=n(135),p=n(127),f=n(106),h=n(91),m=n(128),g=n(115),v=n(20),b=n(113),y=n(166),E=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.files,r=e.usersNotHandedInDocs,i=e.taskDeadline,s=e.teacherAtThisSchool,c=e.refreshAssignment,l=e.sendToUrkund,d=e.deleteAssignment,p=n.some((function(e){return e.user===o.a.currentUser.mail}));return t?a.createElement(v.a,{label:\"Laddar inlämnade filer...\"}):0!==n.length||r?s?function(e,t,n,r,o,i,s){return a.createElement(a.Fragment,null,e.length>0&&a.createElement(a.Fragment,null,h.b.studyGroups&&a.createElement(\"p\",null,\"Uploaded assignments\"),a.createElement(\"table\",{className:\"task-assignments-table\"},a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Elev\"),a.createElement(\"th\",null,\"Filnamn\"),a.createElement(\"th\",null,\"Inlämnat den\"),a.createElement(\"th\",null,\"Rapport\"),a.createElement(\"th\",null,\"Nivå\"),t&&a.createElement(\"th\",null))),a.createElement(\"tbody\",null,e.map((function(e){return a.createElement(\"tr\",{key:e.mediaLink,style:e.metadata.$meta?{opacity:.5}:{}},a.createElement(a.Fragment,null,a.createElement(\"td\",null,a.createElement(\"a\",{href:\"mailto:\"+e.user},e.metadata.userDisplayName||e.user)),a.createElement(\"td\",null,e.metadata.driveFileId?a.createElement(b.a,{thumbnail:e.metadata.driveFileIconUrl,title:e.filename.substr(0,e.filename.lastIndexOf(\".\")),url:e.metadata.driveFileUrl}):a.createElement(b.a,{customAction:function(t){t.preventDefault(),t.stopPropagation(),Object(y.b)(e)},title:e.filename})),a.createElement(\"td\",{className:\"assignment-date-col\"},u()(e.uploadDate).format(\"YYYY-MM-DD HH:mm\")),\"add\"===e.metadata.$meta?a.createElement(\"td\",{colSpan:2},a.createElement(v.a,{label:\"Laddar upp...\"})):\"delete\"===e.metadata.$meta?a.createElement(\"td\",{colSpan:2},a.createElement(v.a,null),\" Tar bort...\"):Object(y.c)(e,o,i)),t&&w(e,s))}))))),a.createElement(\"br\",null),n&&n.length>0&&function(e,t){return a.createElement(a.Fragment,null,h.b.studyGroups&&a.createElement(\"p\",null,\"Not handed in assignments\"),a.createElement(\"table\",{className:\"task-assignments-table\"},a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Elev\"),a.createElement(\"th\",null,\"Task deadline\"))),a.createElement(\"tbody\",null,e.map((function(e){return a.createElement(\"tr\",{key:e.displayName,style:{opacity:.5}},a.createElement(\"td\",null,a.createElement(\"a\",{href:\"mailto:\"+e.email},e.displayName)),a.createElement(\"td\",null,\" \",t,\" \"))})))),a.createElement(\"br\",null))}(n,r))}(n,p,r,i,c,l,d):function(e,t,n){return a.createElement(\"table\",{className:\"task-assignments-table\"},a.createElement(\"thead\",null,a.createElement(\"tr\",null,a.createElement(\"th\",null,\"Filnamn\"),a.createElement(\"th\",null,\"Inlämnat den\"),t&&a.createElement(\"th\",null))),a.createElement(\"tbody\",null,e.map((function(e){return a.createElement(\"tr\",{key:e.mediaLink,style:e.metadata.$meta?{opacity:.5}:{}},a.createElement(\"td\",null,e.metadata.driveFileId?a.createElement(b.a,{thumbnail:e.metadata.driveFileIconUrl,title:e.filename.substr(0,e.filename.lastIndexOf(\".\")),url:e.metadata.driveFileUrl}):a.createElement(b.a,{customAction:function(t){t.preventDefault(),t.stopPropagation(),Object(y.b)(e)},title:e.filename})),a.createElement(\"td\",{className:\"assignment-date-col\"},\"add\"===e.metadata.$meta?a.createElement(v.a,{label:\"Laddar upp...\"}):\"delete\"===e.metadata.$meta?a.createElement(v.a,{label:\"Tar bort...\"}):u()(e.uploadDate).format(\"YYYY-MM-DD HH:mm\")),t&&w(e,n))}))))}(n,p,d):s?a.createElement(\"p\",null,\"Ingen elev har lämnat in något arbete ännu.\"):null},t}(a.Component);function w(e,t){return a.createElement(\"td\",null,!e.metadata.$meta&&e.user===o.a.currentUser.mail&&a.createElement(\"a\",{href:\"#\",onClick:function(n){n.stopPropagation(),n.preventDefault(),confirm(\"Radera inlämnad fil \"+e.filename+\"?\")&&t(e.mediaLink)}},a.createElement(\"i\",{className:\"fas fa-trash-alt\"})))}var k=n(89),O=n(86);n.d(t,\"a\",(function(){return S}));var C=[\".pdf\",\".odt\",\".docx\",\".doc\",\".cad\",\".wav\",\".mp3\",\".mpeg4\",\".mp4\",\".zip\",\".png\",\".jpg\",\".jpeg\",\".gif\",\".txt\",\".html\"],D=[\".pdf\",\".odt\",\".docx\",\".doc\",\".txt\",\".html\"],S=function(e){function t(t){var n=e.call(this,t)||this;return n.state={assignments:[],loading:!0,studyGroupStudents:[]},n}return Object(r.c)(t,e),t.prototype.setStatePromised=function(t){var n=this;return new Promise((function(r){return e.prototype.setState.call(n,t,r)}))},t.prototype.componentDidMount=function(){this.load()},t.prototype.componentWillReceiveProps=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e.taskId===this.props.taskId&&e.courseId===this.props.courseId?[3,3]:[4,this.setStatePromised((function(){return{assignments:[],loading:!0,studyGroupStudents:[]}}))];case 1:return n.sent(),[4,this.load()];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:return t=n.sent(),Object(i.n)(t),[3,5];case 5:return[2]}}))}))},t.prototype.refreshAssignment=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,i,s,u,l,d,p,f,h,m;return Object(r.d)(this,(function(g){switch(g.label){case 0:return t=o.a.kedBackendClient.http,n=this.props,a=n.courseId,i=n.taskId,s=n.school,u=e.user,l=e.filename,[4,this.setState((function(t){var n=t.assignments;return{assignments:Object(y.d)(n,Object(r.a)(Object(r.a)({},e),{isRefreshing:!0}))}}))];case 1:g.sent(),g.label=2;case 2:return g.trys.push([2,8,,10]),[4,t.get(\"assignments/urkund/\"+s+\"/\"+a+\"/\"+i+\"/\"+u+\"/\"+l)];case 3:return(d=g.sent()).status>=400?(p=c.c.bind,f=[void 0,d.status],[4,d.text()]):[3,5];case 4:throw new(p.apply(c.c,f.concat([g.sent()])));case 5:return[4,d.text()];case 6:return h=g.sent(),[4,this.setState((function(t){var n=t.assignments;return{assignments:Object(y.d)(n,Object(r.a)(Object(r.a)({},e),{isRefreshing:!1,metadata:Object(r.a)(Object(r.a)({},e.metadata),{urkundResponse:h})}))}}))];case 7:return g.sent(),[3,10];case 8:return m=g.sent(),[4,this.setState((function(t){var n=t.assignments;return{assignments:Object(y.d)(n,Object(r.a)(Object(r.a)({},e),{isRefreshing:!1,refreshError:m}))}}))];case 9:return g.sent(),[3,10];case 10:return[2]}}))}))},t.prototype.load=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,a,s,d,p,f,h,m,v,b,y,E,w,k,C,D,S,j,T,x,N,M,I,P,A=this;return Object(r.d)(this,(function(_){switch(_.label){case 0:return _.trys.push([0,18,,19]),e=o.a.kedBackendClient.http,t=this.props,n=t.courseId,a=t.taskId,s=t.school,d=t.courseStudyGroups,p=t.sendToUrkund,[4,(f=Object(l.e)(o.a.currentUser,s))?e.get(\"assignments/\"+s+\"/\"+n+\"/\"+a):e.get(\"assignments/\"+s+\"/\"+n+\"/\"+a+\"/\"+o.a.currentUser.mail)];case 1:return 200===(h=_.sent()).status?[3,3]:(m=c.c.bind,v=[void 0,h.status],[4,h.text()]);case 2:throw new(m.apply(c.c,v.concat([_.sent()])));case 3:return[4,h.json()];case 4:return b=_.sent(),y=[],d&&d.length>0?[4,O.c.schools.name(s).single().load()]:[3,9];case 5:return E=_.sent(),w=Object.keys(g.c).filter((function(e){return d.includes(e)})).map((function(e){return g.c[e]})),k=\"KED\"===s&&w?w:[],E.edsSchoolNameGymn?[4,Promise.all(d.map((function(e){return Object(r.b)(A,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,o.a.edsClient.getTuitionGroupStudents({schoolName:E.edsSchoolNameGymn,tuitionGroupName:e})];case 1:return[2,t.sent()]}}))}))})))]:[3,7];case 6:return D=_.sent(),[3,8];case 7:D=k,_.label=8;case 8:C=D,y=Object(i.k)(C),_.label=9;case 9:if(this.setState({error:null,loading:!1,assignments:b,studyGroupStudents:y}),!f||!p)return[3,17];S=b.filter((function(e){return e.metadata&&e.metadata.urkundExternalId&&e.metadata.urkundExternalId.length>0&&!e.metadata.urkundUploadError&&(!e.metadata.urkundLastPoll||[\"Accepted\",\"Submitted\"].indexOf(JSON.parse(e.metadata.urkundResponse)[0].Status.State)>=0&&parseInt(e.metadata.urkundLastPoll)<u()().add(-15,\"seconds\").toDate().getTime())})),_.label=10;case 10:_.trys.push([10,15,16,17]),j=Object(r.i)(S),T=j.next(),_.label=11;case 11:return T.done?[3,14]:(x=T.value,[4,this.refreshAssignment(x)]);case 12:_.sent(),_.label=13;case 13:return T=j.next(),[3,11];case 14:return[3,17];case 15:return N=_.sent(),I={error:N},[3,17];case 16:try{T&&!T.done&&(P=j.return)&&P.call(j)}finally{if(I)throw I.error}return[7];case 17:return[3,19];case 18:return M=_.sent(),this.setState({loading:!1,error:\"Kunde inte ladda inlämningsuppgifter\",assignments:[]}),console.error(M),[3,19];case 19:return[2]}}))}))},t.prototype.onDrag=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect=\"copy\"},t.prototype.verifyAndUpload=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),e?this.state.assignments.some((function(t){return t.user===o.a.currentUser.mail&&t.filename===e.name}))&&!confirm(\"Ersätta befintlig fil (\"+e.name+\")?\")?[2]:this.props.school.toLowerCase()===o.a.currentUser.school.toLowerCase()||confirm(\"Uppgiften tillhör en annan skola (\"+this.props.school+\").\\nVill du ändå lämna in ditt arbete här?\")?(this.setState({uploadingFile:e}),[4,this.upload(e,t)]):[2]:[2];case 1:return r.sent(),[4,this.load()];case 2:return r.sent(),this.setState({uploadingFile:null}),[3,4];case 3:return n=r.sent(),this.setState({error:\"Kunde inte ladda upp filen. \"+(n.message||n),uploadingFile:null}),console.error(n),[3,4];case 4:return[2]}}))}))},t.prototype.upload=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,a,i,s,u,l,d,p,f,h,m,g;return Object(r.d)(this,(function(v){switch(v.label){case 0:if(o.a.kedBackendClient.http,n=this.props,a=n.courseId,i=n.taskId,s=n.school,u=n.sendToUrkund,l=o.a.currentUser.mail,D.indexOf(\".\"+e.name.split(\".\").reverse()[0].toLowerCase())>=0){if(e.size>52428800)throw new Error(\"Filer av denna typ får inte vara större än 50 MB\")}else if(e.size>104857600)throw new Error(\"Filen får inte vara större än 100 MB\");if(d=e.name.toLowerCase(),!C.some((function(e){return d.endsWith(e)})))throw new Error(\"Filens ändelse måste vara \"+C.join(\" / \"));return(p=new FormData).append(\"files\",e),f={userDisplayName:o.a.currentUser.displayName,verifyWithUrkund:u},t&&(f=Object(r.a)(Object(r.a)({},f),{driveFileId:t.fileId,driveFileUrl:t.url,driveFileIconUrl:t.iconUrl})),[4,o.a.kedBackendClient.http.fetch(\"assignments/\"+s+\"/\"+a+\"/\"+i+\"/\"+l,\"put\",{},f,{body:p})];case 1:return 200===(h=v.sent()).status?[3,3]:(m=c.c.bind,g=[void 0,h.status],[4,h.text()]);case 2:throw new(m.apply(c.c,g.concat([v.sent()])));case 3:return[2]}}))}))},t.prototype.delete=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,a,i;return Object(r.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),[4,this.setStatePromised((function(t){return{assignments:t.assignments.map((function(t){return t.mediaLink===e?Object(r.a)(Object(r.a)({},t),{metadata:Object(r.a)(Object(r.a)({},t.metadata),{$meta:\"delete\"})}):Object(r.a)({},t)}))}}))];case 1:return s.sent(),[4,o.a.kedBackendClient.http.fetch(e,\"delete\",{})];case 2:return(t=s.sent()).status>=400?(n=c.c.bind,a=[void 0,t.status],[4,t.text()]):[3,4];case 3:throw new(n.apply(c.c,a.concat([s.sent()])));case 4:return[4,this.load()];case 5:return s.sent(),[3,7];case 6:return i=s.sent(),this.setState({error:\"Kunde inte ta bort filen. \"+(i.message||i)}),console.error(i),[3,7];case 7:return[2]}}))}))},t.prototype.render=function(){var e=this,t=this.props,n=t.courseId,s=t.taskId,u=t.school,c=t.courseStudyGroups,g=t.taskDeadline,v=t.sendToUrkund,b=this.state,y=b.loading,w=b.assignments,O=b.error,C=b.uploadingFile,D=b.studyGroupStudents,S=Object(l.e)(o.a.currentUser,u),j=Object(r.h)(w),T=h.b.picker;if(C){var x={school:u,courseId:n,taskId:s,filename:C.name,size:C.size,user:o.a.currentUser.mail,contentType:C.type,uploadDate:Date.now(),mediaLink:\"assignments/\"+u+\"/\"+n+\"/\"+s+\"/\"+o.a.currentUser.mail+\"/\"+C.name,metadata:{$meta:\"add\",userDisplayName:o.a.currentUser.displayName}};j=j.filter((function(e){return e.mediaLink!==x.mediaLink})),j=Object(r.h)(j,[x])}j=j.map((function(e){var t=Object(r.f)((e.metadata.userDisplayName||e.user).split(\" \")),n=t[0],a=t.slice(1);return Object(r.a)(Object(r.a)({},e),{firstName:n,lastName:a.join(\" \")})})).sort(Object(i.h)([\"lastName\",\"firstName\",\"filename\",\"uploadDate\"],[\"sv\",\"en\"],{sensitivity:\"base\"}));var N={},M=c&&c.length>0&&h.b.studyGroups&&S;return c&&c.forEach((function(e){var t=j.filter((function(t){return D.find((function(n){return n.studentEmailAddress==t.user&&e===n.tuitionGroupName}))})),n=D.filter((function(n){return!t.find((function(e){return e.user===n.studentEmailAddress}))&&e===n.tuitionGroupName})).map((function(e){return{displayName:e.studentFirstName+\" \"+e.studentLastName,email:e.studentEmailAddress}}));n=n.map((function(e){var t=Object(r.f)(e.displayName.split(\" \")),n=t[0],a=t.slice(1);return Object(r.a)(Object(r.a)({},e),{firstName:n,lastName:a.join(\" \")})})).sort(Object(i.h)([\"lastName\",\"firstName\"])),N[e]={assignments:t,notSubmittedUsers:n}})),a.createElement(\"div\",{className:\"stopFloats\",onDragOver:function(t){return e.onDrag(t)},onDrop:function(t){t.stopPropagation(),t.preventDefault(),e.verifyAndUpload(t.dataTransfer.files[0])}},O?a.createElement(a.Fragment,null,a.createElement(\"p\",{className:\"error\"},O)):void 0,M?Object.keys(N).map((function(t){return a.createElement(k.a,{headerOpen:!1,title:t,key:t},a.createElement(E,{loading:y,files:N[t].assignments,usersNotHandedInDocs:N[t].notSubmittedUsers,school:u,refreshAssignment:e.refreshAssignment.bind(e),deleteAssignment:e.delete.bind(e),taskDeadline:g,teacherAtThisSchool:S,sendToUrkund:v}))})):a.createElement(E,{loading:y,files:j,school:u,refreshAssignment:this.refreshAssignment.bind(this),deleteAssignment:this.delete.bind(this),teacherAtThisSchool:S,sendToUrkund:v}),Object(d.a)()?void 0:a.createElement(a.Fragment,null,a.createElement(\"div\",{className:\"drop-zone task-assignment-drop-zone\"},\"Droppa ditt färdiga arbete här.\",a.createElement(\"br\",null),\"Det går också bra att använda bläddra-knappen nedan.\"),a.createElement(\"input\",{type:\"file\",onChange:function(t){return e.verifyAndUpload(t.target.files[0])}}),T&&a.createElement(f.b,{label:\"Hämta från Google Drive\",action:function(){var t=new p.a({upload:!0,addCommenter:!0}),n=new m.a;t.show().then((function(t){var r=t[0];r&&n.downloadFile({file:r,mimeType:\"text/plain\",limitSize:100}).then((function(t){return e.verifyAndUpload(t,r)}))}))}})))},t}(a.Component)},function(e,t,n){\"use strict\";var r=n(109),a=n.n(r),o=n(54),i=n.n(o),s=n(2),u=n.n(s),c=n(44),l=n.n(c),d=n(199),p=n.n(d),f={},h=0,m=function(e,t){var n=\"\"+t.end+t.strict+t.sensitive,r=f[n]||(f[n]={});if(r[e])return r[e];var a=[],o={re:p()(e,a,t),keys:a};return h<1e4&&(r[e]=o,h++),o},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];\"string\"==typeof t&&(t={path:t});var r=t,a=r.path,o=r.exact,i=void 0!==o&&o,s=r.strict,u=void 0!==s&&s,c=r.sensitive,l=void 0!==c&&c;if(null==a)return n;var d=m(a,{end:i,strict:u,sensitive:l}),p=d.re,f=d.keys,h=p.exec(e);if(!h)return null;var g=h[0],v=h.slice(1),b=e===g;return i&&!b?null:{path:a,url:\"/\"===a&&\"\"===g?\"/\":g,isExact:b,params:f.reduce((function(e,t,n){return e[t.name]=v[n],e}),{})}},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function b(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var y=function(e){return 0===u.a.Children.count(e)},E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(o))),r.state={match:r.computeMatch(r.props,r.context.router)},b(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:v({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,a=e.path,o=e.strict,s=e.exact,u=e.sensitive;if(n)return n;i()(t,\"You should not use <Route> or withRouter() outside a <Router>\");var c=t.route,l=(r||c.location).pathname;return g(l,{path:a,strict:o,exact:s,sensitive:u},c.match)},t.prototype.componentWillMount=function(){a()(!(this.props.component&&this.props.render),\"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored\"),a()(!(this.props.component&&this.props.children&&!y(this.props.children)),\"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored\"),a()(!(this.props.render&&this.props.children&&!y(this.props.children)),\"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored\")},t.prototype.componentWillReceiveProps=function(e,t){a()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.'),a()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,a=t.render,o=this.context.router,i=o.history,s=o.route,c=o.staticContext,l={match:e,location:this.props.location||s.location,history:i,staticContext:c};return r?e?u.a.createElement(r,l):null:a?e?a(l):null:\"function\"==typeof n?n(l):n&&!y(n)?u.a.Children.only(n):null},t}(u.a.Component);E.propTypes={computedMatch:l.a.object,path:l.a.string,exact:l.a.bool,strict:l.a.bool,sensitive:l.a.bool,component:l.a.func,render:l.a.func,children:l.a.oneOfType([l.a.func,l.a.node]),location:l.a.object},E.contextTypes={router:l.a.shape({history:l.a.object.isRequired,route:l.a.object.isRequired,staticContext:l.a.object})},E.childContextTypes={router:l.a.object.isRequired};t.a=E},function(e,t,n){\"use strict\";function r(e,t){var n,r,a,o=window.prompt(e);if(o){var i=document.createElement(\"img\");i.src=o,i.tabIndex=1,i.onblur=t.onBlur,n=i,window.getSelection&&(r=window.getSelection()).rangeCount&&((a=r.getRangeAt(0)).collapse(!0),a.insertNode(n),a.setStartAfter(n),a.collapse(!0),r.removeAllRanges(),r.addRange(a)),t.triggerOnChange()}}n.d(t,\"a\",(function(){return r}))},function(e,t,n){\"use strict\";var r,a,o,i=n(0),s=n(2),u=n(103),c=n(4),l=n(9),d=n(300),p=n(23),f=n(20),h=function(e){var t=e.schools,n=e.viewCourseUrl,u=c.a.currentUser.roles.some((function(e){return\"ADMIN\"===e}));return s.createElement(\"div\",{className:\"editable-school-list\"},s.createElement(\"div\",null,t?s.createElement(\"table\",null,s.createElement(\"tbody\",null,t.map((function(e){return s.createElement(\"tr\",{className:\"align-horizontal\",key:e.id},s.createElement(\"td\",null,s.createElement(d.a,{className:\"editItem\",to:\"/schools/\"+e.id+\"/edit\"})),s.createElement(\"td\",null,s.createElement(\"p\",null,e.name)),s.createElement(\"td\",null,s.createElement(\"p\",null,s.createElement(\"a\",{style:{cursor:\"pointer\"},onClick:function(){return Object(p.b)({role:\"EMPLOYEE\",school:e.name})}},\"Agera som lärare på denna skola\"))),s.createElement(\"td\",null,s.createElement(\"p\",null,s.createElement(\"a\",{style:{cursor:\"pointer\"},onClick:function(){return Object(p.b)({role:\"STUDENT\",school:e.name,url:n})}},\"Agera som elev på denna skola\"))))})))):s.createElement(\"p\",null,s.createElement(f.a,null),\"V.g. vänta medan skolor laddas\")),s.createElement(\"br\",null),t&&u&&s.createElement(d.a,{to:\"/schools/new/\"+e.type,className:\"btn\"},\"gymnasium\"==e.type?Object(l.a)(r||(r=Object(i.e)([\"Lägg till gymnasieskola\"],[\"Lägg till gymnasieskola\"]))):\"primary\"==e.type?Object(l.a)(a||(a=Object(i.e)([\"Lägg till grundskola\"],[\"Lägg till grundskola\"]))):Object(l.a)(o||(o=Object(i.e)([\"Lägg till skola\"],[\"Lägg till skola\"])))))};n.d(t,\"a\",(function(){return m})),n.d(t,\"b\",(function(){return g}));var m=function(e){return s.createElement(\"div\",{style:{outline:0}},s.createElement(u.a,{title:\"Skolor\",activePage:\"schools\",routes:{feedback:e.feedbackUrl}}),s.createElement(g,{viewCourseUrl:e.viewCourseUrl}))},g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={schools:null},n}return Object(i.c)(t,e),t.prototype.componentDidMount=function(){this.load().catch((function(e){return Object(l.n)(e.message||e)}))},t.prototype.load=function(){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(t){switch(t.label){case 0:return[4,c.a.kedBackendClient.list(\"schools\")];case 1:return e=t.sent(),this.setState({schools:e}),[2]}}))}))},t.prototype.render=function(){var e=this.state.schools;return e&&e.sort(Object(l.g)(\"name\")),s.createElement(\"div\",{className:\"sv-row sv-layout\"},s.createElement(\"div\",{className:\"pagecontent sv-layout sv-spacer-20pxvt sv-skip-spacer\"},e?s.createElement(s.Fragment,null,s.createElement(\"div\",null,s.createElement(\"h2\",null,\"Gymnasieskolor\"),s.createElement(h,{schools:e.filter((function(e){return e.isGymnasium})),viewCourseUrl:this.props.viewCourseUrl,type:\"gymnasium\"})),s.createElement(\"div\",null,s.createElement(\"h2\",null,\"Grundskolor\"),s.createElement(h,{schools:e.filter((function(e){return e.isPrimarySchool})),viewCourseUrl:this.props.viewCourseUrl,type:\"primary\"}))):s.createElement(f.a,null)))},t}(s.Component)},function(e,t,n){\"use strict\";var r=n(85),a=n(121),o=n(87),i=n(150);n.d(t,\"a\",(function(){return u}));var s=6048e5;function u(e,t){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var n=Object(r.a)(e),u=Object(a.a)(n,t).getTime()-function(e,t){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var n=t||{},r=n.locale,s=r&&r.options&&r.options.firstWeekContainsDate,u=null==s?1:Object(o.a)(s),c=null==n.firstWeekContainsDate?u:Object(o.a)(n.firstWeekContainsDate),l=Object(i.a)(e,t),d=new Date(0);return d.setUTCFullYear(l,0,c),d.setUTCHours(0,0,0,0),Object(a.a)(d,t)}(n,t).getTime();return Math.round(u/s)+1}},function(e,t,n){\"use strict\";var r=n(85),a=n(122),o=n(172);n.d(t,\"a\",(function(){return s}));var i=6048e5;function s(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(r.a)(e),n=Object(a.a)(t).getTime()-function(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(o.a)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Object(a.a)(n)}(t).getTime();return Math.round(n/i)+1}},function(e){e.exports=JSON.parse('{\"picker\":\"Integrate coursebuilder and subjectplanner with Google Picker\",\"ksTutorComment\":\"Integrate KSTermplanner with tutor comments\",\"kgTutorComment\":\"Integrate KSTermplanner  with tutor comments\",\"termplannerCharts\":\"Integrate KSTermplanner with progress charts\",\"weekplannerCharts\":\"Integrate Weekplanner with progress charts\",\"teacherRights\":\"Activate course builder teacher rights\",\"studyGroups\":\"Add study groups and google classroom functionality\",\"cbCollapseBoxes\":\"Course Builder: Collapse modules by default\",\"ksAssignments\":\"KS show hand-in assignments\",\"markPartialKRs\":\"Activate mark partial knowledge requirments functionality\",\"KDT592\":\"Publish tabs / steps instead of entire course\"}')},function(e,t,n){var r;\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/!function(){\"use strict\";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if(\"string\"===o||\"number\"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if(\"object\"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(\" \")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){\"use strict\";var r=n(2),a=n(55);function o(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var i=function(){if(\"undefined\"!=typeof window&&\"function\"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},\"passive\",{get:function(){e=!0}}),n=function(){};return window.addEventListener(\"testPassiveEventSupport\",n,t),window.removeEventListener(\"testPassiveEventSupport\",n,t),e}};var s,u,c=(void 0===s&&(s=0),function(){return++s}),l={},d={},p=[\"touchstart\",\"touchmove\"],f=\"ignore-react-onclickoutside\";function h(e,t){var n=null;return-1!==p.indexOf(t)&&u&&(n={passive:!e.props.preventDefault}),n}t.a=function(e,t){var n,s,p=e.displayName||e.name||\"Component\";return s=n=function(n){var s,f;function m(e){var t;return(t=n.call(this,e)||this).__outsideClickHandler=function(e){if(\"function\"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if(\"function\"!=typeof n.props.handleClickOutside){if(\"function\"!=typeof n.handleClickOutside)throw new Error(\"WrappedComponent: \"+p+\" lacks a handleClickOutside(event) function for processing outside click events.\");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.enableOnClickOutside=function(){if(\"undefined\"!=typeof document&&!d[t._uid]){void 0===u&&(u=i()),d[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),l[t._uid]=function(e){var n;null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&(n=e,document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(o(e,t,n))return!0;e=e.parentNode}return e}(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,l[t._uid],h(t,e))}))}},t.disableOnClickOutside=function(){delete d[t._uid];var e=l[t._uid];if(e&&\"undefined\"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach((function(n){return document.removeEventListener(n,e,h(t,n))})),delete l[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=c(),t}f=n,(s=m).prototype=Object.create(f.prototype),s.prototype.constructor=s,s.__proto__=f;var g=m.prototype;return g.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},g.componentDidMount=function(){if(\"undefined\"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&\"function\"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),\"function\"!=typeof this.__clickOutsideHandlerProp))throw new Error(\"WrappedComponent: \"+p+\" lacks a function for processing outside click events specified by the handleClickOutside config option.\");this.componentNode=Object(a.findDOMNode)(this.getInstance()),this.props.disableOnClickOutside||this.enableOnClickOutside()}},g.componentDidUpdate=function(){this.componentNode=Object(a.findDOMNode)(this.getInstance())},g.componentWillUnmount=function(){this.disableOnClickOutside()},g.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,[\"excludeScrollbar\"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(r.createElement)(e,n)},m}(r.Component),n.displayName=\"OnClickOutside(\"+p+\")\",n.defaultProps={eventTypes:[\"mousedown\",\"touchstart\"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},s}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},function(e,t,n){\"use strict\";(function(e){for(\n/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.15.0\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar n=\"undefined\"!=typeof window&&\"undefined\"!=typeof document,r=[\"Edge\",\"Trident\",\"Firefox\"],a=0,o=0;o<r.length;o+=1)if(n&&navigator.userAgent.indexOf(r[o])>=0){a=1;break}var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),a))}};function s(e){return e&&\"[object Function]\"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function c(e){return\"HTML\"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case\"HTML\":case\"BODY\":return e.ownerDocument.body;case\"#document\":return e.body}var t=u(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(n+a+r)?e:l(c(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),p=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?p:d||p}function h(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&\"BODY\"!==r&&\"HTML\"!==r?-1!==[\"TH\",\"TD\",\"TABLE\"].indexOf(n.nodeName)&&\"static\"===u(n,\"position\")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,a=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(a,0);var i,s,u=o.commonAncestorContainer;if(e!==u&&t!==u||r.contains(a))return\"BODY\"===(s=(i=u).nodeName)||\"HTML\"!==s&&h(i.firstElementChild)!==i?h(u):u;var c=m(e);return c.host?g(c.host,t):g(e,m(t).host)}function v(e){var t=\"top\"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"top\")?\"scrollTop\":\"scrollLeft\",n=e.nodeName;if(\"BODY\"===n||\"HTML\"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function b(e,t){var n=\"x\"===t?\"Left\":\"Top\",r=\"Left\"===n?\"Right\":\"Bottom\";return parseFloat(e[\"border\"+n+\"Width\"],10)+parseFloat(e[\"border\"+r+\"Width\"],10)}function y(e,t,n,r){return Math.max(t[\"offset\"+e],t[\"scroll\"+e],n[\"client\"+e],n[\"offset\"+e],n[\"scroll\"+e],f(10)?parseInt(n[\"offset\"+e])+parseInt(r[\"margin\"+(\"Height\"===e?\"Top\":\"Left\")])+parseInt(r[\"margin\"+(\"Height\"===e?\"Bottom\":\"Right\")]):0)}function E(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:y(\"Height\",t,n,r),width:y(\"Width\",t,n,r)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function D(e){return C({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=v(e,\"top\"),r=v(e,\"left\");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o=\"HTML\"===e.nodeName?E(e.ownerDocument):{},i=o.width||e.clientWidth||a.right-a.left,s=o.height||e.clientHeight||a.bottom-a.top,c=e.offsetWidth-i,l=e.offsetHeight-s;if(c||l){var d=u(e);c-=b(d,\"x\"),l-=b(d,\"y\"),a.width-=c,a.height-=l}return D(a)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),a=\"HTML\"===t.nodeName,o=S(e),i=S(t),s=l(e),c=u(t),d=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);n&&a&&(i.top=Math.max(i.top,0),i.left=Math.max(i.left,0));var h=D({top:o.top-i.top-d,left:o.left-i.left-p,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&a){var m=parseFloat(c.marginTop,10),g=parseFloat(c.marginLeft,10);h.top-=d-m,h.bottom-=d-m,h.left-=p-g,h.right-=p-g,h.marginTop=m,h.marginLeft=g}return(r&&!n?t.contains(s):t===s&&\"BODY\"!==s.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,\"top\"),a=v(t,\"left\"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=a*o,e.right+=a*o,e}(h,t)),h}function T(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&\"none\"===u(t,\"transform\");)t=t.parentElement;return t||document.documentElement}function x(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},i=a?T(e):g(e,t);if(\"viewport\"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=j(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),i=t?0:v(n),s=t?0:v(n,\"left\");return D({top:i-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:a,height:o})}(i,a);else{var s=void 0;\"scrollParent\"===r?\"BODY\"===(s=l(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s=\"window\"===r?e.ownerDocument.documentElement:r;var d=j(s,i,a);if(\"HTML\"!==s.nodeName||function e(t){var n=t.nodeName;if(\"BODY\"===n||\"HTML\"===n)return!1;if(\"fixed\"===u(t,\"position\"))return!0;var r=c(t);return!!r&&e(r)}(i))o=d;else{var p=E(e.ownerDocument),f=p.height,h=p.width;o.top+=d.top-d.marginTop,o.bottom=f+d.top,o.left+=d.left-d.marginLeft,o.right=h+d.left}}var m=\"number\"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function N(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf(\"auto\"))return e;var i=x(n,r,o,a),s={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},u=Object.keys(s).map((function(e){return C({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,d=e.split(\"-\")[1];return l+(d?\"-\"+d:\"\")}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return j(n,r?T(t):g(t,n),r)}function I(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function P(e){var t={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function A(e,t,n){n=n.split(\"-\")[0];var r=I(e),a={width:r.width,height:r.height},o=-1!==[\"right\",\"left\"].indexOf(n),i=o?\"top\":\"left\",s=o?\"left\":\"top\",u=o?\"height\":\"width\",c=o?\"width\":\"height\";return a[i]=t[i]+t[u]/2-r[u]/2,a[s]=n===s?t[s]-r[c]:t[P(s)],a}function _(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function L(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=_(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,\"name\",n))).forEach((function(e){e.function&&console.warn(\"`modifier.function` is deprecated, use `modifier.fn`!\");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=D(t.offsets.popper),t.offsets.reference=D(t.offsets.reference),t=n(t,e))})),t}function F(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=N(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=A(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?\"fixed\":\"absolute\",e=L(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function R(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function U(e){for(var t=[!1,\"ms\",\"Webkit\",\"Moz\",\"O\"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],o=a?\"\"+a+n:e;if(void 0!==document.body.style[o])return o}return null}function B(){return this.state.isDestroyed=!0,R(this.modifiers,\"applyStyle\")&&(this.popper.removeAttribute(\"x-placement\"),this.popper.style.position=\"\",this.popper.style.top=\"\",this.popper.style.left=\"\",this.popper.style.right=\"\",this.popper.style.bottom=\"\",this.popper.style.willChange=\"\",this.popper.style[U(\"transform\")]=\"\"),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function H(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,r){n.updateBound=r,H(e).addEventListener(\"resize\",n.updateBound,{passive:!0});var a=l(e);return function e(t,n,r,a){var o=\"BODY\"===t.nodeName,i=o?t.ownerDocument.defaultView:t;i.addEventListener(n,r,{passive:!0}),o||e(l(i.parentNode),n,r,a),a.push(i)}(a,\"scroll\",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function q(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function V(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,H(e).removeEventListener(\"resize\",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener(\"scroll\",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function G(e){return\"\"!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach((function(n){var r=\"\";-1!==[\"width\",\"height\",\"top\",\"right\",\"bottom\",\"left\"].indexOf(n)&&G(t[n])&&(r=\"px\"),e.style[n]=t[n]+r}))}var z=n&&/Firefox/i.test(navigator.userAgent);function K(e,t,n){var r=_(e,(function(e){return e.name===t})),a=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!a){var o=\"`\"+t+\"`\",i=\"`\"+n+\"`\";console.warn(i+\" modifier is required by \"+o+\" modifier in order to work, be sure to include it before \"+o+\"!\")}return a}var $=[\"auto-start\",\"auto\",\"auto-end\",\"top-start\",\"top\",\"top-end\",\"right-start\",\"right\",\"right-end\",\"bottom-end\",\"bottom\",\"bottom-start\",\"left-end\",\"left\",\"left-start\"],Q=$.slice(3);function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.indexOf(e),r=Q.slice(n+1).concat(Q.slice(0,n));return t?r.reverse():r}var X={FLIP:\"flip\",CLOCKWISE:\"clockwise\",COUNTERCLOCKWISE:\"counterclockwise\"};function Z(e,t,n,r){var a=[0,0],o=-1!==[\"right\",\"left\"].indexOf(r),i=e.split(/(\\+|\\-)/).map((function(e){return e.trim()})),s=i.indexOf(_(i,(function(e){return-1!==e.search(/,|\\s/)})));i[s]&&-1===i[s].indexOf(\",\")&&console.warn(\"Offsets separated by white space(s) are deprecated, use a comma (,) instead.\");var u=/\\s*,\\s*|\\s+/,c=-1!==s?[i.slice(0,s).concat([i[s].split(u)[0]]),[i[s].split(u)[1]].concat(i.slice(s+1))]:[i];return(c=c.map((function(e,r){var a=(1===r?!o:o)?\"height\":\"width\",i=!1;return e.reduce((function(e,t){return\"\"===e[e.length-1]&&-1!==[\"+\",\"-\"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var a=e.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/),o=+a[1],i=a[2];if(!o)return e;if(0===i.indexOf(\"%\")){var s=void 0;switch(i){case\"%p\":s=n;break;case\"%\":case\"%r\":default:s=r}return D(s)[t]/100*o}if(\"vh\"===i||\"vw\"===i){return(\"vh\"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,a,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){G(n)&&(a[t]+=n*(\"-\"===e[r-1]?-1:1))}))})),a}var ee={placement:\"bottom\",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split(\"-\")[0],r=t.split(\"-\")[1];if(r){var a=e.offsets,o=a.reference,i=a.popper,s=-1!==[\"bottom\",\"top\"].indexOf(n),u=s?\"left\":\"top\",c=s?\"width\":\"height\",l={start:O({},u,o[u]),end:O({},u,o[u]+o[c]-i[c])};e.offsets.popper=C({},i,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,a=e.offsets,o=a.popper,i=a.reference,s=r.split(\"-\")[0],u=void 0;return u=G(+n)?[+n,0]:Z(n,o,i,s),\"left\"===s?(o.top+=u[0],o.left-=u[1]):\"right\"===s?(o.top+=u[0],o.left+=u[1]):\"top\"===s?(o.left+=u[0],o.top-=u[1]):\"bottom\"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var r=U(\"transform\"),a=e.instance.popper.style,o=a.top,i=a.left,s=a[r];a.top=\"\",a.left=\"\",a[r]=\"\";var u=x(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);a.top=o,a.left=i,a[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),O({},e,n)},secondary:function(e){var n=\"right\"===e?\"left\":\"top\",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-(\"right\"===e?l.width:l.height))),O({},n,r)}};return c.forEach((function(e){var t=-1!==[\"left\",\"top\"].indexOf(e)?\"primary\":\"secondary\";l=C({},l,d[t](e))})),e.offsets.popper=l,e},priority:[\"left\",\"right\",\"top\",\"bottom\"],padding:5,boundariesElement:\"scrollParent\"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,a=e.placement.split(\"-\")[0],o=Math.floor,i=-1!==[\"top\",\"bottom\"].indexOf(a),s=i?\"right\":\"bottom\",u=i?\"left\":\"top\",c=i?\"width\":\"height\";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!K(e.instance.modifiers,\"arrow\",\"keepTogether\"))return e;var r=t.element;if(\"string\"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn(\"WARNING: `arrow.element` must be child of its popper element!\"),e;var a=e.placement.split(\"-\")[0],o=e.offsets,i=o.popper,s=o.reference,c=-1!==[\"left\",\"right\"].indexOf(a),l=c?\"height\":\"width\",d=c?\"Top\":\"Left\",p=d.toLowerCase(),f=c?\"left\":\"top\",h=c?\"bottom\":\"right\",m=I(r)[l];s[h]-m<i[p]&&(e.offsets.popper[p]-=i[p]-(s[h]-m)),s[p]+m>i[h]&&(e.offsets.popper[p]+=s[p]+m-i[h]),e.offsets.popper=D(e.offsets.popper);var g=s[p]+s[l]/2-m/2,v=u(e.instance.popper),b=parseFloat(v[\"margin\"+d],10),y=parseFloat(v[\"border\"+d+\"Width\"],10),E=g-e.offsets.popper[p]-b-y;return E=Math.max(Math.min(i[l]-m,E),0),e.arrowElement=r,e.offsets.arrow=(O(n={},p,Math.round(E)),O(n,f,\"\"),n),e},element:\"[x-arrow]\"},flip:{order:600,enabled:!0,fn:function(e,t){if(R(e.instance.modifiers,\"inner\"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=x(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split(\"-\")[0],a=P(r),o=e.placement.split(\"-\")[1]||\"\",i=[];switch(t.behavior){case X.FLIP:i=[r,a];break;case X.CLOCKWISE:i=J(r);break;case X.COUNTERCLOCKWISE:i=J(r,!0);break;default:i=t.behavior}return i.forEach((function(s,u){if(r!==s||i.length===u+1)return e;r=e.placement.split(\"-\")[0],a=P(r);var c=e.offsets.popper,l=e.offsets.reference,d=Math.floor,p=\"left\"===r&&d(c.right)>d(l.left)||\"right\"===r&&d(c.left)<d(l.right)||\"top\"===r&&d(c.bottom)>d(l.top)||\"bottom\"===r&&d(c.top)<d(l.bottom),f=d(c.left)<d(n.left),h=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v=\"left\"===r&&f||\"right\"===r&&h||\"top\"===r&&m||\"bottom\"===r&&g,b=-1!==[\"top\",\"bottom\"].indexOf(r),y=!!t.flipVariations&&(b&&\"start\"===o&&f||b&&\"end\"===o&&h||!b&&\"start\"===o&&m||!b&&\"end\"===o&&g),E=!!t.flipVariationsByContent&&(b&&\"start\"===o&&h||b&&\"end\"===o&&f||!b&&\"start\"===o&&g||!b&&\"end\"===o&&m),w=y||E;(p||v||w)&&(e.flipped=!0,(p||v)&&(r=i[u+1]),w&&(o=function(e){return\"end\"===e?\"start\":\"start\"===e?\"end\":e}(o)),e.placement=r+(o?\"-\"+o:\"\"),e.offsets.popper=C({},e.offsets.popper,A(e.instance.popper,e.offsets.reference,e.placement)),e=L(e.instance.modifiers,e,\"flip\"))})),e},behavior:\"flip\",padding:5,boundariesElement:\"viewport\",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split(\"-\")[0],r=e.offsets,a=r.popper,o=r.reference,i=-1!==[\"left\",\"right\"].indexOf(n),s=-1===[\"top\",\"left\"].indexOf(n);return a[i?\"left\":\"top\"]=o[n]-(s?a[i?\"width\":\"height\"]:0),e.placement=P(t),e.offsets.popper=D(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!K(e.instance.modifiers,\"hide\",\"preventOverflow\"))return e;var t=e.offsets.reference,n=_(e.instance.modifiers,(function(e){return\"preventOverflow\"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes[\"x-out-of-boundaries\"]=\"\"}else{if(!1===e.hide)return e;e.hide=!1,e.attributes[\"x-out-of-boundaries\"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,a=e.offsets.popper,o=_(e.instance.modifiers,(function(e){return\"applyStyle\"===e.name})).gpuAcceleration;void 0!==o&&console.warn(\"WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!\");var i=void 0!==o?o:t.gpuAcceleration,s=h(e.instance.popper),u=S(s),c={position:a.position},l=function(e,t){var n=e.offsets,r=n.popper,a=n.reference,o=Math.round,i=Math.floor,s=function(e){return e},u=o(a.width),c=o(r.width),l=-1!==[\"left\",\"right\"].indexOf(e.placement),d=-1!==e.placement.indexOf(\"-\"),p=t?l||d||u%2==c%2?o:i:s,f=t?o:s;return{left:p(u%2==1&&c%2==1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!z),d=\"bottom\"===n?\"top\":\"bottom\",p=\"right\"===r?\"left\":\"right\",f=U(\"transform\"),m=void 0,g=void 0;if(g=\"bottom\"===d?\"HTML\"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,m=\"right\"===p?\"HTML\"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,i&&f)c[f]=\"translate3d(\"+m+\"px, \"+g+\"px, 0)\",c[d]=0,c[p]=0,c.willChange=\"transform\";else{var v=\"bottom\"===d?-1:1,b=\"right\"===p?-1:1;c[d]=g*v,c[p]=m*b,c.willChange=d+\", \"+p}var y={\"x-placement\":e.placement};return e.attributes=C({},y,e.attributes),e.styles=C({},c,e.styles),e.arrowStyles=C({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:\"bottom\",y:\"right\"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Y(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,a){var o=M(a,t,e,n.positionFixed),i=N(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute(\"x-placement\",i),Y(t,{position:n.positionFixed?\"fixed\":\"absolute\"}),n},gpuAcceleration:void 0}}},te=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=C({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=C({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return C({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return k(e,[{key:\"update\",value:function(){return F.call(this)}},{key:\"destroy\",value:function(){return B.call(this)}},{key:\"enableEventListeners\",value:function(){return q.call(this)}},{key:\"disableEventListeners\",value:function(){return V.call(this)}}]),e}();te.Utils=(\"undefined\"!=typeof window?window:e).PopperUtils,te.placements=$,te.Defaults=ee,t.a=te}).call(this,n(47))},function(e,t,n){\"use strict\";t.__esModule=!0;var r=o(n(2)),a=o(n(222));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||a.default,e.exports=t.default},function(e,t,n){\"use strict\";t.__esModule=!0;var r=n(2),a=(i(r),i(n(44))),o=i(n(223));i(n(224));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;t.default=function(e,t){var n,i,d=\"__create-react-context-\"+(0,o.default)()+\"__\",p=function(e){function n(){var t,r,a,o;s(this,n);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return t=r=u(this,e.call.apply(e,[this].concat(c))),r.emitter=(a=r.props.value,o=[],{on:function(e){o.push(e)},off:function(e){o=o.filter((function(t){return t!==e}))},get:function(){return a},set:function(e,t){a=e,o.forEach((function(e){return e(a,t)}))}}),u(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,a=void 0;((o=n)===(i=r)?0!==o||1/o==1/i:o!=o&&i!=i)?a=0:(a=\"function\"==typeof t?t(n,r):l,0!==(a|=0)&&this.emitter.set(e.value,a))}var o,i},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[d]=a.default.object.isRequired,n);var f=function(t){function n(){var e,r;s(this,n);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?l:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?l:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[d]=a.default.object,i),{Provider:p,Consumer:f}},e.exports=t.default},function(e,t,n){\"use strict\";(function(t){var n=\"__global_unique_id__\";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(47))},function(e,t,n){\"use strict\";var r=n(225);e.exports=r},function(e,t,n){\"use strict\";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return p}));var r=n(87),a=n(110),o=36e5,i=6e4,s=2,u={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},c=/^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/,l=/^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/,d=/^([+-])(\\d{2})(?::?(\\d{2}))?$/;function p(e,t){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var n=t||{},p=null==n.additionalDigits?s:Object(r.a)(n.additionalDigits);if(2!==p&&1!==p&&0!==p)throw new RangeError(\"additionalDigits must be 0, 1 or 2\");if(\"string\"!=typeof e&&\"[object String]\"!==Object.prototype.toString.call(e))return new Date(NaN);var v,b=function(e){var t,n={},r=e.split(u.dateTimeDelimiter);/:/.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],u.timeZoneDelimiter.test(n.date)&&(n.date=e.split(u.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var a=u.timezone.exec(t);a?(n.time=t.replace(a[1],\"\"),n.timezone=a[1]):n.time=t}return n}(e);if(b.date){var y=function(e,t){var n=new RegExp(\"^(?:(\\\\d{4}|[+-]\\\\d{\"+(4+t)+\"})|(\\\\d{2}|[+-]\\\\d{\"+(2+t)+\"})$)\"),r=e.match(n);if(!r)return{year:null};var a=r[1]&&parseInt(r[1]),o=r[2]&&parseInt(r[2]);return{year:null==o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(b.date,p);v=function(e,t){if(null===t)return null;var n=e.match(c);if(!n)return null;var r=!!n[4],a=f(n[1]),o=f(n[2])-1,i=f(n[3]),s=f(n[4]),u=f(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,u)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=r.getUTCDay()||7,o=7*(t-1)+n+1-a;return r.setUTCDate(r.getUTCDate()+o),r}(t,s,u):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(m[t]||(g(e)?29:28))}(t,o,i)&&function(e,t){return t>=1&&t<=(g(e)?366:365)}(t,a)?(l.setUTCFullYear(t,o,Math.max(a,i)),l):new Date(NaN)}(y.restDateString,y.year)}if(isNaN(v)||!v)return new Date(NaN);var E,w=v.getTime(),k=0;if(b.time&&(k=function(e){var t=e.match(l);if(!t)return null;var n=h(t[1]),r=h(t[2]),a=h(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a))return NaN;return n*o+r*i+1e3*a}(b.time),isNaN(k)||null===k))return new Date(NaN);if(b.timezone){if(E=function(e){if(\"Z\"===e)return 0;var t=e.match(d);if(!t)return 0;var n=\"+\"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return n*(r*o+a*i)}(b.timezone),isNaN(E))return new Date(NaN)}else{var O=w+k,C=new Date(O);E=Object(a.a)(C);var D=new Date(O);D.setDate(C.getDate()+1);var S=Object(a.a)(D)-E;S>0&&(E+=S)}return new Date(w+k+E)}function f(e){return e?parseInt(e):1}function h(e){return e&&parseFloat(e.replace(\",\",\".\"))||0}var m=[31,null,31,30,31,30,31,31,30,31,30,31];function g(e){return e%400==0||e%4==0&&e%100}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(e),a=Object(r.a)(t);return n.getTime()>a.getTime()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(85);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),o=Object(r.a)(t);return n.setHours(o),n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(85);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),o=Object(r.a)(t);return n.setMinutes(o),n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(85);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),o=Object(r.a)(t);return n.setSeconds(o),n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(85);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),o=Object(r.a)(t);return n.setMonth(0),n.setDate(o),n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(85),a=n(87);function o(e,t){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var n=t||{},o=n.locale,i=o&&o.options&&o.options.weekStartsOn,s=null==i?0:Object(a.a)(i),u=null==n.weekStartsOn?s:Object(a.a)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");var c=Object(r.a)(e),l=c.getDay(),d=6+(l<u?-7:0)-(l-u);return c.setDate(c.getDate()+d),c.setHours(23,59,59,999),c}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(175),a=n(110),o=6048e5;function i(e,t,n){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var i=Object(r.a)(e,n),s=Object(r.a)(t,n),u=i.getTime()-Object(a.a)(i),c=s.getTime()-Object(a.a)(s);return Math.round((u-c)/o)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(r.a)(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(r.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(e),a=Object(r.a)(t);return n.getFullYear()===a.getFullYear()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(e),a=Object(r.a)(t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(152);function a(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(e),a=Object(r.a)(t);return n.getTime()===a.getTime()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(e),a=Object(r.a)(t);return n.getTime()===a.getTime()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=t||{},a=Object(r.a)(e).getTime(),o=Object(r.a)(n.start).getTime(),i=Object(r.a)(n.end).getTime();if(!(o<=i))throw new RangeError(\"Invalid interval\");return a>=o&&a<=i}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(87),a=n(85),o=n(176);function i(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),i=Object(r.a)(t),s=n.getFullYear(),u=n.getDate(),c=new Date(0);c.setFullYear(s,i,15),c.setHours(0,0,0,0);var l=Object(o.a)(c);return n.setMonth(i,Math.min(u,l)),n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return Object(r.a)(e).getFullYear()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return Object(r.a)(e).getMonth()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(110),a=n(152),o=864e5;function i(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),i=Object(a.a)(t),s=n.getTime()-Object(r.a)(n),u=i.getTime()-Object(r.a)(i);return Math.round((s-u)/o)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return Object(r.a)(e).getHours()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return Object(r.a)(e).getMinutes()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(153);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(t);return Object(a.a)(e,-n)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(e),a=Object(r.a)(t);return 12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth())}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t,n;if(e&&\"function\"==typeof e.forEach)t=e;else{if(\"object\"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(r.a)(e);(void 0===n||n>t||isNaN(t))&&(n=t)})),n||new Date(NaN)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t,n;if(e&&\"function\"==typeof e.forEach)t=e;else{if(\"object\"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=Object(r.a)(e);(void 0===n||n<t||isNaN(t))&&(n=t)})),n||new Date(NaN)}},function(e,t,n){\"use strict\";function r(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return e instanceof Date||\"object\"==typeof e&&\"[object Date]\"===Object.prototype.toString.call(e)}n.d(t,\"a\",(function(){return r}))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(87),a=n(151),o=6e4;function i(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(t);return Object(a.a)(e,n*o)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var r=n(87),a=n(151),o=36e5;function i(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(t);return Object(a.a)(e,n*o)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(e),a=Object(r.a)(t);return n.getTime()<a.getTime()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return Object(r.a)(e).getTime()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return Object(r.a)(e).getDay()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return Object(r.a)(e).getDate()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(85);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(a.a)(e),o=Object(r.a)(t);return isNaN(n)?new Date(NaN):(n.setFullYear(o),n)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(178);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(t);return Object(a.a)(e,-n)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var r=n(85);function a(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");return Object(r.a)(e).getSeconds()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(154);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(t);return Object(a.a)(e,-n)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var r=n(87),a=n(177);function o(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(r.a)(t);return Object(a.a)(e,-n)}},function(e,t,n){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String(\"abc\");if(e[5]=\"de\",\"5\"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(\"\"))return!1;var r={};return\"abcdefghijklmnopqrst\".split(\"\").forEach((function(e){r[e]=e})),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},r)).join(\"\")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=i(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t,n){\"use strict\";var r=function(e){};e.exports=function(e,t,n,a,o,i,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[n,a,o,i,s,u],d=0;(c=new Error(t.replace(/%s/g,(function(){return l[d++]})))).name=\"Invariant Violation\"}throw c.framesToPop=1,c}}},function(e,t,n){\"use strict\";(function(e){n.d(t,\"b\",(function(){return i})),n.d(t,\"a\",(function(){return s}));var r=n(283),a=void 0!==e?e:{},o=Object(r.a)(a),i=(o.flush,o.hydrate,o.cx,o.merge,o.getRegisteredStyles,o.injectGlobal),s=(o.keyframes,o.css);o.sheet,o.caches}).call(this,n(47))},function(e,t,n){e.exports=function(){\"use strict\";return function(e){function t(t){if(t)try{e(t+\"}\")}catch(e){}}return function(n,r,a,o,i,s,u,c,l,d){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+\";\"),\"\";break;case 2:if(0===c)return r+\"/*|*/\";break;case 3:switch(c){case 102:case 112:return e(a[0]+r),\"\";default:return r+(0===d?\"/*|*/\":\"\")}case-2:r.split(\"/*|*/}\").forEach(t)}}}}()},function(e,t,n){(function(t){for(var r=n(268),a=\"undefined\"==typeof window?t:window,o=[\"moz\",\"webkit\"],i=\"AnimationFrame\",s=a[\"request\"+i],u=a[\"cancel\"+i]||a[\"cancelRequest\"+i],c=0;!s&&c<o.length;c++)s=a[o[c]+\"Request\"+i],u=a[o[c]+\"Cancel\"+i]||a[o[c]+\"CancelRequest\"+i];if(!s||!u){var l=0,d=0,p=[];s=function(e){if(0===p.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(a,e)},e.exports.cancel=function(){u.apply(a,arguments)},e.exports.polyfill=function(e){e||(e=a),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(this,n(47))},function(e,t,n){(function(t){(function(){var n,r,a,o,i,s;\"undefined\"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),i=o-s):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(this,n(48))},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),i=u(o),s=u(n(44));function u(e){return e&&e.__esModule?e:{default:e}}var c={position:\"absolute\",top:0,left:0,visibility:\"hidden\",height:0,overflow:\"scroll\",whiteSpace:\"pre\"},l=[\"extraWidth\",\"injectStyles\",\"inputClassName\",\"inputRef\",\"inputStyle\",\"minWidth\",\"onAutosize\",\"placeholderIsMinWidth\"],d=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!(\"undefined\"==typeof window||!window.navigator)&&/MSIE |Trident\\/|Edge\\//.test(window.navigator.userAgent),f=function(){return p?\"_\"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,\"function\"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||f()},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:\"componentDidMount\",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:\"componentWillReceiveProps\",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||f()})}},{key:\"componentDidUpdate\",value:function(e,t){t.inputWidth!==this.state.inputWidth&&\"function\"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:\"componentWillUnmount\",value:function(){this.mounted=!1}},{key:\"copyInputStyles\",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(d(e,this.sizer),this.placeHolderSizer&&d(e,this.placeHolderSizer))}}},{key:\"updateInputWidth\",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+=\"number\"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:\"getInput\",value:function(){return this.input}},{key:\"focus\",value:function(){this.input.focus()}},{key:\"blur\",value:function(){this.input.blur()}},{key:\"select\",value:function(){this.input.select()}},{key:\"renderStyles\",value:function(){var e=this.props.injectStyles;return p&&e?i.default.createElement(\"style\",{dangerouslySetInnerHTML:{__html:\"input#\"+this.state.inputId+\"::-ms-clear {display: none;}\"}}):null}},{key:\"render\",value:function(){var e=[this.props.defaultValue,this.props.value,\"\"].reduce((function(e,t){return null!=e?e:t})),t=r({},this.props.style);t.display||(t.display=\"inline-block\");var n=r({boxSizing:\"content-box\",width:this.state.inputWidth+\"px\"},this.props.inputStyle),a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){l.forEach((function(t){return delete e[t]}))}(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=n,i.default.createElement(\"div\",{className:this.props.className,style:t},this.renderStyles(),i.default.createElement(\"input\",r({},a,{ref:this.inputRef})),i.default.createElement(\"div\",{ref:this.sizerRef,style:c},e),this.props.placeholder?i.default.createElement(\"div\",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(o.Component);h.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},function(e,t,n){\"use strict\";var r=s(n(271)),a=s(n(276)),o=s(n(196)),i=s(n(193));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:o.default,ReplaceTransition:a.default,CSSTransition:r.default}},function(e,t,n){\"use strict\";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(44));var r=s(n(272)),a=s(n(275)),o=s(n(2)),i=s(n(193));n(195);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(\" \").forEach((function(t){return(0,r.default)(e,t)}))},l=function(e,t){return e&&t&&t.split(\" \").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?\"appear\":\"enter\").className;t.removeClasses(e,\"exit\"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?\"appear\":\"enter\").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames(\"appear\").doneClassName,a=t.getClassNames(\"enter\").doneClassName,o=n?r+\" \"+a:a;t.removeClasses(e,n?\"appear\":\"enter\"),c(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames(\"exit\").className;t.removeClasses(e,\"appear\"),t.removeClasses(e,\"enter\"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames(\"exit\").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames(\"exit\").doneClassName;t.removeClasses(e,\"exit\"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r=\"string\"==typeof n,a=r?(r&&n?n+\"-\":\"\")+e:n[e];return{className:a,activeClassName:r?a+\"-active\":n[e+\"Active\"],doneClassName:r?a+\"-done\":n[e+\"Done\"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,a=n.activeClassName,o=n.doneClassName;r&&l(e,r),a&&l(e,a),o&&l(e,o)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},a.render=function(){var e=u({},this.props);return delete e.classNames,o.default.createElement(i.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);d.defaultProps={classNames:\"\"},d.propTypes={};var p=d;t.default=p,e.exports=t.default},function(e,t,n){\"use strict\";var r=n(273);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||(\"string\"==typeof e.className?e.className=e.className+\" \"+t:e.setAttribute(\"class\",(e.className&&e.className.baseVal||\"\")+\" \"+t))};var a=r(n(274));e.exports=t.default},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){\"use strict\";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(\" \"+(e.className.baseVal||e.className)+\" \").indexOf(\" \"+t+\" \")},e.exports=t.default},function(e,t,n){\"use strict\";function r(e,t){return e.replace(new RegExp(\"(^|\\\\s)\"+t+\"(?:\\\\s|$)\",\"g\"),\"$1\").replace(/\\s+/g,\" \").replace(/^\\s*|\\s*$/g,\"\")}e.exports=function(e,t){e.classList?e.classList.remove(t):\"string\"==typeof e.className?e.className=r(e.className,t):e.setAttribute(\"class\",r(e.className&&e.className.baseVal||\"\",t))}},function(e,t,n){\"use strict\";t.__esModule=!0,t.default=void 0;i(n(44));var r=i(n(2)),a=n(55),o=i(n(196));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle(\"onEnter\",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle(\"onEntering\",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle(\"onEntered\",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle(\"onExit\",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle(\"onExiting\",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle(\"onExited\",1,n)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.handleLifecycle=function(e,t,n){var o,i=this.props.children,s=r.default.Children.toArray(i)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,[\"children\",\"in\"]),i=r.default.Children.toArray(t),s=i[0],u=i[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,r.default.createElement(o.default,a,n?r.default.cloneElement(s,{key:\"first\",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:\"second\",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(r.default.Component);s.propTypes={};var u=s;t.default=u,e.exports=t.default},function(e,t,n){\"use strict\";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,\"appear\",e),enter:i(n,\"enter\",e),exit:i(n,\"exit\",e)})}))},t.getNextChildMapping=function(e,t,n){var s=a(e.children),u=o(t,s);return Object.keys(u).forEach((function(a){var o=u[a];if((0,r.isValidElement)(o)){var c=a in t,l=a in s,d=t[a],p=(0,r.isValidElement)(d)&&!d.props.in;!l||c&&!p?l||!c||p?l&&c&&(0,r.isValidElement)(d)&&(u[a]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:d.props.in,exit:i(o,\"exit\",e),enter:i(o,\"enter\",e)})):u[a]=(0,r.cloneElement)(o,{in:!1}):u[a]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:i(o,\"exit\",e),enter:i(o,\"enter\",e)})}})),u};var r=n(2);function a(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),o=[];for(var i in e)i in t?o.length&&(a[i]=o,o=[]):o.push(i);var s={};for(var u in t){if(a[u])for(r=0;r<a[u].length;r++){var c=a[u][r];s[a[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t){e.exports=Array.isArray||function(e){return\"[object Array]\"==Object.prototype.toString.call(e)}},function(e,t,n){\"use strict\";var r=n(2),a=n.n(r),o=n(44),i=n.n(o),s=n(280),u=n.n(s),c=n(211),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,[\"wrappedComponentRef\"]);return a.a.createElement(c.a,{children:function(t){return a.a.createElement(e,l({},r,t,{ref:n}))}})};return t.displayName=\"withRouter(\"+(e.displayName||e.name)+\")\",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:i.a.func},u()(t,e)}},function(e,t,n){\"use strict\";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,n,d){if(\"string\"!=typeof n){if(l){var p=c(n);p&&p!==l&&e(t,p,d)}var f=i(n);s&&(f=f.concat(s(n)));for(var h=0;h<f.length;++h){var m=f[h];if(!(r[m]||a[m]||d&&d[m])){var g=u(n,m);try{o(t,m,g)}catch(e){}}}return t}return t}},function(e,t,n){var r,a,o;a=[],void 0===(o=\"function\"==typeof(r=function(){return function e(t,n,r){var a,o,i=window,s=\"application/octet-stream\",u=r||s,c=t,l=!n&&!r&&c,d=document.createElement(\"a\"),p=function(e){return String(e)},f=i.Blob||i.MozBlob||i.WebKitBlob||p,h=n||\"download\";if(f=f.call?f.bind(i):Blob,\"true\"===String(this)&&(u=(c=[c,u])[0],c=c[1]),l&&l.length<2048&&(h=l.split(\"/\").pop().split(\"?\")[0],d.href=l,-1!==d.href.indexOf(l))){var m=new XMLHttpRequest;return m.open(\"GET\",l,!0),m.responseType=\"blob\",m.onload=function(t){e(t.target.response,h,s)},setTimeout((function(){m.send()}),0),m}if(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&f!==p))return navigator.msSaveBlob?navigator.msSaveBlob(y(c),h):E(c);u=(c=y(c)).type||s}else if(/([\\x80-\\xff])/.test(c)){for(var g=0,v=new Uint8Array(c.length),b=v.length;g<b;++g)v[g]=c.charCodeAt(g);c=new f([v],{type:u})}function y(e){for(var t=e.split(/[:;,]/),n=t[1],r=(\"base64\"==t[2]?atob:decodeURIComponent)(t.pop()),a=r.length,o=0,i=new Uint8Array(a);o<a;++o)i[o]=r.charCodeAt(o);return new f([i],{type:n})}function E(e,t){if(\"download\"in d)return d.href=e,d.setAttribute(\"download\",h),d.className=\"download-js-link\",d.innerHTML=\"downloading...\",d.style.display=\"none\",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent))return/^data:/.test(e)&&(e=\"data:\"+e.replace(/^data:([\\w\\/\\-\\+]+)/,s)),window.open(e)||confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")&&(location.href=e),!0;var n=document.createElement(\"iframe\");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e=\"data:\"+e.replace(/^data:([\\w\\/\\-\\+]+)/,s)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(a=c instanceof f?c:new f([c],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(a,h);if(i.URL)E(i.URL.createObjectURL(a),!0);else{if(\"string\"==typeof a||a.constructor===p)try{return E(\"data:\"+u+\";base64,\"+i.btoa(a))}catch(e){return E(\"data:\"+u+\",\"+encodeURIComponent(a))}(o=new FileReader).onload=function(e){E(this.result)},o.readAsDataURL(a)}return!0}})?r.apply(t,a):r)||(e.exports=o)},function(e,t,n){\"use strict\";var r=n(205),a=n(173),o=n(85);function i(e,t){if(null==e)throw new TypeError(\"assign requires that input parameter not be null or undefined\");for(var n in t=t||{})t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var s=n(170),u=n(110),c=n(171),l=n(87),d=n(150);function p(e,t,n){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var r=n||{},a=r.locale,i=a&&a.options&&a.options.weekStartsOn,s=null==i?0:Object(l.a)(i),u=null==r.weekStartsOn?s:Object(l.a)(r.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");var c=Object(o.a)(e),d=Object(l.a)(t),p=((d%7+7)%7<u?7:0)+d-c.getUTCDay();return c.setUTCDate(c.getUTCDate()+p),c}var f=n(215);var h=n(214);var m=n(122),g=n(121),v=36e5,b=6e4,y=1e3,E={month:/^(1[0-2]|0?\\d)/,date:/^(3[0-1]|[0-2]?\\d)/,dayOfYear:/^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/,week:/^(5[0-3]|[0-4]?\\d)/,hour23h:/^(2[0-3]|[0-1]?\\d)/,hour24h:/^(2[0-4]|[0-1]?\\d)/,hour11h:/^(1[0-1]|0?\\d)/,hour12h:/^(1[0-2]|0?\\d)/,minute:/^[0-5]?\\d/,second:/^[0-5]?\\d/,singleDigit:/^\\d/,twoDigits:/^\\d{1,2}/,threeDigits:/^\\d{1,3}/,fourDigits:/^\\d{1,4}/,anyDigitsSigned:/^-?\\d+/,singleDigitSigned:/^-?\\d/,twoDigitsSigned:/^-?\\d{1,2}/,threeDigitsSigned:/^-?\\d{1,3}/,fourDigitsSigned:/^-?\\d{1,4}/},w=/^([+-])(\\d{2})(\\d{2})?|Z/,k=/^([+-])(\\d{2})(\\d{2})|Z/,O=/^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,C=/^([+-])(\\d{2}):(\\d{2})|Z/,D=/^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/;function S(e,t,n){var r=t.match(e);if(!r)return null;var a=parseInt(r[0],10);return{value:n?n(a):a,rest:t.slice(r[0].length)}}function j(e,t){var n=t.match(e);if(!n)return null;if(\"Z\"===n[0])return{value:0,rest:t.slice(1)};var r=\"+\"===n[1]?1:-1,a=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(a*v+o*b+i*y),rest:t.slice(n[0].length)}}function T(e,t){return S(E.anyDigitsSigned,e,t)}function x(e,t,n){switch(e){case 1:return S(E.singleDigit,t,n);case 2:return S(E.twoDigits,t,n);case 3:return S(E.threeDigits,t,n);case 4:return S(E.fourDigits,t,n);default:return S(new RegExp(\"^\\\\d{1,\"+e+\"}\"),t,n)}}function N(e,t,n){switch(e){case 1:return S(E.singleDigitSigned,t,n);case 2:return S(E.twoDigitsSigned,t,n);case 3:return S(E.threeDigitsSigned,t,n);case 4:return S(E.fourDigitsSigned,t,n);default:return S(new RegExp(\"^-?\\\\d{1,\"+e+\"}\"),t,n)}}function M(e){switch(e){case\"morning\":return 4;case\"evening\":return 17;case\"pm\":case\"noon\":case\"afternoon\":return 12;case\"am\":case\"midnight\":case\"night\":default:return 0}}function I(e,t){var n,r=t>0,a=r?t:1-t;if(a<=50)n=e||100;else{var o=a+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}var P=[31,28,31,30,31,30,31,31,30,31,30,31],A=[31,29,31,30,31,30,31,31,30,31,30,31];function _(e){return e%400==0||e%4==0&&e%100!=0}var L={G:{priority:140,parse:function(e,t,n,r){switch(t){case\"G\":case\"GG\":case\"GGG\":return n.era(e,{width:\"abbreviated\"})||n.era(e,{width:\"narrow\"});case\"GGGGG\":return n.era(e,{width:\"narrow\"});case\"GGGG\":default:return n.era(e,{width:\"wide\"})||n.era(e,{width:\"abbreviated\"})||n.era(e,{width:\"narrow\"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"R\",\"u\",\"t\",\"T\"]},y:{priority:130,parse:function(e,t,n,r){var a=function(e){return{year:e,isTwoDigitYear:\"yy\"===t}};switch(t){case\"y\":return x(4,e,a);case\"yo\":return n.ordinalNumber(e,{unit:\"year\",valueCallback:a});default:return x(t.length,e,a)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var a=e.getUTCFullYear();if(n.isTwoDigitYear){var o=I(n.year,a);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var i=\"era\"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"Y\",\"R\",\"u\",\"w\",\"I\",\"i\",\"e\",\"c\",\"t\",\"T\"]},Y:{priority:130,parse:function(e,t,n,r){var a=function(e){return{year:e,isTwoDigitYear:\"YY\"===t}};switch(t){case\"Y\":return x(4,e,a);case\"Yo\":return n.ordinalNumber(e,{unit:\"year\",valueCallback:a});default:return x(t.length,e,a)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var a=Object(d.a)(e,r);if(n.isTwoDigitYear){var o=I(n.year,a);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(g.a)(e,r)}var i=\"era\"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(g.a)(e,r)},incompatibleTokens:[\"y\",\"R\",\"u\",\"Q\",\"q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"i\",\"t\",\"T\"]},R:{priority:130,parse:function(e,t,n,r){return N(\"R\"===t?4:t.length,e)},set:function(e,t,n,r){var a=new Date(0);return a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0),Object(m.a)(a)},incompatibleTokens:[\"G\",\"y\",\"Y\",\"u\",\"Q\",\"q\",\"M\",\"L\",\"w\",\"d\",\"D\",\"e\",\"c\",\"t\",\"T\"]},u:{priority:130,parse:function(e,t,n,r){return N(\"u\"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"G\",\"y\",\"Y\",\"R\",\"w\",\"I\",\"i\",\"e\",\"c\",\"t\",\"T\"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case\"Q\":case\"QQ\":return x(t.length,e);case\"Qo\":return n.ordinalNumber(e,{unit:\"quarter\"});case\"QQQ\":return n.quarter(e,{width:\"abbreviated\",context:\"formatting\"})||n.quarter(e,{width:\"narrow\",context:\"formatting\"});case\"QQQQQ\":return n.quarter(e,{width:\"narrow\",context:\"formatting\"});case\"QQQQ\":default:return n.quarter(e,{width:\"wide\",context:\"formatting\"})||n.quarter(e,{width:\"abbreviated\",context:\"formatting\"})||n.quarter(e,{width:\"narrow\",context:\"formatting\"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"Y\",\"R\",\"q\",\"M\",\"L\",\"w\",\"I\",\"d\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case\"q\":case\"qq\":return x(t.length,e);case\"qo\":return n.ordinalNumber(e,{unit:\"quarter\"});case\"qqq\":return n.quarter(e,{width:\"abbreviated\",context:\"standalone\"})||n.quarter(e,{width:\"narrow\",context:\"standalone\"});case\"qqqqq\":return n.quarter(e,{width:\"narrow\",context:\"standalone\"});case\"qqqq\":default:return n.quarter(e,{width:\"wide\",context:\"standalone\"})||n.quarter(e,{width:\"abbreviated\",context:\"standalone\"})||n.quarter(e,{width:\"narrow\",context:\"standalone\"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"Y\",\"R\",\"Q\",\"M\",\"L\",\"w\",\"I\",\"d\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]},M:{priority:110,parse:function(e,t,n,r){var a=function(e){return e-1};switch(t){case\"M\":return S(E.month,e,a);case\"MM\":return x(2,e,a);case\"Mo\":return n.ordinalNumber(e,{unit:\"month\",valueCallback:a});case\"MMM\":return n.month(e,{width:\"abbreviated\",context:\"formatting\"})||n.month(e,{width:\"narrow\",context:\"formatting\"});case\"MMMMM\":return n.month(e,{width:\"narrow\",context:\"formatting\"});case\"MMMM\":default:return n.month(e,{width:\"wide\",context:\"formatting\"})||n.month(e,{width:\"abbreviated\",context:\"formatting\"})||n.month(e,{width:\"narrow\",context:\"formatting\"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"Y\",\"R\",\"q\",\"Q\",\"L\",\"w\",\"I\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]},L:{priority:110,parse:function(e,t,n,r){var a=function(e){return e-1};switch(t){case\"L\":return S(E.month,e,a);case\"LL\":return x(2,e,a);case\"Lo\":return n.ordinalNumber(e,{unit:\"month\",valueCallback:a});case\"LLL\":return n.month(e,{width:\"abbreviated\",context:\"standalone\"})||n.month(e,{width:\"narrow\",context:\"standalone\"});case\"LLLLL\":return n.month(e,{width:\"narrow\",context:\"standalone\"});case\"LLLL\":default:return n.month(e,{width:\"wide\",context:\"standalone\"})||n.month(e,{width:\"abbreviated\",context:\"standalone\"})||n.month(e,{width:\"narrow\",context:\"standalone\"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"Y\",\"R\",\"q\",\"Q\",\"M\",\"w\",\"I\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case\"w\":return S(E.week,e);case\"wo\":return n.ordinalNumber(e,{unit:\"week\"});default:return x(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Object(g.a)(function(e,t,n){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var r=Object(o.a)(e),a=Object(l.a)(t),i=Object(h.a)(r,n)-a;return r.setUTCDate(r.getUTCDate()-7*i),r}(e,n,r),r)},incompatibleTokens:[\"y\",\"R\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"i\",\"t\",\"T\"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case\"I\":return S(E.week,e);case\"Io\":return n.ordinalNumber(e,{unit:\"week\"});default:return x(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return Object(m.a)(function(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(o.a)(e),r=Object(l.a)(t),a=Object(f.a)(n)-r;return n.setUTCDate(n.getUTCDate()-7*a),n}(e,n,r),r)},incompatibleTokens:[\"y\",\"Y\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"w\",\"d\",\"D\",\"e\",\"c\",\"t\",\"T\"]},d:{priority:90,parse:function(e,t,n,r){switch(t){case\"d\":return S(E.date,e);case\"do\":return n.ordinalNumber(e,{unit:\"date\"});default:return x(t.length,e)}},validate:function(e,t,n){var r=_(e.getUTCFullYear()),a=e.getUTCMonth();return r?t>=1&&t<=A[a]:t>=1&&t<=P[a]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"Y\",\"R\",\"q\",\"Q\",\"w\",\"I\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]},D:{priority:90,parse:function(e,t,n,r){switch(t){case\"D\":case\"DD\":return S(E.dayOfYear,e);case\"Do\":return n.ordinalNumber(e,{unit:\"date\"});default:return x(t.length,e)}},validate:function(e,t,n){return _(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"Y\",\"R\",\"q\",\"Q\",\"M\",\"L\",\"w\",\"I\",\"d\",\"E\",\"i\",\"e\",\"c\",\"t\",\"T\"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case\"E\":case\"EE\":case\"EEE\":return n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"EEEEE\":return n.day(e,{width:\"narrow\",context:\"formatting\"});case\"EEEEEE\":return n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"EEEE\":default:return n.day(e,{width:\"wide\",context:\"formatting\"})||n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:[\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]},e:{priority:90,parse:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case\"e\":case\"ee\":return x(t.length,e,a);case\"eo\":return n.ordinalNumber(e,{unit:\"day\",valueCallback:a});case\"eee\":return n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"eeeee\":return n.day(e,{width:\"narrow\",context:\"formatting\"});case\"eeeeee\":return n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"eeee\":default:return n.day(e,{width:\"wide\",context:\"formatting\"})||n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:[\"y\",\"R\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"E\",\"i\",\"c\",\"t\",\"T\"]},c:{priority:90,parse:function(e,t,n,r){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case\"c\":case\"cc\":return x(t.length,e,a);case\"co\":return n.ordinalNumber(e,{unit:\"day\",valueCallback:a});case\"ccc\":return n.day(e,{width:\"abbreviated\",context:\"standalone\"})||n.day(e,{width:\"short\",context:\"standalone\"})||n.day(e,{width:\"narrow\",context:\"standalone\"});case\"ccccc\":return n.day(e,{width:\"narrow\",context:\"standalone\"});case\"cccccc\":return n.day(e,{width:\"short\",context:\"standalone\"})||n.day(e,{width:\"narrow\",context:\"standalone\"});case\"cccc\":default:return n.day(e,{width:\"wide\",context:\"standalone\"})||n.day(e,{width:\"abbreviated\",context:\"standalone\"})||n.day(e,{width:\"short\",context:\"standalone\"})||n.day(e,{width:\"narrow\",context:\"standalone\"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,r){return(e=p(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:[\"y\",\"R\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"E\",\"i\",\"e\",\"t\",\"T\"]},i:{priority:90,parse:function(e,t,n,r){var a=function(e){return 0===e?7:e};switch(t){case\"i\":case\"ii\":return x(t.length,e);case\"io\":return n.ordinalNumber(e,{unit:\"day\"});case\"iii\":return n.day(e,{width:\"abbreviated\",context:\"formatting\",valueCallback:a})||n.day(e,{width:\"short\",context:\"formatting\",valueCallback:a})||n.day(e,{width:\"narrow\",context:\"formatting\",valueCallback:a});case\"iiiii\":return n.day(e,{width:\"narrow\",context:\"formatting\",valueCallback:a});case\"iiiiii\":return n.day(e,{width:\"short\",context:\"formatting\",valueCallback:a})||n.day(e,{width:\"narrow\",context:\"formatting\",valueCallback:a});case\"iiii\":default:return n.day(e,{width:\"wide\",context:\"formatting\",valueCallback:a})||n.day(e,{width:\"abbreviated\",context:\"formatting\",valueCallback:a})||n.day(e,{width:\"short\",context:\"formatting\",valueCallback:a})||n.day(e,{width:\"narrow\",context:\"formatting\",valueCallback:a})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=function(e,t){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(l.a)(t);n%7==0&&(n-=7);var r=Object(o.a)(e),a=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+a),r}(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:[\"y\",\"Y\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"w\",\"d\",\"D\",\"E\",\"e\",\"c\",\"t\",\"T\"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case\"a\":case\"aa\":case\"aaa\":return n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"aaaaa\":return n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"aaaa\":default:return n.dayPeriod(e,{width:\"wide\",context:\"formatting\"})||n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"})}},set:function(e,t,n,r){return e.setUTCHours(M(n),0,0,0),e},incompatibleTokens:[\"b\",\"B\",\"H\",\"K\",\"k\",\"t\",\"T\"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case\"b\":case\"bb\":case\"bbb\":return n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"bbbbb\":return n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"bbbb\":default:return n.dayPeriod(e,{width:\"wide\",context:\"formatting\"})||n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"})}},set:function(e,t,n,r){return e.setUTCHours(M(n),0,0,0),e},incompatibleTokens:[\"a\",\"B\",\"H\",\"K\",\"k\",\"t\",\"T\"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case\"B\":case\"BB\":case\"BBB\":return n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"BBBBB\":return n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"BBBB\":default:return n.dayPeriod(e,{width:\"wide\",context:\"formatting\"})||n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"})}},set:function(e,t,n,r){return e.setUTCHours(M(n),0,0,0),e},incompatibleTokens:[\"a\",\"b\",\"t\",\"T\"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case\"h\":return S(E.hour12h,e);case\"ho\":return n.ordinalNumber(e,{unit:\"hour\"});default:return x(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var a=e.getUTCHours()>=12;return a&&n<12?e.setUTCHours(n+12,0,0,0):a||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:[\"H\",\"K\",\"k\",\"t\",\"T\"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case\"H\":return S(E.hour23h,e);case\"Ho\":return n.ordinalNumber(e,{unit:\"hour\"});default:return x(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:[\"a\",\"b\",\"h\",\"K\",\"k\",\"t\",\"T\"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case\"K\":return S(E.hour11h,e);case\"Ko\":return n.ordinalNumber(e,{unit:\"hour\"});default:return x(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:[\"a\",\"b\",\"h\",\"H\",\"k\",\"t\",\"T\"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case\"k\":return S(E.hour24h,e);case\"ko\":return n.ordinalNumber(e,{unit:\"hour\"});default:return x(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var a=n<=24?n%24:n;return e.setUTCHours(a,0,0,0),e},incompatibleTokens:[\"a\",\"b\",\"h\",\"H\",\"K\",\"t\",\"T\"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case\"m\":return S(E.minute,e);case\"mo\":return n.ordinalNumber(e,{unit:\"minute\"});default:return x(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:[\"t\",\"T\"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case\"s\":return S(E.second,e);case\"so\":return n.ordinalNumber(e,{unit:\"second\"});default:return x(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:[\"t\",\"T\"]},S:{priority:30,parse:function(e,t,n,r){return x(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:[\"t\",\"T\"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case\"X\":return j(w,e);case\"XX\":return j(k,e);case\"XXXX\":return j(O,e);case\"XXXXX\":return j(D,e);case\"XXX\":default:return j(C,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:[\"t\",\"T\",\"x\"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case\"x\":return j(w,e);case\"xx\":return j(k,e);case\"xxxx\":return j(O,e);case\"xxxxx\":return j(D,e);case\"xxx\":default:return j(C,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:[\"t\",\"T\",\"X\"]},t:{priority:40,parse:function(e,t,n,r){return T(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:\"*\"},T:{priority:20,parse:function(e,t,n,r){return T(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:\"*\"}};n.d(t,\"a\",(function(){return V}));var F=10,R=/[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g,U=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B=/^'(.*?)'?$/,H=/''/g,W=/\\S/,q=/[a-zA-Z]/;function V(e,t,n,d){if(arguments.length<3)throw new TypeError(\"3 arguments required, but only \"+arguments.length+\" present\");var p=String(e),f=String(t),h=d||{},m=h.locale||r.a;if(!m.match)throw new RangeError(\"locale must contain match property\");var g=m.options&&m.options.firstWeekContainsDate,v=null==g?1:Object(l.a)(g),b=null==h.firstWeekContainsDate?v:Object(l.a)(h.firstWeekContainsDate);if(!(b>=1&&b<=7))throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");var y=m.options&&m.options.weekStartsOn,E=null==y?0:Object(l.a)(y),w=null==h.weekStartsOn?E:Object(l.a)(h.weekStartsOn);if(!(w>=0&&w<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");if(\"\"===f)return\"\"===p?Object(o.a)(n):new Date(NaN);var k,O={firstWeekContainsDate:b,weekStartsOn:w,locale:m},C=[{priority:F,set:G,index:0}],D=f.match(U).map((function(e){var t=e[0];return\"p\"===t||\"P\"===t?(0,s.a[t])(e,m.formatLong,O):e})).join(\"\").match(R),S=[];for(k=0;k<D.length;k++){var j=D[k];!h.useAdditionalWeekYearTokens&&Object(c.b)(j)&&Object(c.c)(j),!h.useAdditionalDayOfYearTokens&&Object(c.a)(j)&&Object(c.c)(j);var T=j[0],x=L[T];if(x){var N=x.incompatibleTokens;if(Array.isArray(N)){for(var M=void 0,I=0;I<S.length;I++){var P=S[I].token;if(-1!==N.indexOf(P)||P===T){M=S[I];break}}if(M)throw new RangeError(\"The format string mustn't contain `\".concat(M.fullToken,\"` and `\").concat(j,\"` at the same time\"))}else if(\"*\"===x.incompatibleTokens&&S.length)throw new RangeError(\"The format string mustn't contain `\".concat(j,\"` and any other token at the same time\"));S.push({token:T,fullToken:j});var A=x.parse(p,j,m.match,O);if(!A)return new Date(NaN);C.push({priority:x.priority,set:x.set,validate:x.validate,value:A.value,index:C.length}),p=A.rest}else{if(T.match(q))throw new RangeError(\"Format string contains an unescaped latin alphabet character `\"+T+\"`\");if(\"''\"===j?j=\"'\":\"'\"===T&&(j=j.match(B)[1].replace(H,\"'\")),0!==p.indexOf(j))return new Date(NaN);p=p.slice(j.length)}}if(p.length>0&&W.test(p))return new Date(NaN);var _=C.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return C.filter((function(t){return t.priority===e})).reverse()})).map((function(e){return e[0]})),V=Object(o.a)(n);if(isNaN(V))return new Date(NaN);var Y=Object(a.a)(V,Object(u.a)(V)),z={};for(k=0;k<_.length;k++){var K=_[k];if(K.validate&&!K.validate(Y,K.value,O))return new Date(NaN);var $=K.set(Y,z,K.value,O);$[0]?(Y=$[0],i(z,$[1])):Y=$}return Y}function G(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}},function(e,t,n){\"use strict\";var r=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var o=function(e){for(var t,n=e.length,r=n^n,a=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++a;switch(n){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(a)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)};var i=function(e){function t(e,t,r){var a=t.trim().split(h);t=a;var o=a.length,i=e.length;switch(i){case 0:case 1:var s=0;for(e=0===i?\"\":e[0]+\" \";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<i;++c)t[u++]=n(e[c]+\" \",a[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,\"$1\"+e.trim());case 58:return e.trim()+t.replace(m,\"$1\"+e.trim());default:if(0<1*n&&0<t.indexOf(\"\\f\"))return t.replace(m,(58===e.charCodeAt(0)?\"\":\"$1\")+e.trim())}return e+t}function r(e,t,n,o){var i=e+\";\",s=2*t+3*n+4*o;if(944===s){e=i.indexOf(\":\",9)+1;var u=i.substring(e,i.length-1).trim();return u=i.substring(0,e).trim()+u+\";\",1===x||2===x&&a(u,1)?\"-webkit-\"+u+u:u}if(0===x||2===x&&!a(i,1))return i;switch(s){case 1015:return 97===i.charCodeAt(10)?\"-webkit-\"+i+i:i;case 951:return 116===i.charCodeAt(3)?\"-webkit-\"+i+i:i;case 963:return 110===i.charCodeAt(5)?\"-webkit-\"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return\"-webkit-\"+i+i;case 978:return\"-webkit-\"+i+\"-moz-\"+i+i;case 1019:case 983:return\"-webkit-\"+i+\"-moz-\"+i+\"-ms-\"+i+i;case 883:if(45===i.charCodeAt(8))return\"-webkit-\"+i+i;if(0<i.indexOf(\"image-set(\",11))return i.replace(D,\"$1-webkit-$2\")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return\"-webkit-box-\"+i.replace(\"-grow\",\"\")+\"-webkit-\"+i+\"-ms-\"+i.replace(\"grow\",\"positive\")+i;case 115:return\"-webkit-\"+i+\"-ms-\"+i.replace(\"shrink\",\"negative\")+i;case 98:return\"-webkit-\"+i+\"-ms-\"+i.replace(\"basis\",\"preferred-size\")+i}return\"-webkit-\"+i+\"-ms-\"+i+i;case 964:return\"-webkit-\"+i+\"-ms-flex-\"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return\"-webkit-box-pack\"+(u=i.substring(i.indexOf(\":\",15)).replace(\"flex-\",\"\").replace(\"space-between\",\"justify\"))+\"-webkit-\"+i+\"-ms-flex-pack\"+u+i;case 1005:return p.test(i)?i.replace(d,\":-webkit-\")+i.replace(d,\":-moz-\")+i:i;case 1e3:switch(t=(u=i.substring(13).trim()).indexOf(\"-\")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=i.replace(y,\"tb\");break;case 232:u=i.replace(y,\"tb-rl\");break;case 220:u=i.replace(y,\"lr\");break;default:return i}return\"-webkit-\"+i+\"-ms-\"+u+i;case 1017:if(-1===i.indexOf(\"sticky\",9))break;case 975:switch(t=(i=e).length-10,s=(u=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(\":\",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:i=i.replace(u,\"-webkit-\"+u)+\";\"+i;break;case 207:case 102:i=i.replace(u,\"-webkit-\"+(102<s?\"inline-\":\"\")+\"box\")+\";\"+i.replace(u,\"-webkit-\"+u)+\";\"+i.replace(u,\"-ms-\"+u+\"box\")+\";\"+i}return i+\";\";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return u=i.replace(\"-items\",\"\"),\"-webkit-\"+i+\"-webkit-box-\"+u+\"-ms-flex-\"+u+i;case 115:return\"-webkit-\"+i+\"-ms-flex-item-\"+i.replace(k,\"\")+i;default:return\"-webkit-\"+i+\"-ms-flex-line-pack\"+i.replace(\"align-content\",\"\").replace(k,\"\")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(\":\")+1)).charCodeAt(0)?r(e.replace(\"stretch\",\"fill-available\"),t,n,o).replace(\":fill-available\",\":stretch\"):i.replace(u,\"-webkit-\"+u)+i.replace(u,\"-moz-\"+u.replace(\"fill-\",\"\"))+i;break;case 962:if(i=\"-webkit-\"+i+(102===i.charCodeAt(5)?\"-ms-\"+i:\"\")+i,211===n+o&&105===i.charCodeAt(13)&&0<i.indexOf(\"transform\",10))return i.substring(0,i.indexOf(\";\",27)+1).replace(f,\"$1-webkit-$2\")+i}return i}function a(e,t){var n=e.indexOf(1===t?\":\":\"{\"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?r:r.replace(O,\"$1\"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+\";\"?n.replace(w,\" or ($1)\").substring(4):\"(\"+t+\")\"}function i(e,t,n,r,a,o,i,s,c,l){for(var d,p=0,f=t;p<I;++p)switch(d=M[p].call(u,e,f,n,r,a,o,i,s,c,l)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(P=null,e?\"function\"!=typeof e?x=1:(x=2,P=e):x=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<I){var u=i(-1,n,s,s,j,S,0,0,0,0);void 0!==u&&\"string\"==typeof u&&(n=u)}var d=function e(n,s,u,d,p){for(var f,h,m,y,w,k=0,O=0,C=0,D=0,M=0,P=0,_=m=f=0,L=0,F=0,R=0,U=0,B=u.length,H=B-1,W=\"\",q=\"\",V=\"\",G=\"\";L<B;){if(h=u.charCodeAt(L),L===H&&0!==O+D+C+k&&(0!==O&&(h=47===O?10:47),D=C=k=0,B++,H++),0===O+D+C+k){if(L===H&&(0<F&&(W=W.replace(l,\"\")),0<W.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:W+=u.charAt(L)}h=59}switch(h){case 123:for(f=(W=W.trim()).charCodeAt(0),m=1,U=++L;L<B;){switch(h=u.charCodeAt(L)){case 123:m++;break;case 125:m--;break;case 47:switch(h=u.charCodeAt(L+1)){case 42:case 47:e:{for(_=L+1;_<H;++_)switch(u.charCodeAt(_)){case 47:if(42===h&&42===u.charCodeAt(_-1)&&L+2!==_){L=_+1;break e}break;case 10:if(47===h){L=_+1;break e}}L=_}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<H&&u.charCodeAt(L)!==h;);}if(0===m)break;L++}switch(m=u.substring(U,L),0===f&&(f=(W=W.replace(c,\"\").trim()).charCodeAt(0)),f){case 64:switch(0<F&&(W=W.replace(l,\"\")),h=W.charCodeAt(1)){case 100:case 109:case 115:case 45:F=s;break;default:F=N}if(U=(m=e(s,F,m,h,p+1)).length,0<I&&(w=i(3,m,F=t(N,W,R),s,j,S,U,h,p,d),W=F.join(\"\"),void 0!==w&&0===(U=(m=w.trim()).length)&&(h=0,m=\"\")),0<U)switch(h){case 115:W=W.replace(E,o);case 100:case 109:case 45:m=W+\"{\"+m+\"}\";break;case 107:m=(W=W.replace(g,\"$1 $2\"))+\"{\"+m+\"}\",m=1===x||2===x&&a(\"@\"+m,3)?\"@-webkit-\"+m+\"@\"+m:\"@\"+m;break;default:m=W+m,112===d&&(q+=m,m=\"\")}else m=\"\";break;default:m=e(s,t(s,W,R),m,d,p+1)}V+=m,m=R=F=_=f=0,W=\"\",h=u.charCodeAt(++L);break;case 125:case 59:if(1<(U=(W=(0<F?W.replace(l,\"\"):W).trim()).length))switch(0===_&&(f=W.charCodeAt(0),45===f||96<f&&123>f)&&(U=(W=W.replace(\" \",\":\")).length),0<I&&void 0!==(w=i(1,W,s,n,j,S,q.length,d,p,d))&&0===(U=(W=w.trim()).length)&&(W=\"\\0\\0\"),f=W.charCodeAt(0),h=W.charCodeAt(1),f){case 0:break;case 64:if(105===h||99===h){G+=W+u.charAt(L);break}default:58!==W.charCodeAt(U-1)&&(q+=r(W,f,h,W.charCodeAt(2)))}R=F=_=f=0,W=\"\",h=u.charCodeAt(++L)}}switch(h){case 13:case 10:47===O?O=0:0===1+f&&107!==d&&0<W.length&&(F=1,W+=\"\\0\"),0<I*A&&i(0,W,s,n,j,S,q.length,d,p,d),S=1,j++;break;case 59:case 125:if(0===O+D+C+k){S++;break}default:switch(S++,y=u.charAt(L),h){case 9:case 32:if(0===D+k+O)switch(M){case 44:case 58:case 9:case 32:y=\"\";break;default:32!==h&&(y=\" \")}break;case 0:y=\"\\\\0\";break;case 12:y=\"\\\\f\";break;case 11:y=\"\\\\v\";break;case 38:0===D+O+k&&(F=R=1,y=\"\\f\"+y);break;case 108:if(0===D+O+k+T&&0<_)switch(L-_){case 2:112===M&&58===u.charCodeAt(L-3)&&(T=M);case 8:111===P&&(T=P)}break;case 58:0===D+O+k&&(_=L);break;case 44:0===O+C+D+k&&(F=1,y+=\"\\r\");break;case 34:case 39:0===O&&(D=D===h?0:0===D?h:D);break;case 91:0===D+O+C&&k++;break;case 93:0===D+O+C&&k--;break;case 41:0===D+O+k&&C--;break;case 40:if(0===D+O+k){if(0===f)switch(2*M+3*P){case 533:break;default:f=1}C++}break;case 64:0===O+C+D+k+_+m&&(m=1);break;case 42:case 47:if(!(0<D+k+C))switch(O){case 0:switch(2*h+3*u.charCodeAt(L+1)){case 235:O=47;break;case 220:U=L,O=42}break;case 42:47===h&&42===M&&U+2!==L&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,L+1)),y=\"\",O=0)}}0===O&&(W+=y)}P=M,M=h,L++}if(0<(U=q.length)){if(F=s,0<I&&(void 0!==(w=i(2,q,F,n,j,S,U,d,p,d))&&0===(q=w).length))return G+q+V;if(q=F.join(\",\")+\"{\"+q+\"}\",0!=x*T){switch(2!==x||a(q,2)||(T=0),T){case 111:q=q.replace(b,\":-moz-$1\")+q;break;case 112:q=q.replace(v,\"::-webkit-input-$1\")+q.replace(v,\"::-moz-$1\")+q.replace(v,\":-ms-input-$1\")+q}T=0}}return G+q+V}(N,s,n,0,0);return 0<I&&(void 0!==(u=i(-2,d,s,s,j,S,d.length,0,0,0))&&(d=u)),\"\",T=0,S=j=1,d}var c=/^\\0+/g,l=/[\\0\\r\\f]/g,d=/: */g,p=/zoo|gra/,f=/([,: ])(transform)/g,h=/,\\r+?/g,m=/([\\t\\r\\n ])*\\f?&/g,g=/@(k\\w+)\\s*(\\S*)\\s*/,v=/::(place)/g,b=/:(read-only)/g,y=/[svh]\\w+-[tblr]{2}/,E=/\\(\\s*(.*)\\s*\\)/g,w=/([\\s\\S]*?);/g,k=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\\w-]+)[^]*/,C=/stretch|:\\s*\\w+\\-(?:conte|avail)/,D=/([^-])(image-set\\()/,S=1,j=1,T=0,x=1,N=[],M=[],I=0,P=null,A=0;return u.use=function e(t){switch(t){case void 0:case null:I=M.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:M[I++]=t;break;case Boolean:A=0|!!t}}return e},u.set=s,void 0!==e&&s(e),u},s=n(266),u=n.n(s),c=/[A-Z]|^ms/g,l=r((function(e){return e.replace(c,\"-$&\").toLowerCase()})),d=function(e,t){return null==t||\"boolean\"==typeof t?\"\":1===a[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+\"px\"},p=function e(t){for(var n=t.length,r=0,a=\"\";r<n;r++){var o=t[r];if(null!=o){var i=void 0;switch(typeof o){case\"boolean\":break;case\"function\":0,i=e([o()]);break;case\"object\":if(Array.isArray(o))i=e(o);else for(var s in i=\"\",o)o[s]&&s&&(i&&(i+=\" \"),i+=s);break;default:i=o}i&&(a&&(a+=\" \"),a+=i)}}return a},f=\"undefined\"!=typeof document;function h(e){var t=document.createElement(\"style\");return t.setAttribute(\"data-emotion\",e.key||\"\"),void 0!==e.nonce&&t.setAttribute(\"nonce\",e.nonce),t.appendChild(document.createTextNode(\"\")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var m=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error(\"already injected!\");this.tags[0]=h(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error(\"cannot change speedy now\");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else{var r=h(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||\"\")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(h(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,r,a=t.key||\"css\",s=u()((function(e){n+=e,f&&h.insert(e,v)}));void 0!==t.prefix&&(r={prefix:t.prefix});var c={registered:{},inserted:{},nonce:t.nonce,key:a},h=new m(t);f&&h.inject();var g=new i(r);g.use(t.stylisPlugins)(s);var v=\"\";function b(e,t){if(null==e)return\"\";switch(typeof e){case\"boolean\":return\"\";case\"function\":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return b.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case\"object\":return k.call(this,e);default:var r=c.registered[e];return!1===t&&void 0!==r?r:e}}var y,E,w=new WeakMap;function k(e){if(w.has(e))return w.get(e);var t=\"\";return Array.isArray(e)?e.forEach((function(e){t+=b.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){\"object\"!=typeof e[n]?void 0!==c.registered[e[n]]?t+=n+\"{\"+c.registered[e[n]]+\"}\":t+=l(n)+\":\"+d(n,e[n])+\";\":Array.isArray(e[n])&&\"string\"==typeof e[n][0]&&void 0===c.registered[e[n][0]]?e[n].forEach((function(e){t+=l(n)+\":\"+d(n,e)+\";\"})):t+=n+\"{\"+b.call(this,e[n],!1)+\"}\"}),this),w.set(e,t),t}var O=/label:\\s*([^\\s;\\n{]+)\\s*;/g,C=function(e,t){return o(e+t)+t},D=function(e){var t=!0,n=\"\",r=\"\";null==e||void 0===e.raw?(t=!1,n+=b.call(this,e,!1)):n+=e[0];for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];return o.forEach((function(r,a){n+=b.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[a+1]&&(n+=e[a+1])}),this),E=n,n=n.replace(O,(function(e,t){return r+=\"-\"+t,\"\"})),y=C(n,r),n};function S(e,t){void 0===c.inserted[y]&&(n=\"\",g(e,t),c.inserted[y]=n)}var j=function(){var e=D.apply(this,arguments),t=a+\"-\"+y;return void 0===c.registered[t]&&(c.registered[t]=E),S(\".\"+t,e),t};function T(e,t){var n=\"\";return t.split(\" \").forEach((function(t){void 0!==c.registered[t]?e.push(t):n+=t+\" \"})),n}function x(e,t){var n=[],r=T(n,e);return n.length<2?e:r+j(n,t)}function N(e){c.inserted[e]=!0}if(f){var M=document.querySelectorAll(\"[data-emotion-\"+a+\"]\");Array.prototype.forEach.call(M,(function(e){h.tags[0].parentNode.insertBefore(e,h.tags[0]),e.getAttribute(\"data-emotion-\"+a).split(\" \").forEach(N)}))}var I={flush:function(){f&&(h.flush(),h.inject()),c.inserted={},c.registered={}},hydrate:function(e){e.forEach(N)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x(p(t))},merge:x,getRegisteredStyles:T,injectGlobal:function(){var e=D.apply(this,arguments);S(\"\",e)},keyframes:function(){var e=D.apply(this,arguments),t=\"animation-\"+y;return S(\"\",\"@keyframes \"+t+\"{\"+e+\"}\"),t},css:j,sheet:h,caches:c};return e.__SECRET_EMOTION__=I,I}},function(e,t,n){\"use strict\";var r=n(174),a=n(205),o=n(173),i=n(85);function s(e,t){for(var n=e<0?\"-\":\"\",r=Math.abs(e).toString();r.length<t;)r=\"0\"+r;return n+r}var u={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return s(\"yy\"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return\"M\"===t?String(n+1):s(n+1,2)},d:function(e,t){return s(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?\"pm\":\"am\";switch(t){case\"a\":case\"aa\":case\"aaa\":return n.toUpperCase();case\"aaaaa\":return n[0];case\"aaaa\":default:return\"am\"===n?\"a.m.\":\"p.m.\"}},h:function(e,t){return s(e.getUTCHours()%12||12,t.length)},H:function(e,t){return s(e.getUTCHours(),t.length)},m:function(e,t){return s(e.getUTCMinutes(),t.length)},s:function(e,t){return s(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return s(Math.floor(r*Math.pow(10,n-3)),t.length)}},c=864e5;var l=n(215),d=n(172),p=n(214),f=n(150),h=\"midnight\",m=\"noon\",g=\"morning\",v=\"afternoon\",b=\"evening\",y=\"night\";function E(e,t){var n=e>0?\"-\":\"+\",r=Math.abs(e),a=Math.floor(r/60),o=r%60;if(0===o)return n+String(a);var i=t||\"\";return n+String(a)+i+s(o,2)}function w(e,t){return e%60==0?(e>0?\"-\":\"+\")+s(Math.abs(e)/60,2):k(e,t)}function k(e,t){var n=t||\"\",r=e>0?\"-\":\"+\",a=Math.abs(e);return r+s(Math.floor(a/60),2)+n+s(a%60,2)}var O={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case\"G\":case\"GG\":case\"GGG\":return n.era(r,{width:\"abbreviated\"});case\"GGGGG\":return n.era(r,{width:\"narrow\"});case\"GGGG\":default:return n.era(r,{width:\"wide\"})}},y:function(e,t,n){if(\"yo\"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:\"year\"})}return u.y(e,t)},Y:function(e,t,n,r){var a=Object(f.a)(e,r),o=a>0?a:1-a;return\"YY\"===t?s(o%100,2):\"Yo\"===t?n.ordinalNumber(o,{unit:\"year\"}):s(o,t.length)},R:function(e,t){return s(Object(d.a)(e),t.length)},u:function(e,t){return s(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case\"Q\":return String(r);case\"QQ\":return s(r,2);case\"Qo\":return n.ordinalNumber(r,{unit:\"quarter\"});case\"QQQ\":return n.quarter(r,{width:\"abbreviated\",context:\"formatting\"});case\"QQQQQ\":return n.quarter(r,{width:\"narrow\",context:\"formatting\"});case\"QQQQ\":default:return n.quarter(r,{width:\"wide\",context:\"formatting\"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case\"q\":return String(r);case\"qq\":return s(r,2);case\"qo\":return n.ordinalNumber(r,{unit:\"quarter\"});case\"qqq\":return n.quarter(r,{width:\"abbreviated\",context:\"standalone\"});case\"qqqqq\":return n.quarter(r,{width:\"narrow\",context:\"standalone\"});case\"qqqq\":default:return n.quarter(r,{width:\"wide\",context:\"standalone\"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case\"M\":case\"MM\":return u.M(e,t);case\"Mo\":return n.ordinalNumber(r+1,{unit:\"month\"});case\"MMM\":return n.month(r,{width:\"abbreviated\",context:\"formatting\"});case\"MMMMM\":return n.month(r,{width:\"narrow\",context:\"formatting\"});case\"MMMM\":default:return n.month(r,{width:\"wide\",context:\"formatting\"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case\"L\":return String(r+1);case\"LL\":return s(r+1,2);case\"Lo\":return n.ordinalNumber(r+1,{unit:\"month\"});case\"LLL\":return n.month(r,{width:\"abbreviated\",context:\"standalone\"});case\"LLLLL\":return n.month(r,{width:\"narrow\",context:\"standalone\"});case\"LLLL\":default:return n.month(r,{width:\"wide\",context:\"standalone\"})}},w:function(e,t,n,r){var a=Object(p.a)(e,r);return\"wo\"===t?n.ordinalNumber(a,{unit:\"week\"}):s(a,t.length)},I:function(e,t,n){var r=Object(l.a)(e);return\"Io\"===t?n.ordinalNumber(r,{unit:\"week\"}):s(r,t.length)},d:function(e,t,n){return\"do\"===t?n.ordinalNumber(e.getUTCDate(),{unit:\"date\"}):u.d(e,t)},D:function(e,t,n){var r=function(e){if(arguments.length<1)throw new TypeError(\"1 argument required, but only \"+arguments.length+\" present\");var t=Object(i.a)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/c)+1}(e);return\"Do\"===t?n.ordinalNumber(r,{unit:\"dayOfYear\"}):s(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case\"E\":case\"EE\":case\"EEE\":return n.day(r,{width:\"abbreviated\",context:\"formatting\"});case\"EEEEE\":return n.day(r,{width:\"narrow\",context:\"formatting\"});case\"EEEEEE\":return n.day(r,{width:\"short\",context:\"formatting\"});case\"EEEE\":default:return n.day(r,{width:\"wide\",context:\"formatting\"})}},e:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case\"e\":return String(o);case\"ee\":return s(o,2);case\"eo\":return n.ordinalNumber(o,{unit:\"day\"});case\"eee\":return n.day(a,{width:\"abbreviated\",context:\"formatting\"});case\"eeeee\":return n.day(a,{width:\"narrow\",context:\"formatting\"});case\"eeeeee\":return n.day(a,{width:\"short\",context:\"formatting\"});case\"eeee\":default:return n.day(a,{width:\"wide\",context:\"formatting\"})}},c:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case\"c\":return String(o);case\"cc\":return s(o,t.length);case\"co\":return n.ordinalNumber(o,{unit:\"day\"});case\"ccc\":return n.day(a,{width:\"abbreviated\",context:\"standalone\"});case\"ccccc\":return n.day(a,{width:\"narrow\",context:\"standalone\"});case\"cccccc\":return n.day(a,{width:\"short\",context:\"standalone\"});case\"cccc\":default:return n.day(a,{width:\"wide\",context:\"standalone\"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case\"i\":return String(a);case\"ii\":return s(a,t.length);case\"io\":return n.ordinalNumber(a,{unit:\"day\"});case\"iii\":return n.day(r,{width:\"abbreviated\",context:\"formatting\"});case\"iiiii\":return n.day(r,{width:\"narrow\",context:\"formatting\"});case\"iiiiii\":return n.day(r,{width:\"short\",context:\"formatting\"});case\"iiii\":default:return n.day(r,{width:\"wide\",context:\"formatting\"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?\"pm\":\"am\";switch(t){case\"a\":case\"aa\":case\"aaa\":return n.dayPeriod(r,{width:\"abbreviated\",context:\"formatting\"});case\"aaaaa\":return n.dayPeriod(r,{width:\"narrow\",context:\"formatting\"});case\"aaaa\":default:return n.dayPeriod(r,{width:\"wide\",context:\"formatting\"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?m:0===a?h:a/12>=1?\"pm\":\"am\",t){case\"b\":case\"bb\":case\"bbb\":return n.dayPeriod(r,{width:\"abbreviated\",context:\"formatting\"});case\"bbbbb\":return n.dayPeriod(r,{width:\"narrow\",context:\"formatting\"});case\"bbbb\":default:return n.dayPeriod(r,{width:\"wide\",context:\"formatting\"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?b:a>=12?v:a>=4?g:y,t){case\"B\":case\"BB\":case\"BBB\":return n.dayPeriod(r,{width:\"abbreviated\",context:\"formatting\"});case\"BBBBB\":return n.dayPeriod(r,{width:\"narrow\",context:\"formatting\"});case\"BBBB\":default:return n.dayPeriod(r,{width:\"wide\",context:\"formatting\"})}},h:function(e,t,n){if(\"ho\"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:\"hour\"})}return u.h(e,t)},H:function(e,t,n){return\"Ho\"===t?n.ordinalNumber(e.getUTCHours(),{unit:\"hour\"}):u.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return\"Ko\"===t?n.ordinalNumber(r,{unit:\"hour\"}):s(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),\"ko\"===t?n.ordinalNumber(r,{unit:\"hour\"}):s(r,t.length)},m:function(e,t,n){return\"mo\"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:\"minute\"}):u.m(e,t)},s:function(e,t,n){return\"so\"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:\"second\"}):u.s(e,t)},S:function(e,t){return u.S(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return\"Z\";switch(t){case\"X\":return w(a);case\"XXXX\":case\"XX\":return k(a);case\"XXXXX\":case\"XXX\":default:return k(a,\":\")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case\"x\":return w(a);case\"xxxx\":case\"xx\":return k(a);case\"xxxxx\":case\"xxx\":default:return k(a,\":\")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case\"O\":case\"OO\":case\"OOO\":return\"GMT\"+E(a,\":\");case\"OOOO\":default:return\"GMT\"+k(a,\":\")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case\"z\":case\"zz\":case\"zzz\":return\"GMT\"+E(a,\":\");case\"zzzz\":default:return\"GMT\"+k(a,\":\")}},t:function(e,t,n,r){var a=r._originalDate||e;return s(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return s((r._originalDate||e).getTime(),t.length)}},C=n(170),D=n(110),S=n(171),j=n(87);n.d(t,\"a\",(function(){return P}));var T=/[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g,x=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N=/^'(.*?)'?$/,M=/''/g,I=/[a-zA-Z]/;function P(e,t,n){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var s=String(t),u=n||{},c=u.locale||a.a,l=c.options&&c.options.firstWeekContainsDate,d=null==l?1:Object(j.a)(l),p=null==u.firstWeekContainsDate?d:Object(j.a)(u.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");var f=c.options&&c.options.weekStartsOn,h=null==f?0:Object(j.a)(f),m=null==u.weekStartsOn?h:Object(j.a)(u.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");if(!c.localize)throw new RangeError(\"locale must contain localize property\");if(!c.formatLong)throw new RangeError(\"locale must contain formatLong property\");var g=Object(i.a)(e);if(!Object(r.a)(g))throw new RangeError(\"Invalid time value\");var v=Object(D.a)(g),b=Object(o.a)(g,v),y={firstWeekContainsDate:p,weekStartsOn:m,locale:c,_originalDate:g};return s.match(x).map((function(e){var t=e[0];return\"p\"===t||\"P\"===t?(0,C.a[t])(e,c.formatLong,y):e})).join(\"\").match(T).map((function(e){if(\"''\"===e)return\"'\";var t=e[0];if(\"'\"===t)return e.match(N)[1].replace(M,\"'\");var n=O[t];if(n)return!u.useAdditionalWeekYearTokens&&Object(S.b)(e)&&Object(S.c)(e),!u.useAdditionalDayOfYearTokens&&Object(S.a)(e)&&Object(S.c)(e),n(b,e,c.localize,y);if(t.match(I))throw new RangeError(\"Format string contains an unescaped latin alphabet character `\"+t+\"`\");return e})).join(\"\")}},function(e,t,n){\"use strict\";var r=n(219),a=n.n(r),o=n(146),i=n.n(o),s=n(147),u=n.n(s),c=n(148),l=n.n(c),d=n(149),p=n.n(d),f=n(2),h=n(220),m=n(221),g=n.n(m)()({setReferenceNode:void 0,referenceNode:void 0}),v=function(e){function t(){var t;return t=e.call(this)||this,p()(l()(l()(t)),\"setReferenceNode\",(function(e){e&&t.state.context.referenceNode!==e&&t.setState((function(t){var n=t.context;return{context:i()({},n,{referenceNode:e})}}))})),t.state={context:{setReferenceNode:t.setReferenceNode,referenceNode:void 0}},t}return u()(t,e),t.prototype.render=function(){return f.createElement(g.Provider,{value:this.state.context},this.props.children)},t}(f.Component),b=function(e){return Array.isArray(e)?e[0]:e},y=function(e){if(\"function\"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},E={position:\"absolute\",top:0,left:0,opacity:0,pointerEvents:\"none\"},w={},k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,p()(l()(l()(t)),\"state\",{data:void 0,placement:void 0}),p()(l()(l()(t)),\"popperInstance\",void 0),p()(l()(l()(t)),\"popperNode\",null),p()(l()(l()(t)),\"arrowNode\",null),p()(l()(l()(t)),\"setPopperNode\",(function(e){e&&t.popperNode!==e&&(y(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),p()(l()(l()(t)),\"setArrowNode\",(function(e){t.arrowNode=e})),p()(l()(l()(t)),\"updateStateModifier\",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),p()(l()(l()(t)),\"getOptions\",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:i()({},t.props.modifiers,{arrow:i()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),p()(l()(l()(t)),\"getPopperStyle\",(function(){return t.popperNode&&t.state.data?i()({position:t.state.data.offsets.popper.position},t.state.data.styles):E})),p()(l()(l()(t)),\"getPopperPlacement\",(function(){return t.state.data?t.state.placement:void 0})),p()(l()(l()(t)),\"getArrowStyle\",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:w})),p()(l()(l()(t)),\"getOutOfBoundariesState\",(function(){return t.state.data?t.state.data.hide:void 0})),p()(l()(l()(t)),\"destroyPopperInstance\",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),p()(l()(l()(t)),\"updatePopperInstance\",(function(){t.destroyPopperInstance();var e=l()(l()(t)).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new h.a(n,e,t.getOptions()))})),p()(l()(l()(t)),\"scheduleUpdate\",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}u()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement!==e.placement||this.props.referenceElement!==e.referenceElement||this.props.positionFixed!==e.positionFixed?this.updatePopperInstance():this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){y(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return b(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(f.Component);p()(k,\"defaultProps\",{placement:\"bottom\",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});h.a.placements;function O(e){var t=e.referenceElement,n=a()(e,[\"referenceElement\"]);return f.createElement(g.Consumer,null,(function(e){var r=e.referenceNode;return f.createElement(k,i()({referenceElement:void 0!==t?t:r},n))}))}var C=n(109),D=n.n(C),S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,p()(l()(l()(t)),\"refHandler\",(function(e){y(t.props.innerRef,e),y(t.props.setReferenceNode,e)})),t}return u()(t,e),t.prototype.render=function(){return D()(Boolean(this.props.setReferenceNode),\"`Reference` should not be used outside of a `Manager` component.\"),b(this.props.children)({ref:this.refHandler})},t}(f.Component);function j(e){return f.createElement(g.Consumer,null,(function(t){var n=t.setReferenceNode;return f.createElement(S,i()({setReferenceNode:n},e))}))}n.d(t,\"b\",(function(){return O})),n.d(t,\"a\",(function(){return v})),n.d(t,\"c\",(function(){return j}))},,,,,,,,,,,,,,,function(e,t,n){\"use strict\";var r=n(2),a=n.n(r),o=n(44),i=n.n(o),s=n(54),u=n.n(s),c=n(167),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function d(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!p(e)){e.preventDefault();var t=r.context.router.history,n=r.props,a=n.replace,o=n.to;a?t.replace(o):t.push(o)}},d(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[\"replace\",\"to\",\"innerRef\"]);u()(this.context.router,\"You should not use <Link> outside a <Router>\"),u()(void 0!==t,'You must specify the \"to\" property');var o=this.context.router.history,i=\"string\"==typeof t?Object(c.b)(t,null,null,o.location):t,s=o.createHref(i);return a.a.createElement(\"a\",l({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(a.a.Component);f.propTypes={onClick:i.a.func,target:i.a.string,replace:i.a.bool,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired,innerRef:i.a.oneOfType([i.a.string,i.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired,createHref:i.a.func.isRequired}).isRequired}).isRequired},t.a=f},function(e,t,n){\"use strict\";var r=n(211);t.a=r.a},function(e,t,n){\"use strict\";var r=n(279);t.a=r.a},,,,,,,,function(e,t,n){\"use strict\";var r=n(2),a=n.n(r),o=n(44),i=n.n(o),s=n(109),u=n.n(s),c=n(54),l=n.n(c),d=n(167),p=n(199),f=n.n(p),h={},m=0,g=function(e){var t=e,n=h[t]||(h[t]={});if(n[e])return n[e];var r=f.a.compile(e);return m<1e4&&(n[e]=r,m++),r},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"/\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"/\"===e)return e;var n=g(e);return n(t,{pretty:!0})},b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){l()(this.context.router,\"You should not use <Redirect> outside a <Router>\"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(d.b)(e.to),n=Object(d.b)(this.props.to);Object(d.c)(t,n)?u()(!1,\"You tried to redirect to the same route you're currently on: \\\"\"+n.pathname+n.search+'\"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?\"string\"==typeof n?v(n,t.params):b({},n,{pathname:v(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(a.a.Component);y.propTypes={computedMatch:i.a.object,push:i.a.bool,from:i.a.string,to:i.a.oneOfType([i.a.string,i.a.object]).isRequired},y.defaultProps={push:!1},y.contextTypes={router:i.a.shape({history:i.a.shape({push:i.a.func.isRequired,replace:i.a.func.isRequired}).isRequired,staticContext:i.a.object}).isRequired};var E=y;t.a=E},,function(e,t,n){\"use strict\";var r=n(109),a=n.n(r),o=n(2),i=n.n(o),s=n(44),u=n.n(s),c=n(167),l=n(54),d=n.n(l),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(o))),r.state={match:r.computeMatch(r.props.history.location.pathname)},f(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:\"/\",url:\"/\",params:{},isExact:\"/\"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;d()(null==n||1===i.a.Children.count(n),\"A <Router> may have only one child element\"),this.unlisten=r.listen((function(){e.setState({match:e.computeMatch(r.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){a()(this.props.history===e.history,\"You cannot change <Router history>\")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?i.a.Children.only(e):null},t}(i.a.Component);h.propTypes={history:u.a.object.isRequired,children:u.a.node},h.contextTypes={router:u.a.object},h.childContextTypes={router:u.a.object.isRequired};var m=h;function g(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,e.call.apply(e,[this].concat(o))),r.history=Object(c.a)(r.props),g(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){a()(!this.props.history,\"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.\")},t.prototype.render=function(){return i.a.createElement(m,{history:this.history,children:this.props.children})},t}(i.a.Component);v.propTypes={basename:u.a.string,getUserConfirmation:u.a.func,hashType:u.a.oneOf([\"hashbang\",\"noslash\",\"slash\"]),children:u.a.node};t.a=v}])]);"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}